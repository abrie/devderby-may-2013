/*
* EaselJS
* Visit http://createjs.com/ for documentation, updates and examples.
*
* Copyright (c) 2011 gskinner.com, inc.
* 
* Distributed under the terms of the MIT license.
* http://www.opensource.org/licenses/mit-license.html
*
* This notice shall be included in all copies or substantial portions of the Software.
*/

/**
 * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/domReady for details
 */

function ha(e){throw e}function Ib(){return function(){}}function Sb(e){return function(){return e}}function gc(b){eval.call(Gb,b)}function hc(e){if(1==lc)return 1;var t={"%i1":1,"%i8":1,"%i16":2,"%i32":4,"%i64":8,"%float":4,"%double":8}["%"+e];return t||("*"==e[e.length-1]?t=lc:"i"==e[0]&&(e=parseInt(e.substr(1)),pc(0==e%8),t=e/8)),t}function uc(){var e=[],t=0;this.jc=function(n){n&=255,t&&(e.push(n),t--);if(0==e.length)return 128>n?String.fromCharCode(n):(e.push(n),t=191<n&&224>n?1:2,"");if(0<t)return"";var n=e[0],r=e[1],i=e[2],n=191<n&&224>n?String.fromCharCode((n&31)<<6|r&63):String.fromCharCode((n&15)<<12|(r&63)<<6|i&63);return e.length=0,n},this.ci=function(e){for(var e=unescape(encodeURIComponent(e)),t=[],n=0;n<e.length;n++)t.push(e.charCodeAt(n));return t}}function Dc(e){var t=a;return a+=e,a=a+3>>2<<2,t}function Fc(e){var t=Gc;Gc+=e,Gc=Gc+3>>2<<2;if(Gc>=Hc){for(;Hc<=Gc;)Hc=2*Hc+4095>>12<<12;var e=c,n=new ArrayBuffer(Hc);c=new Int8Array(n),i=new Int16Array(n),l=new Int32Array(n),Ic=new Uint8Array(n),Pc=new Uint16Array(n),o=new Uint32Array(n),p=new Float32Array(n),Sc=new Float64Array(n),c.set(e)}return t}function kd(e){Module.print(e+":\n"+Error().stack),ha("Assertion: "+e)}function pc(e,t){e||kd("Assertion failed: "+t)}function qd(b,d,e,f){function g(e,t){if("string"==t){if(e===Gb||e===Ia||0===e)return 0;h||(h=a);var n=Dc(e.length+1);return Bd(e,n),n}return"array"==t?(h||(h=a),n=Dc(e.length),Cd(e,n),n):e}var h=0;try{var j=eval("_"+b)}catch(k){try{j=ld.Module["_"+b]}catch(m){}}pc(j,"Cannot call unknown function "+b+" (perhaps LLVM optimizations or closure removed it?)");var n=0,b=f?f.map(function(t){return g(t,e[n++])}):[],d=function(e,t){return"string"==t?Dd(e):(pc("array"!=t),e)}(j.apply(Gb,b),d);return h&&(a=h),d}function Ed(e,t,n){n=n||"i8","*"===n[n.length-1]&&(n="i32");switch(n){case"i1":c[e]=t;break;case"i8":c[e]=t;break;case"i16":i[e>>1]=t;break;case"i32":l[e>>2]=t;break;case"i64":l[e>>2]=t;break;case"float":p[e>>2]=t;break;case"double":Nd[0]=t,l[e>>2]=s[0],l[e+4>>2]=s[1];break;default:kd("invalid type for setValue: "+n)}}function Xd(e,t){t=t||"i8","*"===t[t.length-1]&&(t="i32");switch(t){case"i1":return c[e];case"i8":return c[e];case"i16":return i[e>>1];case"i32":return l[e>>2];case"i64":return l[e>>2];case"float":return p[e>>2];case"double":return s[0]=l[e>>2],s[1]=l[e+4>>2],Nd[0];default:kd("invalid type for setValue: "+t)}return Gb}function y(e,t,n){var r,i;"number"==typeof e?(r=Db,i=e):(r=Hb,i=e.length);var s="string"==typeof t?t:Gb,n=[fe,Dc,Fc][n===Ia?w:n](Math.max(i,s?1:t.length));if(r)return ge(n,i),n;r=0;for(var o;r<i;){var u=e[r];"function"==typeof u&&(u=Xc.mi(u)),o=s||t[r],0===o?r++:("i64"==o&&(o="i32"),Ed(n+r,u,o),r+=hc(o))}return n}function Dd(e,t){for(var n=new uc,r="undefined"==typeof t,i="",s=0,o;;){o=Ic[e+s];if(r&&0==o)break;i+=n.jc(o),s+=1;if(!r&&s==t)break}return i}function Ce(e){for(;0<e.length;){var t=e.shift(),n=t.hb;"number"==typeof n&&(n=K[n]),n(t.Yh===Ia?Gb:t.Yh)}}function Ve(e){for(var t=e;c[t++];);return t-e-1}function Ae(e,t,n){return e=(new uc).ci(e),n&&(e.length=n),t||e.push(0),e}function Bd(e,t,n){e=Ae(e,n);for(n=0;n<e.length;)c[t+n]=e[n],n+=1}function Cd(e,t){for(var n=0;n<e.length;n++)c[t+n]=e[n]}function bf(e,t){return 0<=e?e:32>=t?2*Math.abs(1<<t-1)+e:Math.pow(2,t)+e}function cf(e,t){if(0>=e)return e;var n=32>=t?Math.abs(1<<t-1):Math.pow(2,t-1);return e>=n&&(32>=t||e>n)&&(e=-2*n+e),e}function xf(e){df++,Module.monitorRunDependencies&&Module.monitorRunDependencies(df),e?(pc(!ef[e]),ef[e]=1,pf===Gb&&"undefined"!=typeof setInterval&&(pf=setInterval(function(){var e=Hb,t;for(t in ef)e||(e=Db,Module.M("still waiting on run dependencies:")),Module.M("dependency: "+t);e&&Module.M("(end of list)")},6e3))):Module.M("warning: run dependency added without ID")}function yf(e){df--,Module.monitorRunDependencies&&Module.monitorRunDependencies(df),e?(pc(ef[e]),delete ef[e]):Module.M("warning: run dependency removed without ID"),0==df&&(pf!==Gb&&(clearInterval(pf),pf=Gb),ff||zf())}function If(e){var t,n,r=e>>2;l[r]=-1,n=(e+12|0)>>2,l[n]=16,l[r+2]=0;var i=fe(576);t=(e+4|0)>>2,l[t]=i,ge(i,36*l[n]|0);var i=l[n]-1|0,s=0<(i|0);e:do if(s)for(var o=0;;){var u=o+1|0;l[(l[t]+36*o+20|0)>>2]=u,l[(l[t]+36*o+32|0)>>2]=-1,o=l[n]-1|0;if((u|0)>=(o|0)){var a=o;break e}o=u}else a=i;while(0);l[(l[t]+36*a+20|0)>>2]=-1,l[(l[t]+36*(l[n]-1)+32|0)>>2]=-1,t=(e+16|0)>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,l[(e+48|0)>>2]=16,l[r+13]=0,e=fe(192),l[r+11]=e,l[r+9]=16,l[r+10]=0,e=fe(64),l[r+8]=e}function Jf(e,t,n){var r,i=e|0,o=Kf(i);r=(e+4|0)>>2;var u=p[t+4>>2]-.10000000149011612,a=l[r]+36*o|0,f=(L[0]=p[t>>2]-.10000000149011612,s[0]),u=(L[0]=u,s[0])|0;return l[(a|0)>>2]=0|f,l[(a+4|0)>>2]=u,f=p[t+12>>2]+.10000000149011612,a=l[r]+36*o+8|0,t=(L[0]=p[t+8>>2]+.10000000149011612,s[0]),f=(L[0]=f,s[0])|0,l[(a|0)>>2]=0|t,l[(a+4|0)>>2]=f,l[(l[r]+36*o+16|0)>>2]=n,l[(l[r]+36*o+32|0)>>2]=0,Lf(i,o),n=e+28|0,l[n>>2]=l[n>>2]+1|0,n=(e+40|0)>>2,r=l[n],i=e+36|0,e=(e+32|0)>>2,(r|0)==(l[i>>2]|0)&&(t=l[e],l[i>>2]=r<<1,r=fe(r<<3),l[e]=r,ag(r,t,l[n]<<2),bg(t),r=l[n]),l[((r<<2)+l[e]|0)>>2]=o,l[n]=l[n]+1|0,o}function cg(e,t,n,r,i){var u,a=e>>2;u=(e+60|0)>>2,l[u]=0;var f=r+12|0,h=p[i+12>>2],d=p[f>>2],v=p[i+8>>2],m=p[r+16>>2],g=h*d-v*m+p[i>>2]-p[n>>2],i=v*d+h*m+p[i+4>>2]-p[n+4>>2],h=p[n+12>>2],d=p[n+8>>2],n=h*g+d*i,g=g*-d+h*i,h=t+12|0,i=o[h>>2],h=o[h+4>>2],d=(s[0]=i,L[0]),v=(s[0]=h,L[0]),y=t+20|0,m=o[y>>2],y=o[y+4>>2],b=(s[0]=m,L[0]),w=(s[0]=y,L[0]),E=b-d,S=w-v,x=E*(b-n)+S*(w-g),T=n-d,C=g-v,k=E*T+S*C,r=p[t+8>>2]+p[r+8>>2],A=0<k;do if(A){if(0<x){var M=E*E+S*S;0<M||O(N.Ze|0,127,N.oe|0,N.$e|0);var _=1/M,M=n-(d*x+b*k)*_,_=g-(v*x+w*k)*_;if(M*M+_*_<=r*r){M=-S,0>T*M+E*C?(_=S,M=-E):(_=M,M=E);var D=dg(_*_+M*M);1.1920928955078125e-7>D?D=M:(D=1/D,_*=D,D*=M),l[u]=1,l[a+14]=1,M=e+40|0,_=(L[0]=_,s[0]),D=(L[0]=D,s[0])|0,l[M>>2]=0|_,l[M+4>>2]=D,M=e+48|0,l[M>>2]=i,l[M+4>>2]=h,M=e+16|0,l[M>>2]=0,_=M,c[M]=0,c[_+1|0]=0,c[_+2|0]=1,c[_+3|0]=0,M=f,_=e,D=l[M+4>>2],l[_>>2]=l[M>>2],l[_+4>>2]=D}}else if(M=n-b,_=g-w,M*M+_*_<=r*r){if(0!=(c[t+45|0]&1)<<24>>24){var P=t+36|0,D=P|0,P=P+4|0,P=l[P>>2],D=(s[0]=l[D>>2],L[0]),P=(s[0]=P,L[0]);if(0<(D-b)*M+(P-w)*_)break}l[u]=1,l[a+14]=0,p[a+10]=0,p[a+11]=0,_=e+48|0,M=_|0,l[M>>2]=m,M=_+4|0,l[M>>2]=y,M=e+16|0,l[M>>2]=0,_=M,c[M]=1,c[_+1|0]=0,c[_+2|0]=0,c[_+3|0]=0,_=f,D=e,M=_|0,_=_+4|0,P=l[_>>2],_=D|0,l[_>>2]=l[M>>2],M=D+4|0,l[M>>2]=P}}else if(T*T+C*C<=r*r){if(0!=(c[t+44|0]&1)<<24>>24&&(M=t+28|0,D=M|0,P=M+4|0,M=l[P>>2],_=(s[0]=l[D>>2],L[0]),M=(s[0]=M,L[0]),0<(d-_)*(d-n)+(v-M)*(v-g)))break;l[u]=1,l[a+14]=0,p[a+10]=0,p[a+11]=0,_=e+48|0,M=_|0,l[M>>2]=i,M=_+4|0,l[M>>2]=h,M=e+16|0,l[M>>2]=0,_=M,c[M]=0,c[_+1|0]=0,c[_+2|0]=0,c[_+3|0]=0,_=f,D=e,M=_|0,M=l[M>>2],_=_+4|0,P=l[_>>2],_=D|0,l[_>>2]=M,M=D+4|0,l[M>>2]=P}while(0)}function eg(e,t,n,r,i,u){var f,h,d,v,m,g,y,b,w,E,S,x,T,N,C,k,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct,ht,pt,dt,vt=i>>2,mt=e>>2,gt=a;a+=84;var yt;dt=gt>>2;var bt=gt+12,wt=gt+36;pt=wt>>2;var Et=gt+60;ht=Et>>2;var St=e+132|0,xt=p[r+12>>2],Tt=p[u+8>>2],Nt=p[r+8>>2],Ct=p[u+12>>2],kt=xt*Tt-Nt*Ct,Lt=xt*Ct+Nt*Tt,At=(L[0]=kt,s[0]),Ot=(L[0]=Lt,s[0]),Mt=0|At,_t=Ot|0,Dt=p[u>>2]-p[r>>2],Pt=p[u+4>>2]-p[r+4>>2],Ht=xt*Dt+Nt*Pt,Bt=Dt*-Nt+xt*Pt,jt=(L[0]=Ht,s[0]),Ft=(L[0]=Bt,s[0])|0,It=St|0;l[It>>2]=0|jt;var qt=St+4|0;l[qt>>2]=Ft;var Rt=e+140|0;l[Rt>>2]=Mt,l[Rt+4>>2]=_t,ct=(e+144|0)>>2;var Ut=p[vt+3];lt=(e+140|0)>>2;var zt=p[vt+4];ft=(St|0)>>2;var Wt=Lt*Ut-kt*zt+Ht;at=(e+136|0)>>2;var Xt=kt*Ut+Lt*zt+Bt,Vt=e+148|0,$t=(L[0]=Wt,s[0]),Jt=(L[0]=Xt,s[0])|0;l[Vt>>2]=0|$t,l[Vt+4>>2]=Jt;var Kt=n+28|0,Qt=e+156|0,Gt=l[Kt>>2],Yt=l[Kt+4>>2];l[Qt>>2]=Gt,l[Qt+4>>2]=Yt;var Zt=n+12|0,en=e+164|0,tn=l[Zt>>2],nn=l[Zt+4>>2];l[en>>2]=tn,l[en+4>>2]=nn;var rn=n+20|0,sn=e+172|0,on=l[rn>>2],un=l[rn+4>>2];l[sn>>2]=on,l[sn+4>>2]=un;var an=n+36|0,fn=e+180|0,ln=l[an>>2],cn=l[an+4>>2];l[fn>>2]=ln,l[fn+4>>2]=cn;var hn=c[n+44|0]&1,pn=0!=hn<<24>>24,dn=c[n+45|0],vn=0!=(dn&1)<<24>>24,mn=(s[0]=on,L[0]),gn=(s[0]=tn,L[0]),yn=mn-gn,bn=(s[0]=un,L[0]),wn=e+168|0,En=(s[0]=nn,L[0]),Sn=bn-En,xn=dg(yn*yn+Sn*Sn),Tn=1.1920928955078125e-7>xn,Nn=(s[0]=Gt,L[0]),Cn=(s[0]=Yt,L[0]),kn=(s[0]=ln,L[0]),Ln=(s[0]=cn,L[0]);if(Tn)var An=yn,On=Sn;else var Mn=1/xn,An=yn*Mn,On=Sn*Mn;var _n=e+196|0,Dn=-An;ut=(_n|0)>>2,p[ut]=On,ot=(e+200|0)>>2,p[ot]=Dn;var Pn=On*(Wt-gn)+(Xt-En)*Dn;if(pn){var Hn=gn-Nn,Bn=En-Cn,jn=dg(Hn*Hn+Bn*Bn);if(1.1920928955078125e-7>jn)var Fn=Hn,In=Bn;else var qn=1/jn,Fn=Hn*qn,In=Bn*qn;var Rn=-Fn;p[mt+47]=In,p[mt+48]=Rn;var Un=0<=Fn*On-In*An,zn=In*(Wt-Nn)+(Xt-Cn)*Rn}else zn=Un=0;e:do if(vn){var Wn=kn-mn,Xn=Ln-bn,Vn=dg(Wn*Wn+Xn*Xn);if(1.1920928955078125e-7>Vn)var $n=Wn,Jn=Xn;else var Kn=1/Vn,$n=Wn*Kn,Jn=Xn*Kn;var Qn=-$n;st=(e+204|0)>>2,p[st]=Jn,it=(e+208|0)>>2,p[it]=Qn;var Gn=0<An*Jn-On*$n,Yn=Jn*(Wt-mn)+(Xt-bn)*Qn;if(0==(hn&dn)<<24>>24){var Zn=Yn,er=Gn;yt=39}else{if(Un&Gn){var tr=0>zn&0>Pn;do{if(tr){var nr=0<=Yn;c[e+248|0]=nr&1;var rr=e+212|0;if(nr){var ir=rr;break}var sr=rr,or=(L[0]=-On,s[0]),ur=(L[0]=An,s[0]),ar=0|or,fr=ur|0,lr=sr|0;rt=lr>>2,l[rt]=ar;var cr=sr+4|0;nt=cr>>2,l[nt]=fr;var hr=e+228|0,pr=hr|0;tt=pr>>2,l[tt]=ar;var dr=hr+4|0;et=dr>>2,l[et]=fr;var vr=e+236|0,mr=vr|0;Z=mr>>2,l[Z]=ar;var gr=vr+4|0;Y=gr>>2,l[Y]=fr,yt=66;break e}c[e+248|0]=1,ir=e+212|0}while(0);var yr=_n,br=ir,wr=yr|0;G=wr>>2;var Er=l[G],Sr=yr+4|0;Q=Sr>>2;var xr=l[Q],Tr=br|0;K=Tr>>2,l[K]=Er;var Nr=br+4|0;J=Nr>>2,l[J]=xr;var Cr=e+188|0,kr=e+228|0,Lr=Cr|0;$=Lr>>2;var Ar=l[$],Or=Cr+4|0;V=Or>>2;var Mr=l[V],_r=kr|0;X=_r>>2,l[X]=Ar;var Dr=kr+4|0;W=Dr>>2,l[W]=Mr;var Pr=e+204|0,Hr=e+236|0,Br=Pr|0;z=Br>>2;var jr=l[z],Fr=Pr+4|0;U=Fr>>2;var Ir=l[U];l[Hr>>2]=jr,l[Hr+4>>2]=Ir}else if(Un){var qr=0>zn;do{if(qr){if(0>Pn){c[e+248|0]=0;var Rr=e+212|0}else{var Ur=0<=Yn;c[e+248|0]=Ur&1;var zr=e+212|0;if(Ur){var Wr=zr;break}Rr=zr}var Xr=Rr,Vr=(L[0]=-On,s[0]),$r=(L[0]=An,s[0])|0,Jr=Xr|0;R=Jr>>2,l[R]=0|Vr;var Kr=Xr+4|0;q=Kr>>2,l[q]=$r;var Qr=-p[it],Gr=e+228|0,Yr=(L[0]=-p[st],s[0]),Zr=(L[0]=Qr,s[0])|0,ei=Gr|0;I=ei>>2,l[I]=0|Yr;var ti=Gr+4|0;F=ti>>2,l[F]=Zr;var ni=-p[ot],ri=e+236|0,ii=(L[0]=-p[ut],s[0]),si=(L[0]=ni,s[0])|0;l[ri>>2]=0|ii,l[ri+4>>2]=si,yt=66;break e}c[e+248|0]=1,Wr=e+212|0}while(0);var oi=_n,ui=Wr,wr=oi|0;G=wr>>2;var ai=l[G],Sr=oi+4|0;Q=Sr>>2;var fi=l[Q],Tr=ui|0;K=Tr>>2,l[K]=ai,Nr=ui+4|0,J=Nr>>2,l[J]=fi;var li=e+188|0,ci=e+228|0,Lr=li|0;$=Lr>>2;var hi=l[$],Or=li+4|0;V=Or>>2;var pi=l[V],_r=ci|0;X=_r>>2,l[X]=hi,Dr=ci+4|0,W=Dr>>2,l[W]=pi;var di=e+236|0,vi=oi|0;j=vi>>2;var mi=l[j],gi=oi+4|0;B=gi>>2;var yi=l[B],bi=di|0;H=bi>>2,l[H]=mi;var wi=di+4|0;P=wi>>2,l[P]=yi}else if(Gn){var Ei=0>Yn;do{if(Ei){if(0>zn){c[e+248|0]=0;var Si=e+212|0}else{var xi=0<=Pn;c[e+248|0]=xi&1;var Ti=e+212|0;if(xi){var Ni=Ti;break}Si=Ti}var Ci=Si,ki=(L[0]=-On,s[0]),Li=(L[0]=An,s[0])|0,Jr=Ci|0;R=Jr>>2,l[R]=0|ki,Kr=Ci+4|0,q=Kr>>2,l[q]=Li;var Ai=-p[ot],Oi=e+228|0,Mi=(L[0]=-p[ut],s[0]),_i=(L[0]=Ai,s[0])|0,ei=Oi|0;I=ei>>2,l[I]=0|Mi,ti=Oi+4|0,F=ti>>2,l[F]=_i;var Di=-p[mt+48],Pi=e+236|0,Hi=(L[0]=-p[mt+47],s[0]),Bi=(L[0]=Di,s[0])|0,ji=Pi|0;l[ji>>2]=0|Hi;var Fi=Pi+4|0;l[Fi>>2]=Bi,yt=66;break e}c[e+248|0]=1,Ni=e+212|0}while(0);var Ii=_n,qi=Ni,wr=Ii|0;G=wr>>2;var Ri=l[G],Sr=Ii+4|0;Q=Sr>>2;var Ui=l[Q],Tr=qi|0;K=Tr>>2,l[K]=Ri,Nr=qi+4|0,J=Nr>>2,l[J]=Ui;var zi=e+228|0,Jr=Ii|0;R=Jr>>2;var Wi=l[R],Kr=Ii+4|0;q=Kr>>2;var Xi=l[q];l[zi>>2]=Wi,l[zi+4>>2]=Xi;var Vi=e+204|0,$i=e+236|0,vi=Vi|0;j=vi>>2;var Ji=l[j],gi=Vi+4|0;B=gi>>2;var Ki=l[B],bi=$i|0;H=bi>>2,l[H]=Ji,wi=$i+4|0,P=wi>>2,l[P]=Ki}else{var Qi=0>zn|0>Pn;do{if(!Qi){var Gi=0<=Yn;c[e+248|0]=Gi&1;var Yi=e+212|0;if(!Gi){var Zi=Yi;break}var es=_n,ts=Yi,ns=es|0;D=ns>>2;var rs=o[D],is=es+4|0;_=is>>2;var ss=o[_],os=ts|0;M=os>>2,l[M]=rs;var us=ts+4|0;O=us>>2,l[O]=ss;var as=e+228|0,lr=as|0;rt=lr>>2,l[rt]=rs,cr=as+4|0,nt=cr>>2,l[nt]=ss;var fs=e+236|0,pr=fs|0;tt=pr>>2,l[tt]=rs,dr=fs+4|0,et=dr>>2,l[et]=ss,yt=66;break e}c[e+248|0]=0,Zi=e+212|0}while(0);var ls=Zi,cs=(L[0]=-On,s[0]),hs=(L[0]=An,s[0])|0,Jr=ls|0;R=Jr>>2,l[R]=0|cs,Kr=ls+4|0,q=Kr>>2,l[q]=hs;var ps=-p[it],ds=e+228|0,vs=(L[0]=-p[st],s[0]),ms=(L[0]=ps,s[0])|0,ei=ds|0;I=ei>>2,l[I]=0|vs,ti=ds+4|0,F=ti>>2,l[F]=ms;var gs=-p[mt+48],ys=e+236|0,bs=(L[0]=-p[mt+47],s[0]),ws=(L[0]=gs,s[0])|0,ji=ys|0;l[ji>>2]=0|bs,Fi=ys+4|0,l[Fi>>2]=ws}yt=66}}else er=Zn=0,yt=39;while(0);e:do if(39==yt)if(pn){var Es=0<=zn;if(Un){do{if(!Es){var Ss=0<=Pn;c[e+248|0]=Ss&1;var xs=e+212|0;if(Ss){var Ts=xs;break}var Ns=xs,Cs=(L[0]=-On,s[0]),ks=(L[0]=An,s[0]),Ls=ks|0,lr=Ns|0;rt=lr>>2,l[rt]=0|Cs,cr=Ns+4|0,nt=cr>>2,l[nt]=Ls;var As=_n,Os=e+228|0,_r=As|0;X=_r>>2;var Ms=l[X],Dr=As+4|0;W=Dr>>2;var _s=l[W],Ds=Os|0;A=Ds>>2,l[A]=Ms;var Ps=Os+4|0;k=Ps>>2,l[k]=_s;var Hs=e+236|0,Bs=-(s[0]=Ms,L[0]),js=Hs,Fs=0|(L[0]=Bs,s[0]),Is=ks|0;l[js>>2]=Fs,l[js+4>>2]=Is;break e}c[e+248|0]=1,Ts=e+212|0}while(0);var qs=_n,Rs=Ts,wr=qs|0;G=wr>>2;var Us=l[G],Sr=qs+4|0;Q=Sr>>2;var zs=l[Q],Tr=Rs|0;K=Tr>>2,l[K]=Us,Nr=Rs+4|0,J=Nr>>2,l[J]=zs;var Ws=e+188|0,Xs=e+228|0,Lr=Ws|0;$=Lr>>2;var Vs=l[$],Or=Ws+4|0;V=Or>>2;var $s=l[V],_r=Xs|0;X=_r>>2,l[X]=Vs,Dr=Xs+4|0,W=Dr>>2,l[W]=$s;var Js=-p[ot],Ks=e+236|0,Qs=(L[0]=-p[ut],s[0]),Gs=(L[0]=Js,s[0])|0,Ys=Ks|0;l[Ys>>2]=0|Qs;var Zs=Ks+4|0;l[Zs>>2]=Gs}else{do{if(Es){var eo=0<=Pn;c[e+248|0]=eo&1;var to=e+212|0;if(!eo){var no=to;break}var ro=_n,io=to,ns=ro|0;D=ns>>2;var so=o[D],is=ro+4|0;_=is>>2;var oo=o[_],os=io|0;M=os>>2,l[M]=so,us=io+4|0,O=us>>2,l[O]=oo;var uo=e+228|0,lr=uo|0;rt=lr>>2,l[rt]=so,cr=uo+4|0,nt=cr>>2,l[nt]=oo;var ao=e+236|0,fo=-(s[0]=so,L[0]),lo=ao,co=(L[0]=fo,s[0]),ho=(L[0]=An,s[0])|0,po=lo|0;C=po>>2,l[C]=0|co;var vo=lo+4|0;N=vo>>2,l[N]=ho;break e}c[e+248|0]=0,no=e+212|0}while(0);var mo=no,go=(L[0]=-On,s[0]),yo=(L[0]=An,s[0])|0,Jr=mo|0;R=Jr>>2,l[R]=0|go,Kr=mo+4|0,q=Kr>>2,l[q]=yo;var bo=_n,wo=e+228|0,Eo=bo|0;T=Eo>>2;var So=l[T],xo=bo+4|0;x=xo>>2;var To=l[x],mr=wo|0;Z=mr>>2,l[Z]=So,gr=wo+4|0,Y=gr>>2,l[Y]=To;var No=-p[mt+48],Co=e+236|0,ko=(L[0]=-p[mt+47],s[0]),Lo=(L[0]=No,s[0])|0,Ao=Co|0;l[Ao>>2]=0|ko;var Oo=Co+4|0;l[Oo>>2]=Lo}}else{var Mo=0<=Pn;if(vn)if(er){do{if(!Mo){var _o=0<=Zn;c[e+248|0]=_o&1;var Do=e+212|0;if(_o){var Po=Do;break}var Ho=Do,Bo=(L[0]=-On,s[0]),jo=(L[0]=An,s[0]),Fo=0|Bo,Io=jo|0,lr=Ho|0;rt=lr>>2,l[rt]=Fo,cr=Ho+4|0,nt=cr>>2,l[nt]=Io;var qo=e+228|0,pr=qo|0;tt=pr>>2,l[tt]=Fo,dr=qo+4|0,et=dr>>2,l[et]=Io;var Ro=_n,Uo=e+236|0,vi=Ro|0;j=vi>>2;var zo=l[j],gi=Ro+4|0;B=gi>>2;var Wo=l[B],bi=Uo|0;H=bi>>2,l[H]=zo,wi=Uo+4|0,P=wi>>2,l[P]=Wo;break e}c[e+248|0]=1,Po=e+212|0}while(0);var Xo=_n,Vo=Po,wr=Xo|0;G=wr>>2;var $o=l[G],Sr=Xo+4|0;Q=Sr>>2;var Jo=l[Q],Tr=Vo|0;K=Tr>>2,l[K]=$o,Nr=Vo+4|0,J=Nr>>2,l[J]=Jo;var Ko=-p[ot],Qo=e+228|0,Go=(L[0]=-p[ut],s[0]),Yo=(L[0]=Ko,s[0])|0,Br=Qo|0;z=Br>>2,l[z]=0|Go,Fr=Qo+4|0,U=Fr>>2,l[U]=Yo;var Zo=e+204|0,eu=e+236|0,tu=Zo|0,nu=l[tu>>2],ru=Zo+4|0,iu=l[ru>>2],Ys=eu|0;l[Ys>>2]=nu,Zs=eu+4|0,l[Zs>>2]=iu}else{do{if(Mo){var su=0<=Zn;c[e+248|0]=su&1;var ou=e+212|0;if(!su){var uu=ou;break}var au=_n,fu=ou,ns=au|0;D=ns>>2;var lu=o[D],is=au+4|0;_=is>>2;var cu=o[_],os=fu|0;M=os>>2,l[M]=lu,us=fu+4|0,O=us>>2,l[O]=cu;var hu=e+228|0,pu=-(s[0]=lu,L[0]),du=hu,vu=(L[0]=pu,s[0]),mu=(L[0]=An,s[0])|0,gu=du|0;l[gu>>2]=0|vu;var yu=du+4|0;l[yu>>2]=mu;var bu=e+236|0,po=bu|0;C=po>>2,l[C]=lu,vo=bu+4|0,N=vo>>2,l[N]=cu;break e}c[e+248|0]=0,uu=e+212|0}while(0);var wu=uu,Eu=(L[0]=-On,s[0]),Su=(L[0]=An,s[0])|0,Jr=wu|0;R=Jr>>2,l[R]=0|Eu,Kr=wu+4|0,q=Kr>>2,l[q]=Su;var xu=-p[mt+52],Tu=e+228|0,Nu=(L[0]=-p[mt+51],s[0]),Cu=(L[0]=xu,s[0])|0,tu=Tu|0;l[tu>>2]=0|Nu,ru=Tu+4|0,l[ru>>2]=Cu;var ku=_n,Lu=e+236|0,Au=l[ku>>2],Ou=l[ku+4>>2],Ao=Lu|0;l[Ao>>2]=Au,Oo=Lu+4|0,l[Oo>>2]=Ou}else{c[e+248|0]=Mo&1;var Mu=e+212|0;if(Mo){var _u=_n,Du=Mu,ns=_u|0;D=ns>>2;var Pu=o[D],is=_u+4|0;_=is>>2;var Hu=l[_],os=Du|0;M=os>>2,l[M]=Pu,us=Du+4|0,O=us>>2,l[O]=Hu;var Bu=e+228|0,ju=-(s[0]=Pu,L[0]),Fu=Bu,Iu=(L[0]=ju,s[0]),qu=(L[0]=An,s[0]),Ru=0|Iu,Uu=qu|0,gu=Fu|0;l[gu>>2]=Ru,yu=Fu+4|0,l[yu>>2]=Uu;var zu=e+236|0,po=zu|0;C=po>>2,l[C]=Ru,vo=zu+4|0,N=vo>>2,l[N]=Uu}else{var Wu=Mu,Xu=(L[0]=-On,s[0]),Vu=(L[0]=An,s[0])|0,lr=Wu|0;rt=lr>>2,l[rt]=0|Xu,cr=Wu+4|0,nt=cr>>2,l[nt]=Vu;var $u=_n,Ju=e+228|0,_r=$u|0;X=_r>>2;var Ku=l[X],Dr=$u+4|0;W=Dr>>2;var Qu=l[W],Ds=Ju|0;A=Ds>>2,l[A]=Ku,Ps=Ju+4|0,k=Ps>>2,l[k]=Qu;var Gu=e+236|0,bi=Gu|0;H=bi>>2,l[H]=Ku,wi=Gu+4|0,P=wi>>2,l[P]=Qu}}}while(0);S=(i+148|0)>>2;var Yu=l[S];E=(e+128|0)>>2,l[E]=Yu;var Zu=0<(l[S]|0);e:do if(Zu)for(var ea=0;;){var ta=p[ct],na=p[((ea<<3)+20>>2)+vt],ra=p[lt],ia=p[((ea<<3)+24>>2)+vt],sa=ra*na+ta*ia+p[at],oa=(ea<<3)+e|0,ua=(L[0]=ta*na-ra*ia+p[ft],s[0]),aa=(L[0]=sa,s[0])|0,bi=oa|0;H=bi>>2,l[H]=0|ua,wi=oa+4|0,P=wi>>2,l[P]=aa;var fa=p[ct],la=p[((ea<<3)+84>>2)+vt],ca=p[lt],ha=p[((ea<<3)+88>>2)+vt],pa=ca*la+fa*ha,da=(ea<<3)+e+64|0,va=(L[0]=fa*la-ca*ha,s[0]),ma=(L[0]=pa,s[0])|0,It=da|0;l[It>>2]=0|va,qt=da+4|0,l[qt>>2]=ma;var ga=ea+1|0;if((ga|0)>=(l[S]|0))break e;ea=ga}while(0);w=(e+244|0)>>2,p[w]=.019999999552965164;var ya=t+60|0;l[ya>>2]=0;var ba=e+248|0,wa=l[E],Ea=0<(wa|0);e:do if(Ea)for(var Sa=p[mt+41],xa=p[wn>>2],Ta=p[mt+53],Na=p[mt+54],Ca=0,ka=3.4028234663852886e38;;){var La=Ta*(p[(Ca<<3>>2)+mt]-Sa)+Na*(p[((Ca<<3)+4>>2)+mt]-xa),Aa=La<ka?La:ka,Oa=Ca+1|0;if((Oa|0)==(wa|0)){var Ma=Aa;break e}Ca=Oa,ka=Aa}else Ma=3.4028234663852886e38;while(0);var _a=Ma>p[w];e:do if(!_a){var Da=gt,Pa=e,Ha=Ia,Ba=Ia,ja=Ia,Fa=Pa>>2,qa=Ia,ja=(Da|0)>>2;l[ja]=0,Ba=(Da+4|0)>>2,l[Ba]=-1,Ha=(Da+8|0)>>2,p[Ha]=-3.4028234663852886e38;for(var Ra=p[Fa+54],Ua=p[Fa+53],za=l[Fa+32],Wa=Pa+164|0,Xa=Pa+168|0,Va=Pa+172|0,$a=Pa+176|0,Ja=Pa+244|0,Ka=Pa+228|0,Qa=Pa+232|0,Ga=Pa+236|0,Ya=Pa+240|0,Za=0,ef=-3.4028234663852886e38;(Za|0)<(za|0);){var tf=p[((Za<<3)+64>>2)+Fa],nf=-tf,rf=-p[((Za<<3)+68>>2)+Fa],sf=p[(Za<<3>>2)+Fa],of=p[((Za<<3)+4>>2)+Fa],uf=(sf-p[Wa>>2])*nf+(of-p[Xa>>2])*rf,af=(sf-p[Va>>2])*nf+(of-p[$a>>2])*rf,ff=uf<af?uf:af;if(ff>p[Ja>>2]){l[ja]=2,l[Ba]=Za,p[Ha]=ff;break}if(0>tf*Ra+Ua*rf)if(-0.03490658849477768<=(nf-p[Ka>>2])*Ua+(rf-p[Qa>>2])*Ra&ff>ef)qa=9;else var lf=ef,qa=10;else-0.03490658849477768<=(nf-p[Ga>>2])*Ua+(rf-p[Ya>>2])*Ra&ff>ef?qa=9:(lf=ef,qa=10);9==qa&&(l[ja]=2,l[Ba]=Za,lf=p[Ha]=ff),Za=Za+1|0,ef=lf}var cf=l[dt],hf=0==(cf|0);do if(hf)yt=75;else{var pf=p[dt+2];if(pf>p[w])break e;if(pf>.9800000190734863*Ma+.0010000000474974513){var df=o[dt+1],vf=t+56|0;if(1==(cf|0)){var mf=vf;yt=77}else{l[vf>>2]=2;var gf=bt,ns=en|0;D=ns>>2;var yf=l[D],is=en+4|0;_=is>>2;var bf=l[_],os=gf|0;M=os>>2,l[M]=yf,us=gf+4|0,O=us>>2,l[O]=bf;var wf=bt+8|0,Ef=wf;c[wf]=0;var Sf=df&255;c[Ef+1|0]=Sf,c[Ef+2|0]=0,c[Ef+3|0]=1;var xf=bt+12|0,Ds=sn|0;A=Ds>>2;var Tf=l[A],Ps=sn+4|0;k=Ps>>2;var Nf=l[k],Br=xf|0;z=Br>>2,l[z]=Tf,Fr=xf+4|0,U=Fr>>2,l[U]=Nf;var Cf=bt+20|0,kf=Cf;c[Cf]=0,c[kf+1|0]=Sf,c[kf+2|0]=0,c[kf+3|0]=1;var Lf=df+1|0,Af=(Lf|0)<(l[E]|0)?Lf:0,Of=(df<<3)+e|0,Mf=l[Of>>2],_f=l[Of+4>>2],Df=(Af<<3)+e|0,Pf=l[Df>>2],Hf=l[Df+4>>2],Bf=(df<<3)+e+64|0,jf=l[Bf>>2],Ff=l[Bf+4>>2],If=Af&255,qf=(s[0]=yf,L[0]),Rf=(s[0]=bf,L[0]),Uf=(s[0]=Tf,L[0]),zf=(s[0]=Nf,L[0]),Wf=df,Xf=If,Vf=Mf,$f=_f,Jf=Pf,Kf=Hf,Qf=jf,Gf=Ff,Yf=Uf,Zf=qf,el=zf,tl=Rf,nl=Sf,rl=0;yt=84}}else yt=75}while(0);75==yt&&(mf=t+56|0,yt=77);if(77==yt){l[mf>>2]=1;var il=l[E],sl=1<(il|0);t:do if(sl)for(var ol=p[mt+54],ul=p[mt+53],al=0,fl=ul*p[mt+16]+ol*p[mt+17],ll=1;;){var cl=ul*p[((ll<<3)+64>>2)+mt]+ol*p[((ll<<3)+68>>2)+mt],hl=cl<fl,pl=hl?ll:al,dl=hl?cl:fl,vl=ll+1|0;if((vl|0)>=(il|0)){var ml=pl;break t}al=pl,fl=dl,ll=vl}else ml=0;while(0);var gl=ml+1|0,yl=(gl|0)<(il|0)?gl:0,bl=(ml<<3)+e|0,wl=bt,Tr=bl|0;K=Tr>>2;var El=l[K],Nr=bl+4|0;J=Nr>>2;var Sl=l[J];l[wl>>2]=El,l[wl+4>>2]=Sl;var xl=bt+8|0,Tl=xl;c[xl]=0;var Nl=ml&255;c[Tl+1|0]=Nl,c[Tl+2|0]=1,c[Tl+3|0]=0;var Cl=(yl<<3)+e|0,kl=bt+12|0,Ll=l[Cl>>2],Al=l[Cl+4>>2];l[kl>>2]=Ll,l[kl+4>>2]=Al;var Ol=bt+20|0,Ml=Ol;c[Ol]=0,c[Ml+1|0]=yl&255,c[Ml+2|0]=1,c[Ml+3|0]=0;var _l=0==(c[ba]&1)<<24>>24,Dl=(s[0]=El,L[0]),Pl=(s[0]=Sl,L[0]),Hl=(s[0]=Ll,L[0]),Bl=(s[0]=Al,L[0]);if(_l)var jl=sn|0,Fl=sn+4|0,Il=l[jl>>2],ql=l[Fl>>2],Rl=en|0,Ul=en+4|0,zl=l[Rl>>2],Wl=l[Ul>>2],Xl=-p[ot],Vl=(L[0]=-p[ut],s[0]),$l=(L[0]=Xl,s[0]),Wf=1,Xf=0,Vf=Il,$f=ql,Jf=zl,Kf=Wl,Qf=Vl,Gf=$l;else var jl=en|0,Fl=en+4|0,Rl=sn|0,Ul=sn+4|0,Jl=_n,Wf=0,Xf=1,Vf=l[jl>>2],$f=l[Fl>>2],Jf=l[Rl>>2],Kf=l[Ul>>2],Qf=l[Jl>>2],Gf=l[Jl+4>>2];Yf=Hl,Zf=Dl,el=Bl,tl=Pl,nl=Nl,rl=1}var Kl=(s[0]=Vf,L[0]),Ql=(s[0]=$f,L[0]),Gl=(s[0]=Kf,L[0]),Yl=(s[0]=Qf,L[0]),Zl=(s[0]=Gf,L[0]),ec=-Yl,tc=Zl*Kl+Ql*ec,nc=Yl*Gl,rc=(s[0]=Jf,L[0]),ic=-Zl,sc=rc*ic+nc,oc=Zl*Zf+tl*ec-tc,uc=bt+12|0,ac=Zl*Yf+el*ec-tc;if(0<oc)var fc=0;else b=wt>>2,y=bt>>2,l[b]=l[y],l[b+1]=l[y+1],l[b+2]=l[y+2],fc=1;if(0<ac)var lc=fc;else g=(wt+12*fc|0)>>2,m=uc>>2,l[g]=l[m],l[g+1]=l[m+1],l[g+2]=l[m+2],lc=fc+1|0;if(0>oc*ac){var cc=oc/(oc-ac),hc=tl+(el-tl)*cc,pc=wt+12*lc|0,dc=(L[0]=Zf+(Yf-Zf)*cc,s[0]),vc=(L[0]=hc,s[0])|0,Eo=pc|0;T=Eo>>2,l[T]=0|dc,xo=pc+4|0,x=xo>>2,l[x]=vc;var mc=wt+12*lc+8|0,gc=mc;c[mc]=Wf&255,c[gc+1|0]=nl,c[gc+2|0]=0,c[gc+3|0]=1;var yc=lc+1|0}else yc=lc;if(2<=(yc|0)){var bc=p[pt],wc=p[pt+1],Ec=bc*ic+Yl*wc-sc,Sc=wt+12|0,xc=p[Sc>>2],Tc=p[pt+4],Nc=xc*ic+Yl*Tc-sc;if(0<Ec)var Cc=0;else v=Et>>2,d=wt>>2,l[v]=l[d],l[v+1]=l[d+1],l[v+2]=l[d+2],Cc=1;if(0<Nc)var kc=Cc;else h=(Et+12*Cc|0)>>2,f=Sc>>2,l[h]=l[f],l[h+1]=l[f+1],l[h+2]=l[f+2],kc=Cc+1|0;if(0>Ec*Nc){var Lc=Ec/(Ec-Nc),Ac=wc+(Tc-wc)*Lc,Oc=Et+12*kc|0,Mc=(L[0]=bc+(xc-bc)*Lc,s[0]),_c=(L[0]=Ac,s[0])|0,Eo=Oc|0;T=Eo>>2,l[T]=0|Mc,xo=Oc+4|0,x=xo>>2,l[x]=_c;var Dc=Et+12*kc+8|0,Pc=Dc;c[Dc]=Xf,c[Pc+1|0]=c[wt+9|0],c[Pc+2|0]=0,c[Pc+3|0]=1;var Hc=kc+1|0}else Hc=kc;if(2<=(Hc|0)){var Bc=t+40|0;if(rl){var jc=Bc;l[jc>>2]=0|Qf,l[jc+4>>2]=Gf|0;var Fc=t+48|0,Ds=Fc|0;A=Ds>>2,l[A]=0|Vf,Ps=Fc+4|0,k=Ps>>2,l[k]=$f|0;var Ic=p[ht],qc=p[ht+1],Rc=p[w];if(Yl*(Ic-Kl)+Zl*(qc-Ql)>Rc)var Uc=0,zc=Rc;else{var Wc=Ic-p[ft],Xc=qc-p[at],Vc=p[ct],$c=p[lt],Jc=Wc*-$c+Vc*Xc,Kc=t,Qc=(L[0]=Vc*Wc+$c*Xc,s[0]),Gc=(L[0]=Jc,s[0])|0,mr=Kc|0;Z=mr>>2,l[Z]=0|Qc,gr=Kc+4|0,Y=gr>>2,l[Y]=Gc,l[t+16>>2]=l[ht+2],Uc=1,zc=p[w]}var Yc=p[ht+3],Zc=p[ht+4];if(Yl*(Yc-Kl)+Zl*(Zc-Ql)>zc)var eh=Uc;else{var th=Yc-p[ft],nh=Zc-p[at],rh=p[ct],ih=p[lt],sh=th*-ih+rh*nh,oh=t+20*Uc|0,uh=(L[0]=rh*th+ih*nh,s[0]),ah=(L[0]=sh,s[0])|0,vi=oh|0;j=vi>>2,l[j]=0|uh,gi=oh+4|0,B=gi>>2,l[B]=ah,l[(t+16>>2)+(5*Uc|0)]=l[ht+5],eh=Uc+1|0}}else{var fh=(Wf<<3)+i+84|0,lh=Bc,wr=fh|0;G=wr>>2;var ch=l[G],Sr=fh+4|0;Q=Sr>>2;var hh=l[Q],Tr=lh|0;K=Tr>>2,l[K]=ch,Nr=lh+4|0,J=Nr>>2,l[J]=hh;var ph=(Wf<<3)+i+20|0,dh=t+48|0,Lr=ph|0;$=Lr>>2;var vh=l[$],Or=ph+4|0;V=Or>>2;var mh=l[V],_r=dh|0;X=_r>>2,l[X]=vh,Dr=dh+4|0,W=Dr>>2,l[W]=mh;var gh=p[w];if(Yl*(p[ht]-Kl)+Zl*(p[ht+1]-Ql)>gh)var yh=0,bh=gh;else{var wh=Et,Eh=t,ns=wh|0;D=ns>>2;var Sh=l[D],is=wh+4|0;_=is>>2;var xh=l[_],os=Eh|0;M=os>>2,l[M]=Sh,us=Eh+4|0,O=us>>2,l[O]=xh;var Th=Et+8|0,Nh=Th,Ch=t+16|0,kh=Ch;c[kh+2|0]=c[Nh+3|0],c[kh+3|0]=c[Nh+2|0],c[Ch]=c[Nh+1|0],c[kh+1|0]=c[Th],yh=1,bh=p[w]}var Lh=Et+12|0;if(Yl*(p[Lh>>2]-Kl)+Zl*(p[ht+4]-Ql)>bh)eh=yh;else{var Ah=Lh,Oh=t+20*yh|0,wr=Ah|0;G=wr>>2;var Mh=l[G],Sr=Ah+4|0;Q=Sr>>2;var _h=l[Q],Tr=Oh|0;K=Tr>>2,l[K]=Mh,Nr=Oh+4|0,J=Nr>>2,l[J]=_h;var Dh=Et+20|0,Ph=Dh,Hh=t+20*yh+16|0,Bh=Hh;c[Bh+2|0]=c[Ph+3|0],c[Bh+3|0]=c[Ph+2|0],c[Hh]=c[Ph+1|0],c[Bh+1|0]=c[Dh],eh=yh+1|0}}l[ya>>2]=eh}}}while(0);a=gt}function fg(e,t,n,r,i){var s=t>>2,o=l[s+37],u=p[i+12>>2],a=p[r+12>>2],f=p[i+8>>2],c=p[r+16>>2],h=p[n+12>>2],d=p[s+3],v=p[n+8>>2],m=p[s+4],g=u*a-f*c+p[i>>2]-(h*d-v*m+p[n>>2]),a=f*a+u*c+p[i+4>>2]-(v*d+h*m+p[n+4>>2]),u=h*g+v*a,h=g*-v+h*a,v=0<(o|0);e:do if(v){g=0,a=-3.4028234663852886e38;for(f=0;;)if(c=p[((f<<3)+84>>2)+s]*u+p[((f<<3)+88>>2)+s]*h,g=(d=c>a)?f:g,a=d?c:a,f=f+1|0,(f|0)==(o|0)){var y=g;break e}}else y=0;while(0);s=Ag(t,n,y,r,i),u=(0<(y|0)?y:o)-1|0,h=Ag(t,n,u,r,i),v=y+1|0,v=(v|0)<(o|0)?v:0,g=Ag(t,n,v,r,i),a=h>s&h>g;e:do if(a){f=h;for(c=u;;){d=(0<(c|0)?c:o)-1|0,m=Ag(t,n,d,r,i);if(m<=f){var b=f,w=c;break e}f=m,c=d}}else if(g>s){f=g;for(c=v;;){d=c+1|0,d=(d|0)<(o|0)?d:0,m=Ag(t,n,d,r,i);if(m<=f){b=f,w=c;break e}f=m,c=d}}else b=s,w=y;while(0);return l[e>>2]=w,b}function Rg(e,t,n){var r=a;a+=32;var i=r+8,o=r+16,u=r+24,f=l[n>>2],c=l[n+4>>2];l[r>>2]=f,l[r+4>>2]=c;var c=p[n+8>>2],f=(s[0]=f,L[0]),c=c-f,h=p[n+12>>2]-p[n+4>>2],f=i|0;p[f>>2]=c,p[i+4>>2]=h,i=o|0,p[i>>2]=0<c?c:-c,p[o+4>>2]=0<h?h:-h;for(var o=r|0,c=e|0,e=e+8|0,h=u|0,d=u+4|0,v=0,m=3.4028234663852886e38,g=-3.4028234663852886e38;;){if(2<=(v|0)){if(0>g){var y=0;break}if(p[n+16>>2]<g){y=0;break}p[t+8>>2]=g,n=u,u=l[n+4>>2],l[t>>2]=l[n>>2],l[t+4>>2]=u,y=1;break}if(1.1920928955078125e-7>p[i+(v<<2)>>2]){var b=p[o+(v<<2)>>2];if(b<p[c+(v<<2)>>2]){y=0;break}if(p[e+(v<<2)>>2]<b){y=0;break}}else{var b=1/p[f+(v<<2)>>2],w=p[o+(v<<2)>>2],E=(p[c+(v<<2)>>2]-w)*b,S=(p[e+(v<<2)>>2]-w)*b,b=(w=E>S)?E:S,E=w?S:E;E>g&&(g=w?1:-1,p[h>>2]=0,p[d>>2]=0,p[h+(v<<2)>>2]=g,g=E),m=m<b?m:b;if(g>m){y=0;break}}v=v+1|0}return a=r,y}function Ag(e,t,n,r,i){var r=r>>2,s=e>>2,o=l[r+37];4==(-1<(n|0)?(l[s+37]|0)>(n|0)?5:4:4)&&O(N.Lb|0,32,N.pe|0,N.Gb|0);var e=p[t+12>>2],u=p[((n<<3)+84>>2)+s],a=p[t+8>>2],f=p[((n<<3)+88>>2)+s],c=e*u-a*f,u=a*u+e*f,f=p[i+12>>2],h=p[i+8>>2],d=f*c+h*u,v=c*-h+f*u,m=0<(o|0);e:do if(m)for(var g=0,y=3.4028234663852886e38,b=0;;){var w=p[((b<<3)+20>>2)+r]*d+p[((b<<3)+24>>2)+r]*v,E=w<y,g=E?b:g,y=E?w:y,b=b+1|0;if((b|0)==(o|0)){var S=g;break e}}else S=0;while(0);return o=p[((n<<3)+20>>2)+s],n=p[((n<<3)+24>>2)+s],s=p[((S<<3)+20>>2)+r],S=p[((S<<3)+24>>2)+r],(f*s-h*S+p[i>>2]-(e*o-a*n+p[t>>2]))*c+(h*s+f*S+p[i+4>>2]-(a*o+e*n+p[t+4>>2]))*u}function Sg(e,t,n,r,i,o){var u,a=i>>2,f=n>>2,c=t>>2;u=(t+60|0)>>2;var h=0==(l[u]|0);e:do if(!h){var d=l[c+14];if(0==(d|0)){var v=e|0;p[v>>2]=1;var m=e+4|0;p[m>>2]=0;var g=p[f+3],y=p[c+12],b=p[f+2],w=p[c+13],E=g*y-b*w+p[f],S=b*y+g*w+p[f+1],x=p[a+3],T=p[c],N=p[a+2],C=p[c+1],k=x*T-N*C+p[a],A=N*T+x*C+p[a+1],O=E-k,M=S-A;if(1.4210854715202004e-14<O*O+M*M){var _=k-E,D=A-S,P=e,H=(L[0]=_,s[0]),B=(L[0]=D,s[0])|0;l[P>>2]=0|H,l[P+4>>2]=B;var j=dg(_*_+D*D);if(1.1920928955078125e-7>j)var F=_,I=D;else{var q=1/j,R=_*q;p[v>>2]=R;var U=D*q;p[m>>2]=U,F=R,I=U}}else F=1,I=0;var z=.5*(S+I*r+(A-I*o)),W=e+8|0,X=(L[0]=.5*(E+F*r+(k-F*o)),s[0]),V=(L[0]=z,s[0])|0;l[W>>2]=0|X,l[W+4>>2]=V}else if(1==(d|0)){var $=n+12|0,J=p[$>>2],K=p[c+10],Q=n+8|0,G=p[Q>>2],Y=p[c+11],Z=J*K-G*Y,et=G*K+J*Y,tt=e,nt=(L[0]=Z,s[0]),rt=(L[0]=et,s[0])|0,it=tt|0;l[it>>2]=0|nt;var st=tt+4|0;l[st>>2]=rt;var ot=p[$>>2],ut=p[c+12],at=p[Q>>2],ft=p[c+13],lt=ot*ut-at*ft+p[f],ct=at*ut+ot*ft+p[f+1];if(0<(l[u]|0))for(var ht=i+12|0,pt=i+8|0,dt=i|0,vt=i+4|0,mt=e|0,gt=e+4|0,yt=0,bt=Z,wt=et;;){var Et=p[ht>>2],St=p[c+(5*yt|0)],xt=p[pt>>2],Tt=p[c+(5*yt|0)+1],Nt=Et*St-xt*Tt+p[dt>>2],Ct=xt*St+Et*Tt+p[vt>>2],kt=r-((Nt-lt)*bt+(Ct-ct)*wt),Lt=.5*(Ct+wt*kt+(Ct-wt*o)),At=(yt<<3)+e+8|0,Ot=(L[0]=.5*(Nt+bt*kt+(Nt-bt*o)),s[0]),Mt=(L[0]=Lt,s[0])|0,_t=At|0;l[_t>>2]=0|Ot;var Dt=At+4|0;l[Dt>>2]=Mt;var Pt=yt+1|0;if((Pt|0)>=(l[u]|0))break e;yt=Pt,bt=p[mt>>2],wt=p[gt>>2]}}else if(2==(d|0)){var Ht=i+12|0,Bt=p[Ht>>2],jt=p[c+10],Ft=i+8|0,It=p[Ft>>2],qt=p[c+11],Rt=Bt*jt-It*qt,Ut=It*jt+Bt*qt,zt=e,Wt=(L[0]=Rt,s[0]),Xt=(L[0]=Ut,s[0])|0,it=zt|0;l[it>>2]=0|Wt,st=zt+4|0,l[st>>2]=Xt;var Vt=p[Ht>>2],$t=p[c+12],Jt=p[Ft>>2],Kt=p[c+13],Qt=Vt*$t-Jt*Kt+p[a],Gt=Jt*$t+Vt*Kt+p[a+1],Yt=0<(l[u]|0);t:do if(Yt)for(var Zt=n+12|0,en=n+8|0,tn=n|0,nn=n+4|0,rn=e|0,sn=e+4|0,on=0,un=Rt,an=Ut;;){var fn=p[Zt>>2],ln=p[c+(5*on|0)],cn=p[en>>2],hn=p[c+(5*on|0)+1],pn=fn*ln-cn*hn+p[tn>>2],dn=cn*ln+fn*hn+p[nn>>2],vn=o-((pn-Qt)*un+(dn-Gt)*an),mn=.5*(dn-an*r+dn+an*vn),gn=(on<<3)+e+8|0,yn=(L[0]=.5*(pn-un*r+pn+un*vn),s[0]),bn=(L[0]=mn,s[0])|0,_t=gn|0;l[_t>>2]=0|yn,Dt=gn+4|0,l[Dt>>2]=bn;var wn=on+1|0,En=p[rn>>2],Sn=p[sn>>2];if((wn|0)>=(l[u]|0)){var xn=En,Tn=Sn;break t}on=wn,un=En,an=Sn}else xn=Rt,Tn=Ut;while(0);var Nn=(L[0]=-xn,s[0]),Cn=(L[0]=-Tn,s[0])|0;l[zt>>2]=0|Nn,l[zt+4>>2]=Cn}}while(0)}function Tg(e,t,n){var r=t>>2,i=e>>2,s,o=l[r+1];if(0==(o|0))l[i+4]=t+12|0,l[i+5]=1,p[i+6]=p[r+2];else if(2==(o|0))l[i+4]=t+20|0,l[i+5]=l[r+37],p[i+6]=p[r+2];else if(3==(o|0)){o=t+16|0,s=-1<(n|0)?(l[o>>2]|0)>(n|0)?8:7:7,7==s&&O(N.s|0,53,N.qb|0,N.Rf|0),t=t+12|0,s=(n<<3)+l[t>>2]|0;var u=l[(s+4|0)>>2];l[e>>2]=l[(s|0)>>2],l[e+4>>2]=u,s=n+1|0,n=e+8|0,t=l[t>>2],(s|0)<(l[o>>2]|0)?(t=(s<<3)+t|0,o=l[t>>2],t=l[t+4>>2],l[(n|0)>>2]=o,l[(n+4|0)>>2]=t):(o=l[t+4>>2],l[n>>2]=l[t>>2],l[n+4>>2]=o),l[i+4]=e|0,l[i+5]=2,p[i+6]=p[r+2]}else 1==(o|0)?(l[i+4]=t+12|0,l[i+5]=2,p[i+6]=p[r+2]):O(N.s|0,81,N.qb|0,N.o|0)}function uh(e,t,n){var r,u,f,h,d,v,m,g,y,b,w,E,S,x,T,C,k,A=a;a+=168;var M,_=A+16,D=A+32,P=A+144,H=A+156;l[vh>>2]=l[vh>>2]+1|0;var B=n|0,j=n+28|0;k=A>>2,C=(n+56|0)>>2,l[k]=l[C],l[k+1]=l[C+1],l[k+2]=l[C+2],l[k+3]=l[C+3],T=_>>2,x=(n+72|0)>>2,l[T]=l[x],l[T+1]=l[x+1],l[T+2]=l[x+2],l[T+3]=l[x+3];var F,I,q,R,U=D>>2,z,W=t+4|0,X=Pc[W>>1];if(4>(X&65535))var V=X;else O(N.s|0,102,N.Pe|0,N.vh|0),V=i[W>>1];var $=V&65535;R=(D+108|0)>>2,l[R]=$;var J=D|0;q=J>>2;var K=0==V<<16>>16;e:do if(K)var Q=$;else for(var G=B+20|0,Y=B+16|0,Z=j+20|0,et=j+16|0,tt=A+12|0,nt=A+8|0,rt=A|0,it=A+4|0,st=_+12|0,ot=_+8|0,ut=_|0,at=_+4|0,ft=0;;){var lt=J+36*ft|0,ct=Ic[t+(ft+6)|0]&255;l[q+(9*ft|0)+7]=ct;var ht=Ic[t+(ft+9)|0]&255,pt=J+36*ft+32|0;l[pt>>2]=ht;if((l[G>>2]|0)>(ct|0))var dt=ht;else O(N.i|0,103,N.h|0,N.j|0),dt=l[pt>>2];var vt=(ct<<3)+l[Y>>2]|0,mt=l[vt+4>>2],gt=(s[0]=l[vt>>2],L[0]),yt=(s[0]=mt,L[0]);z=-1<(dt|0)?(l[Z>>2]|0)>(dt|0)?11:10:10,10==z&&O(N.i|0,103,N.h|0,N.j|0);var bt=(dt<<3)+l[et>>2]|0,wt=bt|0;I=wt>>2;var Et=bt+4|0;F=Et>>2;var St=l[F],xt=(s[0]=l[I],L[0]),Tt=(s[0]=St,L[0]),Nt=p[tt>>2],Ct=p[nt>>2],kt=Nt*gt-Ct*yt+p[rt>>2],Lt=Ct*gt+Nt*yt+p[it>>2],At=lt,Ot=(L[0]=kt,s[0]),Mt=(L[0]=Lt,s[0])|0;l[At>>2]=0|Ot,l[At+4>>2]=Mt;var _t=p[st>>2],Dt=p[ot>>2],Pt=_t*xt-Dt*Tt+p[ut>>2],Ht=Dt*xt+_t*Tt+p[at>>2],Bt=J+36*ft+8|0,jt=(L[0]=Pt,s[0]),Ft=(L[0]=Ht,s[0])|0;l[Bt>>2]=0|jt,l[Bt+4>>2]=Ft;var It=p[q+(9*ft|0)+3]-p[q+(9*ft|0)+1],qt=J+36*ft+16|0,Rt=(L[0]=Pt-kt,s[0]),Ut=(L[0]=It,s[0])|0;l[qt>>2]=0|Rt,l[qt+4>>2]=Ut,p[q+(9*ft|0)+6]=0;var zt=ft+1|0,Wt=l[R];if((zt|0)>=(Wt|0)){Q=Wt;break e}ft=zt}while(0);var Xt=1<(Q|0);e:do if(Xt){var Vt=p[t>>2];if(2==(Q|0))var $t=p[U+4]-p[U+13],Jt=p[U+5]-p[U+14],Kt=dg($t*$t+Jt*Jt);else if(3==(Q|0))var Qt=p[U+4],Gt=p[U+5],Kt=(p[U+13]-Qt)*(p[U+23]-Gt)-(p[U+14]-Gt)*(p[U+22]-Qt);else O(N.s|0,259,N.Na|0,N.o|0),Kt=0;var Yt=Kt<.5*Vt;do if(!Yt&&!(2*Vt<Kt|1.1920928955078125e-7>Kt)){var Zt=l[R];z=21;break e}while(0);l[R]=0,z=22}else Zt=Q,z=21;while(0);21==z&&(z=0==(Zt|0)?22:27);if(22==z){l[U+7]=0,l[U+8]=0,0<(l[B+20>>2]|0)||O(N.i|0,103,N.h|0,N.j|0);var en=l[B+16>>2],wt=en|0;I=wt>>2,Et=en+4|0,F=Et>>2;var tn=l[F],nn=(s[0]=l[I],L[0]),rn=(s[0]=tn,L[0]);0<(l[j+20>>2]|0)||O(N.i|0,103,N.h|0,N.j|0);var sn=l[j+16>>2],wt=sn|0;I=wt>>2,Et=sn+4|0,F=Et>>2;var on=l[F],un=(s[0]=l[I],L[0]),an=(s[0]=on,L[0]),fn=p[A+12>>2],ln=p[A+8>>2],cn=fn*nn-ln*rn+p[A>>2],hn=ln*nn+fn*rn+p[A+4>>2],pn=(L[0]=cn,s[0]),dn=(L[0]=hn,s[0])|0;l[D>>2]=0|pn,l[D+4>>2]=dn;var vn=p[_+12>>2],mn=p[_+8>>2],gn=vn*un-mn*an+p[_>>2],yn=mn*un+vn*an+p[_+4>>2],bn=D+8|0,wn=(L[0]=gn,s[0]),En=(L[0]=yn,s[0])|0;l[bn>>2]=0|wn,l[bn+4>>2]=En;var Sn=yn-hn,xn=D+16|0,Tn=(L[0]=gn-cn,s[0]),Nn=(L[0]=Sn,s[0])|0;l[xn>>2]=0|Tn,l[xn+4>>2]=Nn,l[R]=1}var Cn=D|0;S=Cn>>2,E=(D+108|0)>>2;var kn=l[E];0==(kn|0)?O(N.s|0,194,N.pa|0,N.o|0):1==(kn|0)||2==(kn|0)||3==(kn|0)||O(N.s|0,207,N.pa|0,N.o|0);var Ln=A+12|0,An=A+8|0,On=n+16|0,Mn=n+20|0,_n=A|0,Dn=A+4|0,Pn=_+12|0,Hn=_+8|0,Bn=n+44|0,jn=n+48|0,Fn=_|0,In=_+4|0;w=(D+16|0)>>2,b=(D+20|0)>>2,y=(D+52|0)>>2,g=(D+56|0)>>2;var qn=D+16|0,Rn=D+52|0,Un=D+24|0,zn=D+60|0,Wn=D+36|0,Xn=0;e:for(;;){if(20<=(Xn|0)){var Vn=Xn;break}var $n=o[E],Jn=0<($n|0);t:do if(Jn)for(var Kn=0;;){l[P+(Kn<<2)>>2]=l[S+(9*Kn|0)+7],l[H+(Kn<<2)>>2]=l[S+(9*Kn|0)+8];var Qn=Kn+1|0;if((Qn|0)==($n|0))break t;Kn=Qn}else M=9;while(0);if(1==($n|0))M=20;else if(2==($n|0)){var Gn=l[qn+4>>2],Yn=(s[0]=l[qn>>2],L[0]),Zn=(s[0]=Gn,L[0]),er=l[Rn+4>>2],tr=(s[0]=l[Rn>>2],L[0]),nr=(s[0]=er,L[0]),rr=tr-Yn,ir=nr-Zn,sr=Yn*rr+Zn*ir,or=-sr;if(0>sr){var ur=tr*rr+nr*ir;if(0<ur){var ar=1/(ur-sr);p[Un>>2]=ur*ar,p[zn>>2]=ar*or,l[E]=2;var fr=tr,lr=Yn;M=25}else{p[zn>>2]=1,l[E]=1;for(var cr=Wn>>2,hr=D>>2,pr=cr+9;cr<pr;cr++,hr++)l[hr]=l[cr];M=17}}else{p[Un>>2]=1,l[E]=1;var dr=Yn;M=24}}else{if(3==($n|0)){var vr=D,mr=vr>>2,gr=vr+16|0,yr=l[gr+4>>2],br=(s[0]=l[gr>>2],L[0]),wr=(s[0]=yr,L[0]),Er=vr+36|0,Sr=vr+52|0,xr=l[Sr+4>>2],Tr=(s[0]=l[Sr>>2],L[0]),Nr=(s[0]=xr,L[0]),Cr=vr+72|0,kr=vr+88|0,Lr=l[kr+4>>2],Ar=(s[0]=l[kr>>2],L[0]),Or=(s[0]=Lr,L[0]),Mr=Tr-br,_r=Nr-wr,Dr=br*Mr+wr*_r,Pr=Tr*Mr+Nr*_r,Hr=-Dr,Br=Ar-br,jr=Or-wr,Fr=br*Br+wr*jr,Ir=Ar*Br+Or*jr,qr=-Fr,Rr=Ar-Tr,Ur=Or-Nr,zr=Tr*Rr+Nr*Ur,Wr=Ar*Rr+Or*Ur,Xr=-zr,Vr=Mr*jr-_r*Br,$r=Vr*(Tr*Or-Nr*Ar),Jr=Vr*(Ar*wr-Or*br),Kr=Vr*(br*Nr-wr*Tr);if(0>Dr|0>Fr)if(0<=Dr|0>=Pr|0<Kr)if(0<=Fr|0>=Ir|0<Jr)if(0<Pr|0>zr)if(0<Ir|0<Wr)if(0<=zr|0>=Wr|0<$r){var Qr=1/($r+Jr+Kr);p[mr+6]=$r*Qr,p[mr+15]=Jr*Qr,p[mr+24]=Kr*Qr,l[mr+27]=3}else{var Gr=1/(Wr-zr);p[mr+15]=Wr*Gr,p[mr+24]=Gr*Xr,l[mr+27]=2;for(var Yr=Cr>>2,Zr=vr>>2,ei=Yr+9;Yr<ei;Yr++,Zr++)l[Zr]=l[Yr]}else{p[mr+24]=1,l[mr+27]=1,Yr=Cr>>2,Zr=vr>>2;for(ei=Yr+9;Yr<ei;Yr++,Zr++)l[Zr]=l[Yr]}else{p[mr+15]=1,l[mr+27]=1,Yr=Er>>2,Zr=vr>>2;for(ei=Yr+9;Yr<ei;Yr++,Zr++)l[Zr]=l[Yr]}else{var ti=1/(Ir-Fr);p[mr+6]=Ir*ti,p[mr+24]=ti*qr,l[mr+27]=2,Yr=Cr>>2,Zr=Er>>2;for(ei=Yr+9;Yr<ei;Yr++,Zr++)l[Zr]=l[Yr]}else{var ni=1/(Pr-Dr);p[mr+6]=Pr*ni,p[mr+15]=ni*Hr,l[mr+27]=2}else p[mr+6]=1,l[mr+27]=1}else O(N.s|0,498,N.me|0,N.o|0);M=17}do if(17==M){var ri=l[E];if(3==(ri|0)){Vn=Xn;break e}if(0==(ri|0))O(N.s|0,194,N.pa|0,N.o|0),M=20;else if(1==(ri|0)||2==(ri|0)){var ii=ri;M=21}else O(N.s|0,207,N.pa|0,N.o|0),M=20}while(0);20==M&&(ii=l[E],M=21);if(21==M)if(1==(ii|0))dr=p[w],M=24;else if(2==(ii|0))fr=p[y],lr=p[w],M=25;else{O(N.s|0,184,N.Ye|0,N.o|0);var si=wh,oi=l[si+4>>2],ui=(s[0]=l[si>>2],L[0]),ai=(s[0]=oi,L[0]),fi=ui,li=ai;M=29}if(24==M)fi=-dr,li=-p[b];else if(25==M){var ci=fr-lr,hi=p[b],pi=p[g]-hi;0<ci*-hi-pi*-lr?(fi=-1*pi,li=ci):(fi=pi,li=-1*ci)}if(1.4210854715202004e-14>fi*fi+li*li){Vn=Xn;break}var di=o[E],vi=Cn+36*di|0,mi=-li,gi=p[Ln>>2],yi=p[An>>2],bi=gi*-fi+yi*mi,wi=fi*yi+gi*mi,Ei=l[On>>2];m=Ei>>2;var Si=l[Mn>>2],xi=1<(Si|0);do if(xi){for(var Ti=0,Ni=p[m]*bi+p[m+1]*wi,Ci=1;;){var ki=p[(Ci<<3>>2)+m]*bi+p[((Ci<<3)+4>>2)+m]*wi,Li=ki>Ni,Ai=Li?Ci:Ti,Oi=Li?ki:Ni,Mi=Ci+1|0;if((Mi|0)==(Si|0))break;Ti=Ai,Ni=Oi,Ci=Mi}var _i=Cn+36*di+28|0;l[_i>>2]=Ai;var Di=vi|0;if(-1<(Ai|0))Fi=Ai,Ii=_i,qi=Di,M=35;else{var Pi=Ai,Hi=_i,Bi=Di;M=36}}else{var ji=Cn+36*di+28|0,Fi=l[ji>>2]=0,Ii=ji,qi=vi|0;M=35}while(0);if(35==M)if((Si|0)>(Fi|0)){var Ri=Fi,Ui=Ii,zi=qi,Wi=Ei;M=37}else Pi=Fi,Hi=Ii,Bi=qi,M=36;36==M&&(O(N.i|0,103,N.h|0,N.j|0),Ri=Pi,Ui=Hi,zi=Bi,Wi=l[On>>2]);var Xi=p[Wi+(Ri<<3)>>2],Vi=p[Wi+(Ri<<3)+4>>2],$i=yi*Xi+gi*Vi+p[Dn>>2],Ji=vi,Ki=(L[0]=gi*Xi-yi*Vi+p[_n>>2],s[0]),Qi=(L[0]=$i,s[0])|0,Gi=Ji|0;l[Gi>>2]=0|Ki;var Yi=Ji+4|0;l[Yi>>2]=Qi;var Zi=p[Pn>>2],es=p[Hn>>2],ts=Zi*fi+es*li,ns=fi*-es+Zi*li,rs=l[Bn>>2];v=rs>>2;var is=l[jn>>2],ss=1<(is|0);do if(ss){for(var os=0,us=p[v]*ts+p[v+1]*ns,as=1;;){var fs=p[(as<<3>>2)+v]*ts+p[((as<<3)+4>>2)+v]*ns,ls=fs>us,cs=ls?as:os,hs=ls?fs:us,ps=as+1|0;if((ps|0)==(is|0))break;os=cs,us=hs,as=ps}var ds=Cn+36*di+32|0;l[ds>>2]=cs;var vs=Cn+36*di+8|0;if(-1<(cs|0))ws=cs,Es=ds,Ss=vs,M=42;else{var ms=cs,gs=ds,ys=vs;M=43}}else{var bs=Cn+36*di+32|0,ws=l[bs>>2]=0,Es=bs,Ss=Cn+36*di+8|0;M=42}while(0);if(42==M)if((is|0)>(ws|0)){var xs=ws,Ts=Es,Ns=Ss,Cs=rs;M=44}else ms=ws,gs=Es,ys=Ss,M=43;43==M&&(O(N.i|0,103,N.h|0,N.j|0),xs=ms,Ts=gs,Ns=ys,Cs=l[Bn>>2]);var ks=p[Cs+(xs<<3)>>2],Ls=p[Cs+(xs<<3)+4>>2],As=Zi*ks-es*Ls+p[Fn>>2],Os=es*ks+Zi*Ls+p[In>>2],Ms=Ns,_s=(L[0]=As,s[0]),Ds=(L[0]=Os,s[0])|0,Gi=Ms|0;l[Gi>>2]=0|_s,Yi=Ms+4|0,l[Yi>>2]=Ds;var Ps=Os-p[zi+4>>2],Hs=Cn+36*di+16|0,Bs=(L[0]=As-p[zi>>2],s[0]),js=(L[0]=Ps,s[0])|0;l[Hs>>2]=0|Bs,l[Hs+4>>2]=js;var Fs=Xn+1|0;l[xh>>2]=l[xh>>2]+1|0;for(var Is=0;(Is|0)<($n|0);){if((l[Ui>>2]|0)==(l[P+(Is<<2)>>2]|0)&&(l[Ts>>2]|0)==(l[H+(Is<<2)>>2]|0)){Vn=Fs;break e}Is=Is+1|0}l[E]=l[E]+1|0,Xn=Fs}var qs=l[Rh>>2];l[Rh>>2]=(qs|0)>(Vn|0)?qs:Vn;var Rs=e+8|0,Us=e|0,zs=D>>2,Ws=l[zs+27];if(0==(Ws|0))O(N.s|0,217,N.Bb|0,N.o|0);else if(1==(Ws|0)){var Xs=l[D+4>>2];l[Us>>2]=l[D>>2],l[Us+4>>2]=Xs;var Vs=D+8|0,$s=l[Vs+4>>2];l[Rs>>2]=l[Vs>>2],l[Rs+4>>2]=$s}else if(2==(Ws|0)){var Js=D+24|0,Ks=p[Js>>2],Qs=D+60|0,Gs=p[Qs>>2],Ys=p[zs+1]*Ks+p[zs+10]*Gs,Zs=(L[0]=p[zs]*Ks+p[zs+9]*Gs,s[0]),eo=(L[0]=Ys,s[0])|0;l[Us>>2]=0|Zs,l[Us+4>>2]=eo;var to=p[Js>>2],no=p[Qs>>2],ro=p[zs+3]*to+p[zs+12]*no,io=(L[0]=p[zs+2]*to+p[zs+11]*no,s[0]),so=(L[0]=ro,s[0])|0;l[Rs>>2]=0|io,l[Rs+4>>2]=so}else if(3==(Ws|0)){var oo=p[zs+6],uo=p[zs+15],ao=p[zs+24],fo=p[zs+1]*oo+p[zs+10]*uo+p[zs+19]*ao,lo=(L[0]=p[zs]*oo+p[zs+9]*uo+p[zs+18]*ao,s[0]),co=(L[0]=fo,s[0]),ho=0|lo,po=co|0;l[Us>>2]=ho,l[Us+4>>2]=po,l[Rs>>2]=ho,l[Rs+4>>2]=po}else O(N.s|0,236,N.Bb|0,N.o|0);d=(e|0)>>2,h=(Rs|0)>>2;var vo=p[d]-p[h];f=(e+4|0)>>2,u=(e+12|0)>>2;var mo=p[f]-p[u],go=dg(vo*vo+mo*mo);r=(e+16|0)>>2,p[r]=go,l[e+20>>2]=Vn;var yo=l[E];if(0==(yo|0)){O(N.s|0,246,N.Na|0,N.o|0);var bo=0}else if(1==(yo|0))bo=0;else if(2==(yo|0))var wo=p[w]-p[y],Eo=p[b]-p[g],bo=dg(wo*wo+Eo*Eo);else if(3==(yo|0))var So=p[w],xo=p[b],bo=(p[y]-So)*(p[D+92>>2]-xo)-(p[g]-xo)*(p[D+88>>2]-So);else O(N.s|0,259,N.Na|0,N.o|0),bo=0;p[t>>2]=bo;var To=l[E];i[t+4>>1]=To&65535;var No=0<(To|0);e:do if(No)for(var Co=0;;){c[t+(Co+6)|0]=l[S+(9*Co|0)+7]&255,c[t+(Co+9)|0]=l[S+(9*Co|0)+8]&255;var ko=Co+1|0;if((ko|0)>=(To|0))break e;Co=ko}while(0);if(0!=(c[n+88|0]&1)<<24>>24){var Lo=p[n+24>>2],Ao=p[n+52>>2],Oo=p[r],Mo=Lo+Ao;if(Oo>Mo&1.1920928955078125e-7<Oo){p[r]=Oo-Mo;var _o=p[h],Do=p[d],Po=_o-Do,Ho=p[u],Bo=p[f],jo=Ho-Bo,Fo=dg(Po*Po+jo*jo);if(1.1920928955078125e-7>Fo)var Io=Po,qo=jo;else var Ro=1/Fo,Io=Po*Ro,qo=jo*Ro;var Uo=qo*Lo;p[d]=Do+Io*Lo,p[f]=Bo+Uo;var zo=qo*Ao;p[h]=_o-Io*Ao,p[u]=Ho-zo}else{var Wo=.5*(p[f]+p[u]),Xo=(L[0]=.5*(p[d]+p[h]),s[0]),Vo=(L[0]=Wo,s[0]),$o=0|Xo,Jo=Vo|0;l[e>>2]=$o,l[e+4>>2]=Jo,l[Rs>>2]=$o,l[Rs+4>>2]=Jo,p[r]=0}}a=A}function Kf(e){var t,n,r,i;i=(e+16|0)>>2;var s=l[i];if(-1==(s|0)){s=e+8|0,r=s>>2,t=(e+12|0)>>2,n=l[t];if((l[r]|0)==(n|0))var o=n;else O(N.d|0,61,N.te|0,N.nf|0),o=l[t];e=e+4|0,n=e>>2;var u=l[n];l[t]=o<<1,o=fe(72*o|0),l[n]=o,ag(o,u,36*l[r]|0),bg(u);var o=l[r],u=l[t]-1|0,a=(o|0)<(u|0);e:do if(a)for(var f=o;;){var c=f+1|0;l[(l[n]+36*f+20|0)>>2]=c,l[(l[n]+36*f+32|0)>>2]=-1,f=l[t]-1|0;if((c|0)>=(f|0)){var h=f;break e}f=c}else h=u;while(0);l[(l[n]+36*h+20|0)>>2]=-1,l[(l[n]+36*(l[t]-1)+32|0)>>2]=-1,h=l[r],l[i]=h,t=e>>2}else h=s,t=(e+4|0)>>2,s=e+8|0;return r=l[t]+36*h+20|0,l[i]=l[r>>2],l[r>>2]=-1,l[(l[t]+36*h+24|0)>>2]=-1,l[(l[t]+36*h+28|0)>>2]=-1,l[(l[t]+36*h+32|0)>>2]=0,l[(l[t]+36*h+16|0)>>2]=0,l[s>>2]=l[s>>2]+1|0,h}function Lf(e,t){var n,r,i,o,u;o=e+24|0,l[o>>2]=l[o>>2]+1|0,u=(e|0)>>2;var a=l[u],f=-1==(a|0);e:do if(f)l[u]=t,l[(l[e+4>>2]+36*t+20|0)>>2]=-1;else{o=(e+4|0)>>2,i=l[o]>>2;var c=p[i+(9*t|0)];n=p[i+(9*t|0)+1];for(var h=p[i+(9*t|0)+2],d=p[i+(9*t|0)+3],v=a;;){var m=l[i+(9*v|0)+6];if(-1==(m|0))break;var g=l[i+(9*v|0)+7],y=p[i+(9*v|0)+2],b=p[i+(9*v|0)],w=p[i+(9*v|0)+3],E=p[i+(9*v|0)+1],S=2*((y>h?y:h)-(b<c?b:c)+((w>d?w:d)-(E<n?E:n)));r=2*S;var y=2*(S-2*(y-b+(w-E))),b=p[i+(9*m|0)],w=c<b?c:b,E=p[i+(9*m|0)+1],S=n<E?n:E,x=p[i+(9*m|0)+2],T=h>x?h:x,C=p[i+(9*m|0)+3],k=d>C?d:C,b=(-1==(l[i+(9*m|0)+6]|0)?2*(T-w+(k-S)):2*(T-w+(k-S))-2*(x-b+(C-E)))+y,w=p[i+(9*g|0)],E=c<w?c:w,S=p[i+(9*g|0)+1],x=n<S?n:S,T=p[i+(9*g|0)+2],C=h>T?h:T,k=p[i+(9*g|0)+3],A=d>k?d:k,y=(-1==(l[i+(9*g|0)+6]|0)?2*(C-E+(A-x)):2*(C-E+(A-x))-2*(T-w+(k-S)))+y;if(r<b&r<y)break;v=b<y?m:g}i=l[i+(9*v|0)+5],m=Kf(e),l[(l[o]+36*m+20|0)>>2]=i,l[(l[o]+36*m+16|0)>>2]=0,g=l[o],r=g>>2,y=p[r+(9*v|0)],b=p[r+(9*v|0)+1],b=n<b?n:b,n=g+36*m|0,c=(L[0]=c<y?c:y,s[0]),y=(L[0]=b,s[0])|0,l[(n|0)>>2]=0|c,l[(n+4|0)>>2]=y,c=p[r+(9*v|0)+2],n=p[r+(9*v|0)+3],d=d>n?d:n,n=g+36*m+8|0,h=(L[0]=h>c?h:c,s[0]),d=(L[0]=d,s[0])|0,l[(n|0)>>2]=0|h,l[(n+4|0)>>2]=d,h=l[o],l[(h+36*m+32|0)>>2]=l[(h+32>>2)+(9*v|0)]+1|0,h=l[o],-1==(i|0)?(l[(h+36*m+24|0)>>2]=v,l[(l[o]+36*m+28|0)>>2]=t,l[(l[o]+36*v+20|0)>>2]=m,l[(l[o]+36*t+20|0)>>2]=m,l[u]=m):(d=h+36*i+24|0,(l[d>>2]|0)==(v|0)?l[d>>2]=m:l[(h+36*i+28|0)>>2]=m,l[(l[o]+36*m+24|0)>>2]=v,l[(l[o]+36*m+28|0)>>2]=t,l[(l[o]+36*v+20|0)>>2]=m,l[(l[o]+36*t+20|0)>>2]=m),v=l[(l[o]+20>>2)+(9*t|0)];if(-1!=(v|0))for(;;)if(v=Sh(e,v),d=l[o],h=l[(d+24>>2)+(9*v|0)],d=l[(d+28>>2)+(9*v|0)],-1==(h|0)&&O(N.d|0,307,N.lb|0,N.Eh|0),-1==(d|0)&&O(N.d|0,308,N.lb|0,N.Jh|0),c=l[o],n=l[(c+32>>2)+(9*h|0)],i=l[(c+32>>2)+(9*d|0)],l[(c+36*v+32|0)>>2]=((n|0)>(i|0)?n:i)+1|0,c=l[o],n=c>>2,i=p[n+(9*h|0)],m=p[n+(9*d|0)],g=p[n+(9*h|0)+1],r=p[n+(9*d|0)+1],r=g<r?g:r,g=c+36*v|0,i=(L[0]=i<m?i:m,s[0]),m=(L[0]=r,s[0])|0,l[(g|0)>>2]=0|i,l[(g+4|0)>>2]=m,i=p[n+(9*h|0)+2],m=p[n+(9*d|0)+2],h=p[n+(9*h|0)+3],d=p[n+(9*d|0)+3],h=h>d?h:d,d=c+36*v+8|0,c=(L[0]=i>m?i:m,s[0]),h=(L[0]=h,s[0])|0,l[(d|0)>>2]=0|c,l[(d+4|0)>>2]=h,v=l[(l[o]+20>>2)+(9*v|0)],-1==(v|0))break e}while(0)}function Th(e,t){var n,r,i=-1<(t|0);n=i?(l[e+12>>2]|0)>(t|0)?5:4:4,4==n&&O(N.d|0,126,N.mb|0,N.q|0),r=(e+4|0)>>2,-1!=(l[(l[r]+24>>2)+(9*t|0)]|0)&&O(N.d|0,127,N.mb|0,N.Wb|0),Uh(e,t),n=i?(l[e+12>>2]|0)>(t|0)?10:9:9,9==n&&O(N.d|0,97,N.G|0,N.$|0),n=(e+8|0)>>2,0<(l[n]|0)||O(N.d|0,98,N.G|0,N.Ca|0),i=e+16|0,l[(l[r]+36*t+20|0)>>2]=l[i>>2],l[(l[r]+36*t+32|0)>>2]=-1,l[i>>2]=t,l[n]=l[n]-1|0}function Uh(e,t){var n,r,i,o,u,a;a=(e|0)>>2;var f=(l[a]|0)==(t|0);e:do if(f)l[a]=-1;else{u=(e+4|0)>>2,r=l[u],o=r>>2;var c=l[o+(9*t|0)+5];i=l[o+(9*c|0)+5],n=l[o+(9*c|0)+6],o=(n|0)==(t|0)?l[o+(9*c|0)+7]:n;if(-1==(i|0))l[a]=o,l[(r+36*o+20|0)>>2]=-1,r=-1<(c|0)?(l[e+12>>2]|0)>(c|0)?20:19:19,19==r&&O(N.d|0,97,N.G|0,N.$|0),i=(e+8|0)>>2,0<(l[i]|0)||O(N.d|0,98,N.G|0,N.Ca|0),r=e+16|0,l[(l[u]+36*c+20|0)>>2]=l[r>>2],l[(l[u]+36*c+32|0)>>2]=-1,l[r>>2]=c,l[i]=l[i]-1|0;else{n=r+36*i+24|0,(l[n>>2]|0)==(c|0)?l[n>>2]=o:l[(r+36*i+28|0)>>2]=o,l[(l[u]+36*o+20|0)>>2]=i,r=-1<(c|0)?(l[e+12>>2]|0)>(c|0)?13:12:12,12==r&&O(N.d|0,97,N.G|0,N.$|0),r=(e+8|0)>>2,0<(l[r]|0)||O(N.d|0,98,N.G|0,N.Ca|0),o=e+16|0,l[(l[u]+36*c+20|0)>>2]=l[o>>2],l[(l[u]+36*c+32|0)>>2]=-1,l[o>>2]=c,l[r]=l[r]-1|0;for(c=i;;){c=Sh(e,c),o=l[u],n=o>>2,r=l[n+(9*c|0)+6],i=l[n+(9*c|0)+7];var h=p[n+(9*r|0)],d=p[n+(9*i|0)],v=p[n+(9*r|0)+1],m=p[n+(9*i|0)+1],m=v<m?v:m,v=o+36*c|0,h=(L[0]=h<d?h:d,s[0]),d=(L[0]=m,s[0])|0;l[(v|0)>>2]=0|h,l[(v+4|0)>>2]=d,h=p[n+(9*r|0)+2],d=p[n+(9*i|0)+2],v=p[n+(9*r|0)+3],n=p[n+(9*i|0)+3],n=v>n?v:n,o=o+36*c+8|0,h=(L[0]=h>d?h:d,s[0]),n=(L[0]=n,s[0])|0,l[(o|0)>>2]=0|h,l[(o+4|0)>>2]=n,o=l[u],r=l[(o+32>>2)+(9*r|0)],i=l[(o+32>>2)+(9*i|0)],l[(o+36*c+32|0)>>2]=((r|0)>(i|0)?r:i)+1|0,c=l[(l[u]+20>>2)+(9*c|0)];if(-1==(c|0))break e}}}while(0)}function Vh(e,t,n,r){var i,s;s=-1<(t|0)?(l[e+12>>2]|0)>(t|0)?5:4:4,4==s&&O(N.d|0,135,N.nb|0,N.q|0),i=(e+4|0)>>2;var o=l[i];-1!=(l[(o+24>>2)+(9*t|0)]|0)&&(O(N.d|0,137,N.nb|0,N.Wb|0),o=l[i]),s=o>>2,o=n|0;if(p[s+(9*t|0)]>p[o>>2]){var u=n+4|0;s=12}else{var a=n+4|0;if(p[s+(9*t|0)+1]>p[a>>2])u=a,s=12;else if(p[n+8>>2]>p[s+(9*t|0)+2])u=a,s=12;else if(p[n+12>>2]>p[s+(9*t|0)+3])u=a,s=12;else{var f=0;s=19}}return 12==s&&(Uh(e,t),f=p[o>>2]-.10000000149011612,u=p[u>>2]-.10000000149011612,o=p[n+8>>2]+.10000000149011612,n=p[n+12>>2]+.10000000149011612,a=2*p[r>>2],s=2*p[r+4>>2],0>a?(r=f+a,f=o):(r=f,f=o+a),0>s?u+=s:n+=s,i=l[i]>>2,p[i+(9*t|0)]=r,p[i+(9*t|0)+1]=u,p[i+(9*t|0)+2]=f,p[i+(9*t|0)+3]=n,Lf(e,t),f=1),f}function Sh(e,t){var n,r,i,o,u,a,f,c,h,d,v,m,g,y,b,w,E,S,x,T,C,k,A,M,_=e>>2,D;-1==(t|0)&&O(N.d|0,382,N.v|0,N.Mh|0),M=(e+4|0)>>2;var P=l[M];A=P>>2;var H=P+36*t|0;k=(P+36*t+24|0)>>2;var B=l[k];if(-1==(B|0))var j=t;else if(C=(P+36*t+32|0)>>2,2>(l[C]|0))j=t;else{T=(P+36*t+28|0)>>2;var F=l[T];D=-1<(B|0)?(B|0)<(l[_+3]|0)?9:8:8,8==D&&O(N.d|0,392,N.v|0,N.Sh|0),D=-1<(F|0)?(F|0)<(l[_+3]|0)?12:11:11,11==D&&O(N.d|0,393,N.v|0,N.af|0);var I=l[M];x=I>>2;var q=I+36*B|0,R=I+36*F|0;S=(I+36*F+32|0)>>2,E=(I+36*B+32|0)>>2;var U=l[S]-l[E]|0;if(1<(U|0)){var z=I+36*F+24|0,W=l[z>>2];w=(I+36*F+28|0)>>2;var X=l[w],V=I+36*W|0,$=I+36*X|0;D=-1<(W|0)?(W|0)<(l[_+3]|0)?16:15:15,15==D&&O(N.d|0,407,N.v|0,N.gf|0),D=-1<(X|0)?(X|0)<(l[_+3]|0)?19:18:18,18==D&&O(N.d|0,408,N.v|0,N.qf|0),l[z>>2]=t;var J=P+36*t+20|0,K=l[J>>2];b=(I+36*F+20|0)>>2,l[b]=K,l[J>>2]=F;var Q=l[b];if(-1==(Q|0))l[_]=F;else{var G=l[M],Y=G+36*Q+24|0;if((l[Y>>2]|0)==(t|0))l[Y>>2]=F;else{if((l[(G+28>>2)+(9*Q|0)]|0)==(t|0))var Z=Q,et=G;else O(N.d|0,424,N.v|0,N.zf|0),Z=l[b],et=l[M];l[(et+28>>2)+(9*Z|0)]=F}}y=(I+36*W+32|0)>>2,g=(I+36*X+32|0)>>2;if((l[y]|0)>(l[g]|0)){l[w]=W,l[T]=X,l[(I+36*X+20|0)>>2]=t;var tt=p[q>>2],nt=p[$>>2],rt=tt<nt?tt:nt,it=p[x+(9*B|0)+1],st=p[x+(9*X|0)+1],ot=it<st?it:st,ut=(L[0]=rt,s[0]),at=(L[0]=ot,s[0]),ft=0|ut,lt=at|0,ct=H|0;m=ct>>2,l[m]=ft;var ht=H+4|0;v=ht>>2,l[v]=lt;var pt=p[x+(9*B|0)+2],dt=p[x+(9*X|0)+2],vt=p[x+(9*B|0)+3],mt=p[x+(9*X|0)+3],gt=vt>mt?vt:mt,yt=P+36*t+8|0,bt=(L[0]=pt>dt?pt:dt,s[0]),wt=(L[0]=gt,s[0]),Et=0|bt,St=wt|0,xt=yt|0;d=xt>>2,l[d]=Et;var Tt=yt+4|0;h=Tt>>2,l[h]=St;var Nt=p[V>>2],Ct=p[A+(9*t|0)+1],kt=p[x+(9*W|0)+1],Lt=Ct<kt?Ct:kt,At=(L[0]=rt<Nt?rt:Nt,s[0]),Ot=(L[0]=Lt,s[0]),Mt=0|At,_t=Ot|0,Dt=R|0;c=Dt>>2,l[c]=Mt;var Pt=R+4|0;f=Pt>>2,l[f]=_t;var Ht=p[A+(9*t|0)+2],Bt=p[x+(9*W|0)+2],jt=p[A+(9*t|0)+3],Ft=p[x+(9*W|0)+3],It=jt>Ft?jt:Ft,qt=I+36*F+8|0,Rt=(L[0]=Ht>Bt?Ht:Bt,s[0]),Ut=(L[0]=It,s[0]),zt=0|Rt,Wt=Ut|0,Xt=qt|0;a=Xt>>2,l[a]=zt;var Vt=qt+4|0;u=Vt>>2,l[u]=Wt;var $t=l[E],Jt=l[g],Kt=(($t|0)>(Jt|0)?$t:Jt)+1|0;l[C]=Kt;var Qt=l[y],Gt=(Kt|0)>(Qt|0)?Kt:Qt}else{l[w]=X,l[T]=W,l[(I+36*W+20|0)>>2]=t;var Yt=p[q>>2],Zt=p[V>>2],en=Yt<Zt?Yt:Zt,tn=p[x+(9*B|0)+1],nn=p[x+(9*W|0)+1],rn=tn<nn?tn:nn,sn=(L[0]=en,s[0]),on=(L[0]=rn,s[0]),un=0|sn,an=on|0,ct=H|0;m=ct>>2,l[m]=un,ht=H+4|0,v=ht>>2,l[v]=an;var fn=p[x+(9*B|0)+2],ln=p[x+(9*W|0)+2],cn=p[x+(9*B|0)+3],hn=p[x+(9*W|0)+3],pn=cn>hn?cn:hn,dn=P+36*t+8|0,vn=(L[0]=fn>ln?fn:ln,s[0]),mn=(L[0]=pn,s[0]),gn=0|vn,yn=mn|0,xt=dn|0;d=xt>>2,l[d]=gn,Tt=dn+4|0,h=Tt>>2,l[h]=yn;var bn=p[$>>2],wn=p[A+(9*t|0)+1],En=p[x+(9*X|0)+1],Sn=wn<En?wn:En,xn=(L[0]=en<bn?en:bn,s[0]),Tn=(L[0]=Sn,s[0]),Nn=0|xn,Cn=Tn|0,Dt=R|0;c=Dt>>2,l[c]=Nn,Pt=R+4|0,f=Pt>>2,l[f]=Cn;var kn=p[A+(9*t|0)+2],Ln=p[x+(9*X|0)+2],An=p[A+(9*t|0)+3],On=p[x+(9*X|0)+3],Mn=An>On?An:On,_n=I+36*F+8|0,Dn=(L[0]=kn>Ln?kn:Ln,s[0]),Pn=(L[0]=Mn,s[0]),Hn=0|Dn,Bn=Pn|0,Xt=_n|0;a=Xt>>2,l[a]=Hn,Vt=_n+4|0,u=Vt>>2,l[u]=Bn;var jn=l[E],Fn=l[y],In=((jn|0)>(Fn|0)?jn:Fn)+1|0;l[C]=In;var qn=l[g],Gt=(In|0)>(qn|0)?In:qn}l[S]=Gt+1|0,j=F}else if(-1>(U|0)){var Rn=I+36*B+24|0,Un=l[Rn>>2];o=(I+36*B+28|0)>>2;var zn=l[o],Wn=I+36*Un|0,Xn=I+36*zn|0;D=-1<(Un|0)?(Un|0)<(l[_+3]|0)?34:33:33,33==D&&O(N.d|0,467,N.v|0,N.Ef|0),D=-1<(zn|0)?(zn|0)<(l[_+3]|0)?37:36:36,36==D&&O(N.d|0,468,N.v|0,N.Hf|0),l[Rn>>2]=t;var Vn=P+36*t+20|0,$n=l[Vn>>2];i=(I+36*B+20|0)>>2,l[i]=$n,l[Vn>>2]=B;var Jn=l[i];if(-1==(Jn|0))l[_]=B;else{var Kn=l[M],Qn=Kn+36*Jn+24|0;if((l[Qn>>2]|0)==(t|0))l[Qn>>2]=B;else{if((l[(Kn+28>>2)+(9*Jn|0)]|0)==(t|0))var Gn=Jn,Yn=Kn;else O(N.d|0,484,N.v|0,N.Nf|0),Gn=l[i],Yn=l[M];l[(Yn+28>>2)+(9*Gn|0)]=B}}r=(I+36*Un+32|0)>>2,n=(I+36*zn+32|0)>>2;if((l[r]|0)>(l[n]|0)){l[o]=Un,l[k]=zn,l[(I+36*zn+20|0)>>2]=t;var Zn=p[R>>2],er=p[Xn>>2],tr=Zn<er?Zn:er,nr=p[x+(9*F|0)+1],rr=p[x+(9*zn|0)+1],ir=nr<rr?nr:rr,sr=(L[0]=tr,s[0]),or=(L[0]=ir,s[0]),ur=0|sr,ar=or|0,ct=H|0;m=ct>>2,l[m]=ur,ht=H+4|0,v=ht>>2,l[v]=ar;var fr=p[x+(9*F|0)+2],lr=p[x+(9*zn|0)+2],cr=p[x+(9*F|0)+3],hr=p[x+(9*zn|0)+3],pr=cr>hr?cr:hr,dr=P+36*t+8|0,vr=(L[0]=fr>lr?fr:lr,s[0]),mr=(L[0]=pr,s[0]),gr=0|vr,yr=mr|0,xt=dr|0;d=xt>>2,l[d]=gr,Tt=dr+4|0,h=Tt>>2,l[h]=yr;var br=p[Wn>>2],wr=p[A+(9*t|0)+1],Er=p[x+(9*Un|0)+1],Sr=wr<Er?wr:Er,xr=(L[0]=tr<br?tr:br,s[0]),Tr=(L[0]=Sr,s[0]),Nr=0|xr,Cr=Tr|0,Dt=q|0;c=Dt>>2,l[c]=Nr,Pt=q+4|0,f=Pt>>2,l[f]=Cr;var kr=p[A+(9*t|0)+2],Lr=p[x+(9*Un|0)+2],Ar=p[A+(9*t|0)+3],Or=p[x+(9*Un|0)+3],Mr=Ar>Or?Ar:Or,_r=I+36*B+8|0,Dr=(L[0]=kr>Lr?kr:Lr,s[0]),Pr=(L[0]=Mr,s[0]),Hr=0|Dr,Br=Pr|0,Xt=_r|0;a=Xt>>2,l[a]=Hr,Vt=_r+4|0,u=Vt>>2,l[u]=Br;var jr=l[S],Fr=l[n],Ir=((jr|0)>(Fr|0)?jr:Fr)+1|0;l[C]=Ir;var qr=l[r],Rr=(Ir|0)>(qr|0)?Ir:qr}else{l[o]=zn,l[k]=Un,l[(I+36*Un+20|0)>>2]=t;var Ur=p[R>>2],zr=p[Wn>>2],Wr=Ur<zr?Ur:zr,Xr=p[x+(9*F|0)+1],Vr=p[x+(9*Un|0)+1],$r=Xr<Vr?Xr:Vr,Jr=(L[0]=Wr,s[0]),Kr=(L[0]=$r,s[0]),Qr=0|Jr,Gr=Kr|0,ct=H|0;m=ct>>2,l[m]=Qr,ht=H+4|0,v=ht>>2,l[v]=Gr;var Yr=p[x+(9*F|0)+2],Zr=p[x+(9*Un|0)+2],ei=p[x+(9*F|0)+3],ti=p[x+(9*Un|0)+3],ni=ei>ti?ei:ti,ri=P+36*t+8|0,ii=(L[0]=Yr>Zr?Yr:Zr,s[0]),si=(L[0]=ni,s[0]),oi=0|ii,ui=si|0,xt=ri|0;d=xt>>2,l[d]=oi,Tt=ri+4|0,h=Tt>>2,l[h]=ui;var ai=p[Xn>>2],fi=p[A+(9*t|0)+1],li=p[x+(9*zn|0)+1],ci=fi<li?fi:li,hi=(L[0]=Wr<ai?Wr:ai,s[0]),pi=(L[0]=ci,s[0]),di=0|hi,vi=pi|0,Dt=q|0;c=Dt>>2,l[c]=di,Pt=q+4|0,f=Pt>>2,l[f]=vi;var mi=p[A+(9*t|0)+2],gi=p[x+(9*zn|0)+2],yi=p[A+(9*t|0)+3],bi=p[x+(9*zn|0)+3],wi=yi>bi?yi:bi,Ei=I+36*B+8|0,Si=(L[0]=mi>gi?mi:gi,s[0]),xi=(L[0]=wi,s[0]),Ti=0|Si,Ni=xi|0,Xt=Ei|0;a=Xt>>2,l[a]=Ti,Vt=Ei+4|0,u=Vt>>2,l[u]=Ni;var Ci=l[S],ki=l[r],Li=((Ci|0)>(ki|0)?Ci:ki)+1|0;l[C]=Li;var Ai=l[n],Rr=(Li|0)>(Ai|0)?Li:Ai}l[E]=Rr+1|0,j=B}else j=t}return j}function Ti(e,t){4==(-1<(t|0)?(l[e+12>>2]|0)>(t|0)?5:4:4)&&O(N.d|0,563,N.Te|0,N.$|0);var n=l[e+4>>2],r=l[(n+24>>2)+(9*t|0)];return-1==(r|0)?0:(r=Ti(e,r),n=Ti(e,l[(n+28>>2)+(9*t|0)]),((r|0)>(n|0)?r:n)+1|0)}function Ui(e,t){var n,r,i=e|0;r=(e+4|0)>>2;for(var s=e+12|0,o=t;-1!=(o|0);){(l[i>>2]|0)==(o|0)&&-1!=(l[(l[r]+20>>2)+(9*o|0)]|0)&&O(N.d|0,591,N.O|0,N.Uf|0),n=l[r]>>2;var u=l[n+(9*o|0)+6],a=l[n+(9*o|0)+7];if(-1==(u|0)){-1!=(a|0)&&O(N.d|0,602,N.O|0,N.Kb|0);if(0==(l[n+(9*o|0)+8]|0))break;O(N.d|0,603,N.O|0,N.Mb|0);break}n=-1<(u|0)?(u|0)<(l[s>>2]|0)?15:14:14,14==n&&O(N.d|0,607,N.O|0,N.Nb|0),n=-1<(a|0)?(a|0)<(l[s>>2]|0)?18:17:17,17==n&&O(N.d|0,608,N.O|0,N.Ob|0),n=l[r],(l[(n+20>>2)+(9*u|0)]|0)!=(o|0)&&(O(N.d|0,610,N.O|0,N.mg|0),n=l[r]),(l[(n+20>>2)+(9*a|0)]|0)!=(o|0)&&O(N.d|0,611,N.O|0,N.tg|0),Ui(e,u),o=a}}function Oj(e,t){var n,r,i,s;i=(e+4|0)>>2;for(var o=e+12|0,u=t;-1!=(u|0);){r=l[i]>>2;var a=l[r+(9*u|0)+6],f=l[r+(9*u|0)+7];if(-1==(a|0)){-1!=(f|0)&&O(N.d|0,632,N.N|0,N.Kb|0);if(0==(l[r+(9*u|0)+8]|0))break;O(N.d|0,633,N.N|0,N.Mb|0);break}s=-1<(a|0)?(a|0)<(l[o>>2]|0)?12:11:11,11==s&&O(N.d|0,637,N.N|0,N.Nb|0),s=-1<(f|0)?(f|0)<(l[o>>2]|0)?15:14:14,14==s&&O(N.d|0,638,N.N|0,N.Ob|0),s=l[i];var c=l[(s+32>>2)+(9*a|0)],h=l[(s+32>>2)+(9*f|0)];(l[r+(9*u|0)+8]|0)!=(((c|0)>(h|0)?c:h)+1|0)&&(O(N.d|0,644,N.N|0,N.wg|0),s=l[i]),n=s>>2,s=p[n+(9*a|0)];var c=p[n+(9*f|0)],h=p[n+(9*a|0)+1],d=p[n+(9*f|0)+1],v=p[n+(9*a|0)+2],m=p[n+(9*f|0)+2],v=v>m?v:m,m=p[n+(9*a|0)+3];n=p[n+(9*f|0)+3],n=m>n?m:n,s=(s<c?s:c)==p[r+(9*u|0)]?(h<d?h:d)==p[r+(9*u|0)+1]?20:19:19,19==s&&O(N.d|0,649,N.N|0,N.Ag|0),s=v==p[r+(9*u|0)+2]?n==p[r+(9*u|0)+3]?23:22:22,22==s&&O(N.d|0,650,N.N|0,N.Eg|0),Oj(e,a),u=f}}function Pj(e){var t,n;t=(e|0)>>2,Ui(e,l[t]),Oj(e,l[t]);var r=l[e+16>>2],i=-1==(r|0);e:do if(i)var s=0;else for(var o=e+12|0,u=e+4|0,a=0,f=r;;)if(n=-1<(f|0)?(f|0)<(l[o>>2]|0)?7:6:6,6==n&&O(N.d|0,665,N.Ma|0,N.Lg|0),a=a+1|0,f=l[(l[u>>2]+20>>2)+(9*f|0)],-1==(f|0)){s=a;break e}while(0);r=l[t],t=-1==(r|0)?0:l[(l[e+4>>2]+32>>2)+(9*r|0)],r=Ti(e,r),(t|0)!=(r|0)&&O(N.d|0,670,N.Ma|0,N.Mg|0),(l[e+8>>2]+s|0)!=(l[e+12>>2]|0)&&O(N.d|0,672,N.Ma|0,N.Og|0)}function Qj(e){var t,n,r,i;i=(e+8|0)>>2;var o=fe(l[i]<<2);r=o>>2;var u=e+12|0,a=l[u>>2],f=0<(a|0);e:do if(f){n=(e+4|0)>>2;var c=e+16|0,h=0;t=0;for(var d=a;;){var v=l[n];0>(l[(v+32>>2)+(9*h|0)]|0)?v=t:-1==(l[(v+24>>2)+(9*h|0)]|0)?(l[(v+36*h+20|0)>>2]=-1,l[((t<<2)+o|0)>>2]=h,v=t+1|0):((d|0)>(h|0)||O(N.d|0,97,N.G|0,N.$|0),0<(l[i]|0)||O(N.d|0,98,N.G|0,N.Ca|0),l[(l[n]+36*h+20|0)>>2]=l[c>>2],l[(l[n]+36*h+32|0)>>2]=-1,l[c>>2]=h,l[i]=l[i]-1|0,v=t),h=h+1|0,d=l[u>>2];if((h|0)>=(d|0))break;t=v}if(1<(v|0))for(c=v;;){h=l[n],t=h>>2;for(var m=d=-1,g=3.4028234663852886e38,y=0;;){var b=l[(y<<2>>2)+r],w=p[t+(9*b|0)],E=p[t+(9*b|0)+1],S=p[t+(9*b|0)+2],b=p[t+(9*b|0)+3],x=y+1|0,T=(x|0)<(c|0);t:do if(T)for(var C=d,k=m,A=g,M=x;;){var _=l[(M<<2>>2)+r],D=p[t+(9*_|0)],P=p[t+(9*_|0)+1],H=p[t+(9*_|0)+2],_=p[t+(9*_|0)+3],D=2*((S>H?S:H)-(w<D?w:D)+((b>_?b:_)-(E<P?E:P))),C=(P=D<A)?M:C,k=P?y:k,A=P?D:A,M=M+1|0;if((M|0)==(c|0)){var B=C,j=k,F=A;break t}}else B=d,j=m,F=g;while(0);if((x|0)==(c|0))break;d=B,m=j,g=F,y=x}d=(j<<2)+o|0,y=l[d>>2],m=(B<<2)+o|0,w=l[m>>2],g=Kf(e),E=l[n],l[(E+36*g+24|0)>>2]=y,l[(E+36*g+28|0)>>2]=w,S=l[t+(9*y|0)+8],b=l[t+(9*w|0)+8],l[(E+36*g+32|0)>>2]=((S|0)>(b|0)?S:b)+1|0,S=p[t+(9*y|0)],b=p[t+(9*w|0)],x=p[t+(9*y|0)+1],T=p[t+(9*w|0)+1],T=x<T?x:T,x=E+36*g|0,S=(L[0]=S<b?S:b,s[0]),b=(L[0]=T,s[0])|0,l[(x|0)>>2]=0|S,l[(x+4|0)>>2]=b,S=p[t+(9*y|0)+2],b=p[t+(9*w|0)+2],x=p[t+(9*y|0)+3],t=p[t+(9*w|0)+3],x=x>t?x:t,t=E+36*g+8|0,S=(L[0]=S>b?S:b,s[0]),b=(L[0]=x,s[0])|0,l[(t|0)>>2]=0|S,l[(t+4|0)>>2]=b,l[(E+36*g+20|0)>>2]=-1,l[(h+36*y+20|0)>>2]=g,l[(h+36*w+20|0)>>2]=g,c=c-1|0,l[m>>2]=l[(c<<2>>2)+r],l[d>>2]=g;if(1>=(c|0))break e}}while(0);l[e>>2]=l[r],bg(o),Pj(e)}function Mk(e,t,n,r){var i=e>>2,o=1-r,u=p[i+4]*o+p[i+6]*r,a=p[i+5]*o+p[i+7]*r,f=o*p[i+8]+p[i+9]*r,c=Yk(f),f=Zk(f),h=p[i+2],d=p[i+3],u=u-(f*h-c*d),a=a-(c*h+f*d),h=p[i+13]*o+p[i+15]*r,d=p[i+14]*o+p[i+16]*r,o=o*p[i+17]+p[i+18]*r,r=Yk(o),o=Zk(o),v=p[i+11],m=p[i+12],h=h-(o*v-r*m),d=d-(r*v+o*m),v=l[i+20];if(0==(v|0)){var v=e+92|0,m=e+96|0,g=l[i],e=-1<(t|0)?(l[g+20>>2]|0)>(t|0)?6:5:5;5==e&&O(N.i|0,103,N.h|0,N.j|0);var e=(t<<3)+l[g+16>>2]|0,t=(e|0)>>2,e=(e+4|0)>>2,e=l[e],g=(s[0]=l[t],L[0]),y=(s[0]=e,L[0]),i=l[i+1],e=-1<(n|0)?(l[i+20>>2]|0)>(n|0)?9:8:8;8==e&&O(N.i|0,103,N.h|0,N.j|0),i=(n<<3)+l[i+16>>2]|0,t=(i|0)>>2,e=(i+4|0)>>2,i=l[e],n=(s[0]=l[t],L[0]),i=(s[0]=i,L[0]),c=(o*n-r*i+h-(f*g-c*y+u))*p[v>>2]+(r*n+o*i+d-(c*g+f*y+a))*p[m>>2]}else 1==(v|0)?(t=p[i+23],e=p[i+24],v=f*t-c*e,m=c*t+f*e,t=p[i+21],e=p[i+22],u=f*t-c*e+u,c=c*t+f*e+a,f=l[i+1],e=-1<(n|0)?(l[f+20>>2]|0)>(n|0)?13:12:12,12==e&&O(N.i|0,103,N.h|0,N.j|0),f=(n<<3)+l[f+16>>2]|0,t=(f|0)>>2,e=(f+4|0)>>2,f=l[e],a=(s[0]=l[t],L[0]),f=(s[0]=f,L[0]),c=(o*a-r*f+h-u)*v+(r*a+o*f+d-c)*m):2==(v|0)?(e=p[i+23],v=p[i+24],n=o*e-r*v,v=r*e+o*v,e=p[i+21],m=p[i+22],h=o*e-r*m+h,r=r*e+o*m+d,o=l[i],e=-1<(t|0)?(l[o+20>>2]|0)>(t|0)?17:16:16,16==e&&O(N.i|0,103,N.h|0,N.j|0),o=(t<<3)+l[o+16>>2]|0,t=(o|0)>>2,e=(o+4|0)>>2,o=l[e],i=(s[0]=l[t],L[0]),o=(s[0]=o,L[0]),c=(f*i-c*o+u-h)*n+(c*i+f*o+a-r)*v):(O(N.Da|0,242,N.Xe|0,N.o|0),c=0);return c}function $k(e,t,n){var r;4==(-1<(n|0)?(l[e+16>>2]-1|0)>(n|0)?5:4:4)&&O(N.F|0,89,N.Re|0,N.qh|0),l[t+4>>2]=1,p[t+8>>2]=p[e+8>>2],r=(e+12|0)>>2;var i=(n<<3)+l[r]|0,s=t+12|0,o=l[i+4>>2];l[s>>2]=l[i>>2],l[s+4>>2]=o,i=(n+1<<3)+l[r]|0,s=t+20|0,o=l[i+4>>2],l[s>>2]=l[i>>2],l[s+4>>2]=o,i=t+28|0,0<(n|0)?(s=(n-1<<3)+l[r]|0,o=l[(s+4|0)>>2],l[(i|0)>>2]=l[(s|0)>>2],l[(i+4|0)>>2]=o,c[t+44|0]=1):(s=e+20|0,o=l[(s+4|0)>>2],l[(i|0)>>2]=l[(s|0)>>2],l[(i+4|0)>>2]=o,c[t+44|0]=c[e+36|0]&1),i=t+36|0,(l[e+16>>2]-2|0)>(n|0)?(n=(n+2<<3)+l[r]|0,e=l[(n|0)>>2],n=l[(n+4|0)>>2],l[(i|0)>>2]=e,l[(i+4|0)>>2]=n,c[t+45|0]=1):(r=e+28|0,n=l[(r|0)>>2],r=l[(r+4|0)>>2],l[(i|0)>>2]=n,l[(i+4|0)>>2]=r,c[t+45|0]=c[e+37|0]&1)}function cm(e,t,n,r){var n=n>>2,i=p[r>>2],o=p[n]-i,u=p[r+4>>2],a=p[n+1]-u,f=p[r+12>>2],c=p[r+8>>2],r=f*o+c*a,h=-c,o=o*h+f*a,i=p[n+2]-i,a=p[n+3]-u,u=f*i+c*a-r,f=i*h+f*a-o,h=e+12|0,c=l[h+4>>2],h=(s[0]=l[h>>2],L[0]),c=(s[0]=c,L[0]),i=e+20|0,e=l[i+4>>2],i=(s[0]=l[i>>2],L[0]),a=(s[0]=e,L[0]),e=i-h,i=a-c,d=-e,a=i*i+e*e,v=dg(a);if(1.1920928955078125e-7>v)v=i;else var m=1/v,v=i*m,d=m*d;var m=v*(h-r)+d*(c-o),g=v*u+d*f;return 0==g?t=0:(g=m/g,0>g?t=0:p[n+4]<g|0==a?t=0:(n=((r+u*g-h)*e+(o+f*g-c)*i)/a,0>n|1<n?t=0:(p[t+8>>2]=g,0<m?(n=(L[0]=-v,s[0]),r=(L[0]=-d,s[0])|0):(n=(L[0]=v,s[0]),r=(L[0]=d,s[0])|0),l[t>>2]=0|n,l[t+4>>2]=r,t=1))),t}function sm(e,t,n,r,i){var o=e>>2,u=e+148|0;l[u>>2]=4;var a=-t,f=-n;p[o+5]=a,p[o+6]=f,p[o+7]=t,p[o+8]=f,p[o+9]=t,p[o+10]=n,p[o+11]=a,p[o+12]=n,p[o+21]=0,p[o+22]=-1,p[o+23]=1,p[o+24]=0,p[o+25]=0,p[o+26]=1,p[o+27]=-1,p[o+28]=0,t=r>>2,n=e+12|0,r=l[t+1],l[n>>2]=l[t],l[n+4>>2]=r;for(var n=l[t+1],t=(s[0]=l[t],L[0]),n=(s[0]=n,L[0]),r=Yk(i),i=Zk(i),a=0,c=f,f=-1;;){var h=(a<<3)+e+20|0,d=p[h>>2],v=r*d+i*c+n,c=(L[0]=i*d-r*c+t,s[0]),v=(L[0]=v,s[0])|0;l[h>>2]=0|c,l[h+4>>2]=v,v=(a<<3)+e+84|0,h=p[v>>2],c=r*h+i*f,f=(L[0]=i*h-r*f,s[0]),c=(L[0]=c,s[0])|0,l[v>>2]=0|f,l[v+4>>2]=c,a=a+1|0;if((a|0)>=(l[u>>2]|0))break;c=p[((a<<3)+24>>2)+o],f=p[((a<<3)+88>>2)+o]}}function tm(e,t,n){if(6>(n-3|0)>>>0){var r=e+148|0;l[r>>2]=n,n=5}else{O(N.P|0,122,N.ob|0,N.Kf|0);var i=e+148|0;l[i>>2]=n;if(0<(n|0))r=i,n=5;else var u=n,n=13}do if(5==n){for(n=0;;){var a=(n<<3)+t|0,i=(n<<3)+e+20|0,f=l[a+4>>2];l[i>>2]=l[a>>2],l[i+4>>2]=f,n=n+1|0,a=o[r>>2];if((n|0)>=(a|0))break}if(0<(a|0)){i=a;for(f=0;;){var n=f+1|0,c=(n|0)<(i|0)?n:0,h=p[e+(c<<3)+20>>2]-p[e+(f<<3)+20>>2],c=p[e+(c<<3)+24>>2]-p[e+(f<<3)+24>>2],d=c*c;1.4210854715202004e-14<h*h+d||O(N.P|0,137,N.ob|0,N.zg|0);var i=(f<<3)+e+84|0,v=-1*h,h=i,m=(L[0]=c,s[0]),v=(L[0]=v,s[0])|0;l[h>>2]=0|m,l[h+4>>2]=v,f=(f<<3)+e+88|0,h=p[f>>2],d=dg(d+h*h),1.1920928955078125e-7>d||(d=1/d,p[i>>2]=c*d,p[f>>2]=h*d),c=o[r>>2];if((n|0)>=(c|0))break;i=c,f=n}n=e+12|0,i=e+20|0;if(2<(c|0))var g=c,y=n,b=i,n=16;else var w=c,E=n,S=i,n=15}else u=a,n=13}while(0);13==n&&(w=u,E=e+12|0,S=e+20|0,n=15);if(15==n)if(O(N.P|0,76,N.ib|0,N.$b|0),0<(w|0))g=w,y=E,b=S,n=16;else var x=0,T=0,C=0,k=E,n=21;do if(16==n){for(u=t=E=w=0;;){var A=(E<<3)+e+20|0,M=l[A+4>>2],A=(s[0]=l[A>>2],L[0]),_=(s[0]=M,L[0]),E=E+1|0,S=(E|0)<(g|0)?(E<<3)+e+20|0:b,M=l[S+4>>2],S=(s[0]=l[S>>2],L[0]),r=(s[0]=M,L[0]),a=.5*(A*r-_*S),M=w+a,w=.3333333432674408*a,A=t+(A+S)*w,_=u+(_+r)*w;if((E|0)==(g|0))break;w=M,t=A,u=_}if(1.1920928955078125e-7<M)var D=_,P=A,H=M,B=y,n=22;else x=_,T=A,C=M,k=y,n=21}while(0);21==n&&(O(N.P|0,115,N.ib|0,N.Yb|0),D=x,P=T,H=C,B=k),e=1/H,P=(L[0]=P*e,s[0]),D=(L[0]=D*e,s[0])|0,l[B>>2]=0|P,l[B+4>>2]=D}function um(e,t,n){var r=t>>2,t=p[r+4],i=p[r+8],s=p[r+5],o=p[r+7],u=t*i-s*o,a=p[r+6],f=p[r+3],l=s*a-f*i,c=f*o-t*a,h=p[r],d=p[r+1],r=p[r+2],v=h*u+d*l+r*c,v=0!=v?1/v:v,m=p[n>>2],g=p[n+4>>2],n=p[n+8>>2];p[e>>2]=v*(m*u+g*l+n*c),p[e+4>>2]=v*(h*(g*i-n*o)+d*(n*a-m*i)+r*(m*o-g*a)),p[e+8>>2]=v*(h*(t*n-s*g)+d*(s*m-f*n)+r*(f*g-t*m))}function vm(e,t){var n,r,i,s=0==(t|0);e:do if(s)i=0;else{i=0<(t|0);do{if(i){if(640>=(t|0))break;i=fe(t);break e}O(N.e|0,104,N.Ga|0,N.Wa|0)}while(0);i=Ic[wm+t|0];var u=i&255;14>(i&255)||O(N.e|0,112,N.Ga|0,N.g|0),i=((u<<2)+e+12|0)>>2,r=o[i];if(0==(r|0)){r=(e+4|0)>>2;var a=o[r],f=e+8|0;n=(e|0)>>2;if((a|0)==(l[f>>2]|0)){var c=l[n],a=a+128|0;l[f>>2]=a,f=fe(a<<3),l[n]=f,ag(f,c,l[r]<<3),f=((l[r]<<3)+l[n]|0)>>2;for(a=f+256;f<a;f++)l[f]=0;bg(c),c=l[r]}else c=a;a=l[n],f=fe(16384),n=((c<<3)+a+4|0)>>2,l[n]=f,u=l[xm+(u<<2)>>2],l[((c<<3)+a|0)>>2]=u,c=16384/(u|0)&-1,16385>(c*u|0)?a=f:(O(N.e|0,140,N.Ga|0,N.sh|0),a=l[n]),c=c-1|0,f=0<(c|0);t:do if(f)for(var h=0,p=a;;){var d=h+1|0;l[(p+h*u|0)>>2]=p+d*u|0,p=l[n];if((d|0)==(c|0)){var v=p;break t}h=d}else v=a;while(0);l[(v+c*u|0)>>2]=0,l[i]=l[l[n]>>2],l[r]=l[r]+1|0,i=l[n]}else l[i]=l[r>>2],i=r}while(0);return i}function P(e){function t(e){var t;return"double"===e?t=(s[0]=l[i+u>>2],s[1]=l[i+(u+4)>>2],Nd[0]):"i64"==e?t=[l[i+u>>2],l[i+(u+4)>>2]]:(e="i32",t=l[i+u>>2]),u+=Math.max(hc(e),lc),t}var n=a;a+=4,l[n>>2]=arguments[P.length];for(var r=l[ym>>2],i=l[n>>2],o=e,u=0,f=[],h,p;;){var d=o;h=c[o];if(0===h)break;p=c[o+1];if(37==h){var v=Hb,m=Hb,g=Hb,b=Hb;e:for(;;){switch(p){case 43:v=Db;break;case 45:m=Db;break;case 35:g=Db;break;case 48:if(b)break e;b=Db;break;default:break e}o++,p=c[o+1]}var w=0;if(42==p)w=t("i32"),o++,p=c[o+1];else for(;48<=p&&57>=p;)w=10*w+(p-48),o++,p=c[o+1];var E=Hb;if(46==p){var S=0,E=Db;o++,p=c[o+1];if(42==p)S=t("i32"),o++;else for(;;){p=c[o+1];if(48>p||57<p)break;S=10*S+(p-48),o++}p=c[o+1]}else S=6;var x;switch(String.fromCharCode(p)){case"h":p=c[o+2],104==p?(o++,x=1):x=2;break;case"l":p=c[o+2],108==p?(o++,x=8):x=4;break;case"L":case"q":case"j":x=8;break;case"z":case"t":case"I":x=4;break;default:x=Gb}x&&o++,p=c[o+1];if(-1!="diuoxXp".split("").indexOf(String.fromCharCode(p))){d=100==p||105==p,x=x||4;var T=h=t("i"+8*x),N;8==x&&(h=117==p?(h[0]>>>0)+4294967296*(h[1]>>>0):(h[0]>>>0)+4294967296*(h[1]|0)),4>=x&&(h=(d?cf:bf)(h&Math.pow(256,x)-1,8*x));var C=Math.abs(h),d="";if(100==p||105==p)N=8==x&&zm?zm.stringify(T[0],T[1]):cf(h,8*x).toString(10);else if(117==p)N=8==x&&zm?zm.stringify(T[0],T[1],Db):bf(h,8*x).toString(10),h=Math.abs(h);else if(111==p)N=(g?"0":"")+C.toString(8);else if(120==p||88==p){d=g?"0x":"";if(0>h){h=-h,N=(C-1).toString(16),T=[];for(g=0;g<N.length;g++)T.push((15-parseInt(N[g],16)).toString(16));for(N=T.join("");N.length<2*x;)N="f"+N}else N=C.toString(16);88==p&&(d=d.toUpperCase(),N=N.toUpperCase())}else 112==p&&(0===C?N="(nil)":(d="0x",N=C.toString(16)));if(E)for(;N.length<S;)N="0"+N;for(v&&(d=0>h?"-"+d:"+"+d);d.length+N.length<w;)m?N+=" ":b?N="0"+N:d=" "+d;N=d+N,N.split("").forEach(function(e){f.push(e.charCodeAt(0))})}else if(-1!="fFeEgG".split("").indexOf(String.fromCharCode(p))){h=t("double");if(isNaN(h))N="nan",b=Hb;else if(isFinite(h)){E=Hb,x=Math.min(S,20);if(103==p||71==p)E=Db,S=S||1,x=parseInt(h.toExponential(x).split("e")[1],10),S>x&&-4<=x?(p=(103==p?"f":"F").charCodeAt(0),S-=x+1):(p=(103==p?"e":"E").charCodeAt(0),S--),x=Math.min(S,20);if(101==p||69==p)N=h.toExponential(x),/[eE][-+]\d$/.test(N)&&(N=N.slice(0,-1)+"0"+N.slice(-1));else if(102==p||70==p)N=h.toFixed(x);d=N.split("e");if(E&&!g)for(;1<d[0].length&&-1!=d[0].indexOf(".")&&("0"==d[0].slice(-1)||"."==d[0].slice(-1));)d[0]=d[0].slice(0,-1);else for(g&&-1==N.indexOf(".")&&(d[0]+=".");S>x++;)d[0]+="0";N=d[0]+(1<d.length?"e"+d[1]:""),69==p&&(N=N.toUpperCase()),v&&0<=h&&(N="+"+N)}else N=(0>h?"-":"")+"inf",b=Hb;for(;N.length<w;)N=m?N+" ":!b||"-"!=N[0]&&"+"!=N[0]?(b?"0":" ")+N:N[0]+"0"+N.slice(1);97>p&&(N=N.toUpperCase()),N.split("").forEach(function(e){f.push(e.charCodeAt(0))})}else if(115==p){v=t("i8*")||Be,b=Ve(v),E&&(b=Math.min(b,S));if(!m)for(;b<w--;)f.push(32);for(g=0;g<b;g++)f.push(Ic[v++]);if(m)for(;b<w--;)f.push(32)}else if(99==p){for(m&&f.push(t("i8"));0<--w;)f.push(32);m||f.push(t("i8"))}else if(110==p)m=t("i32*"),l[m>>2]=f.length;else if(37==p)f.push(h);else for(g=d;g<o+2;g++)f.push(c[g]);o+=2}else f.push(h),o+=1}o=a,N=y(f,"i8",Yd),m=1*f.length,0!=m&&-1==fn(r,N,m)&&gn[r]&&(gn[r].error=Db),a=o,a=n}function hn(e,t){var n;n=(e+102796|0)>>2;var r=l[n];0<(r|0)||(O(N.p|0,63,N.rb|0,N.th|0),r=l[n]),r=r-1|0,(l[(e+102412>>2)+(3*r|0)]|0)!=(t|0)&&O(N.p|0,65,N.rb|0,N.Ah|0);if(0==(c[e+12*r+102420|0]&1)<<24>>24){var r=e+12*r+102416|0,i=e+102400|0;l[i>>2]=l[i>>2]-l[r>>2]|0}else bg(t),r=e+12*r+102416|0;i=e+102404|0,l[i>>2]=l[i>>2]-l[r>>2]|0,l[n]=l[n]-1|0}function An(e,t,n){var r,s,o=t>>2,u=e>>2,a=e+12|0,f=e+64|0,h=t+4|0,d=p[h>>2];(!isNaN(d)&&!isNaN(0))&-Infinity<d&Infinity>d?(d=p[o+2],s=(!isNaN(d)&&!isNaN(0))&-Infinity<d&Infinity>d?5:4):s=4,4==s&&O(N.n|0,27,N.S|0,N.Vf|0),d=t+16|0,s=p[d>>2],(!isNaN(s)&&!isNaN(0))&-Infinity<s&Infinity>s?(s=p[o+5],s=(!isNaN(s)&&!isNaN(0))&-Infinity<s&Infinity>s?8:7):s=7,7==s&&O(N.n|0,28,N.S|0,N.Hg|0),s=(t+12|0)>>2;var v=p[s];(!isNaN(v)&&!isNaN(0))&-Infinity<v&Infinity>v||O(N.n|0,29,N.S|0,N.hh|0);var v=t+24|0,m=p[v>>2];(!isNaN(m)&&!isNaN(0))&-Infinity<m&Infinity>m||O(N.n|0,30,N.S|0,N.uh|0);var m=t+32|0,g=p[m>>2];0>g|(!isNaN(g)&&!isNaN(0))&-Infinity<g&Infinity>g^1&&O(N.n|0,31,N.S|0,N.Bh|0),g=t+28|0,r=p[g>>2],0>r|(!isNaN(r)&&!isNaN(0))&-Infinity<r&Infinity>r^1&&O(N.n|0,32,N.S|0,N.Ih|0),r=(e+4|0)>>1,i[r]=0;var y=0==(c[t+39|0]&1)<<24>>24?0:i[r]=8;0!=(c[t+38|0]&1)<<24>>24&&(y|=16,i[r]=y),0!=(c[t+36|0]&1)<<24>>24&&(y|=4,i[r]=y),0!=(c[t+37|0]&1)<<24>>24&&(y|=2,i[r]=y),0!=(c[t+40|0]&1)<<24>>24&&(i[r]=y|32),l[u+22]=n,t=l[h>>2],h=l[h+4>>2],l[a>>2]=t,l[a+4>>2]=h,a=p[s],n=Yk(a),p[u+5]=n,a=Zk(a),p[u+6]=a,p[u+7]=0,p[u+8]=0,a=e+36|0,l[a>>2]=t,l[a+4>>2]=h,a=e+44|0,l[a>>2]=t,l[a+4>>2]=h,p[u+13]=p[s],p[u+14]=p[s],p[u+15]=0,l[u+27]=0,l[u+28]=0,l[u+23]=0,l[u+24]=0,s=l[d+4>>2],l[f>>2]=l[d>>2],l[f+4>>2]=s,p[u+18]=p[v>>2],p[u+33]=p[g>>2],p[u+34]=p[m>>2],p[u+35]=p[o+12],p[u+19]=0,p[u+20]=0,p[u+21]=0,p[u+36]=0,f=l[o],l[u]=f,e=e+116|0,2==(f|0)?(p[e>>2]=1,p[u+30]=1):(p[e>>2]=0,p[u+30]=0),p[u+31]=0,p[u+32]=0,l[u+37]=l[o+11],l[u+25]=0,l[u+26]=0}function Bn(e,t){var n,r,o=e>>2,u=a;a+=16,r=(e+88|0)>>2;var f=l[l[r]+102868>>2];0!=(f&2|0)&&(O(N.n|0,115,N.Ge|0,N.W|0),f=l[l[r]+102868>>2]),f=0==(f&2|0);e:do if(f&&(n=(e|0)>>2,(l[n]|0)!=(t|0))){l[n]=t,Cn(e),n=0==(l[n]|0);t:do if(n){p[o+16]=0,p[o+17]=0,p[o+18]=0;var c=p[o+14];p[o+13]=c;var h=e+44|0,d=e+36|0,v=l[h>>2],h=l[h+4>>2];l[d>>2]=v,l[d+4>>2]=h,d=Yk(c),p[u+8>>2]=d;var m=Zk(c);p[u+12>>2]=m;var g=p[o+7],y=p[o+8],c=m*g-d*y,d=d*g+m*y,v=(s[0]=v,L[0])-c,d=(s[0]=h,L[0])-d,h=u,v=(L[0]=v,s[0]),d=(L[0]=d,s[0])|0;l[h>>2]=0|v,l[h+4>>2]=d,v=l[r]+102872|0,d=l[o+25];if(0!=(d|0))for(h=e+12|0;;)if(Dn(d,v,u,h),d=l[d+4>>2],0==(d|0))break t}while(0);n=e+4|0,v=i[n>>1],0==(v&2)<<16>>16&&(i[n>>1]=v|2,p[o+36]=0),p[o+19]=0,p[o+20]=0,p[o+21]=0,n=l[o+25];if(0!=(n|0))for(;;)if(En(n),n=l[n+4>>2],0==(n|0))break e}while(0);a=u}function Cn(e){var t,n,r,o,u=a;a+=16,n=e+116|0,o=n>>2;var f=e+120|0;r=(e+124|0)>>2;var c=e+128|0,h=e+28|0;p[h>>2]=0,p[e+32>>2]=0,n>>=2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,n=l[(e|0)>>2];if(0==(n|0)||1==(n|0)){var d=e+12|0,v=e+36|0;n=l[(d|0)>>2],d=l[(d+4|0)>>2],l[v>>2]=n,l[v+4>>2]=d,v=e+44|0,l[v>>2]=n,l[v+4>>2]=d,p[e+52>>2]=p[e+56>>2],n=20}else 2!=(n|0)&&O(N.n|0,284,N.tb|0,N.pf|0),n=5;if(5==n){n=wh,v=l[n+4>>2],n=(s[0]=l[n>>2],L[0]);var v=(s[0]=v,L[0]),d=l[e+100>>2],m=0==(d|0);e:do if(m)var g=v,y=n;else{var b=u|0,w=u+4|0,E=u+8|0,S=u+12|0,x=v,T=n;t=d;for(t>>=2;;){var C=p[t];if(0!=C){var k=l[t+3];K[l[l[k>>2]+28>>2]](k,u,C),C=p[b>>2],p[o]+=C,T+=p[w>>2]*C,x+=p[E>>2]*C,p[r]+=p[S>>2]}t=l[t+1];if(0==(t|0)){g=x,y=T;break e}t>>=2}}while(0);n=p[o],0<n?(o=1/n,p[f>>2]=o,f=y*o,g*=o,y=n):(p[o]=1,p[f>>2]=1,f=y,y=1),o=p[r];if(0<o)if(0!=(i[e+4>>1]&16)<<16>>16)n=18;else{var A=o-y*(f*f+g*g);p[r]=A,0<A||(O(N.n|0,319,N.tb|0,N.Fb|0),A=p[r]),A=1/A,n=19}else n=18;18==n&&(A=p[r]=0),p[c>>2]=A,A=e+44|0,c=l[(A+4|0)>>2],r=(s[0]=l[(A|0)>>2],L[0]),c=(s[0]=c,L[0]),y=(L[0]=f,s[0]),o=(L[0]=g,s[0])|0,l[h>>2]=0|y,l[h+4>>2]=o,y=e+36|0,o=p[e+24>>2],n=p[e+20>>2],h=o*f-n*g+p[e+12>>2],g=n*f+o*g+p[e+16>>2],o=(L[0]=h,s[0]),f=(L[0]=g,s[0]),o|=0,f|=0,l[A>>2]=o,l[A+4>>2]=f,l[y>>2]=o,l[y+4>>2]=f,A=p[e+72>>2],f=e+64|0,p[f>>2]+=(g-c)*-A,e=e+68|0,p[e>>2]+=(h-r)*A}a=u}function Fn(e,t){var n,r,s,o,u,a,f=t>>2;a=(e+88|0)>>2;var h=l[a];u=l[h+102868>>2],0!=(u&2|0)&&(O(N.n|0,153,N.Fe|0,N.W|0),h=u=l[a],u=l[u+102868>>2]);if(0==(u&2|0)){r=h|0,h=vm(r,44),0==(h|0)?h=0:(i[h+32>>1]=1,i[h+34>>1]=-1,i[h+36>>1]=0,l[h+40>>2]=0,l[h+24>>2]=0,l[h+28>>2]=0,l[h>>2]=0,l[h+4>>2]=0,l[h+8>>2]=0,l[h+12>>2]=0),u=h>>2,l[u+10]=l[f+1],p[u+4]=p[f+2],p[u+5]=p[f+3],u=h+8|0,l[u>>2]=e;var d=h+4|0;l[d>>2]=0,o=(h+32|0)>>1,s=(t+22|0)>>1,i[o]=i[s],i[o+1]=i[s+1],i[o+2]=i[s+2],c[h+38|0]=c[t+20|0]&1,s=l[f],o=K[l[l[s>>2]+8>>2]](s,r),s=(h+12|0)>>2,l[s]=o,o=K[l[l[o>>2]+12>>2]](o),n=vm(r,28*o|0),r=(h+24|0)>>2,l[r]=n;var v=0<(o|0);e:do if(v&&(l[(n+16|0)>>2]=0,l[(l[r]+24|0)>>2]=-1,1!=(o|0)))for(var m=1;;)if(l[(l[r]+28*m+16|0)>>2]=0,l[(l[r]+28*m+24|0)>>2]=-1,m=m+1|0,(m|0)==(o|0))break e;while(0);n=(h+28|0)>>2,l[n]=0,o=h|0,p[o>>2]=p[f+4],f=0==(i[e+4>>1]&32)<<16>>16;e:do if(!f){var v=l[a]+102872|0,m=e+12|0,g=l[s],g=K[l[l[g>>2]+12>>2]](g);l[n]=g;if(0<(g|0))for(g=0;;){var y=l[r],b=y+28*g|0,w=l[s],E=b|0;K[l[l[w>>2]+24>>2]](w,E,m,g),b=Jf(v,E,b),l[(y+28*g+24|0)>>2]=b,l[(y+28*g+16|0)>>2]=h,l[(y+28*g+20|0)>>2]=g,g=g+1|0;if((g|0)>=(l[n]|0))break e}}while(0);s=e+100|0,l[d>>2]=l[s>>2],l[s>>2]=h,d=e+104|0,l[d>>2]=l[d>>2]+1|0,l[u>>2]=e,0<p[o>>2]&&Cn(e),a=l[a]+102868|0,l[a>>2]|=1,a=h}else a=0;return a}function Gn(e,t){var n,r,s;s=(e+88|0)>>2,r=l[l[s]+102868>>2],0!=(r&2|0)&&(O(N.n|0,201,N.na|0,N.W|0),r=l[l[s]+102868>>2]);if(0==(r&2|0)){var u=t+8|0;(l[u>>2]|0)!=(e|0)&&O(N.n|0,207,N.na|0,N.Rh|0),r=(e+104|0)>>2,0<(l[r]|0)||O(N.n|0,210,N.na|0,N.Xh|0);for(n=e+100|0;;){var a=l[n>>2];if(0==(a|0)){O(N.n|0,226,N.na|0,N.ff|0);break}if((a|0)==(t|0)){l[n>>2]=l[t+4>>2];break}n=a+4|0}n=l[e+112>>2],a=0==(n|0);e:do if(!a)for(var f=n;;){var c=l[f+4>>2],f=l[f+12>>2];(l[c+48>>2]|0)==(t|0)|(l[c+52>>2]|0)==(t|0)&&Hn(l[s]+102872|0,c);if(0==(f|0))break e}while(0);s=o[s],a=s|0;if(0!=(i[e+4>>1]&32)<<16>>16){n=(t+28|0)>>2,c=0<(l[n]|0);e:do if(c)for(var f=t+24|0,h=s+102912|0,p=s+102904|0,d=s+102900|0,v=s+102872|0,m=0;;){for(var g=l[f>>2]+28*m+24|0,y=l[g>>2],b=l[h>>2],w=0;(w|0)<(b|0);){var E=(w<<2)+l[p>>2]|0;if((l[E>>2]|0)==(y|0)){l[E>>2]=-1;break}w=w+1|0}l[d>>2]=l[d>>2]-1|0,Th(v,y),l[g>>2]=-1,m=m+1|0;if((m|0)>=(l[n]|0))break e}while(0);l[n]=0}In(t,a),l[u>>2]=0,l[t+4>>2]=0,u=Ic[wm+44|0],n=u&255,14>(u&255)||O(N.e|0,173,N.f|0,N.g|0),u=(n<<2)+s+12|0,l[t>>2]=l[u>>2],l[u>>2]=t,l[r]=l[r]-1|0,Cn(e)}}function Jn(e,t){var n,r,o=e+88|0;r=l[l[o>>2]+102868>>2],0==(r&2|0)?o=r:(O(N.n|0,340,N.sb|0,N.W|0),o=l[l[o>>2]+102868>>2]);if(0==(o&2|0)&&2==(l[e>>2]|0)){var u=e+120|0;p[u>>2]=0,r=(e+124|0)>>2,p[r]=0,o=e+128|0,p[o>>2]=0,n=p[t>>2],n=0<n?n:1,p[e+116>>2]=n,p[u>>2]=1/n,u=p[t+12>>2];if(0<u&&0==(i[e+4>>1]&16)<<16>>16){var a=p[t+4>>2],f=p[t+8>>2];n=u-n*(a*a+f*f),p[r]=n,0<n?r=n:(O(N.n|0,366,N.sb|0,N.Fb|0),r=p[r]),p[o>>2]=1/r}a=e+28|0,n=(e+44|0)>>2,r=l[n+1],o=(s[0]=l[n],L[0]),r=(s[0]=r,L[0]);var u=t+4|0,c=l[u>>2],u=l[u+4>>2];l[a>>2]=c,l[a+4>>2]=u;var a=e+36|0,f=p[e+24>>2],c=(s[0]=c,L[0]),h=p[e+20>>2],d=(s[0]=u,L[0]),u=f*c-h*d+p[e+12>>2],f=h*c+f*d+p[e+16>>2],h=(L[0]=u,s[0]),c=(L[0]=f,s[0]),h=0|h,c=c|0;l[n]=h,l[n+1]=c,l[a>>2]=h,l[a+4>>2]=c,n=p[e+72>>2],a=e+64|0,p[a>>2]+=(f-r)*-n,r=e+68|0,p[r>>2]+=(u-o)*n}}function Kn(e,t,n){var r,i=e>>2;r=(e+88|0)>>2;var o=l[r],u=l[o+102868>>2];0!=(u&2|0)&&(O(N.n|0,404,N.Ee|0,N.W|0),o=u=l[r],u=l[u+102868>>2]);if(0==(u&2|0)){var u=e+12|0,a=Yk(n);p[i+5]=a;var f=Zk(n);p[i+6]=f;var c=l[t>>2],h=l[t+4>>2];l[u>>2]=c,l[u+4>>2]=h;var t=e+44|0,d=p[i+7],v=p[i+8],c=(s[0]=c,L[0]),c=f*d-a*v+c,h=(s[0]=h,L[0]),a=a*d+f*v+h,f=(L[0]=c,s[0]),d=(L[0]=a,s[0]),a=0|f,f=d|0;l[t>>2]=a,l[t+4>>2]=f,p[i+14]=n,e=e+36|0,l[e>>2]=a,l[e+4>>2]=f,p[i+13]=n,n=o+102872|0,i=l[i+25];if(0==(i|0))r=o;else{for(;Dn(i,n,u,u),i=l[i+4>>2],0!=(i|0););r=l[r]}r=r+102872|0,Ln(r|0,r)}}function Mn(e,t){var n,r,s,o;o=(e+88|0)>>2,0!=(l[l[o]+102868>>2]&2|0)&&O(N.n|0,443,N.He|0,N.W|0),s=(e+4|0)>>1;var u=i[s],a=0!=(u&32)<<16>>16^t;e:do if(a)if(t){i[s]=u|32;var f=l[o]+102872|0;r=l[e+100>>2];if(0!=(r|0))for(var c=e+12|0,h=r;;){r=(h+28|0)>>2,0!=(l[r]|0)&&O(N.Qa|0,124,N.Oe|0,N.Cb|0);var p=h+12|0,d=l[p>>2],d=K[l[l[d>>2]+12>>2]](d);l[r]=d,d=0<(d|0);t:do if(d){var v=h+24|0;for(n=0;;){var m=l[v>>2],g=m+28*n|0,y=l[p>>2],b=g|0;K[l[l[y>>2]+24>>2]](y,b,c,n),g=Jf(f,b,g),l[(m+28*n+24|0)>>2]=g,l[(m+28*n+16|0)>>2]=h,l[(m+28*n+20|0)>>2]=n,n=n+1|0;if((n|0)>=(l[r]|0))break t}}while(0);r=l[h+4>>2];if(0==(r|0))break e;h=r}}else{i[s]=u&-33,f=l[o],c=l[e+100>>2],r=0==(c|0);t:do if(!r){h=f+102912|0,p=f+102904|0,d=f+102900|0,v=f+102872|0;for(m=c;;){n=(m+28|0)>>2,g=0<(l[n]|0);n:do if(g){y=m+24|0;for(b=0;;){for(var w=l[y>>2]+28*b+24|0,E=l[w>>2],S=l[h>>2],x=0;(x|0)<(S|0);){var T=(x<<2)+l[p>>2]|0;if((l[T>>2]|0)==(E|0)){l[T>>2]=-1;break}x=x+1|0}l[d>>2]=l[d>>2]-1|0,Th(v,E),l[w>>2]=-1,b=b+1|0;if((b|0)>=(l[n]|0))break n}}while(0);l[n]=0,n=l[m+4>>2];if(0==(n|0))break t;m=n}}while(0);f=e+112|0,c=l[f>>2],r=0==(c|0);t:do if(!r)for(h=c;;){p=l[h+12>>2],Hn(l[o]+102872|0,l[h+4>>2]);if(0==(p|0))break t;h=p}while(0);l[f>>2]=0}while(0)}function Io(e){var t=e>>2,n=a,i=e+8|0,o=l[i>>2];P(N.Ra|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.Gf|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r));var u=l[t];P(N.Mf|0,(r=a,a+=4,l[r>>2]=u,r));var u=p[t+3],f=p[t+4];P(N.Qf|0,(r=a,a+=16,Nd[0]=u,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=f,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),u=p[t+14],P(N.Wf|0,(r=a,a+=8,Nd[0]=u,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),u=p[t+16],f=p[t+17],P(N.Zf|0,(r=a,a+=16,Nd[0]=u,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=f,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),u=p[t+18],P(N.ag|0,(r=a,a+=8,Nd[0]=u,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),u=p[t+33],P(N.dg|0,(r=a,a+=8,Nd[0]=u,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),u=p[t+34],P(N.hg|0,(r=a,a+=8,Nd[0]=u,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=(e+4|0)>>1,u=Pc[e]&4,P(N.ig|0,(r=a,a+=4,l[r>>2]=u,r)),u=Pc[e]&2,P(N.og|0,(r=a,a+=4,l[r>>2]=u,r)),u=Pc[e]&16,P(N.ug|0,(r=a,a+=4,l[r>>2]=u,r)),u=Pc[e]&8,P(N.xg|0,(r=a,a+=4,l[r>>2]=u,r)),e=Pc[e]&32,P(N.Bg|0,(r=a,a+=4,l[r>>2]=e,r)),e=p[t+35],P(N.Fg|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),i=l[i>>2],P(N.Jg|0,(r=a,a+=4,l[r>>2]=i,r)),P(N.ab|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),t=l[t+25],i=0==(t|0);e:do if(!i)for(e=t;;)if(P(N.Pg|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),Jo(e,o),P(N.Rg|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),e=l[e+4>>2],0==(e|0))break e;while(0);P(N.Sa|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),a=n}function Hn(e,t){var n,r;n=l[l[t+48>>2]+8>>2];var s=l[l[t+52>>2]+8>>2];r=l[e+72>>2],0!=(r|0)&&0!=(l[t+4>>2]&2|0)&&K[l[l[r>>2]+12>>2]](r,t);var o=t+8|0,u=l[o>>2];r=(t+12|0)>>2,0!=(u|0)&&(l[(u+12|0)>>2]=l[r]),u=l[r],0!=(u|0)&&(l[(u+8|0)>>2]=l[o>>2]),o=e+60|0,(l[o>>2]|0)==(t|0)&&(l[o>>2]=l[r]),o=t+24|0,u=l[o>>2],r=(t+28|0)>>2,0!=(u|0)&&(l[(u+12|0)>>2]=l[r]),u=l[r],0!=(u|0)&&(l[(u+8|0)>>2]=l[o>>2]),n=n+112|0,(t+16|0)==(l[n>>2]|0)&&(l[n>>2]=l[r]),r=t+40|0,o=l[r>>2],n=(t+44|0)>>2,0!=(o|0)&&(l[(o+12|0)>>2]=l[n]),o=l[n],0!=(o|0)&&(l[(o+8|0)>>2]=l[r>>2]),s=s+112|0,(t+32|0)==(l[s>>2]|0)&&(l[s>>2]=l[n]),s=l[e+76>>2],0==(c[Ko]&1)<<24>>24&&O(N.aa|0,103,N.Ka|0,N.Vg|0),n=t+48|0;if(0<(l[t+124>>2]|0)){r=l[l[n>>2]+8>>2],o=r+4|0,u=i[o>>1],0==(u&2)<<16>>16&&(i[o>>1]=u|2,p[r+144>>2]=0),r=t+52|0;var o=l[l[r>>2]+8>>2],u=o+4|0,a=i[u>>1];0==(a&2)<<16>>16&&(i[u>>1]=a|2,p[o+144>>2]=0)}else r=t+52|0;n=l[l[l[n>>2]+12>>2]+4>>2],r=l[l[l[r>>2]+12>>2]+4>>2],-1<(n|0)&4>(r|0)||(O(N.aa|0,114,N.Ka|0,N.Ub|0),O(N.aa|0,115,N.Ka|0,N.Ub|0)),K[l[(Lo+4>>2)+(12*n|0)+(3*r|0)]](t,s),s=e+64|0,l[s>>2]=l[s>>2]-1|0}function Mo(e){var t,n,r,s,o,u=l[e+60>>2],a=0==(u|0);e:do if(!a){var f=e+12|0,h=e+4|0,d=e+72|0,v=e+68|0,m=u;for(s=m>>2;;){var g=l[s+12];n=l[s+13];var y=l[s+14],b=l[s+15],w=l[g+8>>2],E=l[n+8>>2];r=(m+4|0)>>2;var S=l[r],x=0==(S&8|0);t:do if(x)o=19;else{o=2==(l[E>>2]|0)?7:2==(l[w>>2]|0)?7:12;n:do if(7==o){for(o=E+108|0;;){o=l[o>>2];if(0==(o|0))break;if((l[o>>2]|0)==(w|0)&&0==(c[l[o+4>>2]+61|0]&1)<<24>>24)break n;o=o+12|0}o=l[v>>2];if(0!=(o|0)){if(!K[l[l[o>>2]+8>>2]](o,g,n)){r=l[s+3],Hn(e,m);var T=r;o=13;break t}S=l[r]}l[r]=S&-9,o=19;break t}while(0);T=l[s+3],Hn(e,m),o=13}while(0);19==o&&((0==(i[w+4>>1]&2)<<16>>16?0:0!=(l[w>>2]|0))|(0==(i[E+4>>1]&2)<<16>>16?0:0!=(l[E>>2]|0))?(g=l[(l[g+24>>2]+24>>2)+(7*y|0)],b=l[(l[n+24>>2]+24>>2)+(7*b|0)],o=-1<(g|0)?(l[f>>2]|0)>(g|0)?28:27:27,27==o&&O(N.r|0,159,N.H|0,N.q|0),y=l[h>>2],n=y>>2,-1<(b|0)?(l[f>>2]|0)>(b|0)?(t=y,t>>=2,o=31):o=30:o=30,30==o&&(O(N.r|0,159,N.H|0,N.q|0),t=l[h>>2],t>>=2),0<p[t+(9*b|0)]-p[n+(9*g|0)+2]|0<p[t+(9*b|0)+1]-p[n+(9*g|0)+3]|0<p[n+(9*g|0)]-p[t+(9*b|0)+2]|0<p[n+(9*g|0)+1]-p[t+(9*b|0)+3])?(s=l[s+3],Hn(e,m),T=s):(No(m,l[d>>2]),T=l[s+3]):T=l[s+3]);if(0==(T|0))break e;m=T,s=m>>2}}while(0)}function Ln(e,t){var n,r,i=a;a+=4;var s;r=(e+52|0)>>2,l[r]=0,n=(e+40|0)>>2,s=l[n];if(0<(s|0)){for(var o=e+32|0,u=e+56|0,f=e|0,c=e+12|0,h=e+4|0,d=0;;){var v=l[l[o>>2]+(d<<2)>>2];l[u>>2]=v;if(-1!=(v|0)){s=-1<(v|0)?(l[c>>2]|0)>(v|0)?8:7:7,7==s&&O(N.r|0,159,N.H|0,N.q|0);var m=f,g=e,y=l[h>>2]+36*v|0,b=Ia,w=v=s=Ia,E=Ia,S=Ia,x=Ia,T=a;a+=1036;var C=T+4|0,x=(T|0)>>2;l[x]=C,S=(T+1028|0)>>2,E=(T+1032|0)>>2,l[E]=256,l[C>>2]=l[m>>2],l[S]=1;var m=m+4|0,k=y|0,L=y+4|0,A=y+8|0,y=y+12|0,w=(g+56|0)>>2,v=(g+52|0)>>2,M=g+48|0;s=(g+44|0)>>2,b=1;for(g=C;;){var _=b-1|0;l[S]=_;var D=l[g+(_<<2)>>2];if(-1==(D|0))g=_;else{var P=l[m>>2],b=P>>2;if(0<p[k>>2]-p[b+(9*D|0)+2]|0<p[L>>2]-p[b+(9*D|0)+3]|0<p[b+(9*D|0)]-p[A>>2]|0<p[b+(9*D|0)+1]-p[y>>2])g=_;else if(b=P+36*D+24|0,-1==(l[b>>2]|0))b=l[w],(b|0)==(D|0)?g=_:(g=l[v],(g|0)==(l[M>>2]|0)&&(b=l[s],l[M>>2]=g<<1,g=fe(24*g|0),l[s]=g,ag(g,b,12*l[v]|0),bg(b),b=l[w],g=l[v]),l[(l[s]+12*g|0)>>2]=(b|0)>(D|0)?D:b,g=l[w],l[(l[s]+12*l[v]+4|0)>>2]=(g|0)<(D|0)?D:g,l[v]=l[v]+1|0,g=l[S]);else{if((_|0)==(l[E]|0)){l[E]=_<<1,_=fe(_<<3),l[x]=_;var H=g;ag(_,H,l[S]<<2),(g|0)!=(C|0)&&bg(H)}l[((l[S]<<2)+l[x]|0)>>2]=l[b>>2],g=l[S]+1|0,l[S]=g,D=P+36*D+28|0,(g|0)==(l[E]|0)&&(b=l[x],l[E]=g<<1,g=fe(g<<3),l[x]=g,P=b,ag(g,P,l[S]<<2),(b|0)!=(C|0)&&bg(P)),l[((l[S]<<2)+l[x]|0)>>2]=l[D>>2],D=l[S]+1|0,g=l[S]=D}}D=l[x];if(0>=(g|0))break;b=g,g=D}(D|0)!=(C|0)&&(bg(D),l[x]=0),a=T,s=l[n]}d=d+1|0;if((d|0)>=(s|0))break}o=l[r]}else o=0;l[n]=0,n=(e+44|0)>>2,u=l[n],l[i>>2]=2,Oo(u,u+12*o|0,i),o=0<(l[r]|0);e:do if(o){u=e+12|0,f=e+4|0,d=l[n],c=0,h=d,d=l[d>>2];t:for(;;){v=h+12*c|0,s=-1<(d|0)?(l[u>>2]|0)>(d|0)?16:15:15,15==s&&O(N.r|0,153,N.T|0,N.q|0),s=l[f>>2],E=l[(s+16>>2)+(9*d|0)],w=h+12*c+4|0,S=l[w>>2];if(-1<(S|0))if((l[u>>2]|0)>(S|0)){var B=s;s=19}else s=18;else s=18;18==s&&(O(N.r|0,153,N.T|0,N.q|0),B=l[f>>2]),Po(t,E,l[(B+16>>2)+(9*S|0)]),s=l[r];for(E=c;;){E=E+1|0;if((E|0)>=(s|0))break e;S=l[n],x=l[(S>>2)+(3*E|0)];if((x|0)!=(l[v>>2]|0)){c=E,h=S,d=x;continue t}if((l[(S+4>>2)+(3*E|0)]|0)!=(l[w>>2]|0)){c=E,h=S,d=x;continue t}}}}while(0);a=i}function Po(e,t,n){var r,s,u=l[t+16>>2],a=l[n+16>>2],t=l[t+20>>2],n=l[n+20>>2],f=l[u+8>>2],h=l[a+8>>2],d=(f|0)==(h|0);e:do if(!d){for(var v=h+112|0;;){v=l[v>>2];if(0==(v|0))break;if((l[v>>2]|0)==(f|0)){s=l[v+4>>2]>>2;var m=l[s+12],g=l[s+13];r=l[s+14],s=l[s+15];if((m|0)==(u|0)&(g|0)==(a|0)&(r|0)==(t|0)&(s|0)==(n|0))break e;if((m|0)==(a|0)&(g|0)==(u|0)&(r|0)==(n|0)&(s|0)==(t|0))break e}v=v+12|0}if(2==(l[h>>2]|0)||2==(l[f>>2]|0)){for(v=h+108|0;;){v=l[v>>2];if(0==(v|0))break;if((l[v>>2]|0)==(f|0)&&0==(c[l[v+4>>2]+61|0]&1)<<24>>24)break e;v=v+12|0}v=l[e+68>>2];if(0==(v|0)||K[l[l[v>>2]+8>>2]](v,u,a)){v=u,m=t,g=a,r=n,s=l[e+76>>2],0==(c[Ko]&1)<<24>>24&&(l[Lo>>2]=4,l[Lo+4>>2]=6,c[Lo+8|0]=1,l[Lo+96>>2]=8,l[Lo+100>>2]=10,c[Lo+104|0]=1,l[Lo+24>>2]=8,l[Lo+28>>2]=10,c[Lo+32|0]=0,l[Lo+120>>2]=12,l[Lo+124>>2]=14,c[Lo+128|0]=1,l[Lo+48>>2]=16,l[Lo+52>>2]=18,c[Lo+56|0]=1,l[Lo+12>>2]=16,l[Lo+16>>2]=18,c[Lo+20|0]=0,l[Lo+72>>2]=20,l[Lo+76>>2]=22,c[Lo+80|0]=1,l[Lo+108>>2]=20,l[Lo+112>>2]=22,c[Lo+116|0]=0,l[Lo+144>>2]=24,l[Lo+148>>2]=26,c[Lo+152|0]=1,l[Lo+36>>2]=24,l[Lo+40>>2]=26,c[Lo+44|0]=0,l[Lo+168>>2]=28,l[Lo+172>>2]=30,c[Lo+176|0]=1,l[Lo+132>>2]=28,l[Lo+136>>2]=30,c[Lo+140|0]=0,c[Ko]=1);var y=o[l[v+12>>2]+4>>2],b=o[l[g+12>>2]+4>>2];4>y>>>0||O(N.aa|0,80,N.yb|0,N.rf|0),4>b>>>0||O(N.aa|0,81,N.yb|0,N.jg|0);var w=o[(Lo>>2)+(12*y|0)+(3*b|0)],g=0==(w|0)?0:0==(c[Lo+48*y+12*b+8|0]&1)<<24>>24?K[w](g,r,v,m,s):K[w](v,m,g,r,s);0!=(g|0)&&(m=l[l[g+48>>2]+8>>2],v=l[l[g+52>>2]+8>>2],l[(g+8|0)>>2]=0,r=(e+60|0)>>2,l[(g+12|0)>>2]=l[r],s=l[r],0!=(s|0)&&(l[(s+8|0)>>2]=g),l[r]=g,s=g+16|0,l[(g+20|0)>>2]=g,l[(s|0)>>2]=v,l[(g+24|0)>>2]=0,r=(m+112|0)>>2,l[(g+28|0)>>2]=l[r],y=l[r],0!=(y|0)&&(l[(y+8|0)>>2]=s),l[r]=s,s=g+32|0,l[(g+36|0)>>2]=g,l[(s|0)>>2]=m,l[(g+40|0)>>2]=0,r=(v+112|0)>>2,l[(g+44|0)>>2]=l[r],g=l[r],0!=(g|0)&&(l[(g+8|0)>>2]=s),l[r]=s,g=m+4|0,r=i[g>>1],0==(r&2)<<16>>16&&(i[g>>1]=r|2,p[m+144>>2]=0),m=v+4|0,g=i[m>>1],0==(g&2)<<16>>16&&(i[m>>1]=g|2,p[v+144>>2]=0),v=e+64|0,l[v>>2]=l[v>>2]+1|0)}}}while(0)}function Oo(e,t,n){var r,i,s,u,f,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,Q,G,Y,Z,et,tt,nt,rt=n>>2,it=a;a+=12;var st,ot=t,ut=e;nt=ut>>2;e:for(;;){var at=ut;tt=(ut|0)>>2,et=(ut+4|0)>>2,Z=(ut+8|0)>>2,Y=ut>>2;var ft=ut+12|0,lt=ot;t:for(;;){var ct=lt,ht=ct-at|0,pt=(ht|0)/12&-1;if(0==(pt|0)||1==(pt|0)){st=81;break e}if(2==(pt|0)){var dt=lt-12|0;if(!K[l[rt]](dt,ut)){st=81;break e}var vt=l[tt],mt=l[et],gt=l[Z];G=dt>>2,l[Y]=l[G],l[Y+1]=l[G+1],l[Y+2]=l[G+2],l[dt>>2]=vt,l[lt-12+4>>2]=mt,l[lt-12+8>>2]=gt,st=81;break e}if(3==(pt|0)){var yt=lt-12|0;Q=yt>>2;var bt=K[l[rt]](ft,ut),wt=K[l[rt]](yt,ft);if(!bt){if(!wt){st=81;break e}var Et=ft|0,St=l[Et>>2],xt=ut+16|0,Tt=l[xt>>2],Nt=ut+20|0,Ct=l[Nt>>2];J=ft>>2,$=yt>>2,l[J]=l[$],l[J+1]=l[$+1],l[J+2]=l[$+2],l[Q]=St,l[lt-12+4>>2]=Tt,l[lt-12+8>>2]=Ct;if(!K[l[rt]](ft,ut)){st=81;break e}var kt=l[tt],Lt=l[et],At=l[Z];l[Y]=l[J],l[Y+1]=l[J+1],l[Y+2]=l[J+2],l[Et>>2]=kt,l[xt>>2]=Lt,l[Nt>>2]=At,st=81;break e}var Ot=l[tt],Mt=l[et],_t=l[Z];if(wt){V=yt>>2,l[Y]=l[V],l[Y+1]=l[V+1],l[Y+2]=l[V+2],l[Q]=Ot,l[lt-12+4>>2]=Mt,l[lt-12+8>>2]=_t,st=81;break e}X=ft>>2,l[Y]=l[X],l[Y+1]=l[X+1],l[Y+2]=l[X+2];var Dt=ft|0;l[Dt>>2]=Ot;var Pt=ut+16|0;l[Pt>>2]=Mt;var Ht=ut+20|0;l[Ht>>2]=_t;if(!K[l[rt]](yt,ft)){st=81;break e}var Bt=l[Dt>>2],jt=l[Pt>>2],Ft=l[Ht>>2];W=yt>>2,l[X]=l[W],l[X+1]=l[W+1],l[X+2]=l[W+2],l[Q]=Bt,l[lt-12+4>>2]=jt,l[lt-12+8>>2]=Ft,st=81;break e}if(4==(pt|0)){Qo(ut,ft,ut+24|0,lt-12|0,n),st=81;break e}if(5==(pt|0)){var It=ut+24|0,qt=ut+36|0,Rt=lt-12|0;Qo(ut,ft,It,qt,n);if(!K[l[rt]](Rt,qt)){st=81;break e}var Ut=qt|0,zt=l[Ut>>2],Wt=ut+40|0,Xt=l[Wt>>2],Vt=ut+44|0,$t=l[Vt>>2];z=qt>>2,U=Rt>>2,l[z]=l[U],l[z+1]=l[U+1],l[z+2]=l[U+2],l[Rt>>2]=zt,l[lt-12+4>>2]=Xt,l[lt-12+8>>2]=$t;if(!K[l[rt]](qt,It)){st=81;break e}var Jt=It|0,Kt=l[Jt>>2],Qt=ut+28|0,Gt=l[Qt>>2],Yt=ut+32|0,Zt=l[Yt>>2];R=It>>2,l[R]=l[z],l[R+1]=l[z+1],l[R+2]=l[z+2],l[Ut>>2]=Kt,l[Wt>>2]=Gt,l[Vt>>2]=Zt;if(!K[l[rt]](It,ft)){st=81;break e}var en=ft|0,tn=l[en>>2],nn=ut+16|0,rn=l[nn>>2],sn=ut+20|0,on=l[sn>>2];q=ft>>2,l[q]=l[R],l[q+1]=l[R+1],l[q+2]=l[R+2],l[Jt>>2]=tn,l[Qt>>2]=rn,l[Yt>>2]=on;if(!K[l[rt]](ft,ut)){st=81;break e}var un=l[tt],an=l[et],fn=l[Z];l[Y]=l[q],l[Y+1]=l[q+1],l[Y+2]=l[q+2],l[en>>2]=un,l[nn>>2]=an,l[sn>>2]=fn,st=81;break e}if(372>(ht|0)){st=22;break e}var ln=lt-12|0;I=ln>>2;var cn=(ht|0)/24&-1,hn=ut+12*cn|0;if(11988<(ht|0)){var pn=(ht|0)/48&-1,dn=ut+12*pn|0,vn=pn+cn|0,mn=ut+12*vn|0,gn=Qo(ut,dn,hn,mn,n);if(K[l[rt]](ln,mn)){var yn=mn|0,bn=l[yn>>2],wn=ut+12*vn+4|0,En=l[wn>>2],Sn=ut+12*vn+8|0,xn=l[Sn>>2];F=mn>>2,j=ln>>2,l[F]=l[j],l[F+1]=l[j+1],l[F+2]=l[j+2],l[I]=bn,l[lt-12+4>>2]=En,l[lt-12+8>>2]=xn;var Tn=gn+1|0;if(K[l[rt]](mn,hn)){var Nn=hn|0,Cn=l[Nn>>2],kn=ut+12*cn+4|0,Ln=l[kn>>2],An=ut+12*cn+8|0,On=l[An>>2];B=hn>>2,l[B]=l[F],l[B+1]=l[F+1],l[B+2]=l[F+2],l[yn>>2]=Cn,l[wn>>2]=Ln,l[Sn>>2]=On;var Mn=gn+2|0;if(K[l[rt]](hn,dn)){var _n=dn|0,Dn=l[_n>>2],Pn=ut+12*pn+4|0,Hn=l[Pn>>2],Bn=ut+12*pn+8|0,jn=l[Bn>>2];H=dn>>2,l[H]=l[B],l[H+1]=l[B+1],l[H+2]=l[B+2],l[Nn>>2]=Dn,l[kn>>2]=Hn,l[An>>2]=jn;var Fn=gn+3|0;if(K[l[rt]](dn,ut)){var In=l[tt],qn=l[et],Rn=l[Z];l[Y]=l[H],l[Y+1]=l[H+1],l[Y+2]=l[H+2],l[_n>>2]=In,l[Pn>>2]=qn,l[Bn>>2]=Rn,Un=gn+4|0}else Un=Fn}else Un=Mn}else Un=Tn}else var Un=gn}else{var zn=K[l[rt]](hn,ut),Wn=K[l[rt]](ln,hn);if(zn){var Xn=l[tt],Vn=l[et],$n=l[Z];if(Wn)P=ln>>2,l[Y]=l[P],l[Y+1]=l[P+1],l[Y+2]=l[P+2],l[I]=Xn,l[lt-12+4>>2]=Vn,l[lt-12+8>>2]=$n,Un=1;else{D=hn>>2,l[Y]=l[D],l[Y+1]=l[D+1],l[Y+2]=l[D+2];var Jn=hn|0;l[Jn>>2]=Xn;var Kn=ut+12*cn+4|0;l[Kn>>2]=Vn;var Qn=ut+12*cn+8|0;l[Qn>>2]=$n;if(K[l[rt]](ln,hn)){var Gn=l[Jn>>2],Yn=l[Kn>>2],Zn=l[Qn>>2];_=ln>>2,l[D]=l[_],l[D+1]=l[_+1],l[D+2]=l[_+2],l[I]=Gn,l[lt-12+4>>2]=Yn,l[lt-12+8>>2]=Zn,Un=2}else Un=1}}else if(Wn){var er=hn|0,tr=l[er>>2],nr=ut+12*cn+4|0,rr=l[nr>>2],ir=ut+12*cn+8|0,sr=l[ir>>2];M=hn>>2,O=ln>>2,l[M]=l[O],l[M+1]=l[O+1],l[M+2]=l[O+2],l[I]=tr,l[lt-12+4>>2]=rr,l[lt-12+8>>2]=sr;if(K[l[rt]](hn,ut)){var or=l[tt],ur=l[et],ar=l[Z];l[Y]=l[M],l[Y+1]=l[M+1],l[Y+2]=l[M+2],l[er>>2]=or,l[nr>>2]=ur,l[ir>>2]=ar,Un=2}else Un=1}else Un=0}if(K[l[rt]](ut,hn))var fr=ln,lr=Un;else{for(var cr=ln;;){var hr=cr-12|0,pr=o[rt];if((ut|0)==(hr|0))break t;if(K[pr](hr,hn))break;cr=hr}var dr=l[tt],vr=l[et],mr=l[Z];A=hr>>2,l[Y]=l[A],l[Y+1]=l[A+1],l[Y+2]=l[A+2],l[hr>>2]=dr,l[cr-12+4>>2]=vr,l[cr-12+8>>2]=mr,fr=hr,lr=Un+1|0}var gr=ft>>>0<fr>>>0;n:do if(gr)for(var yr=fr,br=ft,wr=lr,Er=hn;;){var Sr=br;for(L=Sr>>2;;){var xr=K[l[rt]](Sr,Er),Tr=Sr+12|0;if(!xr){var Nr=yr;break}Sr=Tr,L=Sr>>2}for(;;){var Cr=Nr-12|0;if(K[l[rt]](Cr,Er))break;Nr=Cr}if(Sr>>>0>Cr>>>0){var kr=Sr;k=kr>>2;var Lr=wr,Ar=Er;C=Ar>>2;break n}var Or=l[L],Mr=l[L+1],_r=l[L+2];N=Sr>>2,T=Cr>>2,l[N]=l[T],l[N+1]=l[T+1],l[N+2]=l[T+2],l[Cr>>2]=Or,l[Nr-12+4>>2]=Mr,l[Nr-12+8>>2]=_r;var Dr=(Er|0)==(Sr|0)?Cr:Er,yr=Cr,br=Tr,wr=wr+1|0,Er=Dr}else kr=ft,k=kr>>2,Lr=lr,Ar=hn,C=Ar>>2;while(0);if((kr|0)==(Ar|0))var Pr=Lr;else if(K[l[rt]](Ar,kr)){var Hr=l[k],Br=l[k+1],jr=l[k+2];x=kr>>2,S=Ar>>2,l[x]=l[S],l[x+1]=l[S+1],l[x+2]=l[S+2],l[C]=Hr,l[C+1]=Br,l[C+2]=jr,Pr=Lr+1|0}else Pr=Lr;if(0==(Pr|0)){var Fr=Ro(ut,kr,n),Ir=kr+12|0;if(Ro(Ir,lt,n)){if(Fr){st=81;break e}lt=kr;continue}if(Fr){ot=lt,ut=Ir,nt=ut>>2;continue e}}var qr=kr;if((qr-at|0)<(ct-qr|0)){Oo(ut,kr,n),ot=lt,ut=kr+12|0,nt=ut>>2;continue e}Oo(kr+12|0,lt,n),lt=kr}if(K[pr](ut,ln))var Rr=ft;else{var Ur=ft;for(E=Ur>>2;;){if((Ur|0)==(ln|0)){st=81;break e}var zr=K[l[rt]](ut,Ur),Wr=Ur+12|0;if(zr)break;Ur=Wr,E=Ur>>2}var Xr=l[E],Vr=l[E+1],$r=l[E+2];w=Ur>>2,b=ln>>2,l[w]=l[b],l[w+1]=l[b+1],l[w+2]=l[b+2],l[I]=Xr,l[lt-12+4>>2]=Vr,l[lt-12+8>>2]=$r,Rr=Wr}if((Rr|0)==(ln|0)){st=81;break}for(var Jr=ln,Kr=Rr;;){var Qr=Kr;for(y=Qr>>2;;){var Gr=K[l[rt]](ut,Qr),Yr=Qr+12|0;if(Gr){var Zr=Jr;break}Qr=Yr,y=Qr>>2}for(;;){var ei=Zr-12|0;if(!K[l[rt]](ut,ei))break;Zr=ei}if(Qr>>>0>=ei>>>0){ot=lt,ut=Qr,nt=ut>>2;continue e}var ti=l[y],ni=l[y+1],ri=l[y+2];g=Qr>>2,m=ei>>2,l[g]=l[m],l[g+1]=l[m+1],l[g+2]=l[m+2],l[ei>>2]=ti,l[Zr-12+4>>2]=ni,l[Zr-12+8>>2]=ri,Jr=ei,Kr=Yr}}e:do if(22==st){v=it>>2;var ii=ut+24|0;d=ii>>2;var si=K[l[rt]](ft,ut),oi=K[l[rt]](ii,ft);if(si){var ui=l[tt],ai=l[et],fi=l[Z];if(oi)p=ii>>2,l[Y]=l[p],l[Y+1]=l[p+1],l[Y+2]=l[p+2],l[d]=ui,l[nt+7]=ai,l[nt+8]=fi;else{h=ft>>2,l[Y]=l[h],l[Y+1]=l[h+1],l[Y+2]=l[h+2];var li=ft|0;l[li>>2]=ui;var ci=ut+16|0;l[ci>>2]=ai;var hi=ut+20|0;l[hi>>2]=fi;if(K[l[rt]](ii,ft)){var pi=l[li>>2],di=l[ci>>2],vi=l[hi>>2];c=ii>>2,l[h]=l[c],l[h+1]=l[c+1],l[h+2]=l[c+2],l[d]=pi,l[nt+7]=di,l[nt+8]=vi}}}else if(oi){var mi=ft|0,gi=l[mi>>2],yi=ut+16|0,bi=l[yi>>2],wi=ut+20|0,Ei=l[wi>>2];f=ft>>2,u=ii>>2,l[f]=l[u],l[f+1]=l[u+1],l[f+2]=l[u+2],l[d]=gi,l[nt+7]=bi,l[nt+8]=Ei;if(K[l[rt]](ft,ut)){var Si=l[tt],xi=l[et],Ti=l[Z];l[Y]=l[f],l[Y+1]=l[f+1],l[Y+2]=l[f+2],l[mi>>2]=Si,l[yi>>2]=xi,l[wi>>2]=Ti}}var Ni=ut+36|0;if((Ni|0)!=(lt|0))for(var Ci=ii,ki=Ni;;){if(K[l[rt]](ki,Ci)){s=ki>>2,l[v]=l[s],l[v+1]=l[s+1],l[v+2]=l[s+2];for(var Li=Ci,Ai=ki;;){i=Ai>>2,r=Li>>2,l[i]=l[r],l[i+1]=l[r+1],l[i+2]=l[r+2];if((Li|0)==(ut|0))break;var Oi=Li-12|0;if(!K[l[rt]](it,Oi))break;Ai=Li,Li=Oi}l[r]=l[v],l[r+1]=l[v+1],l[r+2]=l[v+2]}var Mi=ki+12|0;if((Mi|0)==(lt|0))break e;Ci=ki,ki=Mi}}while(0);a=it}function Qo(e,t,n,r,i){var s,o,u,a,f=i>>2;u=n>>2;var i=e>>2,c=K[l[f]](t,e);o=K[l[f]](n,t);if(c){var h=l[i];a=l[i+1],c=l[i+2],s=e>>2,o?(o=n>>2,l[s]=l[o],l[s+1]=l[o+1],l[s+2]=l[o+2],l[u]=h,l[u+1]=a,l[u+2]=c,u=1):(o=t>>2,l[s]=l[o],l[s+1]=l[o+1],l[s+2]=l[o+2],s=t|0,l[s>>2]=h,h=t+4|0,l[h>>2]=a,a=t+8|0,l[a>>2]=c,K[l[f]](n,t)?(c=l[s>>2],h=l[h>>2],s=l[a>>2],a=n>>2,l[o]=l[a],l[o+1]=l[a+1],l[o+2]=l[a+2],l[u]=c,l[u+1]=h,l[u+2]=s,u=2):u=1)}else if(o){var c=t|0,p=l[c>>2];a=t+4|0;var d=l[a>>2],h=t+8|0,v=l[h>>2];o=t>>2,s=n>>2,l[o]=l[s],l[o+1]=l[s+1],l[o+2]=l[s+2],l[u]=p,l[u+1]=d,l[u+2]=v,K[l[f]](t,e)?(s=l[i],p=l[i+1],d=l[i+2],u=e>>2,l[u]=l[o],l[u+1]=l[o+1],l[u+2]=l[o+2],l[c>>2]=s,l[a>>2]=p,l[h>>2]=d,u=2):u=1}else u=0;if(K[l[f]](r,n))if(c=n|0,p=l[c>>2],a=n+4|0,d=l[a>>2],h=n+8|0,v=l[h>>2],o=n>>2,s=r>>2,l[o]=l[s],l[o+1]=l[s+1],l[o+2]=l[s+2],l[r>>2]=p,l[r+4>>2]=d,l[r+8>>2]=v,r=u+1|0,K[l[f]](n,t)){r=t|0,d=l[r>>2],s=t+4|0;var v=l[s>>2],p=t+8|0,m=l[p>>2],n=t>>2;l[n]=l[o],l[n+1]=l[o+1],l[n+2]=l[o+2],l[c>>2]=d,l[a>>2]=v,l[h>>2]=m,o=u+2|0,K[l[f]](t,e)?(t=l[i],f=l[i+1],i=l[i+2],e>>=2,l[e]=l[n],l[e+1]=l[n+1],l[e+2]=l[n+2],l[r>>2]=t,l[s>>2]=f,l[p>>2]=i,e=u+3|0):e=o}else e=r;else e=u;return e}function Ro(e,t,n){var r,i,s,o,u,f,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_=n>>2,D=e>>2,P=a;a+=12;var H=(t-e|0)/12&-1;e:do if(0==(H|0)||1==(H|0))var B=1;else if(2==(H|0)){var j=t-12|0;if(K[l[_]](j,e)){var F=l[D],I=l[D+1],q=l[D+2];M=e>>2,O=j>>2,l[M]=l[O],l[M+1]=l[O+1],l[M+2]=l[O+2],l[j>>2]=F,l[t-12+4>>2]=I,l[t-12+8>>2]=q}B=1}else if(3==(H|0)){var R=e+12|0,U=t-12|0;A=U>>2;var z=K[l[_]](R,e),W=K[l[_]](U,R);if(z){var X=l[D],V=l[D+1],$=l[D+2];L=e>>2;if(W)k=U>>2,l[L]=l[k],l[L+1]=l[k+1],l[L+2]=l[k+2],l[A]=X,l[t-12+4>>2]=V,l[t-12+8>>2]=$;else{C=R>>2,l[L]=l[C],l[L+1]=l[C+1],l[L+2]=l[C+2];var J=R|0;l[J>>2]=X;var Q=e+16|0;l[Q>>2]=V;var G=e+20|0;l[G>>2]=$;if(K[l[_]](U,R)){var Y=l[J>>2],Z=l[Q>>2],et=l[G>>2];N=U>>2,l[C]=l[N],l[C+1]=l[N+1],l[C+2]=l[N+2],l[A]=Y,l[t-12+4>>2]=Z,l[t-12+8>>2]=et}}}else if(W){var tt=R|0,nt=l[tt>>2],rt=e+16|0,it=l[rt>>2],st=e+20|0,ot=l[st>>2];T=R>>2,x=U>>2,l[T]=l[x],l[T+1]=l[x+1],l[T+2]=l[x+2],l[A]=nt,l[t-12+4>>2]=it,l[t-12+8>>2]=ot;if(K[l[_]](R,e)){var ut=l[D],at=l[D+1],ft=l[D+2];S=e>>2,l[S]=l[T],l[S+1]=l[T+1],l[S+2]=l[T+2],l[tt>>2]=ut,l[rt>>2]=at,l[st>>2]=ft}}B=1}else if(4==(H|0))Qo(e,e+12|0,e+24|0,t-12|0,n),B=1;else if(5==(H|0)){var lt=e+12|0,ct=e+24|0,ht=e+36|0,pt=t-12|0;Qo(e,lt,ct,ht,n);if(K[l[_]](pt,ht)){var dt=ht|0,vt=l[dt>>2],mt=e+40|0,gt=l[mt>>2],yt=e+44|0,bt=l[yt>>2];E=ht>>2,w=pt>>2,l[E]=l[w],l[E+1]=l[w+1],l[E+2]=l[w+2],l[pt>>2]=vt,l[t-12+4>>2]=gt,l[t-12+8>>2]=bt;if(K[l[_]](ht,ct)){var wt=ct|0,Et=l[wt>>2],St=e+28|0,xt=l[St>>2],Tt=e+32|0,Nt=l[Tt>>2];b=ct>>2,l[b]=l[E],l[b+1]=l[E+1],l[b+2]=l[E+2],l[dt>>2]=Et,l[mt>>2]=xt,l[yt>>2]=Nt;if(K[l[_]](ct,lt)){var Ct=lt|0,kt=l[Ct>>2],Lt=e+16|0,At=l[Lt>>2],Ot=e+20|0,Mt=l[Ot>>2];y=lt>>2,l[y]=l[b],l[y+1]=l[b+1],l[y+2]=l[b+2],l[wt>>2]=kt,l[St>>2]=At,l[Tt>>2]=Mt;if(K[l[_]](lt,e)){var _t=l[D],Dt=l[D+1],Pt=l[D+2];g=e>>2,l[g]=l[y],l[g+1]=l[y+1],l[g+2]=l[y+2],l[Ct>>2]=_t,l[Lt>>2]=Dt,l[Ot>>2]=Pt}}}}B=1}else{var Ht=e+24|0;m=Ht>>2;var Bt=e+12|0,jt=K[l[_]](Bt,e),Ft=K[l[_]](Ht,Bt);if(jt){var It=l[D],qt=l[D+1],Rt=l[D+2];v=e>>2;if(Ft)d=Ht>>2,l[v]=l[d],l[v+1]=l[d+1],l[v+2]=l[d+2],l[m]=It,l[D+7]=qt,l[D+8]=Rt;else{p=Bt>>2,l[v]=l[p],l[v+1]=l[p+1],l[v+2]=l[p+2];var Ut=Bt|0;l[Ut>>2]=It;var zt=e+16|0;l[zt>>2]=qt;var Wt=e+20|0;l[Wt>>2]=Rt;if(K[l[_]](Ht,Bt)){var Xt=l[Ut>>2],Vt=l[zt>>2],$t=l[Wt>>2];h=Ht>>2,l[p]=l[h],l[p+1]=l[h+1],l[p+2]=l[h+2],l[m]=Xt,l[D+7]=Vt,l[D+8]=$t}}}else if(Ft){var Jt=Bt|0,Kt=l[Jt>>2],Qt=e+16|0,Gt=l[Qt>>2],Yt=e+20|0,Zt=l[Yt>>2];c=Bt>>2,f=Ht>>2,l[c]=l[f],l[c+1]=l[f+1],l[c+2]=l[f+2],l[m]=Kt,l[D+7]=Gt,l[D+8]=Zt;if(K[l[_]](Bt,e)){var en=l[D],tn=l[D+1],nn=l[D+2];u=e>>2,l[u]=l[c],l[u+1]=l[c+1],l[u+2]=l[c+2],l[Jt>>2]=en,l[Qt>>2]=tn,l[Yt>>2]=nn}}o=P>>2;for(var rn=e+36|0,sn=0,on=Ht;;){if((rn|0)==(t|0)){B=1;break e}if(K[l[_]](rn,on)){s=rn>>2,l[o]=l[s],l[o+1]=l[s+1],l[o+2]=l[s+2];for(var un=on,an=rn;;){i=an>>2,r=un>>2,l[i]=l[r],l[i+1]=l[r+1],l[i+2]=l[r+2];if((un|0)==(e|0))break;var fn=un-12|0;if(!K[l[_]](P,fn))break;an=un,un=fn}l[r]=l[o],l[r+1]=l[o+1],l[r+2]=l[o+2];var ln=sn+1|0;if(8==(ln|0))break;var cn=ln}else cn=sn;on=rn,rn=rn+12|0,sn=cn}B=(rn+12|0)==(t|0)}while(0);return a=P,B}function In(e,t){var n,r;0!=(l[e+28>>2]|0)&&O(N.Qa|0,72,N.zb|0,N.Cb|0),r=(e+12|0)>>2,n=l[r];var i=K[l[l[n>>2]+12>>2]](n);n=e+24|0;var s=o[n>>2],i=28*i|0,u=0==(i|0);e:do if(!u){var a=0<(i|0);do{if(a){if(640>=(i|0))break;bg(s);break e}O(N.e|0,164,N.f|0,N.Wa|0)}while(0);var f=Ic[wm+i|0],a=f&255;14>(f&255)||O(N.e|0,173,N.f|0,N.g|0),f=s,a=(a<<2)+t+12|0,l[s>>2]=l[a>>2],l[a>>2]=f}while(0);l[n>>2]=0,s=o[r],n=s>>2,i=l[n+1],0==(i|0)?(K[l[l[n]>>2]](s),i=Ic[wm+20|0],u=i&255,14>(i&255)||O(N.e|0,173,N.f|0,N.g|0),i=(u<<2)+t+12|0,l[n]=l[i>>2],l[i>>2]=s):1==(i|0)?(K[l[l[n]>>2]](s),i=Ic[wm+48|0],u=i&255,14>(i&255)||O(N.e|0,173,N.f|0,N.g|0),i=(u<<2)+t+12|0,l[n]=l[i>>2],l[i>>2]=s):2==(i|0)?(K[l[l[n]>>2]](s),i=Ic[wm+152|0],u=i&255,14>(i&255)||O(N.e|0,173,N.f|0,N.g|0),i=(u<<2)+t+12|0,l[n]=l[i>>2],l[i>>2]=s):3==(i|0)?(K[l[l[n]>>2]](s),i=Ic[wm+40|0],u=i&255,14>(i&255)||O(N.e|0,173,N.f|0,N.g|0),i=(u<<2)+t+12|0,l[n]=l[i>>2],l[i>>2]=s):O(N.Qa|0,115,N.zb|0,N.o|0),l[r]=0}function Dn(e,t,n,r){var i,o,u=a;a+=40;var f=u+16,c=u+32,h=e+28|0,d=0<(l[h>>2]|0);e:do if(d){var v=e+24|0,m=e+12|0,g=u|0,y=f|0,b=u+4|0,w=f+4|0,E=u+8|0,S=f+8|0,x=u+12|0,T=f+12|0,N=r|0,C=n|0,k=r+4|0,A=n+4|0,O=c|0,M=c+4|0,_=t|0;o=(t+40|0)>>2;var D=t+36|0;i=(t+32|0)>>2;for(var P=0;;){var H=l[v>>2],B=l[m>>2],j=H+28*P+20|0;K[l[l[B>>2]+24>>2]](B,u,n,l[j>>2]),B=l[m>>2],K[l[l[B>>2]+24>>2]](B,f,r,l[j>>2]);var j=H+28*P|0,B=p[g>>2],F=p[y>>2],I=p[b>>2],q=p[w>>2],q=I<q?I:q,I=j,B=(L[0]=B<F?B:F,s[0]),F=(L[0]=q,s[0])|0;l[(I|0)>>2]=0|B,l[(I+4|0)>>2]=F,B=p[E>>2],F=p[S>>2],I=p[x>>2],q=p[T>>2],q=I>q?I:q,I=H+28*P+8|0,B=(L[0]=B>F?B:F,s[0]),F=(L[0]=q,s[0])|0,l[(I|0)>>2]=0|B,l[(I+4|0)>>2]=F,B=p[k>>2]-p[A>>2],p[O>>2]=p[N>>2]-p[C>>2],p[M>>2]=B,H=l[(H+24>>2)+(7*P|0)],Vh(_,H,j,c)&&(B=l[o],(B|0)==(l[D>>2]|0)?(j=l[i],l[D>>2]=B<<1,B=fe(B<<3),l[i]=B,ag(B,j,l[o]<<2),bg(j),j=l[o]):j=B,l[((j<<2)+l[i]|0)>>2]=H,l[o]=l[o]+1|0),P=P+1|0;if((P|0)>=(l[h>>2]|0))break e}}while(0);a=u}function En(e){var t,n,r=e+8|0,i=l[r>>2],s=0==(i|0);e:do if(!s){n=l[i+112>>2];if(0==(n|0))n=i;else{for(;;){var o=l[n+4>>2];(l[o+48>>2]|0)==(e|0)|(l[o+52>>2]|0)==(e|0)&&(o=o+4|0,l[o>>2]|=8),n=l[n+12>>2];if(0==(n|0))break}n=l[r>>2]}t=l[n+88>>2];if(0!=(t|0)&&(o=e+28|0,0<(l[o>>2]|0))){var u=e+24|0;n=(t+102912|0)>>2;var a=t+102908|0;t=(t+102904|0)>>2;for(var f=0,c=l[n];;){var h=l[(l[u>>2]+24>>2)+(7*f|0)];if((c|0)==(l[a>>2]|0)){var p=l[t];l[a>>2]=c<<1,c=fe(c<<3),l[t]=c,ag(c,p,l[n]<<2),bg(p),p=l[n]}else p=c;l[((p<<2)+l[t]|0)>>2]=h,h=l[n]+1|0,l[n]=h,f=f+1|0;if((f|0)>=(l[o>>2]|0))break e;c=h}}}while(0)}function Jo(e,t){var n,u,f=a,h;P(N.Sg|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),u=p[e+16>>2],P(N.kh|0,(r=a,a+=8,Nd[0]=u,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),u=p[e+20>>2],P(N.wh|0,(r=a,a+=8,Nd[0]=u,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),u=p[e>>2],P(N.Ch|0,(r=a,a+=8,Nd[0]=u,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),u=c[e+38|0]&1,P(N.Kh|0,(r=a,a+=4,l[r>>2]=u,r)),u=Pc[e+32>>1]&65535,P(N.Nh|0,(r=a,a+=4,l[r>>2]=u,r)),u=Pc[e+34>>1]&65535,P(N.Th|0,(r=a,a+=4,l[r>>2]=u,r)),u=i[e+36>>1]<<16>>16,P(N.bf|0,(r=a,a+=4,l[r>>2]=u,r));var d=o[e+12>>2];u=d>>2;var v=l[u+1];do if(0==(v|0))P(N.hf|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),h=p[u+2],P(N.Db|0,(r=a,a+=8,Nd[0]=h,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),h=p[u+3],n=p[u+4],P(N.yf|0,(r=a,a+=16,Nd[0]=h,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=n,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),h=13;else if(1==(v|0)){h=d,P(N.Df|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),n=p[u+2],P(N.Db|0,(r=a,a+=8,Nd[0]=n,l[r>>2]=s[0],l[r+4>>2]=s[1],r));var m=d+28|0;n=p[m>>2],m=p[m+4>>2],P(N.If|0,(r=a,a+=16,Nd[0]=n,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=m,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),n=p[u+3],m=p[u+4],P(N.Of|0,(r=a,a+=16,Nd[0]=n,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=m,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),m=d+20|0,n=p[m>>2],m=p[m+4>>2],P(N.Sf|0,(r=a,a+=16,Nd[0]=n,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=m,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),n=p[u+9],m=p[u+10],P(N.Xf|0,(r=a,a+=16,Nd[0]=n,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=m,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),n=c[d+44|0]&1,P(N.$f|0,(r=a,a+=4,l[r>>2]=n,r)),h=c[h+45|0]&1,P(N.bg|0,(r=a,a+=4,l[r>>2]=h,r)),h=13}else if(2==(v|0)){P(N.eg|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.Pb|0,(r=a,a+=4,l[r>>2]=8,r)),h=d+148|0,n=o[h>>2],m=0<(n|0);e:do if(m)for(var g=d+20|0,y=0;;){var b=p[g+(y<<3)>>2],w=p[g+(y<<3)+4>>2];P(N.Qb|0,(r=a,a+=20,l[r>>2]=y,Nd[0]=b,l[r+4>>2]=s[0],l[r+8>>2]=s[1],Nd[0]=w,l[r+12>>2]=s[0],l[r+16>>2]=s[1],r)),y=y+1|0,b=l[h>>2];if((y|0)>=(b|0)){var E=b;break e}}else E=n;while(0);P(N.vg|0,(r=a,a+=4,l[r>>2]=E,r)),h=13}else if(3==(v|0)){h=d,P(N.yg|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),n=(d+16|0)>>2,m=l[n],P(N.Pb|0,(r=a,a+=4,l[r>>2]=m,r)),m=l[n],g=0<(m|0);e:do if(g){y=d+12|0;for(b=0;;){var S=l[y>>2],w=p[S+(b<<3)>>2],S=p[S+(b<<3)+4>>2];P(N.Qb|0,(r=a,a+=20,l[r>>2]=b,Nd[0]=w,l[r+4>>2]=s[0],l[r+8>>2]=s[1],Nd[0]=S,l[r+12>>2]=s[0],l[r+16>>2]=s[1],r)),b=b+1|0,w=l[n];if((b|0)>=(w|0)){var x=w;break e}}}else x=m;while(0);P(N.Cg|0,(r=a,a+=4,l[r>>2]=x,r)),m=d+20|0,n=p[m>>2],m=p[m+4>>2],P(N.Gg|0,(r=a,a+=16,Nd[0]=n,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=m,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),m=d+28|0,n=p[m>>2],m=p[m+4>>2],P(N.Kg|0,(r=a,a+=16,Nd[0]=n,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=m,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),n=c[d+36|0]&1,P(N.Ng|0,(r=a,a+=4,l[r>>2]=n,r)),h=c[h+37|0]&1,P(N.Qg|0,(r=a,a+=4,l[r>>2]=h,r)),h=13}else h=14;while(0);13==h&&(P(N.ab|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.Ug|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.ab|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.Yg|0,(r=a,a+=4,l[r>>2]=t,r))),a=f}function So(e,t,n,r,i,s){var o,u,a,f,h=e>>2;o=(e+40|0)>>2,l[o]=t,l[h+11]=n,l[h+12]=r,l[h+7]=0,l[h+9]=0,l[h+8]=0,e=(e|0)>>2,l[e]=i,l[h+1]=s,u=t<<2,t=(i+102796|0)>>2,s=l[t],32>(s|0)?a=s:(O(N.p|0,38,N.w|0,N.D|0),a=l[t]),s=(i+12*a+102412|0)>>2,l[(i+102416>>2)+(3*a|0)]=u,f=(i+102400|0)>>2;var p=l[f];102400<(p+u|0)?(f=fe(u),l[s]=f,c[i+12*a+102420|0]=1):(l[s]=i+p|0,c[i+12*a+102420|0]=0,l[f]=l[f]+u|0),a=i+102404|0,u=l[a>>2]+u|0,l[a>>2]=u,i=i+102408|0,a=l[i>>2],l[i>>2]=(a|0)>(u|0)?a:u,l[t]=l[t]+1|0,l[h+2]=l[s],i=l[e],s=n<<2,n=(i+102796|0)>>2,t=l[n],32>(t|0)?u=t:(O(N.p|0,38,N.w|0,N.D|0),u=l[n]),t=i+12*u+102412|0,l[(i+12*u+102416|0)>>2]=s,a=(i+102400|0)>>2,f=l[a],102400<(f+s|0)?(a=fe(s),l[(t|0)>>2]=a,c[i+12*u+102420|0]=1):(l[(t|0)>>2]=i+f|0,c[i+12*u+102420|0]=0,l[a]=l[a]+s|0),u=i+102404|0,s=l[u>>2]+s|0,l[u>>2]=s,i=i+102408|0,u=l[i>>2],l[i>>2]=(u|0)>(s|0)?u:s,l[n]=l[n]+1|0,l[h+3]=l[t>>2],n=l[e],t=r<<2,r=(n+102796|0)>>2,i=l[r],32>(i|0)?s=i:(O(N.p|0,38,N.w|0,N.D|0),s=l[r]),i=n+12*s+102412|0,l[(n+12*s+102416|0)>>2]=t,u=(n+102400|0)>>2,a=l[u],102400<(a+t|0)?(u=fe(t),l[(i|0)>>2]=u,c[n+12*s+102420|0]=1):(l[(i|0)>>2]=n+a|0,c[n+12*s+102420|0]=0,l[u]=l[u]+t|0),s=n+102404|0,t=l[s>>2]+t|0,l[s>>2]=t,n=n+102408|0,s=l[n>>2],l[n>>2]=(s|0)>(t|0)?s:t,l[r]=l[r]+1|0,l[h+4]=l[i>>2],i=l[e],t=12*l[o]|0,r=(i+102796|0)>>2,n=l[r],32>(n|0)?s=n:(O(N.p|0,38,N.w|0,N.D|0),s=l[r]),n=i+12*s+102412|0,l[(i+12*s+102416|0)>>2]=t,u=(i+102400|0)>>2,a=l[u],102400<(a+t|0)?(u=fe(t),l[(n|0)>>2]=u,c[i+12*s+102420|0]=1):(l[(n|0)>>2]=i+a|0,c[i+12*s+102420|0]=0,l[u]=l[u]+t|0),s=i+102404|0,t=l[s>>2]+t|0,l[s>>2]=t,i=i+102408|0,s=l[i>>2],l[i>>2]=(s|0)>(t|0)?s:t,l[r]=l[r]+1|0,l[h+6]=l[n>>2],e=l[e],n=12*l[o]|0,o=(e+102796|0)>>2,r=l[o],32>(r|0)?i=r:(O(N.p|0,38,N.w|0,N.D|0),i=l[o]),r=e+12*i+102412|0,l[(e+12*i+102416|0)>>2]=n,t=(e+102400|0)>>2,s=l[t],102400<(s+n|0)?(t=fe(n),l[(r|0)>>2]=t,c[e+12*i+102420|0]=1):(l[(r|0)>>2]=e+s|0,c[e+12*i+102420|0]=0,l[t]=l[t]+n|0),i=e+102404|0,n=l[i>>2]+n|0,l[i>>2]=n,e=e+102408|0,i=l[e>>2],l[e>>2]=(i|0)>(n|0)?i:n,l[o]=l[o]+1|0,l[h+5]=l[r>>2]}function To(e,t){var n,r;n=e>>2;var i=e|0,s=e+8|0;l[s>>2]=128,l[n+1]=0;var o=fe(1024);l[n]=o,ge(o,l[s>>2]<<3),s=(e+12|0)>>2;for(o=s+14;s<o;s++)l[s]=0;if(0==(c[yp]&1)<<24>>24){o=0;for(s=1;14>(o|0)||O(N.e|0,73,N.Ha|0,N.Ua|0),(s|0)>(l[xm+(o<<2)>>2]|0)&&(o=o+1|0),c[wm+s|0]=o&255,s=s+1|0,641!=(s|0););c[yp]=1}l[n+25617]=0,l[n+25618]=0,l[n+25619]=0,l[n+25716]=0,If(e+102872|0),l[n+25733]=0,l[n+25734]=0,l[n+25735]=Ap,l[n+25736]=Bp,s=e+102948|0,o=e+102968|0,l[n+25745]=0,l[n+25746]=0,r=s>>2,l[r]=0,l[r+1]=0,l[r+2]=0,l[r+3]=0,l[r+4]=0,c[e+102992|0]=1,c[e+102993|0]=1,c[e+102994|0]=0,c[e+102995|0]=1,c[e+102976|0]=1,r=l[t+4>>2],l[o>>2]=l[t>>2],l[o+4>>2]=r,l[n+25717]=4,p[n+25747]=0,l[s>>2]=i,n=(e+102996|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,l[n+4]=0,l[n+5]=0,l[n+6]=0,l[n+7]=0}function Cp(e){var t=e>>2,n=e|0,r=l[t+25738];e:for(;0!=(r|0);)for(var i=l[r+96>>2],s=l[r+100>>2];;){if(0==(s|0)){r=i;continue e}var o=l[s+4>>2];l[s+28>>2]=0,In(s,n),s=o}bg(l[t+25726]),bg(l[t+25729]),bg(l[t+25719]),0!=(l[t+25617]|0)&&O(N.p|0,32,N.R|0,N.Va|0),0!=(l[t+25716]|0)&&O(N.p|0,33,N.R|0,N.Ya|0),t=e+4|0,n=0<(l[t>>2]|0),e|=0,r=l[e>>2];e:do if(n){i=0;for(s=r;;)if(bg(l[s+(i<<3)+4>>2]),i=i+1|0,s=l[e>>2],(i|0)>=(l[t>>2]|0)){var u=s;break e}}else u=r;while(0);bg(u)}function Dp(e,t){var n,r,i,s;s=(e+102960|0)>>2,0<(l[s]|0)||O(N.t|0,133,N.ub|0,N.gg|0),i=e+102868|0;var u=l[i>>2];0==(u&2|0)?i=u:(O(N.t|0,134,N.ub|0,N.qa|0),i=l[i>>2]);if(0==(i&2|0)){i=(t+108|0)>>2;var u=l[i],a=0==(u|0);e:do if(!a)for(var f=e+102980|0,c=u;;){var h=l[c+12>>2],p=l[f>>2];0==(p|0)?p=c+4|0:(c=c+4|0,K[l[l[p>>2]+8>>2]](p,l[c>>2]),p=c),Ep(e,l[p>>2]),l[i]=h;if(0==(h|0))break e;c=h}while(0);l[i]=0,i=t+112|0,u=l[i>>2],a=0==(u|0);e:do if(!a){f=e+102872|0;for(h=u;;){p=l[h+12>>2],Hn(f,l[h+4>>2]);if(0==(p|0))break e;h=p}}while(0);l[i>>2]=0,i=(t+100|0)>>2,u=l[i],a=0==(u|0);e:do if(a)n=t+104|0;else for(var f=e+102980|0,h=e+102912|0,p=e+102904|0,c=e+102900|0,d=e+102872|0,v=e|0,m=t+104|0,g=u;;){var y=o[g+4>>2];r=l[f>>2],0!=(r|0)&&K[l[l[r>>2]+12>>2]](r,g),r=(g+28|0)>>2;var b=0<(l[r]|0);t:do if(b)for(var w=g+24|0,E=0;;){for(var S=l[w>>2]+28*E+24|0,x=l[S>>2],T=l[h>>2],C=0;(C|0)<(T|0);){var k=(C<<2)+l[p>>2]|0;if((l[k>>2]|0)==(x|0)){l[k>>2]=-1;break}C=C+1|0}l[c>>2]=l[c>>2]-1|0,Th(d,x),l[S>>2]=-1,E=E+1|0;if((E|0)>=(l[r]|0))break t}while(0);l[r]=0,In(g,v),r=Ic[wm+44|0],b=r&255,14>(r&255)||O(N.e|0,173,N.f|0,N.g|0),r=(b<<2)+e+12|0,l[g>>2]=l[r>>2],l[r>>2]=g,l[i]=y,l[m>>2]=l[m>>2]-1|0;if(0==(y|0)){n=m;break e}g=y}while(0);l[i]=0,l[n>>2]=0,i=t+92|0,u=l[i>>2],n=(t+96|0)>>2,0!=(u|0)&&(l[(u+96|0)>>2]=l[n]),u=l[n],0!=(u|0)&&(l[(u+92|0)>>2]=l[i>>2]),i=e+102952|0,(l[i>>2]|0)==(t|0)&&(l[i>>2]=l[n]),l[s]=l[s]-1|0,s=Ic[wm+152|0],n=s&255,14>(s&255)||O(N.e|0,173,N.f|0,N.g|0),s=(n<<2)+e+12|0,l[t>>2]=l[s>>2],l[s>>2]=t}}function Ep(e,t){var n,r,s,o,u=e+102868|0;n=l[u>>2],0==(n&2|0)?u=n:(O(N.t|0,274,N.vb|0,N.qa|0),u=l[u>>2]),u=0==(u&2|0);e:do if(u){n=c[t+61|0]&1;var a=t+8|0;r=l[a>>2],o=(t+12|0)>>2,0!=(r|0)&&(l[(r+12|0)>>2]=l[o]),r=l[o],0!=(r|0)&&(l[(r+8|0)>>2]=l[a>>2]),a=e+102956|0,(l[a>>2]|0)==(t|0)&&(l[a>>2]=l[o]),o=l[t+48>>2],a=l[t+52>>2],r=o+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[o+144>>2]=0),r=a+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[a+144>>2]=0);var f=t+16|0;s=(t+24|0)>>2;var h=l[s];r=(t+28|0)>>2,0!=(h|0)&&(l[(h+12|0)>>2]=l[r]),h=l[r],0!=(h|0)&&(l[(h+8|0)>>2]=l[s]),h=o+108|0,(f|0)==(l[h>>2]|0)&&(l[h>>2]=l[r]),l[s]=0,l[r]=0,f=t+32|0,s=(t+40|0)>>2,h=l[s],r=(t+44|0)>>2,0!=(h|0)&&(l[(h+12|0)>>2]=l[r]),h=l[r],0!=(h|0)&&(l[(h+8|0)>>2]=l[s]),h=a+108|0,(f|0)==(l[h>>2]|0)&&(l[h>>2]=l[r]),l[s]=0,l[r]=0,r=t,f=e|0,s=r>>2,K[l[l[s]+20>>2]](r),h=l[s+1];if(3==(h|0)){var h=Ic[wm+176|0],d=h&255;14>(h&255)||O(N.e|0,173,N.f|0,N.g|0),f=(d<<2)+f+12|0,l[s]=l[f>>2],l[f>>2]=r}else 5==(h|0)?(h=Ic[wm+168|0],d=h&255,14>(h&255)||O(N.e|0,173,N.f|0,N.g|0),f=(d<<2)+f+12|0,l[s]=l[f>>2],l[f>>2]=r):2==(h|0)?(h=Ic[wm+256|0],d=h&255,14>(h&255)||O(N.e|0,173,N.f|0,N.g|0),f=(d<<2)+f+12|0,l[s]=l[f>>2],l[f>>2]=r):1==(h|0)?(h=Ic[wm+228|0],d=h&255,14>(h&255)||O(N.e|0,173,N.f|0,N.g|0),f=(d<<2)+f+12|0,l[s]=l[f>>2],l[f>>2]=r):4==(h|0)?(h=Ic[wm+196|0],d=h&255,14>(h&255)||O(N.e|0,173,N.f|0,N.g|0),f=(d<<2)+f+12|0,l[s]=l[f>>2],l[f>>2]=r):6==(h|0)?(h=Ic[wm+276|0],d=h&255,14>(h&255)||O(N.e|0,173,N.f|0,N.g|0),f=(d<<2)+f+12|0,l[s]=l[f>>2],l[f>>2]=r):7==(h|0)?(h=Ic[wm+224|0],d=h&255,14>(h&255)||O(N.e|0,173,N.f|0,N.g|0),f=(d<<2)+f+12|0,l[s]=l[f>>2],l[f>>2]=r):8==(h|0)?(h=Ic[wm+208|0],d=h&255,14>(h&255)||O(N.e|0,173,N.f|0,N.g|0),f=(d<<2)+f+12|0,l[s]=l[f>>2],l[f>>2]=r):9==(h|0)?(h=Ic[wm+180|0],d=h&255,14>(h&255)||O(N.e|0,173,N.f|0,N.g|0),f=(d<<2)+f+12|0,l[s]=l[f>>2],l[f>>2]=r):10==(h|0)?(h=Ic[wm+168|0],d=h&255,14>(h&255)||O(N.e|0,173,N.f|0,N.g|0),f=(d<<2)+f+12|0,l[s]=l[f>>2],l[f>>2]=r):O(N.k|0,166,N.Je|0,N.o|0);r=(e+102964|0)>>2,s=l[r],0<(s|0)||(O(N.t|0,346,N.vb|0,N.Tg|0),s=l[r]),l[r]=s-1|0;if(0==n<<24>>24&&(n=l[a+112>>2],0!=(n|0)))for(n>>=2;;){(l[n]|0)==(o|0)&&(a=l[n+1]+4|0,l[a>>2]|=8),n=l[n+3];if(0==(n|0))break e;n>>=2}}while(0)}function Fp(e,t){var n,r,i,s,o,u=e+102868|0,a=l[u>>2];if(0==(a&2|0))var f=a;else O(N.t|0,214,N.Le|0,N.qa|0),f=l[u>>2];var h=0==(f&2|0);e:do if(h){var d,v=t,m=e|0,g=Ia,y=Ia,b=Ia,w=Ia,E=Ia,S=Ia,x=Ia,T=Ia,C=Ia,k=Ia,L=Ia,A=Ia,M=Ia,_=Ia,D=Ia,P=Ia,H=Ia,B=Ia,j=Ia,F=Ia,I=v>>2,F=(v|0)>>2,q=l[F];if(3==(q|0)){var R=vm(m,176),j=R>>2;if(0==(R|0))var U=0;else{l[R>>2]=Gp+8|0;var z=v+8|0,W=v+12|0;(l[z>>2]|0)==(l[W>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[j+1]=l[F],l[j+2]=0,l[j+3]=0,l[j+12]=l[z>>2],l[j+13]=l[W>>2],l[j+14]=0,c[R+61|0]=c[v+16|0]&1,c[R+60|0]=0,l[j+16]=l[I+1],B=(R+16|0)>>2,l[B]=0,l[B+1]=0,l[B+2]=0,l[B+3]=0,l[B+4]=0,l[B+5]=0,l[B+6]=0,l[B+7]=0,l[R>>2]=Hp+8|0;var X=R+88|0,V=v+20|0,$=R+80|0,J=V|0,H=J>>2,K=l[H],Q=V+4|0,P=Q>>2,G=l[P],Y=$|0,D=Y>>2;l[D]=K;var Z=$+4|0,_=Z>>2;l[_]=G;var et=v+28|0,tt=et|0,M=tt>>2,nt=l[M],rt=et+4|0,A=rt>>2,it=l[A],st=X|0,L=st>>2;l[L]=nt;var ot=X+4|0,k=ot>>2;l[k]=it,p[j+26]=p[I+9],p[j+17]=p[I+10],p[j+18]=p[I+11],p[j+25]=0,p[j+24]=0,p[j+19]=0,U=R}var ut=U|0}else if(5==(q|0)){var at=vm(m,168);if(0==(at|0))var ft=0;else Ip(at,v),ft=at;ut=ft|0}else if(2==(q|0)){var lt=vm(m,256);if(0==(lt|0))var ct=0;else Jp(lt,v),ct=lt;ut=ct|0}else if(1==(q|0)){var ht=vm(m,228),C=ht>>2;if(0==(ht|0))var pt=0;else{l[ht>>2]=Gp+8|0;var dt=v+8|0,vt=v+12|0;(l[dt>>2]|0)==(l[vt>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[C+1]=l[F],l[C+2]=0,l[C+3]=0,l[C+12]=l[dt>>2],l[C+13]=l[vt>>2],l[C+14]=0,c[ht+61|0]=c[v+16|0]&1,c[ht+60|0]=0,l[C+16]=l[I+1],T=(ht+16|0)>>2,l[T]=0,l[T+1]=0,l[T+2]=0,l[T+3]=0,l[T+4]=0,l[T+5]=0,l[T+6]=0,l[T+7]=0,l[ht>>2]=Kp+8|0;var mt=ht+76|0,gt=v+20|0,yt=ht+68|0,J=gt|0,H=J>>2,bt=l[H],Q=gt+4|0,P=Q>>2,wt=l[P],Y=yt|0,D=Y>>2;l[D]=bt,Z=yt+4|0,_=Z>>2,l[_]=wt;var Et=v+28|0,tt=Et|0,M=tt>>2,St=l[M],rt=Et+4|0,A=rt>>2,xt=l[A],st=mt|0,L=st>>2;l[L]=St,ot=mt+4|0,k=ot>>2,l[k]=xt,p[C+29]=p[I+9];var x=(ht+84|0)>>2,Tt=v+44|0;l[x]=0,l[x+1]=0,l[x+2]=0,l[x+3]=0,p[C+30]=p[Tt>>2],p[C+31]=p[I+12],p[C+26]=p[I+15],p[C+27]=p[I+14],c[ht+112|0]=c[v+40|0]&1,c[ht+100|0]=c[v+52|0]&1,l[C+56]=0,pt=ht}ut=pt|0}else if(4==(q|0)){var Nt=vm(m,196);if(0==(Nt|0))var Ct=0;else Lp(Nt,v),Ct=Nt;ut=Ct|0}else if(6==(q|0)){var kt=vm(m,276);if(0==(kt|0))var Lt=0;else Mp(kt,v),Lt=kt;ut=Lt|0}else if(7==(q|0)){var At=vm(m,224);if(0==(At|0))var Ot=0;else Np(At,v),Ot=At;ut=Ot|0}else if(8==(q|0)){var Mt=vm(m,208),S=Mt>>2;if(0==(Mt|0))var _t=0;else{l[Mt>>2]=Gp+8|0;var Dt=v+8|0,Pt=v+12|0;(l[Dt>>2]|0)==(l[Pt>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[S+1]=l[F],l[S+2]=0,l[S+3]=0,l[S+12]=l[Dt>>2],l[S+13]=l[Pt>>2],l[S+14]=0,c[Mt+61|0]=c[v+16|0]&1,c[Mt+60|0]=0,l[S+16]=l[I+1],E=(Mt+16|0)>>2,l[E]=0,l[E+1]=0,l[E+2]=0,l[E+3]=0,l[E+4]=0,l[E+5]=0,l[E+6]=0,l[E+7]=0,l[Mt>>2]=Op+8|0;var Ht=Mt+88|0,Bt=v+20|0,jt=Mt+80|0,J=Bt|0,H=J>>2,Ft=l[H],Q=Bt+4|0,P=Q>>2,It=l[P],Y=jt|0,D=Y>>2;l[D]=Ft,Z=jt+4|0,_=Z>>2,l[_]=It;var qt=v+28|0,tt=qt|0,M=tt>>2,Rt=l[M],rt=qt+4|0,A=rt>>2,Ut=l[A],st=Ht|0,L=st>>2;l[L]=Rt,ot=Ht+4|0,k=ot>>2,l[k]=Ut,p[S+24]=p[I+9],p[S+17]=p[I+10],p[S+18]=p[I+11],p[S+26]=0,p[S+27]=0,p[S+28]=0,_t=Mt}ut=_t|0}else if(9==(q|0)){var zt=vm(m,180),w=zt>>2;if(0==(zt|0))var Wt=0;else{l[zt>>2]=Gp+8|0;var Xt=v+8|0,Vt=v+12|0;(l[Xt>>2]|0)==(l[Vt>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[w+1]=l[F],l[w+2]=0,l[w+3]=0,l[w+12]=l[Xt>>2],l[w+13]=l[Vt>>2],l[w+14]=0,c[zt+61|0]=c[v+16|0]&1,c[zt+60|0]=0,l[w+16]=l[I+1],b=(zt+16|0)>>2,l[b]=0,l[b+1]=0,l[b+2]=0,l[b+3]=0,l[b+4]=0,l[b+5]=0,l[b+6]=0,l[b+7]=0,l[zt>>2]=Pp+8|0;var $t=zt+76|0,Jt=v+20|0,Kt=zt+68|0,J=Jt|0,H=J>>2,Qt=l[H],Q=Jt+4|0,P=Q>>2,Gt=l[P],Y=Kt|0,D=Y>>2;l[D]=Qt,Z=Kt+4|0,_=Z>>2,l[_]=Gt;var Yt=v+28|0,tt=Yt|0,M=tt>>2,Zt=l[M],rt=Yt+4|0,A=rt>>2,en=l[A],st=$t|0,L=st>>2;l[L]=Zt,ot=$t+4|0,k=ot>>2,l[k]=en,p[w+21]=0,p[w+22]=0,p[w+23]=0,p[w+24]=p[I+9],p[w+25]=p[I+10],Wt=zt}ut=Wt|0}else if(10==(q|0)){var tn=vm(m,168),y=tn>>2;if(0==(tn|0))var nn=0;else{l[tn>>2]=Gp+8|0;var rn=v+8|0,sn=v+12|0;(l[rn>>2]|0)==(l[sn>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[y+1]=l[F],l[y+2]=0,l[y+3]=0,l[y+12]=l[rn>>2],l[y+13]=l[sn>>2],l[y+14]=0,c[tn+61|0]=c[v+16|0]&1,c[tn+60|0]=0,l[y+16]=l[I+1],g=(tn+16|0)>>2,l[g]=0,l[g+1]=0,l[g+2]=0,l[g+3]=0,l[g+4]=0,l[g+5]=0,l[g+6]=0,l[g+7]=0,l[tn>>2]=Qp+8|0;var on=tn+76|0,un=v+20|0,an=tn+68|0,J=un|0,H=J>>2,fn=l[H],Q=un+4|0,P=Q>>2,ln=l[P],Y=an|0,D=Y>>2;l[D]=fn,Z=an+4|0,_=Z>>2,l[_]=ln;var cn=v+28|0,tt=cn|0,M=tt>>2,hn=l[M],rt=cn+4|0,A=rt>>2,pn=l[A],st=on|0,L=st>>2;l[L]=hn,ot=on+4|0,k=ot>>2,l[k]=pn,p[y+21]=p[I+9],p[y+40]=0,p[y+23]=0,l[y+41]=0,p[y+22]=0,nn=tn}ut=nn|0}else O(N.k|0,113,N.Ie|0,N.o|0),ut=0;d=ut,o=d>>2,l[o+2]=0,s=(e+102956|0)>>2,l[o+3]=l[s];var dn=l[s];0!=(dn|0)&&(l[(dn+8|0)>>2]=d),l[s]=d;var vn=e+102964|0;l[vn>>2]=l[vn>>2]+1|0;var mn=d+16|0;l[o+5]=d,i=(d+52|0)>>2,l[mn>>2]=l[i],l[o+6]=0,r=(d+48|0)>>2;var gn=l[r],yn=gn+108|0;l[o+7]=l[yn>>2];var bn=l[yn>>2];if(0==(bn|0))var wn=gn;else l[(bn+8|0)>>2]=mn,wn=l[r];l[wn+108>>2]=mn;var En=d+32|0;l[o+9]=d,l[En>>2]=l[r],l[o+10]=0;var Sn=l[i],xn=Sn+108|0;l[o+11]=l[xn>>2];var Tn=l[xn>>2];if(0==(Tn|0))var Nn=Sn;else l[(Tn+8|0)>>2]=En,Nn=l[i];l[Nn+108>>2]=En;var Cn=l[t+8>>2];if(0!=(c[t+16|0]&1)<<24>>24)var kn=d;else{var Ln=l[l[t+12>>2]+112>>2];if(0==(Ln|0))kn=d;else{var An=Ln;for(n=An>>2;;){if((l[n]|0)==(Cn|0)){var On=l[n+1]+4|0;l[On>>2]|=8}var Mn=l[n+3];if(0==(Mn|0)){kn=d;break e}An=Mn,n=An>>2}}}}else kn=0;while(0);return kn}function Rp(e,t,n,r){var u,f,h,d,v=e>>2,m=a;a+=24;var g;d=m>>2,h=(e+102868|0)>>2;var y=l[h];if(0==(y&1|0))var b=y;else{var w=e+102872|0;Ln(w|0,w);var E=l[h]&-2,b=l[h]=E}l[h]=b|2,f=(m|0)>>2,p[f]=t,l[d+3]=n,l[d+4]=r;var S=0<t;p[d+1]=S?1/t:0;var x=e+102988|0;p[d+2]=p[x>>2]*t,c[m+20|0]=c[e+102992|0]&1,Mo(e+102872|0),p[v+25750]=0;if(!(0==(c[e+102995|0]&1)<<24>>24|S^1)){var T,C,k,A,M,_,D,P,H,B,j,F,I,q,R=e>>2,U=a;a+=100;var z=U+16;q=z>>2;var W=U+68;I=(e+103008|0)>>2,p[I]=0,F=(e+103012|0)>>2,p[F]=0,j=(e+103016|0)>>2,p[j]=0;var X=e+102960|0,V=e+102872|0,$=e+68|0;So(z,l[X>>2],l[R+25734],l[R+25741],$,l[R+25736]);var J=e+102952|0,Q=l[J>>2],G=0==(Q|0);e:do if(!G)for(var Y=Q;;){var Z=Y+4|0;i[Z>>1]&=-2;var et=l[Y+96>>2];if(0==(et|0))break e;Y=et}while(0);var tt=l[R+25733],nt=0==(tt|0);e:do if(!nt)for(var rt=tt;;){var it=rt+4|0;l[it>>2]&=-2;var st=l[rt+12>>2];if(0==(st|0))break e;rt=st}while(0);var ot=l[R+25739],ut=0==(ot|0);e:do if(!ut)for(var at=ot;;){c[at+60|0]=0;var ft=l[at+12>>2];if(0==(ft|0))break e;at=ft}while(0);var lt=l[X>>2],ct=lt<<2;B=(e+102864|0)>>2;var ht=l[B];if(32>(ht|0))var pt=ht;else O(N.p|0,38,N.w|0,N.D|0),pt=l[B];H=(e+12*pt+102480|0)>>2,l[R+(3*pt|0)+25621]=ct,P=(e+102468|0)>>2;var dt=l[P];if(102400<(dt+ct|0)){var vt=fe(ct);l[H]=vt,c[e+12*pt+102488|0]=1}else l[H]=e+(dt+68)|0,c[e+12*pt+102488|0]=0,l[P]=l[P]+ct|0;var mt=e+102472|0,gt=l[mt>>2]+ct|0;l[mt>>2]=gt;var yt=e+102476|0,bt=l[yt>>2];l[yt>>2]=(bt|0)>(gt|0)?bt:gt,l[B]=l[B]+1|0;var wt=l[H];D=(z+28|0)>>2;var Et=z+36|0,St=z+32|0,xt=z+40|0;_=(z+8|0)>>2;for(var Tt=z+44|0,Nt=z+12|0,Ct=z+48|0,kt=z+16|0,Lt=e+102968|0,At=e+102976|0,Ot=W+12|0,Mt=W+16|0,_t=W+20|0,Dt=J;;){var Pt=l[Dt>>2];if(0==(Pt|0))break;M=(Pt+4|0)>>1;var Ht=34==(i[M]&35)<<16>>16;e:do if(Ht&&0!=(l[Pt>>2]|0)){l[D]=0,l[Et>>2]=0,l[St>>2]=0,l[wt>>2]=Pt,i[M]|=1;var Bt=l[xt>>2],jt=l[_],Ft=l[Tt>>2],It=l[Nt>>2],qt=l[Ct>>2],Rt=l[kt>>2],Ut=1,zt=0,Wt=0,Xt=0;t:for(;;){for(var Vt=Ut,$t=zt;;){if(0>=(Vt|0))break t;var Jt=Vt-1|0,Kt=l[wt+(Jt<<2)>>2];A=(Kt+4|0)>>1,0==(i[A]&32)<<16>>16&&O(N.t|0,445,N.Ia|0,N.mh|0),($t|0)<(Bt|0)||O(N.J|0,54,N.oa|0,N.Ba|0),l[(Kt+8|0)>>2]=$t,l[(($t<<2)+jt|0)>>2]=Kt;var Qt=$t+1|0;l[D]=Qt;var Gt=i[A];0==(Gt&2)<<16>>16&&(i[A]=Gt|2,p[Kt+144>>2]=0);if(0!=(l[Kt>>2]|0))break;Vt=Jt,$t=Qt}for(var Yt=Kt+112|0,Zt=Jt,en=Xt;;){var tn=l[Yt>>2];if(0==(tn|0))break;var nn=l[tn+4>>2];k=(nn+4|0)>>2;if(6==(l[k]&7|0))if(0!=(c[l[nn+48>>2]+38|0]&1)<<24>>24)var rn=Zt,sn=en;else if(0!=(c[l[nn+52>>2]+38|0]&1)<<24>>24)rn=Zt,sn=en;else{(en|0)<(Ft|0)||O(N.J|0,62,N.Ja|0,N.Xa|0);var on=en+1|0;l[Et>>2]=on,l[((en<<2)+It|0)>>2]=nn,l[k]|=1;var un=l[tn>>2];C=(un+4|0)>>1,0!=(i[C]&1)<<16>>16?rn=Zt:((Zt|0)<(lt|0)||O(N.t|0,495,N.Ia|0,N.Vb|0),l[((Zt<<2)+wt|0)>>2]=un,i[C]|=1,rn=Zt+1|0),sn=on}else rn=Zt,sn=en;Yt=tn+12|0,Zt=rn,en=sn}for(var an=Kt+108|0,fn=Zt,ln=Wt;;){var cn=l[an>>2];if(0==(cn|0)){Ut=fn,zt=Qt,Wt=ln,Xt=en;continue t}var pn=cn+4|0,dn=l[pn>>2];if(0==(c[dn+60|0]&1)<<24>>24){var vn=l[cn>>2];T=(vn+4|0)>>1;if(0==(i[T]&32)<<16>>16)var mn=fn,gn=ln;else{(ln|0)<(qt|0)||O(N.J|0,68,N.Ne|0,N.Dg|0);var yn=ln+1|0;l[St>>2]=yn,l[((ln<<2)+Rt|0)>>2]=dn,c[l[pn>>2]+60|0]=1,0!=(i[T]&1)<<16>>16?mn=fn:((fn|0)<(lt|0)||O(N.t|0,524,N.Ia|0,N.Vb|0),l[((fn<<2)+wt|0)>>2]=vn,i[T]|=1,mn=fn+1|0),gn=yn}}else mn=fn,gn=ln;an=cn+12|0,fn=mn,ln=gn}}var bn=z,wn=W,En=m,Sn=Lt,xn=0!=(c[At]&1)<<24>>24,Tn=Ia,Nn=Ia,Cn=Ia,kn=Ia,An=Ia,On=Ia,Mn=Ia,_n=Ia,Pn=Ia,Hn=Ia,Bn=Ia,jn=Ia,Fn=Ia,In=Ia,qn=Ia,Rn=Ia,Un=a;a+=148;var zn=Un+20,Wn=Un+52,Rn=Wn>>2,Xn=Un+96,qn=Xn>>2,Vn=p[En>>2],In=(bn+28|0)>>2,$n=0<(l[In]|0);t:do if($n)for(var Jn=bn+8|0,Kn=Sn|0,Qn=Sn+4|0,Gn=bn+20|0,Yn=bn+24|0,Zn=0;;){var er=l[l[Jn>>2]+(Zn<<2)>>2],Fn=er>>2,tr=er+44|0,nr=p[tr>>2],rr=p[Fn+12],ir=p[Fn+14],sr=er+64|0,or=sr|0,ur=sr+4|0,ar=l[ur>>2],fr=(s[0]=l[or>>2],L[0]),lr=(s[0]=ar,L[0]),cr=p[Fn+18],hr=tr,pr=er+36|0,dr=l[hr+4>>2];l[(pr|0)>>2]=l[hr>>2],l[(pr+4|0)>>2]=dr,p[Fn+13]=ir;if(2==(l[Fn]|0))var vr=p[Fn+35],mr=p[Fn+30],gr=1-Vn*p[Fn+33],yr=1>gr?gr:1,br=0>yr?0:yr,wr=1-Vn*p[Fn+34],Er=1>wr?wr:1,Sr=(cr+Vn*p[Fn+32]*p[Fn+21])*(0>Er?0:Er),xr=(fr+(p[Kn>>2]*vr+p[Fn+19]*mr)*Vn)*br,Tr=(lr+(p[Qn>>2]*vr+p[Fn+20]*mr)*Vn)*br;else Sr=cr,xr=fr,Tr=lr;var Nr=l[Gn>>2];p[(Nr>>2)+(3*Zn|0)]=nr,p[(Nr+4>>2)+(3*Zn|0)]=rr,p[(l[Gn>>2]+8>>2)+(3*Zn|0)]=ir;var Cr=l[Yn>>2]+12*Zn|0,kr=(L[0]=xr,s[0]),Lr=(L[0]=Tr,s[0])|0;l[(Cr|0)>>2]=0|kr,l[(Cr+4|0)>>2]=Lr,p[(l[Yn>>2]+8>>2)+(3*Zn|0)]=Sr;var Ar=Zn+1|0;if((Ar|0)>=(l[In]|0)){var Or=Gn,jn=Or>>2,Mr=Yn,Bn=Mr>>2;break t}Zn=Ar}else Or=bn+20|0,jn=Or>>2,Mr=bn+24|0,Bn=Mr>>2;while(0);Hn=zn>>2,Pn=En>>2,l[Hn]=l[Pn],l[Hn+1]=l[Pn+1],l[Hn+2]=l[Pn+2],l[Hn+3]=l[Pn+3],l[Hn+4]=l[Pn+4],l[Hn+5]=l[Pn+5];var _r=l[jn];l[zn+24>>2]=_r;var Dr=l[Bn];l[zn+28>>2]=Dr,_n=Wn>>2,l[_n]=l[Pn],l[_n+1]=l[Pn+1],l[_n+2]=l[Pn+2],l[_n+3]=l[Pn+3],l[_n+4]=l[Pn+4],l[_n+5]=l[Pn+5];var Pr=bn+12|0;l[Rn+6]=l[Pr>>2],Mn=(bn+36|0)>>2,l[Rn+7]=l[Mn],l[Rn+8]=_r,l[Rn+9]=Dr,l[Rn+10]=l[bn>>2],Sp(Xn,Wn),Tp(Xn);if(0!=(c[En+20|0]&1)<<24>>24){var Hr=Xn,Br=Ia,jr=Ia,Fr=Hr+48|0,Ir=0<(l[Fr>>2]|0);t:do if(Ir)for(var qr=Hr+40|0,jr=(Hr+28|0)>>2,Rr=0;;){var Ur=l[qr>>2],Br=Ur>>2,zr=l[Br+(38*Rr|0)+28],Wr=l[Br+(38*Rr|0)+29],Xr=p[Br+(38*Rr|0)+30],Vr=p[Br+(38*Rr|0)+32],$r=p[Br+(38*Rr|0)+31],Jr=p[Br+(38*Rr|0)+33],Kr=l[Br+(38*Rr|0)+36],Qr=l[jr],Gr=Qr+12*zr|0,Yr=l[Gr+4>>2],Zr=(s[0]=l[Gr>>2],L[0]),ei=(s[0]=Yr,L[0]),ti=p[(Qr+8>>2)+(3*zr|0)],ni=Qr+12*Wr|0,ri=l[ni+4>>2],ii=(s[0]=l[ni>>2],L[0]),si=(s[0]=ri,L[0]),oi=p[(Qr+8>>2)+(3*Wr|0)],ui=Ur+152*Rr+72|0,ai=l[ui+4>>2],fi=(s[0]=l[ui>>2],L[0]),li=(s[0]=ai,L[0]),ci=-1*fi,hi=0<(Kr|0);n:do if(hi)for(var pi=si,di=ii,vi=ei,mi=Zr,gi=ti,yi=oi,bi=0;;){var wi=p[Br+(38*Rr|0)+(9*bi|0)+4],Ei=p[Br+(38*Rr|0)+(9*bi|0)+5],Si=fi*wi+li*Ei,xi=li*wi+ci*Ei,Ti=gi-Vr*(p[Br+(38*Rr|0)+(9*bi|0)]*xi-p[Br+(38*Rr|0)+(9*bi|0)+1]*Si),Ni=mi-Si*Xr,Ci=vi-xi*Xr,ki=yi+Jr*(p[Br+(38*Rr|0)+(9*bi|0)+2]*xi-p[Br+(38*Rr|0)+(9*bi|0)+3]*Si),Li=di+Si*$r,Ai=pi+xi*$r,Oi=bi+1|0;if((Oi|0)==(Kr|0)){var Mi=Ai,_i=Li,Di=Ci,Pi=Ni,Hi=Ti,Bi=ki;break n}pi=Ai,di=Li,vi=Ci,mi=Ni,gi=Ti,yi=ki,bi=Oi}else Mi=si,_i=ii,Di=ei,Pi=Zr,Hi=ti,Bi=oi;while(0);var ji=(L[0]=Pi,s[0]),Fi=(L[0]=Di,s[0])|0;l[(Gr|0)>>2]=0|ji,l[(Gr+4|0)>>2]=Fi,p[(l[jr]+8>>2)+(3*zr|0)]=Hi;var Ii=l[jr]+12*Wr|0,qi=(L[0]=_i,s[0]),Ri=(L[0]=Mi,s[0])|0;l[(Ii|0)>>2]=0|qi,l[(Ii+4|0)>>2]=Ri,p[(l[jr]+8>>2)+(3*Wr|0)]=Bi;var Ui=Rr+1|0;if((Ui|0)>=(l[Fr>>2]|0))break t;Rr=Ui}while(0)}for(var On=(bn+32|0)>>2,An=(bn+16|0)>>2,zi=0;(zi|0)<(l[On]|0);){var Wi=l[l[An]+(zi<<2)>>2];K[l[l[Wi>>2]+28>>2]](Wi,zn),zi=zi+1|0}p[wn+12>>2]=0;for(var Xi=En+12|0,Vi=0;(Vi|0)<(l[Xi>>2]|0);){for(var $i=0;($i|0)<(l[On]|0);){var Ji=l[l[An]+($i<<2)>>2];K[l[l[Ji>>2]+32>>2]](Ji,zn),$i=$i+1|0}Up(Xn),Vi=Vi+1|0}var Ki=l[qn+12],Qi=0<(Ki|0);t:do if(Qi)for(var Gi=l[qn+10],kn=Gi>>2,Yi=l[qn+11],Zi=0;;){var es=l[Yi+(l[kn+(38*Zi|0)+37]<<2)>>2],ts=Gi+152*Zi+144|0,ns=0<(l[ts>>2]|0);n:do if(ns)for(var rs=0;;){p[(es+72>>2)+(5*rs|0)]=p[kn+(38*Zi|0)+(9*rs|0)+4],p[(es+76>>2)+(5*rs|0)]=p[kn+(38*Zi|0)+(9*rs|0)+5];var is=rs+1|0;if((is|0)>=(l[ts>>2]|0))break n;rs=is}while(0);var ss=Zi+1|0;if((ss|0)>=(Ki|0))break t;Zi=ss}while(0);p[wn+16>>2]=0;var os=0<(l[In]|0);t:do if(os)for(var us=0;;){var as=l[jn],fs=as+12*us|0,ls=l[fs+4>>2],cs=(s[0]=l[fs>>2],L[0]),hs=(s[0]=ls,L[0]),ps=p[(as+8>>2)+(3*us|0)],ds=l[Bn],vs=ds+12*us|0,ms=l[vs+4>>2],gs=(s[0]=l[vs>>2],L[0]),ys=(s[0]=ms,L[0]),bs=p[(ds+8>>2)+(3*us|0)],ws=gs*Vn,Es=ys*Vn,Ss=ws*ws+Es*Es;if(4<Ss)var xs=2/dg(Ss),Ts=gs*xs,Ns=ys*xs;else Ts=gs,Ns=ys;var Cs=Vn*bs,ks=2.4674012660980225<Cs*Cs?bs*(1.5707963705062866/(0<Cs?Cs:-Cs)):bs,Ls=hs+Ns*Vn,As=ps+Vn*ks,Os=(L[0]=cs+Ts*Vn,s[0]),Ms=(L[0]=Ls,s[0])|0;l[(fs|0)>>2]=0|Os,l[(fs+4|0)>>2]=Ms,p[(l[jn]+8>>2)+(3*us|0)]=As;var _s=l[Bn]+12*us|0,Ds=(L[0]=Ts,s[0]),Ps=(L[0]=Ns,s[0])|0;l[(_s|0)>>2]=0|Ds,l[(_s+4|0)>>2]=Ps,p[(l[Bn]+8>>2)+(3*us|0)]=ks;var Hs=us+1|0;if((Hs|0)>=(l[In]|0))break t;us=Hs}while(0);for(var Bs=En+16|0,js=0;;){if((js|0)>=(l[Bs>>2]|0)){var Fs=1;break}var Is,qs=Xn,Rs=Ia,Us=Ia,zs=a;a+=52;var Ws=zs+16,Xs=zs+32,Vs=qs+48|0,$s=0<(l[Vs>>2]|0);t:do if($s)for(var Js=qs+36|0,Us=(qs+24|0)>>2,Ks=zs+8|0,Qs=zs+12|0,Gs=Ws+8|0,Ys=Ws+12|0,Zs=zs,eo=Ws,to=Xs,no=Xs+8|0,ro=Xs+16|0,io=0,so=0;;){var oo=l[Js>>2],Rs=oo>>2,uo=oo+88*io|0,ao=l[Rs+(22*io|0)+8],fo=l[Rs+(22*io|0)+9],lo=oo+88*io+48|0,co=l[lo+4>>2],ho=(s[0]=l[lo>>2],L[0]),po=(s[0]=co,L[0]),vo=p[Rs+(22*io|0)+10],mo=p[Rs+(22*io|0)+16],go=oo+88*io+56|0,yo=l[go+4>>2],bo=(s[0]=l[go>>2],L[0]),wo=(s[0]=yo,L[0]),Eo=p[Rs+(22*io|0)+11],xo=p[Rs+(22*io|0)+17],To=l[Rs+(22*io|0)+21],Co=l[Us],ko=Co+12*ao|0,Lo=l[ko+4>>2],Ao=(s[0]=l[ko>>2],L[0]),Oo=(s[0]=Lo,L[0]),_o=p[(Co+8>>2)+(3*ao|0)],Do=Co+12*fo|0,Po=l[Do+4>>2],Ho=(s[0]=l[Do>>2],L[0]),Bo=(s[0]=Po,L[0]),jo=p[(Co+8>>2)+(3*fo|0)];if(0<(To|0)){for(var Fo=vo+Eo,Io=Bo,qo=Ho,Ro=Oo,Uo=Ao,zo=_o,Wo=jo,Xo=so,Vo=0;;){var $o=Yk(zo);p[Ks>>2]=$o;var Jo=Zk(zo);p[Qs>>2]=Jo;var Ko=Yk(Wo);p[Gs>>2]=Ko;var Qo=Zk(Wo);p[Ys>>2]=Qo;var Go=Ro-($o*ho+Jo*po),Yo=(L[0]=Uo-(Jo*ho-$o*po),s[0]),Zo=(L[0]=Go,s[0])|0;l[Zs>>2]=0|Yo,l[Zs+4>>2]=Zo;var eu=Io-(Ko*bo+Qo*wo),tu=(L[0]=qo-(Qo*bo-Ko*wo),s[0]),nu=(L[0]=eu,s[0])|0;l[eo>>2]=0|tu,l[eo+4>>2]=nu,Vp(Xs,uo,zs,Ws,Vo);var ru=l[to+4>>2],iu=(s[0]=l[to>>2],L[0]),su=(s[0]=ru,L[0]),ou=l[no+4>>2],uu=(s[0]=l[no>>2],L[0]),au=(s[0]=ou,L[0]),fu=p[ro>>2],lu=uu-Uo,cu=au-Ro,hu=uu-qo,pu=au-Io,du=Xo<fu?Xo:fu,vu=.20000000298023224*(fu+.004999999888241291),mu=0>vu?vu:0,gu=lu*su-cu*iu,yu=hu*su-pu*iu,bu=Fo+mo*gu*gu+xo*yu*yu,wu=0<bu?-(-0.20000000298023224>mu?-0.20000000298023224:mu)/bu:0,Eu=iu*wu,Su=su*wu,xu=Uo-Eu*vo,Tu=Ro-Su*vo,Nu=zo-mo*(lu*Su-cu*Eu),Cu=qo+Eu*Eo,ku=Io+Su*Eo,Lu=Wo+xo*(hu*Su-pu*Eu),Au=Vo+1|0;if((Au|0)==(To|0))break;Io=ku,qo=Cu,Ro=Tu,Uo=xu,zo=Nu,Wo=Lu,Xo=du,Vo=Au}var Ou=ku,Mu=Cu,_u=Tu,Du=xu,Pu=Nu,Hu=Lu,Bu=du,ju=l[Us]}else Ou=Bo,Mu=Ho,_u=Oo,Du=Ao,Pu=_o,Hu=jo,Bu=so,ju=Co;var Fu=ju+12*ao|0,Iu=(L[0]=Du,s[0]),qu=(L[0]=_u,s[0])|0;l[(Fu|0)>>2]=0|Iu,l[(Fu+4|0)>>2]=qu,p[(l[Us]+8>>2)+(3*ao|0)]=Pu;var Ru=l[Us]+12*fo|0,Uu=(L[0]=Mu,s[0]),zu=(L[0]=Ou,s[0])|0;l[(Ru|0)>>2]=0|Uu,l[(Ru+4|0)>>2]=zu,p[(l[Us]+8>>2)+(3*fo|0)]=Hu;var Wu=io+1|0;if((Wu|0)>=(l[Vs>>2]|0)){var Xu=Bu;break t}io=Wu,so=Bu}else Xu=0;while(0);a=zs,Is=-0.014999999664723873<=Xu;for(var Vu=0,$u=1;(Vu|0)<(l[On]|0);)var Ju=l[l[An]+(Vu<<2)>>2],Ku=K[l[l[Ju>>2]+36>>2]](Ju,zn),Qu=$u&Ku,Vu=Vu+1|0,$u=Qu;if(Is&$u){Fs=0;break}js=js+1|0}var Gu=0<(l[In]|0);t:do if(Gu)for(var Yu=bn+8|0,Zu=0;;){var ea=l[l[Yu>>2]+(Zu<<2)>>2],Cn=ea>>2,ta=l[jn]+12*Zu|0,na=ea+44|0,ra=l[ta>>2],ia=l[ta+4>>2],or=na|0;l[or>>2]=ra,ur=na+4|0,l[ur>>2]=ia;var sa=p[(l[jn]+8>>2)+(3*Zu|0)];p[Cn+14]=sa;var oa=l[Bn]+12*Zu|0,ua=ea+64|0,aa=l[oa+4>>2];l[(ua|0)>>2]=l[oa>>2],l[(ua+4|0)>>2]=aa,p[Cn+18]=p[(l[Bn]+8>>2)+(3*Zu|0)];var fa=Yk(sa);p[Cn+5]=fa;var la=Zk(sa);p[Cn+6]=la;var ca=ea+12|0,ha=p[Cn+7],pa=p[Cn+8],da=la*ha-fa*pa,va=fa*ha+la*pa,ma=(s[0]=ra,L[0])-da,ga=(s[0]=ia,L[0])-va,ya=ca,ba=(L[0]=ma,s[0]),wa=(L[0]=ga,s[0])|0;l[(ya|0)>>2]=0|ba,l[(ya+4|0)>>2]=wa;var Ea=Zu+1|0;if((Ea|0)>=(l[In]|0))break t;Zu=Ea}while(0);p[wn+20>>2]=0;var Sa=o[qn+10],Nn=Sa>>2,xa=bn+4|0,Ta=0==(l[xa>>2]|0);t:do if(!Ta&&0<(l[Mn]|0))for(var Na=Un+16|0,Ca=0;;){var ka=l[l[Pr>>2]+(Ca<<2)>>2],La=l[Nn+(38*Ca|0)+36];l[Na>>2]=La;var Aa=0<(La|0);n:do if(Aa)for(var Oa=0;;){p[Un+(Oa<<2)>>2]=p[Nn+(38*Ca|0)+(9*Oa|0)+4],p[Un+(Oa<<2)+8>>2]=p[Nn+(38*Ca|0)+(9*Oa|0)+5];var Ma=Oa+1|0;if((Ma|0)==(La|0))break n;Oa=Ma}while(0);var _a=l[xa>>2];K[l[l[_a>>2]+20>>2]](_a,ka,Un);var Da=Ca+1|0;if((Da|0)>=(l[Mn]|0))break t;Ca=Da}while(0);t:do if(xn&&0<(l[In]|0)){for(var Pa=bn+8|0,Ha=3.4028234663852886e38,Ba=0;;){var ja=l[l[Pa>>2]+(Ba<<2)>>2],Fa=0==(l[ja>>2]|0);n:do if(Fa)var qa=Ha;else{var Ra=0==(i[ja+4>>1]&4)<<16>>16;do if(!Ra){var Ua=p[ja+72>>2];if(.001218469929881394>=Ua*Ua){var za=p[ja+64>>2],Wa=p[ja+68>>2];if(9999999747378752e-20>=za*za+Wa*Wa){var Xa=ja+144|0,Va=p[Xa>>2]+Vn;p[Xa>>2]=Va,qa=Ha<Va?Ha:Va;break n}}}while(0);qa=p[ja+144>>2]=0}while(0);var $a=Ba+1|0,Ja=o[In];if(($a|0)>=(Ja|0))break;Ha=qa,Ba=$a}if(0<(Ja|0)&((.5>qa|Fs)^1))for(var Ka=0;;){var Qa=l[l[Pa>>2]+(Ka<<2)>>2],Ga=Qa+4|0;i[Ga>>1]&=-3,p[Qa+144>>2]=0,Tn=(Qa+64|0)>>2,l[Tn]=0,l[Tn+1]=0,l[Tn+2]=0,l[Tn+3]=0,l[Tn+4]=0,l[Tn+5]=0;var Ya=Ka+1|0;if((Ya|0)>=(l[In]|0))break t;Ka=Ya}}while(0);var Za=l[qn+8];hn(Za,Sa),hn(Za,l[qn+9]),a=Un,p[I]+=p[Ot>>2],p[F]+=p[Mt>>2],p[j]+=p[_t>>2];var ef=l[D];if(0<(ef|0))for(var tf=l[_],nf=0;;){var rf=l[tf+(nf<<2)>>2];if(0==(l[rf>>2]|0)){var sf=rf+4|0;i[sf>>1]&=-2}var of=nf+1|0;if((of|0)>=(ef|0))break e;nf=of}}while(0);Dt=Pt+96|0}hn($,wt);for(var uf=U+8|0,af=U+12|0,ff=J;;){var lf=l[ff>>2];if(0==(lf|0))break;var cf=0==(i[lf+4>>1]&1)<<16>>16;e:do if(!cf&&0!=(l[lf>>2]|0)){var hf=p[lf+52>>2],pf=Yk(hf);p[uf>>2]=pf;var df=Zk(hf);p[af>>2]=df;var vf=p[lf+28>>2],mf=p[lf+32>>2],gf=p[lf+40>>2]-(pf*vf+df*mf),yf=(L[0]=p[lf+36>>2]-(df*vf-pf*mf),s[0]),bf=(L[0]=gf,s[0])|0;l[U>>2]=0|yf,l[U+4>>2]=bf;var wf=l[lf+88>>2]+102872|0,Ef=l[lf+100>>2];if(0!=(Ef|0))for(var Sf=lf+12|0,xf=Ef;;){Dn(xf,wf,U,Sf);var Tf=l[xf+4>>2];if(0==(Tf|0))break e;xf=Tf}}while(0);ff=lf+96|0}Ln(V|0,V),p[R+25755]=0;var Nf=l[q];hn(Nf,l[q+5]),hn(Nf,l[q+6]),hn(Nf,l[kt>>2]),hn(Nf,l[Nt>>2]),hn(Nf,l[_]),a=U,p[v+25751]=0}if(0==(c[e+102993|0]&1)<<24>>24)g=12;else{var Cf=p[f];if(0<Cf){var kf,Lf,Af,Of,Mf,_f,Df,Pf,Hf,Bf,jf,Ff,If,qf,Rf,Uf,zf,Wf,Xf,Vf,$f,Jf,Kf,Qf,Gf,Yf,Zf,el,tl,nl,rl,il,sl,ol,ul,al,fl,ll,cl,hl,pl,dl,vl,ml,gl=a;a+=240;var yl,bl=gl+16;ml=bl>>2;var wl=gl+68,El=gl+200,Sl=gl+208,xl=gl+216,Tl=e+68|0,Nl=e+102872|0;vl=(e+102944|0)>>2,So(bl,64,32,0,Tl,l[vl]);var Cl=e+102995|0,kl=0==(c[Cl]&1)<<24>>24;e:do if(kl)var Ll=e+102932|0;else{var Al=l[e+102952>>2],Ol=0==(Al|0);t:do if(!Ol)for(var Ml=Al;;){var _l=Ml+4|0;i[_l>>1]&=-2,p[Ml+60>>2]=0;var Dl=l[Ml+96>>2];if(0==(Dl|0))break t;Ml=Dl}while(0);var Pl=e+102932|0,Hl=l[Pl>>2];if(0==(Hl|0))Ll=Pl;else{var Bl=Hl;for(dl=Bl>>2;;){var jl=Bl+4|0;l[jl>>2]&=-34,l[dl+32]=0,p[dl+33]=1;var Fl=l[dl+3];if(0==(Fl|0)){Ll=Pl;break e}Bl=Fl,dl=Bl>>2}}}while(0);var Il=wl+16|0,ql=wl+20|0,Rl=wl+24|0,Ul=wl+44|0,zl=wl+48|0,Wl=wl+52|0,Xl=wl|0,Vl=wl+28|0,$l=wl+56|0,Jl=wl+92|0,Kl=wl+128|0,Ql=El|0,Gl=El+4|0;pl=(bl+28|0)>>2,hl=(bl+36|0)>>2;var Yl=bl+32|0,Zl=bl+40|0;cl=(bl+8|0)>>2;var ec=bl+44|0;ll=(bl+12|0)>>2;for(var tc=Sl|0,nc=Sl+4|0,rc=m|0,ic=xl|0,sc=xl+4|0,oc=xl+8|0,uc=xl+16|0,ac=m+12|0,fc=xl+12|0,lc=xl+20|0,cc=gl+8|0,hc=gl+12|0,pc=Nl|0,dc=e+102994|0,vc=0,mc=1,gc=Ll;;){var yc=l[gc>>2];fl=yc>>2;if(0==(yc|0)){if(0==(vc|0)|.9999988079071045<mc){var bc=1,wc=l[cl];break}var Ec=l[l[vc+48>>2]+8>>2],Sc=l[l[vc+52>>2]+8>>2];al=(Ec+28|0)>>2;var xc=p[al];ul=(Ec+32|0)>>2;var Tc=p[ul],Nc=Ec+36|0,Cc=p[Nc>>2];ol=(Ec+40|0)>>2;var kc=p[ol];sl=(Ec+44|0)>>2;var Lc=p[sl];il=(Ec+48|0)>>2;var Ac=p[il];rl=(Ec+52|0)>>2;var Oc=p[rl];nl=(Ec+56|0)>>2;var Mc=p[nl];tl=(Ec+60|0)>>2;var _c=p[tl];el=(Sc+28|0)>>2;var Dc=p[el];Zf=(Sc+32|0)>>2;var Hc=p[Zf],Bc=Sc+36|0,jc=p[Bc>>2];Yf=(Sc+40|0)>>2;var Fc=p[Yf];Gf=(Sc+44|0)>>2;var qc=p[Gf];Qf=(Sc+48|0)>>2;var Rc=p[Qf];Kf=(Sc+52|0)>>2;var Uc=p[Kf];Jf=(Sc+56|0)>>2;var zc=p[Jf];$f=(Sc+60|0)>>2;var Wc=p[$f];if(1>_c)var Xc=_c,Vc=Cc,$c=kc,Jc=Lc,Kc=Ac,Qc=Oc,Gc=Mc,Yc=xc,Zc=Tc,eh=Ec+36|0;else{O(N.ca|0,723,N.Z|0,N.V|0);var th=Ec+36|0,Xc=p[tl],Vc=p[th>>2],$c=p[ol],Jc=p[sl],Kc=p[il],Qc=p[rl],Gc=p[nl],Yc=p[al],Zc=p[ul],eh=th}var nh=(mc-Xc)/(1-Xc),rh=1-nh,ih=Vc*rh+Jc*nh,sh=$c*rh+Kc*nh,oh=eh,ah=(L[0]=ih,s[0]),fh=(L[0]=sh,s[0]),lh=0|ah,ch=fh|0,hh=oh|0;Vf=hh>>2,l[Vf]=lh;var ph=oh+4|0;Xf=ph>>2,l[Xf]=ch;var dh=rh*Qc+nh*Gc;p[rl]=dh,p[tl]=mc;var vh=Ec+44|0,mh=vh|0;l[mh>>2]=lh;var gh=vh+4|0;l[gh>>2]=ch,p[nl]=dh;var yh=Yk(dh),bh=Ec+20|0;p[bh>>2]=yh;var wh=Zk(dh),Eh=Ec+24|0;p[Eh>>2]=wh;var Sh=sh-(yh*Yc+wh*Zc),xh=Ec+12|0,Th=(L[0]=ih-(wh*Yc-yh*Zc),s[0]),Nh=(L[0]=Sh,s[0])|0,Ch=xh|0;l[Ch>>2]=0|Th;var kh=xh+4|0;l[kh>>2]=Nh;var Lh=p[$f];if(1>Lh)var Ah=Lh;else O(N.ca|0,723,N.Z|0,N.V|0),Ah=p[$f];var Oh=(mc-Ah)/(1-Ah),Mh=Sc+36|0,_h=1-Oh,Dh=p[Mh>>2]*_h+p[Gf]*Oh,Ph=p[Yf]*_h+p[Qf]*Oh,Hh=Mh,Bh=(L[0]=Dh,s[0]),jh=(L[0]=Ph,s[0]),Fh=0|Bh,Ih=jh|0;l[(Hh|0)>>2]=Fh,l[(Hh+4|0)>>2]=Ih;var qh=_h*p[Kf]+Oh*p[Jf];p[Kf]=qh,p[$f]=mc;var Rh=Sc+44|0;l[(Rh|0)>>2]=Fh,l[(Rh+4|0)>>2]=Ih,p[Jf]=qh;var Uh=Yk(qh),zh=Sc+20|0;p[zh>>2]=Uh;var Wh=Zk(qh),Xh=Sc+24|0;p[Xh>>2]=Wh;var Vh=p[el],$h=p[Zf],Jh=Ph-(Uh*Vh+Wh*$h),Kh=Sc+12|0,Qh=(L[0]=Dh-(Wh*Vh-Uh*$h),s[0]),Gh=(L[0]=Jh,s[0])|0;l[(Kh|0)>>2]=0|Qh,l[(Kh+4|0)>>2]=Gh,No(vc,l[vl]),Wf=(vc+4|0)>>2;var Yh=l[Wf];l[Wf]=Yh&-33;var Zh=vc+128|0;l[Zh>>2]=l[Zh>>2]+1|0;if(6==(Yh&6|0)){zf=(Ec+4|0)>>1;var ep=i[zf];0==(ep&2)<<16>>16&&(i[zf]=ep|2,p[Ec+144>>2]=0),Uf=(Sc+4|0)>>1;var tp=i[Uf];0==(tp&2)<<16>>16&&(i[Uf]=tp|2,p[Sc+144>>2]=0),l[pl]=0,l[hl]=0,l[Yl>>2]=0;var np=l[Zl>>2];if(0<(np|0)){var rp=Ec+8|0;l[rp>>2]=0;var ip=l[cl];l[ip>>2]=Ec,l[pl]=1;if(1<(np|0)){var sp=rp,op=ip;yl=71}else fp=rp,lp=ip,yl=70}else{O(N.J|0,54,N.oa|0,N.Ba|0);var up=Ec+8|0;l[up>>2]=0;var ap=l[cl];l[ap>>2]=Ec,l[pl]=1;var fp=up,lp=ap;yl=70}70==yl&&(O(N.J|0,54,N.oa|0,N.Ba|0),sp=fp,op=lp);var cp=Sc+8|0;l[cp>>2]=1,l[op+4>>2]=Sc,l[pl]=2,0<(l[ec>>2]|0)||O(N.J|0,62,N.Ja|0,N.Xa|0),l[hl]=1,l[l[ll]>>2]=vc,i[zf]|=1,i[Uf]|=1,l[Wf]|=1,l[tc>>2]=Ec,l[nc>>2]=Sc;for(var hp=l[Zl>>2],pp=l[ec>>2],dp=l[ll],vp=l[cl],mp=0;2>(mp|0);){var gp=l[Sl+(mp<<2)>>2],yp=2==(l[gp>>2]|0);e:do if(yp)for(var bp=gp+4|0,wp=gp+112|0;;){var Ep=l[wp>>2];if(0==(Ep|0))break e;var xp=l[pl];if((xp|0)==(hp|0))break e;var Np=l[hl];if((Np|0)==(pp|0))break e;var Cp=l[Ep+4>>2];Rf=(Cp+4|0)>>2;var kp=0==(l[Rf]&1|0);t:do if(kp){var Lp=l[Ep>>2],Ap=Lp|0,Op=2==(l[Ap>>2]|0);do if(Op&&0==(i[bp>>1]&8)<<16>>16&&0==(i[Lp+4>>1]&8)<<16>>16)break t;while(0);if(0==(c[l[Cp+48>>2]+38|0]&1)<<24>>24&&0==(c[l[Cp+52>>2]+38|0]&1)<<24>>24){qf=(Lp+28|0)>>2;var Mp=p[qf];If=(Lp+32|0)>>2;var _p=p[If];Ff=(Lp+36|0)>>2;var Dp=p[Ff];jf=(Lp+40|0)>>2;var Pp=p[jf];Bf=(Lp+44|0)>>2;var Hp=p[Bf];Hf=(Lp+48|0)>>2;var Bp=p[Hf];Pf=(Lp+52|0)>>2;var jp=p[Pf];Df=(Lp+56|0)>>2;var Fp=p[Df];_f=(Lp+60|0)>>2;var Ip=p[_f];Mf=(Lp+4|0)>>1;if(0==(i[Mf]&1)<<16>>16){if(1>Ip)var qp=Ip,Rp=Dp,zp=Pp,Jp=Hp,Kp=Bp,Qp=jp,Gp=Fp,ed=Mp,td=_p,nd=Lp+36|0;else{O(N.ca|0,723,N.Z|0,N.V|0);var rd=Lp+36|0,qp=p[_f],Rp=p[rd>>2],zp=p[jf],Jp=p[Bf],Kp=p[Hf],Qp=p[Pf],Gp=p[Df],ed=p[qf],td=p[If],nd=rd}var id=(mc-qp)/(1-qp),sd=1-id,od=Rp*sd+Jp*id,ud=zp*sd+Kp*id,ad=nd,fd=(L[0]=od,s[0]),ld=(L[0]=ud,s[0]),cd=0|fd,hd=ld|0,hh=ad|0;Vf=hh>>2,l[Vf]=cd,ph=ad+4|0,Xf=ph>>2,l[Xf]=hd;var pd=sd*Qp+id*Gp;p[Pf]=pd,p[_f]=mc;var dd=Lp+44|0,mh=dd|0;l[mh>>2]=cd,gh=dd+4|0,l[gh>>2]=hd,p[Df]=pd;var vd=Yk(pd);p[Lp+20>>2]=vd;var md=Zk(pd);p[Lp+24>>2]=md;var gd=ud-(vd*ed+md*td),yd=Lp+12|0,bd=(L[0]=od-(md*ed-vd*td),s[0]),wd=(L[0]=gd,s[0])|0,Ch=yd|0;l[Ch>>2]=0|bd,kh=yd+4|0,l[kh>>2]=wd}No(Cp,l[vl]);var Ed=l[Rf];if(0==(Ed&4|0)){p[qf]=Mp,p[If]=_p,p[Ff]=Dp,p[jf]=Pp,p[Bf]=Hp,p[Hf]=Bp,p[Pf]=jp,p[Df]=Fp,p[_f]=Ip;var Sd=Yk(Fp);p[Lp+20>>2]=Sd;var xd=Zk(Fp);p[Lp+24>>2]=xd;var Td=Bp-(Sd*Mp+xd*_p),Nd=Lp+12|0,Cd=(L[0]=Hp-(xd*Mp-Sd*_p),s[0]),kd=(L[0]=Td,s[0])|0,Ld=Nd|0;l[Ld>>2]=0|Cd;var Ad=Nd+4|0;l[Ad>>2]=kd}else if(0==(Ed&2|0)){p[qf]=Mp,p[If]=_p,p[Ff]=Dp,p[jf]=Pp,p[Bf]=Hp,p[Hf]=Bp,p[Pf]=jp,p[Df]=Fp,p[_f]=Ip;var Od=Yk(Fp);p[Lp+20>>2]=Od;var Md=Zk(Fp);p[Lp+24>>2]=Md;var _d=Bp-(Od*Mp+Md*_p),Dd=Lp+12|0,Pd=(L[0]=Hp-(Md*Mp-Od*_p),s[0]),Hd=(L[0]=_d,s[0])|0,Ld=Dd|0;l[Ld>>2]=0|Pd,Ad=Dd+4|0,l[Ad>>2]=Hd}else{l[Rf]=Ed|1,(Np|0)<(pp|0)||O(N.J|0,62,N.Ja|0,N.Xa|0),l[hl]=Np+1|0,l[((Np<<2)+dp|0)>>2]=Cp;var Bd=i[Mf];0==(Bd&1)<<16>>16&&(i[Mf]=Bd|1,0!=(l[Ap>>2]|0)&&0==(Bd&2)<<16>>16&&(i[Mf]=Bd|3,p[Lp+144>>2]=0),(xp|0)<(hp|0)||O(N.J|0,54,N.oa|0,N.Ba|0),l[(Lp+8|0)>>2]=xp,l[((xp<<2)+vp|0)>>2]=Lp,l[pl]=xp+1|0)}}}while(0);wp=Ep+12|0}while(0);mp=mp+1|0}var jd=(1-mc)*p[rc>>2];p[ic>>2]=jd,p[sc>>2]=1/jd,p[oc>>2]=1,l[uc>>2]=20,l[fc>>2]=l[ac>>2],c[lc]=0;var Fd=bl,Id=xl,qd=l[sp>>2],Rd=l[cp>>2],Ud=Ia,zd=Ia,Wd=Ia,Xd=Ia,Vd=Ia,$d=Ia,Jd=Ia,Kd=Ia,Qd=Ia,Gd=Ia,Yd=Ia,Zd=a;a+=116;var ev=Zd+20,Yd=ev>>2,tv=Zd+64,Gd=tv>>2,Qd=(Fd+28|0)>>2,nv=l[Qd];if((nv|0)>(qd|0))var rv=nv;else O(N.Jb|0,386,N.xb|0,N.of|0),rv=l[Qd];if((rv|0)>(Rd|0))var iv=rv;else O(N.Jb|0,387,N.xb|0,N.fg|0),iv=l[Qd];var sv=0<(iv|0);e:do if(sv)for(var ov=Fd+8|0,uv=Fd+20|0,av=Fd+24|0,fv=0;;){var lv=l[l[ov>>2]+(fv<<2)>>2],cv=lv+44|0,hv=l[uv>>2]+12*fv|0,pv=cv|0,dv=cv+4|0,vv=l[dv>>2],mv=hv|0;l[mv>>2]=l[pv>>2];var gv=hv+4|0;l[gv>>2]=vv,p[(l[uv>>2]+8>>2)+(3*fv|0)]=p[lv+56>>2];var yv=lv+64|0,bv=l[av>>2]+12*fv|0,wv=l[yv+4>>2];l[(bv|0)>>2]=l[yv>>2],l[(bv+4|0)>>2]=wv,p[(l[av>>2]+8>>2)+(3*fv|0)]=p[lv+72>>2];var Ev=fv+1|0;if((Ev|0)>=(l[Qd]|0)){var Sv=uv,Kd=Sv>>2,xv=av,Jd=xv>>2;break e}fv=Ev}else Sv=Fd+20|0,Kd=Sv>>2,xv=Fd+24|0,Jd=xv>>2;while(0);var Tv=Fd+12|0;l[Yd+6]=l[Tv>>2],$d=(Fd+36|0)>>2,l[Yd+7]=l[$d],l[Yd+10]=l[Fd>>2],Vd=ev>>2,Xd=Id>>2,l[Vd]=l[Xd],l[Vd+1]=l[Xd+1],l[Vd+2]=l[Xd+2],l[Vd+3]=l[Xd+3],l[Vd+4]=l[Xd+4],l[Vd+5]=l[Xd+5],l[Yd+8]=l[Kd],l[Yd+9]=l[Jd],Sp(tv,ev);for(var Nv=Id+16|0,Cv=0;(Cv|0)<(l[Nv>>2]|0);){var kv=tv,Lv=qd,Av=Rd,Ov=Ia,Mv=Ia,_v=a;a+=52;var Dv=_v+16,Pv=_v+32,Hv=kv+48|0,Bv=0<(l[Hv>>2]|0);e:do if(Bv)for(var jv=kv+36|0,Mv=(kv+24|0)>>2,Fv=_v+8|0,Iv=_v+12|0,qv=Dv+8|0,Rv=Dv+12|0,Uv=_v,zv=Dv,Wv=Pv,Xv=Pv+8|0,Vv=Pv+16|0,$v=0,Jv=0;;){var Kv=l[jv>>2],Ov=Kv>>2,Qv=Kv+88*$v|0,Gv=l[Ov+(22*$v|0)+8],Yv=l[Ov+(22*$v|0)+9],Zv=Kv+88*$v+48|0,em=l[Zv+4>>2],tm=(s[0]=l[Zv>>2],L[0]),nm=(s[0]=em,L[0]),rm=Kv+88*$v+56|0,im=l[rm+4>>2],sm=(s[0]=l[rm>>2],L[0]),om=(s[0]=im,L[0]),um=l[Ov+(22*$v|0)+21];if((Gv|0)==(Lv|0)|(Gv|0)==(Av|0))var am=p[Ov+(22*$v|0)+16],fm=p[Ov+(22*$v|0)+10];else fm=am=0;var lm=p[Ov+(22*$v|0)+17],cm=p[Ov+(22*$v|0)+11],hm=l[Mv],pm=hm+12*Gv|0,dm=l[pm+4>>2],vm=(s[0]=l[pm>>2],L[0]),mm=(s[0]=dm,L[0]),gm=p[(hm+8>>2)+(3*Gv|0)],ym=hm+12*Yv|0,bm=l[ym+4>>2],wm=(s[0]=l[ym>>2],L[0]),Em=(s[0]=bm,L[0]),Sm=p[(hm+8>>2)+(3*Yv|0)];if(0<(um|0)){for(var xm=fm+cm,Tm=Em,Nm=wm,Cm=mm,km=vm,Lm=Jv,Am=gm,Om=Sm,Mm=0;;){var _m=Yk(Am);p[Fv>>2]=_m;var Dm=Zk(Am);p[Iv>>2]=Dm;var Pm=Yk(Om);p[qv>>2]=Pm;var Hm=Zk(Om);p[Rv>>2]=Hm;var Bm=Cm-(_m*tm+Dm*nm),jm=(L[0]=km-(Dm*tm-_m*nm),s[0]),Fm=(L[0]=Bm,s[0])|0;l[Uv>>2]=0|jm,l[Uv+4>>2]=Fm;var Im=Tm-(Pm*sm+Hm*om),qm=(L[0]=Nm-(Hm*sm-Pm*om),s[0]),Rm=(L[0]=Im,s[0])|0;l[zv>>2]=0|qm,l[zv+4>>2]=Rm,Vp(Pv,Qv,_v,Dv,Mm);var Um=l[Wv+4>>2],zm=(s[0]=l[Wv>>2],L[0]),Wm=(s[0]=Um,L[0]),Xm=l[Xv+4>>2],Vm=(s[0]=l[Xv>>2],L[0]),$m=(s[0]=Xm,L[0]),Jm=p[Vv>>2],Km=Vm-km,Qm=$m-Cm,Gm=Vm-Nm,Ym=$m-Tm,Zm=Lm<Jm?Lm:Jm,eg=.75*(Jm+.004999999888241291),tg=0>eg?eg:0,ng=Km*Wm-Qm*zm,rg=Gm*Wm-Ym*zm,ig=xm+am*ng*ng+lm*rg*rg,sg=0<ig?-(-0.20000000298023224>tg?-0.20000000298023224:tg)/ig:0,og=zm*sg,ug=Wm*sg,ag=km-og*fm,fg=Cm-ug*fm,lg=Am-am*(Km*ug-Qm*og),cg=Nm+og*cm,hg=Tm+ug*cm,pg=Om+lm*(Gm*ug-Ym*og),vg=Mm+1|0;if((vg|0)==(um|0))break;Tm=hg,Nm=cg,Cm=fg,km=ag,Lm=Zm,Am=lg,Om=pg,Mm=vg}var mg=hg,gg=cg,yg=fg,bg=ag,wg=Zm,Eg=lg,Sg=pg,xg=l[Mv]}else mg=Em,gg=wm,yg=mm,bg=vm,wg=Jv,Eg=gm,Sg=Sm,xg=hm;var Ng=xg+12*Gv|0,Cg=(L[0]=bg,s[0]),kg=(L[0]=yg,s[0])|0;l[(Ng|0)>>2]=0|Cg,l[(Ng+4|0)>>2]=kg,p[(l[Mv]+8>>2)+(3*Gv|0)]=Eg;var Lg=l[Mv]+12*Yv|0,Ag=(L[0]=gg,s[0]),Og=(L[0]=mg,s[0])|0;l[(Lg|0)>>2]=0|Ag,l[(Lg+4|0)>>2]=Og,p[(l[Mv]+8>>2)+(3*Yv|0)]=Sg;var Mg=$v+1|0;if((Mg|0)>=(l[Hv>>2]|0)){var _g=wg;break e}$v=Mg,Jv=wg}else _g=0;while(0);a=_v;if(-0.007499999832361937<=_g)break;Cv=Cv+1|0}var Wd=(Fd+8|0)>>2,Dg=l[Kd]+12*qd|0,Pg=l[l[Wd]+(qd<<2)>>2]+36|0,pv=Dg|0,Hg=l[pv>>2],dv=Dg+4|0,Bg=l[dv>>2],mv=Pg|0;l[mv>>2]=Hg,gv=Pg+4|0,l[gv>>2]=Bg,p[l[l[Wd]+(qd<<2)>>2]+52>>2]=p[(l[Kd]+8>>2)+(3*qd|0)];var jg=l[Kd]+12*Rd|0,Fg=l[l[Wd]+(Rd<<2)>>2]+36|0,Ig=l[jg+4>>2],qg=Fg|0;l[qg>>2]=l[jg>>2];var Rg=Fg+4|0;l[Rg>>2]=Ig,p[l[l[Wd]+(Rd<<2)>>2]+52>>2]=p[(l[Kd]+8>>2)+(3*Rd|0)],Tp(tv);for(var Ug=Id+12|0,zg=0;(zg|0)<(l[Ug>>2]|0);)Up(tv),zg=zg+1|0;var Wg=p[Id>>2],Xg=0<(l[Qd]|0);e:do if(Xg)for(var Vg=0;;){var $g=l[Kd],Jg=$g+12*Vg|0,Kg=l[Jg+4>>2],Qg=(s[0]=l[Jg>>2],L[0]),Gg=(s[0]=Kg,L[0]),Yg=p[($g+8>>2)+(3*Vg|0)],Zg=l[Jd],ey=Zg+12*Vg|0,ty=l[ey+4>>2],ny=(s[0]=l[ey>>2],L[0]),ry=(s[0]=ty,L[0]),iy=p[(Zg+8>>2)+(3*Vg|0)],sy=ny*Wg,oy=ry*Wg,uy=sy*sy+oy*oy;if(4<uy)var ay=2/dg(uy),fy=ny*ay,ly=ry*ay;else fy=ny,ly=ry;var cy=Wg*iy,hy=2.4674012660980225<cy*cy?iy*(1.5707963705062866/(0<cy?cy:-cy)):iy,py=Qg+fy*Wg,dy=Gg+ly*Wg,vy=Yg+Wg*hy,my=(L[0]=py,s[0]),gy=(L[0]=dy,s[0]),yy=0|my,by=gy|0;l[(Jg|0)>>2]=yy,l[(Jg+4|0)>>2]=by,p[(l[Kd]+8>>2)+(3*Vg|0)]=vy;var wy=l[Jd]+12*Vg|0,Ey=(L[0]=fy,s[0]),Sy=(L[0]=ly,s[0]),xy=0|Ey,Ty=Sy|0,qg=wy|0;l[qg>>2]=xy,Rg=wy+4|0,l[Rg>>2]=Ty,p[(l[Jd]+8>>2)+(3*Vg|0)]=hy;var Ny=l[l[Wd]+(Vg<<2)>>2],zd=Ny>>2,Cy=Ny+44|0;l[(Cy|0)>>2]=yy,l[(Cy+4|0)>>2]=by,p[zd+14]=vy;var ky=Ny+64|0;l[(ky|0)>>2]=xy,l[(ky+4|0)>>2]=Ty,p[zd+18]=hy;var Ly=Yk(vy);p[zd+5]=Ly;var Ay=Zk(vy);p[zd+6]=Ay;var Oy=p[zd+7],My=p[zd+8],_y=dy-(Ly*Oy+Ay*My),Dy=Ny+12|0,Py=(L[0]=py-(Ay*Oy-Ly*My),s[0]),Hy=(L[0]=_y,s[0])|0;l[(Dy|0)>>2]=0|Py,l[(Dy+4|0)>>2]=Hy;var By=Vg+1|0;if((By|0)>=(l[Qd]|0))break e;Vg=By}while(0);var jy=l[Gd+10],Ud=jy>>2,Fy=Fd+4|0,Iy=0==(l[Fy>>2]|0);e:do if(!Iy&&0<(l[$d]|0))for(var qy=Zd+16|0,Ry=0;;){var Uy=l[l[Tv>>2]+(Ry<<2)>>2],zy=l[Ud+(38*Ry|0)+36];l[qy>>2]=zy;var Wy=0<(zy|0);t:do if(Wy)for(var Xy=0;;){p[Zd+(Xy<<2)>>2]=p[Ud+(38*Ry|0)+(9*Xy|0)+4],p[Zd+(Xy<<2)+8>>2]=p[Ud+(38*Ry|0)+(9*Xy|0)+5];var Vy=Xy+1|0;if((Vy|0)==(zy|0))break t;Xy=Vy}while(0);var $y=l[Fy>>2];K[l[l[$y>>2]+20>>2]]($y,Uy,Zd);var Jy=Ry+1|0;if((Jy|0)>=(l[$d]|0))break e;Ry=Jy}while(0);var Ky=l[Gd+8];hn(Ky,jy),hn(Ky,l[Gd+9]),a=Zd;for(var Qy=l[pl],Gy=l[cl],Yy=0;(Yy|0)<(Qy|0);){var Zy=l[Gy+(Yy<<2)>>2];Of=Zy>>2;var eb=Zy+4|0;i[eb>>1]&=-2;var tb=2==(l[Of]|0);e:do if(tb){var nb=p[Of+13],rb=Yk(nb);p[cc>>2]=rb;var ib=Zk(nb);p[hc>>2]=ib;var sb=p[Of+7],ob=p[Of+8],ub=p[Of+10]-(rb*sb+ib*ob),ab=(L[0]=p[Of+9]-(ib*sb-rb*ob),s[0]),fb=(L[0]=ub,s[0])|0;l[gl>>2]=0|ab,l[gl+4>>2]=fb;var lb=l[Of+22]+102872|0,cb=l[Of+25],hb=0==(cb|0);t:do if(!hb)for(var pb=Zy+12|0,db=cb;;){Dn(db,lb,gl,pb);var vb=l[db+4>>2];if(0==(vb|0))break t;db=vb}while(0);var mb=l[Of+28];if(0!=(mb|0))for(var gb=mb;;){var yb=l[gb+4>>2]+4|0;l[yb>>2]&=-34;var bb=l[gb+12>>2];if(0==(bb|0))break e;gb=bb}}while(0);Yy=Yy+1|0}Ln(pc,Nl);if(0!=(c[dc]&1)<<24>>24){bc=0,wc=Gy;break}}else{l[Wf]=Yh&-37,p[al]=xc,p[ul]=Tc,p[Nc>>2]=Cc,p[ol]=kc,p[sl]=Lc,p[il]=Ac,p[rl]=Oc,p[nl]=Mc,p[tl]=_c,p[el]=Dc,p[Zf]=Hc,p[Bc>>2]=jc,p[Yf]=Fc,p[Gf]=qc,p[Qf]=Rc,p[Kf]=Uc,p[Jf]=zc,p[$f]=Wc;var wb=p[nl],Eb=Yk(wb);p[bh>>2]=Eb;var Sb=Zk(wb);p[Eh>>2]=Sb;var xb=p[al],Tb=p[ul],Nb=p[il]-(Eb*xb+Sb*Tb),Cb=(L[0]=p[sl]-(Sb*xb-Eb*Tb),s[0]),kb=(L[0]=Nb,s[0])|0;l[(xh|0)>>2]=0|Cb,l[(xh+4|0)>>2]=kb;var Lb=p[Jf],Ab=Yk(Lb);p[zh>>2]=Ab;var Ob=Zk(Lb);p[Xh>>2]=Ob;var Mb=p[el],_b=p[Zf],Db=p[Qf]-(Ab*Mb+Ob*_b),Pb=(L[0]=p[Gf]-(Ob*Mb-Ab*_b),s[0]),Hb=(L[0]=Db,s[0])|0;l[(Kh|0)>>2]=0|Pb,l[(Kh+4|0)>>2]=Hb}vc=0,mc=1,gc=Ll}else{Af=(yc+4|0)>>2;var Bb=l[Af],jb=0==(Bb&4|0);do if(jb)var Fb=vc,Ib=mc;else if(8<(l[fl+32]|0))Fb=vc,Ib=mc;else{if(0==(Bb&32|0)){var qb=l[fl+12],Rb=l[fl+13];if(0!=(c[qb+38|0]&1)<<24>>24){Fb=vc,Ib=mc;break}if(0!=(c[Rb+38|0]&1)<<24>>24){Fb=vc,Ib=mc;break}var Ub=l[qb+8>>2],zb=l[Rb+8>>2],Wb=l[Ub>>2],Xb=l[zb>>2];2==(Wb|0)|2==(Xb|0)||O(N.t|0,641,N.wb|0,N.Dh|0);var Vb=i[Ub+4>>1],$b=i[zb+4>>1];if(!(0!=(Vb&2)<<16>>16&0!=(Wb|0)|0!=($b&2)<<16>>16&0!=(Xb|0))){Fb=vc,Ib=mc;break}if(!(0!=(Vb&8)<<16>>16|2!=(Wb|0)|0!=($b&8)<<16>>16|2!=(Xb|0))){Fb=vc,Ib=mc;break}var Jb=Ub+28|0;Lf=(Ub+60|0)>>2;var Kb=p[Lf],Qb=zb+28|0;kf=(zb+60|0)>>2;var Gb=p[kf];if(Kb<Gb){if(1>Kb)var Yb=Kb;else O(N.ca|0,723,N.Z|0,N.V|0),Yb=p[Lf];var Zb=(Gb-Yb)/(1-Yb),ew=Ub+36|0,tw=1-Zb,nw=p[Ub+40>>2]*tw+p[Ub+48>>2]*Zb,rw=ew,iw=(L[0]=p[ew>>2]*tw+p[Ub+44>>2]*Zb,s[0]),sw=(L[0]=nw,s[0]),ow=0|iw,uw=sw|0,hh=rw|0;Vf=hh>>2,l[Vf]=ow,ph=rw+4|0,Xf=ph>>2,l[Xf]=uw;var aw=Ub+52|0;p[aw>>2]=tw*p[aw>>2]+Zb*p[Ub+56>>2];var fw=p[Lf]=Gb}else{if(Gb<Kb){if(1>Gb)var lw=Gb;else O(N.ca|0,723,N.Z|0,N.V|0),lw=p[kf];var cw=(Kb-lw)/(1-lw),hw=zb+36|0,pw=1-cw,dw=p[zb+40>>2]*pw+p[zb+48>>2]*cw,vw=hw,mw=(L[0]=p[hw>>2]*pw+p[zb+44>>2]*cw,s[0]),gw=(L[0]=dw,s[0]),yw=0|mw,bw=gw|0,hh=vw|0;Vf=hh>>2,l[Vf]=yw,ph=vw+4|0,Xf=ph>>2,l[Xf]=bw;var ww=zb+52|0;p[ww>>2]=pw*p[ww>>2]+cw*p[zb+56>>2],p[kf]=Kb}fw=Kb}1>fw||O(N.t|0,676,N.wb|0,N.V|0);var Ew=l[fl+14],Sw=l[fl+15];l[Il>>2]=0,l[ql>>2]=0,p[Rl>>2]=0,l[Ul>>2]=0,l[zl>>2]=0,p[Wl>>2]=0,Tg(Xl,l[qb+12>>2],Ew),Tg(Vl,l[Rb+12>>2],Sw);for(var xw=Jb>>2,Tw=$l>>2,Nw=xw+9;xw<Nw;xw++,Tw++)l[Tw]=l[xw];xw=Qb>>2,Tw=Jl>>2;for(Nw=xw+9;xw<Nw;xw++,Tw++)l[Tw]=l[xw];p[Kl>>2]=1;var Cw=El,kw=wl,Lw=Ia,Aw=Ia,Ow=Ia,Mw=Ia,_w=Ia,Dw=Ia,Pw=Ia,Hw=Ia,Bw=Ia,jw=Ia,Fw=a;a+=308;var Iw=Ia,qw=Fw+36,Rw=Fw+72,Uw=Fw+84,zw=Fw+176,Ww=Fw+200,Xw=Fw+300,Vw=Fw+304;l[Wp>>2]=l[Wp>>2]+1|0,jw=(Cw|0)>>2,l[jw]=0;var $w=kw+128|0,Jw=p[$w>>2],Bw=(Cw+4|0)>>2;p[Bw]=Jw;for(var Kw=kw|0,Qw=kw+28|0,Gw=(kw+56|0)>>2,Yw=Fw>>2,Zw=Gw+9;Gw<Zw;Gw++,Yw++)l[Yw]=l[Gw];Gw=(kw+92|0)>>2,Yw=qw>>2;for(Zw=Gw+9;Gw<Zw;Gw++,Yw++)l[Yw]=l[Gw];var Hw=(Fw+24|0)>>2,eE=p[Hw],tE=6.2831854820251465*Xp(eE/6.2831854820251465),nE=eE-tE;p[Hw]=nE;var Pw=(Fw+28|0)>>2,rE=p[Pw]-tE;p[Pw]=rE;var Dw=(qw+24|0)>>2,iE=p[Dw],sE=6.2831854820251465*Xp(iE/6.2831854820251465),oE=iE-sE;p[Dw]=oE;var _w=(qw+28|0)>>2,uE=p[_w]-sE;p[_w]=uE;var aE=p[$w>>2],fE=p[kw+24>>2]+p[kw+52>>2]-.014999999664723873,lE=.004999999888241291>fE?.004999999888241291:fE;.0012499999720603228<lE||O(N.Da|0,280,N.ne|0,N.Cf|0),i[Rw+4>>1]=0,Mw=Uw>>2,Ow=kw>>2,l[Mw]=l[Ow],l[Mw+1]=l[Ow+1],l[Mw+2]=l[Ow+2],l[Mw+3]=l[Ow+3],l[Mw+4]=l[Ow+4],l[Mw+5]=l[Ow+5],l[Mw+6]=l[Ow+6],Aw=(Uw+28|0)>>2,Lw=Qw>>2,l[Aw]=l[Lw],l[Aw+1]=l[Lw+1],l[Aw+2]=l[Lw+2],l[Aw+3]=l[Lw+3],l[Aw+4]=l[Lw+4],l[Aw+5]=l[Lw+5],l[Aw+6]=l[Lw+6],c[Uw+88|0]=0;var cE=Fw+8|0,hE=Fw+12|0,pE=Fw+16|0,dE=Fw+20|0,vE=Fw|0,mE=Fw+4|0,gE=qw+8|0,yE=qw+12|0,bE=qw+16|0,wE=qw+20|0,EE=qw|0,SE=qw+4|0,xE=Uw+56|0,TE=Uw+60|0,NE=Uw+64|0,CE=Uw+68|0,kE=Uw+72|0,LE=Uw+76|0,AE=Uw+80|0,OE=Uw+84|0,ME=zw+16|0,_E=lE+.0012499999720603228,DE=lE-.0012499999720603228,PE=0,HE=0,BE=nE,jE=rE,FE=oE,IE=uE;e:for(;;){var qE=1-PE,RE=p[cE>>2]*qE+p[pE>>2]*PE,UE=p[hE>>2]*qE+p[dE>>2]*PE,zE=qE*BE+jE*PE,WE=Yk(zE),XE=Zk(zE),VE=p[vE>>2],$E=p[mE>>2],JE=RE-(XE*VE-WE*$E),KE=UE-(WE*VE+XE*$E),QE=p[gE>>2]*qE+p[bE>>2]*PE,GE=p[yE>>2]*qE+p[wE>>2]*PE,YE=qE*FE+IE*PE,ZE=Yk(YE),eS=Zk(YE),tS=p[EE>>2],nS=p[SE>>2],rS=QE-(eS*tS-ZE*nS),iS=GE-(ZE*tS+eS*nS);p[xE>>2]=JE,p[TE>>2]=KE,p[NE>>2]=WE,p[CE>>2]=XE,p[kE>>2]=rS,p[LE>>2]=iS,p[AE>>2]=ZE,p[OE>>2]=eS,uh(zw,Rw,Uw);var sS=p[ME>>2];if(0>=sS){l[jw]=2,p[Bw]=0;var oS=HE,Iw=29;break}if(sS<_E){l[jw]=3,p[Bw]=PE,oS=HE,Iw=29;break}var uS=Ww,aS=Rw,fS=Kw,lS=Fw,cS=Qw,hS=qw,pS=PE,dS=Ia,vS=Ia,mS=Ia,gS=Ia,yS=uS>>2,gS=(uS|0)>>2;l[gS]=fS,mS=(uS+4|0)>>2,l[mS]=cS;var bS=Pc[aS+4>>1];0!=bS<<16>>16&3>(bS&65535)||O(N.Da|0,50,N.Ce|0,N.zh|0);for(var wS=uS+8|0,ES=lS>>2,SS=wS>>2,xS=ES+9;ES<xS;ES++,SS++)l[SS]=l[ES];for(var TS=uS+44|0,ES=hS>>2,SS=TS>>2,xS=ES+9;ES<xS;ES++,SS++)l[SS]=l[ES];var NS=1-pS,CS=p[yS+4]*NS+p[yS+6]*pS,kS=p[yS+5]*NS+p[yS+7]*pS,LS=NS*p[yS+8]+p[yS+9]*pS,AS=Yk(LS),OS=Zk(LS),MS=p[wS>>2],_S=p[yS+3],DS=CS-(OS*MS-AS*_S),PS=kS-(AS*MS+OS*_S),HS=p[yS+13]*NS+p[yS+15]*pS,BS=p[yS+14]*NS+p[yS+16]*pS,jS=NS*p[yS+17]+p[yS+18]*pS,FS=Yk(jS),IS=Zk(jS),qS=p[TS>>2],RS=p[yS+12],US=HS-(IS*qS-FS*RS),zS=BS-(FS*qS+IS*RS);if(1==bS<<16>>16){l[yS+20]=0;var WS=l[gS],XS=Ic[aS+6|0]&255;(l[WS+20>>2]|0)>(XS|0)||O(N.i|0,103,N.h|0,N.j|0);var VS=(XS<<3)+l[WS+16>>2]|0,$S=VS|0,vS=$S>>2,JS=VS+4|0,dS=JS>>2,KS=l[dS],QS=(s[0]=l[vS],L[0]),GS=(s[0]=KS,L[0]),YS=l[mS],ZS=Ic[aS+9|0]&255;(l[YS+20>>2]|0)>(ZS|0)||O(N.i|0,103,N.h|0,N.j|0);var ex=(ZS<<3)+l[YS+16>>2]|0,$S=ex|0,vS=$S>>2,JS=ex+4|0,dS=JS>>2,tx=l[dS],nx=(s[0]=l[vS],L[0]),rx=(s[0]=tx,L[0]),ix=uS+92|0,sx=IS*nx-FS*rx+US-(OS*QS-AS*GS+DS),ox=FS*nx+IS*rx+zS-(AS*QS+OS*GS+PS),ux=(L[0]=sx,s[0]),ax=(L[0]=ox,s[0])|0;l[ix>>2]=0|ux,l[ix+4>>2]=ax;var fx=dg(sx*sx+ox*ox);if(1.1920928955078125e-7<=fx){var lx=uS+96|0,cx=1/fx;p[ix>>2]=sx*cx,p[lx>>2]=ox*cx}}else{var hx=aS+6|0,px=aS+7|0,dx=uS+80|0;if(c[hx]<<24>>24==c[px]<<24>>24){l[dx>>2]=2;var vx=Ic[aS+9|0]&255,mx=cS+20|0,gx=o[mx>>2];if((gx|0)>(vx|0))var yx=gx;else O(N.i|0,103,N.h|0,N.j|0),yx=l[mx>>2];var bx=cS+16|0,wx=o[bx>>2],Ex=(vx<<3)+wx|0,Sx=l[Ex+4>>2],xx=(s[0]=l[Ex>>2],L[0]),Tx=(s[0]=Sx,L[0]),Nx=Ic[aS+10|0]&255;if((yx|0)>(Nx|0))var Cx=wx;else O(N.i|0,103,N.h|0,N.j|0),Cx=l[bx>>2];var kx=(Nx<<3)+Cx|0,Lx=l[kx+4>>2],Ax=(s[0]=l[kx>>2],L[0]),Ox=(s[0]=Lx,L[0]),Mx=uS+92|0,_x=Ox-Tx,Dx=-1*(Ax-xx),Px=(L[0]=_x,s[0]),Hx=(L[0]=Dx,s[0])|0;l[Mx>>2]=0|Px,l[Mx+4>>2]=Hx;var Bx=Mx|0,jx=uS+96|0,Fx=dg(_x*_x+Dx*Dx);if(1.1920928955078125e-7>Fx)var Ix=_x,qx=Dx;else{var Rx=1/Fx,Ux=_x*Rx;p[Bx>>2]=Ux;var zx=Dx*Rx;p[jx>>2]=zx,Ix=Ux,qx=zx}var Wx=IS*Ix-FS*qx,Xx=FS*Ix+IS*qx,Vx=.5*(xx+Ax),$x=.5*(Tx+Ox),Jx=uS+84|0,Kx=(L[0]=Vx,s[0]),Qx=(L[0]=$x,s[0])|0,Gx=Jx|0;l[Gx>>2]=0|Kx;var Yx=Jx+4|0;l[Yx>>2]=Qx;var Zx=IS*Vx-FS*$x+US,eT=FS*Vx+IS*$x+zS,tT=Ic[hx]&255;(l[fS+20>>2]|0)>(tT|0)||O(N.i|0,103,N.h|0,N.j|0);var nT=(tT<<3)+l[fS+16>>2]|0,$S=nT|0,vS=$S>>2,JS=nT+4|0,dS=JS>>2,rT=l[dS],iT=(s[0]=l[vS],L[0]),sT=(s[0]=rT,L[0]);if(0>(OS*iT-AS*sT+DS-Zx)*Wx+(AS*iT+OS*sT+PS-eT)*Xx){var oT=-p[jx>>2],uT=(L[0]=-p[Bx>>2],s[0]),aT=(L[0]=oT,s[0])|0,fT=Mx|0;l[fT>>2]=0|uT;var lT=Mx+4|0;l[lT>>2]=aT}}else{l[dx>>2]=1;var cT=l[gS],hT=Ic[hx]&255,pT=o[cT+20>>2];if((pT|0)>(hT|0))var dT=cT,vT=pT;else{O(N.i|0,103,N.h|0,N.j|0);var mT=l[gS],dT=mT,vT=l[mT+20>>2]}var gT=(hT<<3)+l[cT+16>>2]|0,yT=l[gT+4>>2],bT=(s[0]=l[gT>>2],L[0]),wT=(s[0]=yT,L[0]),ET=Ic[px]&255;(vT|0)>(ET|0)||O(N.i|0,103,N.h|0,N.j|0);var ST=(ET<<3)+l[dT+16>>2]|0,$S=ST|0,vS=$S>>2,JS=ST+4|0,dS=JS>>2,xT=l[dS],TT=(s[0]=l[vS],L[0]),NT=(s[0]=xT,L[0]),CT=uS+92|0,kT=NT-wT,LT=-1*(TT-bT),AT=(L[0]=kT,s[0]),OT=(L[0]=LT,s[0])|0;l[CT>>2]=0|AT,l[CT+4>>2]=OT;var MT=CT|0,_T=uS+96|0,DT=dg(kT*kT+LT*LT);if(1.1920928955078125e-7>DT)var PT=kT,HT=LT;else{var BT=1/DT,jT=kT*BT;p[MT>>2]=jT;var FT=LT*BT;p[_T>>2]=FT,PT=jT,HT=FT}var IT=OS*PT-AS*HT,qT=AS*PT+OS*HT,RT=.5*(bT+TT),UT=.5*(wT+NT),zT=uS+84|0,WT=(L[0]=RT,s[0]),XT=(L[0]=UT,s[0]),VT=0|WT,$T=XT|0,Gx=zT|0;l[Gx>>2]=VT,Yx=zT+4|0,l[Yx>>2]=$T;var JT=OS*RT-AS*UT+DS,KT=AS*RT+OS*UT+PS,QT=l[mS],GT=Ic[aS+9|0]&255;(l[QT+20>>2]|0)>(GT|0)||O(N.i|0,103,N.h|0,N.j|0);var YT=(GT<<3)+l[QT+16>>2]|0,$S=YT|0,vS=$S>>2,JS=YT+4|0,dS=JS>>2,ZT=l[dS],eN=(s[0]=l[vS],L[0]),tN=(s[0]=ZT,L[0]);if(0>(IS*eN-FS*tN+US-JT)*IT+(FS*eN+IS*tN+zS-KT)*qT){var nN=-p[_T>>2],rN=(L[0]=-p[MT>>2],s[0]),iN=(L[0]=nN,s[0])|0,fT=CT|0;l[fT>>2]=0|rN,lT=CT+4|0,l[lT>>2]=iN}}}for(var sN=0,oN=aE;;){var uN,aN=Ww,fN=oN,lN=Ia,cN=Ia,hN=Ia,pN=Ia,dN=Ia,vN=Ia,mN=Vw>>2,gN=Xw>>2,yN=aN>>2,bN=Ia,wN=1-fN,EN=p[yN+4]*wN+p[yN+6]*fN,SN=p[yN+5]*wN+p[yN+7]*fN,xN=wN*p[yN+8]+p[yN+9]*fN,TN=Yk(xN),NN=Zk(xN),CN=p[yN+2],kN=p[yN+3],LN=EN-(NN*CN-TN*kN),AN=SN-(TN*CN+NN*kN),ON=p[yN+13]*wN+p[yN+15]*fN,MN=p[yN+14]*wN+p[yN+16]*fN,_N=wN*p[yN+17]+p[yN+18]*fN,DN=Yk(_N),PN=Zk(_N),HN=p[yN+11],BN=p[yN+12],jN=ON-(PN*HN-DN*BN),FN=MN-(DN*HN+PN*BN),IN=l[yN+20];if(0==(IN|0)){var qN=aN+92|0,RN=p[qN>>2],UN=aN+96|0,zN=p[UN>>2],WN=NN*RN+TN*zN,XN=RN*-TN+NN*zN,VN=-zN,$N=PN*-RN+DN*VN,JN=RN*DN+PN*VN,KN=aN|0,QN=l[KN>>2],vN=l[QN+16>>2]>>2,GN=l[QN+20>>2],YN=1<(GN|0);t:do if(YN)for(var ZN=0,eC=p[vN]*WN+p[vN+1]*XN,tC=1;;){var nC=p[(tC<<3>>2)+vN]*WN+p[((tC<<3)+4>>2)+vN]*XN,rC=nC>eC,iC=rC?tC:ZN,sC=rC?nC:eC,oC=tC+1|0;if((oC|0)==(GN|0)){var uC=iC;break t}ZN=iC,eC=sC,tC=oC}else uC=0;while(0);l[gN]=uC;var aC=aN+4|0,fC=l[aC>>2],dN=l[fC+16>>2]>>2,lC=l[fC+20>>2],cC=1<(lC|0);t:do if(cC)for(var hC=0,pC=p[dN]*$N+p[dN+1]*JN,dC=1;;){var vC=p[(dC<<3>>2)+dN]*$N+p[((dC<<3)+4>>2)+dN]*JN,mC=vC>pC,gC=mC?dC:hC,yC=mC?vC:pC,bC=dC+1|0;if((bC|0)==(lC|0)){var wC=gC;break t}hC=gC,pC=yC,dC=bC}else wC=0;while(0);l[mN]=wC;var EC=l[KN>>2],SC=l[gN];if(-1<(SC|0))if((l[EC+20>>2]|0)>(SC|0))var xC=wC,bN=12;else bN=11;else bN=11;11==bN&&(O(N.i|0,103,N.h|0,N.j|0),xC=l[mN]);var TC=(SC<<3)+l[EC+16>>2]|0,NC=l[TC+4>>2],CC=(s[0]=l[TC>>2],L[0]),kC=(s[0]=NC,L[0]),LC=l[aC>>2],bN=-1<(xC|0)?(l[LC+20>>2]|0)>(xC|0)?15:14:14;14==bN&&O(N.i|0,103,N.h|0,N.j|0);var AC=(xC<<3)+l[LC+16>>2]|0,OC=l[AC+4>>2],MC=(s[0]=l[AC>>2],L[0]),_C=(s[0]=OC,L[0]),DC=(PN*MC-DN*_C+jN-(NN*CC-TN*kC+LN))*p[qN>>2]+(DN*MC+PN*_C+FN-(TN*CC+NN*kC+AN))*p[UN>>2]}else if(1==(IN|0)){var PC=p[yN+23],HC=p[yN+24],BC=NN*PC-TN*HC,jC=TN*PC+NN*HC,FC=p[yN+21],IC=p[yN+22],qC=NN*FC-TN*IC+LN,RC=TN*FC+NN*IC+AN,UC=-jC,zC=PN*-BC+DN*UC,WC=BC*DN+PN*UC;l[gN]=-1;var pN=(aN+4|0)>>2,XC=l[pN],hN=l[XC+16>>2]>>2,VC=l[XC+20>>2],$C=1<(VC|0);do if($C){for(var JC=0,KC=p[hN]*zC+p[hN+1]*WC,QC=1;;){var GC=p[(QC<<3>>2)+hN]*zC+p[((QC<<3)+4>>2)+hN]*WC,YC=GC>KC,ZC=YC?QC:JC,ek=YC?GC:KC,tk=QC+1|0;if((tk|0)==(VC|0))break;JC=ZC,KC=ek,QC=tk}l[mN]=ZC;var nk=l[pN];if(-1<(ZC|0))sk=ZC,ok=nk,bN=21;else var rk=ZC,ik=nk,bN=22}else var sk=l[mN]=0,ok=l[pN],bN=21;while(0);if(21==bN)if((l[ok+20>>2]|0)>(sk|0))var uk=sk,ak=ok,bN=23;else rk=sk,ik=ok,bN=22;22==bN&&(O(N.i|0,103,N.h|0,N.j|0),uk=rk,ak=ik);var fk=(uk<<3)+l[ak+16>>2]|0,lk=fk|0,ck=fk+4|0,hk=l[ck>>2],pk=(s[0]=l[lk>>2],L[0]),dk=(s[0]=hk,L[0]),DC=(PN*pk-DN*dk+jN-qC)*BC+(DN*pk+PN*dk+FN-RC)*jC}else if(2==(IN|0)){var vk=p[yN+23],mk=p[yN+24],gk=PN*vk-DN*mk,yk=DN*vk+PN*mk,bk=p[yN+21],wk=p[yN+22],Ek=PN*bk-DN*wk+jN,Sk=DN*bk+PN*wk+FN,xk=-yk,Tk=NN*-gk+TN*xk,Nk=gk*TN+NN*xk;l[mN]=-1;var cN=(aN|0)>>2,Ck=l[cN],lN=l[Ck+16>>2]>>2,kk=l[Ck+20>>2],Lk=1<(kk|0);do if(Lk){for(var Ak=0,Ok=p[lN]*Tk+p[lN+1]*Nk,_k=1;;){var Dk=p[(_k<<3>>2)+lN]*Tk+p[((_k<<3)+4>>2)+lN]*Nk,Pk=Dk>Ok,Hk=Pk?_k:Ak,Bk=Pk?Dk:Ok,jk=_k+1|0;if((jk|0)==(kk|0))break;Ak=Hk,Ok=Bk,_k=jk}l[gN]=Hk;var Fk=l[cN];if(-1<(Hk|0))Rk=Hk,Uk=Fk,bN=29;else var Ik=Hk,qk=Fk,bN=30}else var Rk=l[gN]=0,Uk=l[cN],bN=29;while(0);if(29==bN)if((l[Uk+20>>2]|0)>(Rk|0))var zk=Rk,Wk=Uk,bN=31;else Ik=Rk,qk=Uk,bN=30;30==bN&&(O(N.i|0,103,N.h|0,N.j|0),zk=Ik,Wk=qk);var Xk=(zk<<3)+l[Wk+16>>2]|0,lk=Xk|0,ck=Xk+4|0,Vk=l[ck>>2],$k=(s[0]=l[lk>>2],L[0]),Jk=(s[0]=Vk,L[0]),DC=(NN*$k-TN*Jk+LN-Ek)*gk+(TN*$k+NN*Jk+AN-Sk)*yk}else O(N.Da|0,183,N.We|0,N.o|0),l[gN]=-1,l[mN]=-1,DC=0;uN=DC;if(uN>_E){l[jw]=4,p[Bw]=aE,Iw=25;break e}if(uN>DE)var Kk=oN;else{var Qk=o[Xw>>2],Gk=o[Vw>>2],eL=Mk(Ww,Qk,Gk,PE);if(eL<DE){l[jw]=1,p[Bw]=PE,Iw=25;break e}if(eL<=_E){l[jw]=3,p[Bw]=PE,Iw=25;break e}for(var tL=oN,nL=PE,rL=0,iL=eL,sL=uN;;){var oL=0==(rL&1|0)?.5*(nL+tL):nL+(lE-iL)*(tL-nL)/(sL-iL),uL=Mk(Ww,Qk,Gk,oL),aL=uL-lE;if(.0012499999720603228>(0<aL?aL:-aL)){var fL=rL,lL=oL;break}var cL=uL>lE,hL=cL?sL:uL,pL=cL?uL:iL,dL=cL?oL:nL,vL=cL?tL:oL,mL=rL+1|0;l[Yp>>2]=l[Yp>>2]+1|0;if(50==(mL|0)){fL=50,lL=oN;break}tL=vL,nL=dL,rL=mL,iL=pL,sL=hL}var gL=l[Zp>>2];l[Zp>>2]=(gL|0)>(fL|0)?gL:fL;var yL=sN+1|0;if(8!=(yL|0)){sN=yL,oN=lL;continue}Kk=PE}var bL=HE+1|0;l[$p>>2]=l[$p>>2]+1|0;if(20==(bL|0)){l[jw]=1,p[Bw]=Kk,oS=20,Iw=29;break e}PE=Kk,HE=bL,BE=p[Hw],jE=p[Pw],FE=p[Dw],IE=p[_w];continue e}}25==Iw&&(l[$p>>2]=l[$p>>2]+1|0,oS=HE+1|0);var wL=l[aq>>2];l[aq>>2]=(wL|0)>(oS|0)?wL:oS,a=Fw;if(3==(l[Ql>>2]|0))var EL=fw+(1-fw)*p[Gl>>2],SL=1>EL?EL:1;else SL=1;p[fl+33]=SL,l[Af]|=32;var xL=SL}else xL=p[fl+33];xL<mc?(Fb=yc,Ib=xL):(Fb=vc,Ib=mc)}while(0);vc=Fb,mc=Ib,gc=yc+12|0}}c[Cl]=bc;var TL=l[ml];hn(TL,l[ml+5]),hn(TL,l[ml+6]),hn(TL,l[ml+4]),hn(TL,l[ll]),hn(TL,wc),a=gl,p[v+25756]=0,g=12}else{var NL=Cf;g=13}}12==g&&(NL=p[f]),0<NL&&(p[x>>2]=p[d+1]);var CL=l[h],kL=0==(CL&4|0);do if(kL)var LL=CL;else{var AL=l[v+25738];if(0==(AL|0))LL=CL;else{var OL=AL;for(u=OL>>2;;){p[u+19]=0,p[u+20]=0,p[u+21]=0;var ML=l[u+24];if(0==(ML|0))break;OL=ML,u=OL>>2}LL=l[h]}}while(0);l[h]=LL&-3,p[v+25749]=0,a=m}function bq(e,t,n,r){var i,o=n>>2,u=a;a+=112;var f,c=u+8,h=u+16,d=u+24,v=u+32,m=u+40,g=u+48,y=l[t+12>>2],t=y>>2,b=l[t+1];e:do if(0==(b|0)){i=p[o+3];var w=p[t+3];f=p[o+2];var E=p[t+4],S=f*w+i*E+p[o+1];p[u>>2]=i*w-f*E+p[o],p[u+4>>2]=S,w=p[t+2],p[c>>2]=i-0,p[c+4>>2]=f,i=l[e+102984>>2],K[l[l[i>>2]+20>>2]](i,u,w,c,r)}else if(1==(b|0)){i=p[o+3],S=p[t+3],f=p[o+2];var x=p[t+4],w=p[o],E=p[o+1],T=f*S+i*x+E;p[h>>2]=i*S-f*x+w,p[h+4>>2]=T,x=y+20|0,S=p[x>>2],x=p[x+4>>2],E=f*S+i*x+E,p[d>>2]=i*S-f*x+w,p[d+4>>2]=E,i=l[e+102984>>2],K[l[l[i>>2]+24>>2]](i,h,d,r)}else if(3==(b|0)){f=l[t+4],i=l[t+3]>>2;var w=n+12|0,C=p[w>>2],T=p[i],E=n+8|0,k=p[E>>2],A=p[i+1],S=n|0,M=p[S>>2],x=n+4|0,_=p[x>>2],D=k*T+C*A+_;p[v>>2]=C*T-k*A+M,p[v+4>>2]=D;if(1<(f|0))for(var T=m|0,A=m+4|0,D=e+102984|0,P=m,H=v,B=1,j=_;;){var _=p[(B<<3>>2)+i],F=p[((B<<3)+4>>2)+i],j=k*_+C*F+j;p[T>>2]=C*_-k*F+M,p[A>>2]=j,_=l[D>>2],K[l[l[_>>2]+24>>2]](_,v,m,r),_=l[D>>2],K[l[l[_>>2]+16>>2]](_,v,.05000000074505806,r),_=l[P+4>>2],l[H>>2]=l[P>>2],l[H+4>>2]=_,B=B+1|0;if((B|0)==(f|0))break e;C=p[w>>2],k=p[E>>2],M=p[S>>2],j=p[x>>2]}}else if(2==(b|0)){i=l[t+37];if(9>(i|0))if(f=g|0,0<(i|0))q=f,f=12;else{var I=f;f=14}else{O(N.t|0,1077,N.Me|0,N.Oh|0);var q=g|0;f=12}t:do if(12==f){w=y+20|0,E=p[o+3],S=p[o+2],x=p[o],T=p[o+1];for(A=0;;)if(H=p[w+(A<<3)>>2],B=p[w+(A<<3)+4>>2],P=S*H+E*B+T,D=(A<<3)+g|0,H=(L[0]=E*H-S*B+x,s[0]),P=(L[0]=P,s[0])|0,l[D>>2]=0|H,l[D+4>>2]=P,A=A+1|0,(A|0)==(i|0)){I=q;break t}}while(0);f=l[e+102984>>2],K[l[l[f>>2]+12>>2]](f,I,i,r)}while(0);a=u}function cq(e){var t,n,r,s,o,u=a;a+=120;var f,c=u+12,h=u+24,d=u+36,v=u+48,m=u+60;o=m>>2;var g=u+72,y=u+104;s=(e+102984|0)>>2;var b=l[s],w=0==(b|0);e:do if(!w){var E=l[b+4>>2],S=0==(E&1|0);t:do if(!S){var x=l[e+102952>>2];if(0!=(x|0))for(var T=u|0,C=u+4|0,k=u+8|0,L=d|0,A=d+4|0,M=d+8|0,_=v|0,D=v+4|0,P=v+8|0,H=c|0,B=c+4|0,j=c+8|0,F=h|0,I=h+4|0,q=h+8|0,R=x;;){var U=R+12|0,z=l[R+100>>2],W=0==(z|0);n:do if(!W)for(var X=R+4|0,V=R|0,$=z;;){var J=i[X>>1];if(0==(J&32)<<16>>16)p[T>>2]=.5,p[C>>2]=.5,p[k>>2]=.30000001192092896,bq(e,$,U,u);else{var Q=l[V>>2];0==(Q|0)?(p[H>>2]=.5,p[B>>2]=.8999999761581421,p[j>>2]=.5,bq(e,$,U,c)):1==(Q|0)?(p[F>>2]=.5,p[I>>2]=.5,p[q>>2]=.8999999761581421,bq(e,$,U,h)):0==(J&2)<<16>>16?(p[L>>2]=.6000000238418579,p[A>>2]=.6000000238418579,p[M>>2]=.6000000238418579,bq(e,$,U,d)):(p[_>>2]=.8999999761581421,p[D>>2]=.699999988079071,p[P>>2]=.699999988079071,bq(e,$,U,v))}var G=l[$+4>>2];if(0==(G|0))break n;$=G}while(0);var Y=l[R+96>>2];if(0==(Y|0))break t;R=Y}}while(0);var Z=0==(E&2|0);t:do if(!Z){var et=l[e+102956>>2];if(0!=(et|0))for(var tt=et;;){var nt=e,rt=tt,it=Ia,st=Ia,ot=Ia,ut=a;a+=60;var at=ut+8,ft=ut+16,lt=ut+24,ct=ut+32,ot=ct>>2,ht=ut+44,pt=ut+52,dt=l[rt+52>>2]+12|0,vt=l[rt+48>>2]+12|0,mt=l[vt+4>>2];l[ut>>2]=l[vt>>2],l[ut+4>>2]=mt;var gt=l[dt+4>>2];l[at>>2]=l[dt>>2],l[at+4>>2]=gt,K[l[l[rt>>2]>>2]](ft,rt),K[l[l[rt>>2]+4>>2]](lt,rt),p[ot]=.5,p[ot+1]=.800000011920929,p[ot+2]=.800000011920929;var yt=l[rt+4>>2];if(3==(yt|0)){var bt=l[nt+102984>>2];K[l[l[bt>>2]+24>>2]](bt,ft,lt,ct)}else if(4==(yt|0)){var wt=rt+68|0,Et=l[wt+4>>2];l[ht>>2]=l[wt>>2],l[ht+4>>2]=Et;var St=rt+76|0,xt=l[St+4>>2];l[pt>>2]=l[St>>2],l[pt+4>>2]=xt;var st=(nt+102984|0)>>2,Tt=l[st];K[l[l[Tt>>2]+24>>2]](Tt,ht,ft,ct);var Nt=l[st];K[l[l[Nt>>2]+24>>2]](Nt,pt,lt,ct);var Ct=l[st];K[l[l[Ct>>2]+24>>2]](Ct,ht,pt,ct)}else if(5!=(yt|0)){var it=(nt+102984|0)>>2,kt=l[it];K[l[l[kt>>2]+24>>2]](kt,ut,ft,ct);var Lt=l[it];K[l[l[Lt>>2]+24>>2]](Lt,ft,lt,ct);var At=l[it];K[l[l[At>>2]+24>>2]](At,at,lt,ct)}a=ut;var Ot=l[tt+12>>2];if(0==(Ot|0))break t;tt=Ot}}while(0);var Mt=0==(E&8|0);t:do if(!Mt)for(var _t=e+102932|0;;){var Dt=l[_t>>2];if(0==(Dt|0))break t;_t=Dt+12|0}while(0);var Pt=0==(E&4|0);t:do if(!Pt){p[o]=.8999999761581421,p[o+1]=.30000001192092896,p[o+2]=.8999999761581421;var Ht=l[e+102952>>2];if(0!=(Ht|0))for(var Bt=e+102884|0,jt=e+102876|0,Ft=g|0,It=g|0,qt=g+4|0,Rt=g+8|0,Ut=g+12|0,zt=g+16|0,Wt=g+20|0,Xt=g+24|0,Vt=g+28|0,$t=Ht;;){var Jt=0==(i[$t+4>>1]&32)<<16>>16;n:do if(!Jt){var Kt=l[$t+100>>2];if(0!=(Kt|0))for(var Qt=Kt;;){var Gt=Qt+28|0,Yt=0<(l[Gt>>2]|0);r:do if(Yt)for(var Zt=Qt+24|0,en=0;;){var tn=l[(l[Zt>>2]+24>>2)+(7*en|0)];f=-1<(tn|0)?(l[Bt>>2]|0)>(tn|0)?34:33:33,33==f&&O(N.r|0,159,N.H|0,N.q|0),r=l[jt>>2]>>2;var nn=p[r+(9*tn|0)],rn=p[r+(9*tn|0)+1],sn=p[r+(9*tn|0)+2],on=p[r+(9*tn|0)+3];p[It>>2]=nn,p[qt>>2]=rn,p[Rt>>2]=sn,p[Ut>>2]=rn,p[zt>>2]=sn,p[Wt>>2]=on,p[Xt>>2]=nn,p[Vt>>2]=on;var un=l[s];K[l[l[un>>2]+8>>2]](un,Ft,4,m);var an=en+1|0;if((an|0)>=(l[Gt>>2]|0))break r;en=an}while(0);var fn=l[Qt+4>>2];if(0==(fn|0))break n;Qt=fn}}while(0);var ln=l[$t+96>>2];if(0==(ln|0))break t;$t=ln}}while(0);if(0!=(E&16|0)){var cn=l[e+102952>>2];if(0!=(cn|0)){n=y>>2;for(var hn=y,pn=cn;;){t=(pn+12|0)>>2,l[n]=l[t],l[n+1]=l[t+1],l[n+2]=l[t+2],l[n+3]=l[t+3];var dn=pn+44|0,vn=l[dn+4>>2];l[hn>>2]=l[dn>>2],l[hn+4>>2]=vn;var mn=l[s];K[l[l[mn>>2]+28>>2]](mn,y);var gn=l[pn+96>>2];if(0==(gn|0))break e;pn=gn}}}}while(0);a=u}function dq(e){var t,n=e>>2,i=a;if(0==(l[n+25717]&2|0)){var o=p[n+25742];t=p[n+25743],P(N.Uh|0,(r=a,a+=16,Nd[0]=o,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=t,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),P(N.cf|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),o=l[n+25740],P(N.jf|0,(r=a,a+=4,l[r>>2]=o,r)),o=l[n+25741],P(N.sf|0,(r=a,a+=4,l[r>>2]=o,r)),n=l[n+25738],o=0==(n|0);e:do if(!o){t=0;for(var u=n;;){l[u+8>>2]=t,Io(u),u=l[u+96>>2];if(0==(u|0))break e;t=t+1|0}}while(0);e=(e+102956|0)>>2,n=l[e],o=0==(n|0);e:do if(!o){t=0;for(u=n;;){l[u+56>>2]=t,u=l[u+12>>2];if(0==(u|0))break;t=t+1|0}t=l[e];if(0!=(t|0)){u=t;for(t=u>>2;;){6!=(l[t+1]|0)&&(P(N.Ra|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),K[l[l[t]+16>>2]](u),P(N.Sa|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r))),t=l[t+3];if(0==(t|0))break;u=t,t=u>>2}t=l[e];if(0!=(t|0)){u=t;for(t=u>>2;;){6==(l[t+1]|0)&&(P(N.Ra|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),K[l[l[t]+16>>2]](u),P(N.Sa|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r))),t=l[t+3];if(0==(t|0))break e;u=t,t=u>>2}}}}while(0);P(N.Jf|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.Pf|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.Tf|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.Yf|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r))}a=i}function No(e,t){var n,r,s,u,f,h=e>>2,d=a;a+=192,f=d>>2;var v=d+92,m=d+104,g=d+128;u=g>>2;var y=e+64|0,b=y>>2;s=g>>2;for(var w=b+16;b<w;b++,s++)l[s]=l[b];s=(e+4|0)>>2,b=o[s],l[s]=b|4;var w=b>>>1,E=o[h+12],S=o[h+13],b=0!=((c[S+38|0]|c[E+38|0])&1)<<24>>24,x=o[E+8>>2],T=o[S+8>>2],N=x+12|0,C=T+12|0;do if(b){n=l[E+12>>2],r=l[S+12>>2];var k=l[h+14],L=l[h+15];l[f+4]=0,l[f+5]=0,p[f+6]=0,l[f+11]=0,l[f+12]=0,p[f+13]=0,Tg(d|0,n,k),Tg(d+28|0,r,L),r=(d+56|0)>>2,n=N>>2,l[r]=l[n],l[r+1]=l[n+1],l[r+2]=l[n+2],l[r+3]=l[n+3],r=(d+72|0)>>2,n=C>>2,l[r]=l[n],l[r+1]=l[n+1],l[r+2]=l[n+2],l[r+3]=l[n+3],c[d+88|0]=1,i[v+4>>1]=0,uh(m,v,d),n=11920928955078125e-22>p[m+16>>2]&1,l[h+31]=0,r=n,n=w&1}else{K[l[l[h]>>2]](e,y,N,C),k=e+124|0,r=0<(l[k>>2]|0),n=r&1;e:do if(r)for(var L=l[u+15],A=0;;){var O=e+20*A+72|0;p[O>>2]=0;var M=e+20*A+76|0;p[M>>2]=0;for(var _=l[h+(5*A|0)+20],D=0;(D|0)<(L|0);){if((l[u+(5*D|0)+4]|0)==(_|0)){p[O>>2]=p[u+(5*D|0)+2],p[M>>2]=p[u+(5*D|0)+3];break}D=D+1|0}A=A+1|0;if((A|0)>=(l[k>>2]|0))break e}while(0);k=w&1,(r&1|0)!=(k|0)&&(r=x+4|0,L=i[r>>1],0==(L&2)<<16>>16&&(i[r>>1]=L|2,p[x+144>>2]=0),r=T+4|0,L=i[r>>1],0==(L&2)<<16>>16)&&(i[r>>1]=L|2,p[T+144>>2]=0),r=n,n=k}while(0);u=0!=r<<24>>24,f=l[s],l[s]=u?f|2:f&-3,f=u^1,h=0==(t|0),0!=(n|0)|f|h||K[l[l[t>>2]+8>>2]](t,e),u|0==(n|0)|h||K[l[l[t>>2]+12>>2]](t,e),b|f|h||K[l[l[t>>2]+16>>2]](t,e,g),a=d}function Sp(e,t){var n,r,i,s,o,u,a,f,h,d=t>>2;f=e>>2,h=t>>2,l[f]=l[h],l[f+1]=l[h+1],l[f+2]=l[h+2],l[f+3]=l[h+3],l[f+4]=l[h+4],l[f+5]=l[h+5];var v=l[d+10];a=e+32|0,l[a>>2]=v,f=l[d+7],h=(e+48|0)>>2,l[h]=f;var m=88*f|0;f=(v+102796|0)>>2;var g=l[f];if(32>(g|0))var y=g;else O(N.p|0,38,N.w|0,N.D|0),y=l[f];g=v+12*y+102412|0,l[(v+12*y+102416|0)>>2]=m,u=(v+102400|0)>>2,o=l[u],102400<(o+m|0)?(u=fe(m),l[(g|0)>>2]=u,c[v+12*y+102420|0]=1):(l[(g|0)>>2]=v+o|0,c[v+12*y+102420|0]=0,l[u]=l[u]+m|0),y=v+102404|0,m=l[y>>2]+m|0,l[y>>2]=m,v=v+102408|0,y=l[v>>2],l[v>>2]=(y|0)>(m|0)?y:m,l[f]=l[f]+1|0,f=e+36|0,l[f>>2]=l[g>>2],v=l[a>>2],m=152*l[h]|0,a=(v+102796|0)>>2,g=l[a],32>(g|0)?y=g:(O(N.p|0,38,N.w|0,N.D|0),y=l[a]),g=v+12*y+102412|0,l[(v+12*y+102416|0)>>2]=m,u=(v+102400|0)>>2,o=l[u],102400<(o+m|0)?(u=fe(m),l[(g|0)>>2]=u,c[v+12*y+102420|0]=1):(l[(g|0)>>2]=v+o|0,c[v+12*y+102420|0]=0,l[u]=l[u]+m|0),y=v+102404|0,m=l[y>>2]+m|0,l[y>>2]=m,v=v+102408|0,y=l[v>>2],l[v>>2]=(y|0)>(m|0)?y:m,l[a]=l[a]+1|0,a=e+40|0,l[a>>2]=l[g>>2],l[e+24>>2]=l[d+8],l[e+28>>2]=l[d+9],d=l[d+6],g=e+44|0,l[g>>2]=d,v=0<(l[h]|0);e:do if(v){m=e+20|0,y=e+8|0,u=0;for(o=d;;){var b=l[o+(u<<2)>>2];o=b>>2;var w=l[o+12];s=l[o+13];var E=p[l[w+12>>2]+8>>2],S=p[l[s+12>>2]+8>>2],x=l[w+8>>2],T=l[s+8>>2],w=l[o+31],C=0<(w|0);C||O(N.ba|0,71,N.we|0,N.tf|0);var k=l[a>>2];s=k>>2,p[s+(38*u|0)+34]=p[o+34],p[s+(38*u|0)+35]=p[o+35];var L=x+8|0;l[(k+152*u+112|0)>>2]=l[L>>2];var A=T+8|0;l[(k+152*u+116|0)>>2]=l[A>>2];var M=x+120|0;p[s+(38*u|0)+30]=p[M>>2];var _=T+120|0;p[s+(38*u|0)+31]=p[_>>2],n=x+128|0,p[s+(38*u|0)+32]=p[n>>2];var D=T+128|0;p[s+(38*u|0)+33]=p[D>>2],l[(k+152*u+148|0)>>2]=u,l[(k+152*u+144|0)>>2]=w,i=(k+152*u+80|0)>>2,l[i]=0,l[i+1]=0,l[i+2]=0,l[i+3]=0,l[i+4]=0,l[i+5]=0,l[i+6]=0,l[i+7]=0,i=l[f>>2],r=i>>2,l[(i+88*u+32|0)>>2]=l[L>>2],l[(i+88*u+36|0)>>2]=l[A>>2],p[r+(22*u|0)+10]=p[M>>2],p[r+(22*u|0)+11]=p[_>>2],x=x+28|0,L=i+88*u+48|0,A=l[x+4>>2],l[(L|0)>>2]=l[x>>2],l[(L+4|0)>>2]=A,T=T+28|0,x=i+88*u+56|0,L=l[T+4>>2],l[(x|0)>>2]=l[T>>2],l[(x+4|0)>>2]=L,p[r+(22*u|0)+16]=p[n>>2],p[r+(22*u|0)+17]=p[D>>2],n=b+104|0,D=i+88*u+16|0,T=l[n+4>>2],l[(D|0)>>2]=l[n>>2],l[(D+4|0)>>2]=T,n=b+112|0,D=i+88*u+24|0,T=l[n+4>>2],l[(D|0)>>2]=l[n>>2],l[(D+4|0)>>2]=T,l[(i+88*u+84|0)>>2]=w,p[r+(22*u|0)+19]=E,p[r+(22*u|0)+20]=S,l[(i+88*u+72|0)>>2]=l[o+30];t:do if(C)for(E=0;;)if(S=b+20*E+64|0,0==(c[m]&1)<<24>>24?(p[s+(38*u|0)+(9*E|0)+4]=0,p[s+(38*u|0)+(9*E|0)+5]=0):(p[s+(38*u|0)+(9*E|0)+4]=p[y>>2]*p[o+(5*E|0)+18],p[s+(38*u|0)+(9*E|0)+5]=p[y>>2]*p[o+(5*E|0)+19]),n=k+152*u+36*E|0,p[s+(38*u|0)+(9*E|0)+6]=0,p[s+(38*u|0)+(9*E|0)+7]=0,p[s+(38*u|0)+(9*E|0)+8]=0,r=(E<<3)+i+88*u|0,n>>=2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,n=l[S+4>>2],l[(r|0)>>2]=l[S>>2],l[(r+4|0)>>2]=n,E=E+1|0,(E|0)==(w|0))break t;while(0);u=u+1|0;if((u|0)>=(l[h]|0))break e;o=l[g>>2]}}while(0)}function Tp(e){var t,n,r,i,u=a;a+=56;var f=u+16,c=u+32,h=e+48|0,d=0<(l[h>>2]|0);e:do if(d)for(var v=e+40|0,m=e+36|0,g=e+44|0,y=e+24|0,b=e+28|0,w=u+8|0,E=u+12|0,S=f+8|0,x=f+12|0,T=u,C=f,k=c,A=0;;){var M=o[v>>2];i=M>>2;var _=l[m>>2],D=p[(_+76>>2)+(22*A|0)],P=p[(_+80>>2)+(22*A|0)],H=l[l[g>>2]+(l[i+(38*A|0)+37]<<2)>>2],B=H+64|0,j=l[i+(38*A|0)+28],F=l[i+(38*A|0)+29],I=p[i+(38*A|0)+30],q=p[i+(38*A|0)+31],R=p[i+(38*A|0)+32],U=p[i+(38*A|0)+33],z=_+88*A+48|0,W=l[z+4>>2],X=(s[0]=l[z>>2],L[0]),V=(s[0]=W,L[0]),$=_+88*A+56|0,J=l[$+4>>2],K=(s[0]=l[$>>2],L[0]),Q=(s[0]=J,L[0]),G=l[y>>2],Y=G+12*j|0,Z=l[Y+4>>2],et=(s[0]=l[Y>>2],L[0]),tt=(s[0]=Z,L[0]),nt=p[(G+8>>2)+(3*j|0)],rt=l[b>>2],it=rt+12*j|0,st=l[it+4>>2],ot=(s[0]=l[it>>2],L[0]),ut=(s[0]=st,L[0]),at=p[(rt+8>>2)+(3*j|0)],ft=G+12*F|0,lt=l[ft+4>>2],ct=(s[0]=l[ft>>2],L[0]),ht=(s[0]=lt,L[0]),pt=p[(G+8>>2)+(3*F|0)],dt=rt+12*F|0,vt=l[dt+4>>2],mt=(s[0]=l[dt>>2],L[0]),gt=(s[0]=vt,L[0]),yt=p[(rt+8>>2)+(3*F|0)];0<(l[H+124>>2]|0)||O(N.ba|0,168,N.ve|0,N.kg|0);var bt=Yk(nt);p[w>>2]=bt;var wt=Zk(nt);p[E>>2]=wt;var Et=Yk(pt);p[S>>2]=Et;var St=Zk(pt);p[x>>2]=St;var xt=tt-(bt*X+wt*V),Tt=(L[0]=et-(wt*X-bt*V),s[0]),Nt=(L[0]=xt,s[0])|0;l[T>>2]=0|Tt,l[T+4>>2]=Nt;var Ct=ht-(Et*K+St*Q),kt=(L[0]=ct-(St*K-Et*Q),s[0]),Lt=(L[0]=Ct,s[0])|0;l[C>>2]=0|kt,l[C+4>>2]=Lt,Sg(c,B,u,D,f,P);var At=M+152*A+72|0,Ot=At,Mt=l[k+4>>2];l[Ot>>2]=l[k>>2],l[Ot+4>>2]=Mt,r=(M+152*A+144|0)>>2;var _t=l[r],Dt=0<(_t|0);do if(Dt){n=(M+152*A+76|0)>>2,t=(At|0)>>2;for(var Pt=I+q,Ht=-yt,Bt=-at,jt=M+152*A+140|0,Ft=0;;){var It=p[c+(Ft<<3)+8>>2],qt=It-et,Rt=p[c+(Ft<<3)+12>>2],Ut=Rt-tt,zt=M+152*A+36*Ft|0,Wt=(L[0]=qt,s[0]),Xt=(L[0]=Ut,s[0])|0;l[zt>>2]=0|Wt,l[zt+4>>2]=Xt;var Vt=It-ct,$t=Rt-ht,Jt=M+152*A+36*Ft+8|0,Kt=(L[0]=Vt,s[0]),Qt=(L[0]=$t,s[0])|0;l[Jt>>2]=0|Kt,l[Jt+4>>2]=Qt;var Gt=p[n],Yt=p[i+(38*A|0)+(9*Ft|0)+1],Zt=p[t],en=qt*Gt-Yt*Zt,tn=p[i+(38*A|0)+(9*Ft|0)+3],nn=Vt*Gt-tn*Zt,rn=Pt+R*en*en+U*nn*nn;p[i+(38*A|0)+(9*Ft|0)+6]=0<rn?1/rn:0;var sn=p[n],on=-1*p[t],un=qt*on-Yt*sn,an=Vt*on-tn*sn,fn=Pt+R*un*un+U*an*an;p[i+(38*A|0)+(9*Ft|0)+7]=0<fn?1/fn:0;var ln=M+152*A+36*Ft+32|0;p[ln>>2]=0;var cn=p[t]*(mt+tn*Ht-ot-Yt*Bt)+p[n]*(gt+Vt*yt-ut-qt*at);-1>cn&&(p[ln>>2]=cn*-p[jt>>2]);var hn=Ft+1|0;if((hn|0)==(_t|0))break;Ft=hn}if(2==(l[r]|0)){var pn=p[n],dn=p[t],vn=p[i+(38*A|0)]*pn-p[i+(38*A|0)+1]*dn,mn=p[i+(38*A|0)+2]*pn-p[i+(38*A|0)+3]*dn,gn=p[i+(38*A|0)+9]*pn-p[i+(38*A|0)+10]*dn,yn=p[i+(38*A|0)+11]*pn-p[i+(38*A|0)+12]*dn,bn=R*vn,wn=U*mn,En=Pt+bn*vn+wn*mn,Sn=Pt+R*gn*gn+U*yn*yn,xn=Pt+bn*gn+wn*yn,Tn=En*Sn-xn*xn;if(En*En<1e3*Tn){p[i+(38*A|0)+24]=En,p[i+(38*A|0)+25]=xn,p[i+(38*A|0)+26]=xn,p[i+(38*A|0)+27]=Sn;var Nn=0!=Tn?1/Tn:Tn,Cn=xn*-Nn,kn=Nn*En;p[i+(38*A|0)+20]=Nn*Sn,p[i+(38*A|0)+21]=Cn,p[i+(38*A|0)+22]=Cn,p[i+(38*A|0)+23]=kn}else l[r]=1}}while(0);var Ln=A+1|0;if((Ln|0)>=(l[h>>2]|0))break e;A=Ln}while(0);a=u}function Up(e){var t,n,r,i,u,a=e+48|0,f=0<(l[a>>2]|0);e:do if(f){var c=e+40|0;i=(e+28|0)>>2;for(var h=0;;){var d=o[c>>2];r=d>>2;var v=d+152*h|0,m=o[r+(38*h|0)+28],g=o[r+(38*h|0)+29],y=p[r+(38*h|0)+30],b=p[r+(38*h|0)+32],w=p[r+(38*h|0)+31],E=p[r+(38*h|0)+33],S=d+152*h+144|0,x=o[S>>2],T=l[i],C=T+12*m|0,k=l[C+4>>2],A=(s[0]=l[C>>2],L[0]),M=(s[0]=k,L[0]),_=p[(T+8>>2)+(3*m|0)],D=T+12*g|0,P=l[D+4>>2],H=(s[0]=l[D>>2],L[0]),B=(s[0]=P,L[0]),j=p[(T+8>>2)+(3*g|0)],F=d+152*h+72|0,I=l[F+4>>2],q=(s[0]=l[F>>2],L[0]),R=(s[0]=I,L[0]),U=-1*q,z=p[r+(38*h|0)+34];if(2>(x-1|0)>>>0){var W=B,X=H,V=M,$=A,J=_,K=j,Q=0;u=6}else if(O(N.ba|0,311,N.pb|0,N.Wg|0),0<(x|0))W=B,X=H,V=M,$=A,J=_,K=j,Q=0,u=6;else{var G=B,Y=H,Z=M,et=A,tt=_,nt=j;u=7}t:do if(6==u)for(;;){var rt=p[r+(38*h|0)+(9*Q|0)+3],it=p[r+(38*h|0)+(9*Q|0)+2],st=p[r+(38*h|0)+(9*Q|0)+1],ot=p[r+(38*h|0)+(9*Q|0)],ut=z*p[r+(38*h|0)+(9*Q|0)+4],at=d+152*h+36*Q+20|0,ft=p[at>>2],lt=ft+p[r+(38*h|0)+(9*Q|0)+7]*-((X+rt*-K-$-st*-J)*R+(W+it*K-V-ot*J)*U),ct=-ut,ht=lt<ut?lt:ut,pt=ht<ct?ct:ht,dt=pt-ft;p[at>>2]=pt;var vt=R*dt,mt=U*dt,gt=$-vt*y,yt=V-mt*y,bt=J-b*(ot*mt-st*vt),wt=X+vt*w,Et=W+mt*w,St=K+E*(it*mt-rt*vt),xt=Q+1|0;if((xt|0)==(x|0)){G=Et,Y=wt,Z=yt,et=gt,tt=bt,nt=St;break t}W=Et,X=wt,V=yt,$=gt,J=bt,K=St,Q=xt}while(0);var Tt=1==(l[S>>2]|0);t:do if(Tt){var Nt=p[r+(38*h|0)+3],Ct=p[r+(38*h|0)+2],kt=p[r+(38*h|0)+1],Lt=p[v>>2],At=d+152*h+16|0,Ot=p[At>>2],Mt=Ot+((Y+Nt*-nt-et-kt*-tt)*q+(G+Ct*nt-Z-Lt*tt)*R-p[r+(38*h|0)+8])*-p[r+(38*h|0)+6],_t=0<Mt?Mt:0,Dt=_t-Ot;p[At>>2]=_t;var Pt=q*Dt,Ht=R*Dt,Bt=nt+E*(Ct*Ht-Nt*Pt),jt=tt-b*(Lt*Ht-kt*Pt),Ft=et-Pt*y,It=Z-Ht*y,qt=Y+Pt*w,Rt=G+Ht*w}else{n=(d+152*h+16|0)>>2;var Ut=p[n];t=(d+152*h+52|0)>>2;var zt=p[t];0>Ut|0>zt&&O(N.ba|0,406,N.pb|0,N.nh|0);var Wt=-nt,Xt=p[r+(38*h|0)+3],Vt=p[r+(38*h|0)+2],$t=-tt,Jt=p[r+(38*h|0)+1],Kt=p[v>>2],Qt=p[r+(38*h|0)+12],Gt=p[r+(38*h|0)+11],Yt=p[r+(38*h|0)+10],Zt=p[r+(38*h|0)+9],en=p[r+(38*h|0)+26],tn=p[r+(38*h|0)+25],nn=(Y+Xt*Wt-et-Jt*$t)*q+(G+Vt*nt-Z-Kt*tt)*R-p[r+(38*h|0)+8]-(p[r+(38*h|0)+24]*Ut+en*zt),rn=(Y+Qt*Wt-et-Yt*$t)*q+(G+Gt*nt-Z-Zt*tt)*R-p[r+(38*h|0)+17]-(tn*Ut+p[r+(38*h|0)+27]*zt),sn=p[r+(38*h|0)+20]*nn+p[r+(38*h|0)+22]*rn,on=p[r+(38*h|0)+21]*nn+p[r+(38*h|0)+23]*rn,un=-sn,an=-on;if(0<sn|0<on){var fn=nn*-p[r+(38*h|0)+6],ln=0>fn;do if(!ln&&0<=tn*fn+rn){var cn=fn-Ut,hn=-zt,pn=q*cn,dn=R*cn,vn=q*hn,mn=R*hn,gn=pn+vn,yn=dn+mn,bn=et-gn*y,wn=Z-yn*y,En=tt-b*(Kt*dn-Jt*pn+(Zt*mn-Yt*vn)),Sn=Y+gn*w,xn=G+yn*w,Tn=nt+E*(Vt*dn-Xt*pn+(Gt*mn-Qt*vn));p[n]=fn,p[t]=0,Bt=Tn,jt=En,Ft=bn,It=wn,qt=Sn,Rt=xn;break t}while(0);var Nn=rn*-p[r+(38*h|0)+15],Cn=0>Nn;do if(!Cn&&0<=en*Nn+nn){var kn=-Ut,Ln=Nn-zt,An=q*kn,On=R*kn,Mn=q*Ln,_n=R*Ln,Dn=An+Mn,Pn=On+_n,Hn=et-Dn*y,Bn=Z-Pn*y,jn=tt-b*(Kt*On-Jt*An+(Zt*_n-Yt*Mn)),Fn=Y+Dn*w,In=G+Pn*w,qn=nt+E*(Vt*On-Xt*An+(Gt*_n-Qt*Mn));p[n]=0,p[t]=Nn,Bt=qn,jt=jn,Ft=Hn,It=Bn,qt=Fn,Rt=In;break t}while(0);if(0>nn|0>rn)Bt=nt,jt=tt,Ft=et,It=Z,qt=Y,Rt=G;else{var Rn=-Ut,Un=-zt,zn=q*Rn,Wn=R*Rn,Xn=q*Un,Vn=R*Un,$n=zn+Xn,Jn=Wn+Vn,Kn=et-$n*y,Qn=Z-Jn*y,Gn=tt-b*(Kt*Wn-Jt*zn+(Zt*Vn-Yt*Xn)),Yn=Y+$n*w,Zn=G+Jn*w,er=nt+E*(Vt*Wn-Xt*zn+(Gt*Vn-Qt*Xn));p[n]=0,p[t]=0,Bt=er,jt=Gn,Ft=Kn,It=Qn,qt=Yn,Rt=Zn}}else{var tr=un-Ut,nr=an-zt,rr=q*tr,ir=R*tr,sr=q*nr,or=R*nr,ur=rr+sr,ar=ir+or,fr=et-ur*y,lr=Z-ar*y,cr=tt-b*(Kt*ir-Jt*rr+(Zt*or-Yt*sr)),hr=Y+ur*w,pr=G+ar*w,dr=nt+E*(Vt*ir-Xt*rr+(Gt*or-Qt*sr));p[n]=un,p[t]=an,Bt=dr,jt=cr,Ft=fr,It=lr,qt=hr,Rt=pr}}while(0);var vr=l[i]+12*m|0,mr=(L[0]=Ft,s[0]),gr=(L[0]=It,s[0])|0;l[(vr|0)>>2]=0|mr,l[(vr+4|0)>>2]=gr,p[(l[i]+8>>2)+(3*m|0)]=jt;var yr=l[i]+12*g|0,br=(L[0]=qt,s[0]),wr=(L[0]=Rt,s[0])|0;l[(yr|0)>>2]=0|br,l[(yr+4|0)>>2]=wr,p[(l[i]+8>>2)+(3*g|0)]=Bt;var Er=h+1|0;if((Er|0)>=(l[a>>2]|0))break e;h=Er}}while(0)}function Vp(e,t,n,r,i){var o=r>>2,u=n>>2,t=t>>2;0<(l[t+21]|0)||O(N.ba|0,617,N.De|0,N.xh|0);var a=l[t+18];if(0==(a|0)){var n=p[u+3],a=p[t+6],f=p[u+2],c=p[t+7],i=n*a-f*c+p[u],u=f*a+n*c+p[u+1],a=p[o+3],f=p[t],c=p[o+2],r=p[t+1],n=a*f-c*r+p[o],f=c*f+a*r+p[o+1],o=n-i,a=f-u,c=(L[0]=o,s[0]),r=(L[0]=a,s[0])|0;l[e>>2]=0|c,l[e+4>>2]=r,c=dg(o*o+a*a),1.1920928955078125e-7>c?(c=o,r=a):(r=1/c,c=o*r,p[e>>2]=c,r*=a,p[(e+4|0)>>2]=r);var h=e+8|0,i=(L[0]=.5*(i+n),s[0]),u=(L[0]=.5*(u+f),s[0])|0;l[h>>2]=0|i,l[h+4>>2]=u,p[e+16>>2]=o*c+a*r-p[t+19]-p[t+20]}else if(1==(a|0)){var f=n+12|0,a=p[f>>2],c=p[t+4],r=n+8|0,h=p[r>>2],d=p[t+5],n=a*c-h*d,a=h*c+a*d,c=(L[0]=n,s[0]),h=(L[0]=a,s[0])|0;l[(e|0)>>2]=0|c,l[(e+4|0)>>2]=h;var f=p[f>>2],c=p[t+6],r=p[r>>2],h=p[t+7],d=p[o+3],v=p[(i<<3>>2)+t],m=p[o+2],g=p[((i<<3)+4>>2)+t],i=d*v-m*g+p[o],o=m*v+d*g+p[o+1];p[e+16>>2]=(i-(f*c-r*h+p[u]))*n+(o-(r*c+f*h+p[u+1]))*a-p[t+19]-p[t+20],e=e+8|0,t=(L[0]=i,s[0]),o=(L[0]=o,s[0])|0,l[(e|0)>>2]=0|t,l[(e+4|0)>>2]=o}else 2==(a|0)&&(f=r+12|0,a=p[f>>2],c=p[t+4],r=r+8|0,h=p[r>>2],d=p[t+5],n=a*c-h*d,a=h*c+a*d,c=(L[0]=n,s[0]),h=(L[0]=a,s[0])|0,l[(e|0)>>2]=0|c,l[(e+4|0)>>2]=h,f=p[f>>2],c=p[t+6],r=p[r>>2],h=p[t+7],d=p[u+3],v=p[(i<<3>>2)+t],m=p[u+2],g=p[((i<<3)+4>>2)+t],i=d*v-m*g+p[u],u=m*v+d*g+p[u+1],p[e+16>>2]=(i-(f*c-r*h+p[o]))*n+(u-(r*c+f*h+p[o+1]))*a-p[t+19]-p[t+20],t=e+8|0,o=(L[0]=i,s[0]),u=(L[0]=u,s[0])|0,l[(t|0)>>2]=0|o,l[(t+4|0)>>2]=u,t=(L[0]=-n,s[0]),o=(L[0]=-a,s[0])|0,l[e>>2]=0|t,l[e+4>>2]=o)}function Mp(e,t){var n,r,i,u,a,f,h,d,v,m,g=e>>2,y=e|0;l[y>>2]=Gp+8|0;var b=t+8|0,w=t+12|0;(l[b>>2]|0)==(l[w>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[g+1]=l[t>>2],l[g+2]=0,l[g+3]=0;var E=e+48|0;l[E>>2]=l[b>>2];var S=e+52|0;l[S>>2]=l[w>>2],l[g+14]=0,c[e+61|0]=c[t+16|0]&1,c[e+60|0]=0,l[g+16]=l[t+4>>2],m=(e+16|0)>>2,l[m]=0,l[m+1]=0,l[m+2]=0,l[m+3]=0,l[m+4]=0,l[m+5]=0,l[m+6]=0,l[m+7]=0,l[y>>2]=eq+8|0;var x=e+92|0,T=e+100|0,C=e+108|0,k=e+116|0,A=e+124|0,M=e+132|0,_=t+20|0,D=l[_>>2],P=e+68|0;l[P>>2]=D;var H=t+24|0,B=l[H>>2],j=e+72|0;l[j>>2]=B;var F=l[D+4>>2],I=e+76|0;l[I>>2]=F;var q=o[B+4>>2];v=(e+80|0)>>2,l[v]=q;if(2>(F-1|0)>>>0)var R=q;else O(N.Za|0,53,N.jb|0,N.xf|0),R=l[v];2>(R-1|0)>>>0||O(N.Za|0,54,N.jb|0,N.ng|0);var U=o[P>>2],z=o[U+48>>2];d=z>>2,l[g+21]=z;var W=o[U+52>>2];h=W>>2,l[E>>2]=W;var X=p[h+5],V=p[h+6],$=p[d+5],J=p[d+6],K=o[_>>2];if(1==(l[I>>2]|0)){var Q=p[h+14],G=p[d+14],Y=K+68|0,Z=Y|0,et=l[Z>>2],tt=Y+4|0,nt=l[tt>>2],rt=C|0;f=rt>>2,l[f]=et;var it=C+4|0;a=it>>2,l[a]=nt;var st=K+76|0,ot=st|0,ut=l[ot>>2],at=st+4|0,ft=l[at>>2],lt=x|0;u=lt>>2,l[u]=ut;var ct=x+4|0;i=ct>>2,l[i]=ft;var ht=p[K+116>>2];p[g+35]=ht,p[A>>2]=0,p[g+32]=0;var pt=Q-G-ht}else{var dt=p[d+4],vt=p[d+3],mt=p[h+4],gt=p[h+3],yt=K+68|0,rt=yt|0;f=rt>>2;var bt=l[f],it=yt+4|0;a=it>>2;var wt=l[a],Et=C|0;l[Et>>2]=bt;var St=C+4|0;l[St>>2]=wt;var xt=K+76|0,lt=xt|0;u=lt>>2;var Tt=l[u],ct=xt+4|0;i=ct>>2;var Nt=l[i],Ct=x|0;l[Ct>>2]=Tt;var kt=x+4|0;l[kt>>2]=Nt,p[g+35]=p[K+100>>2];var Lt=K+84|0,At=Lt|0,Ot=l[At>>2],Mt=Lt+4|0,_t=l[Mt>>2],Dt=A|0;l[Dt>>2]=Ot;var Pt=A+4|0;l[Pt>>2]=_t;var Ht=(s[0]=bt,L[0]),Bt=(s[0]=wt,L[0]),jt=(s[0]=Tt,L[0]),Ft=V*jt,It=(s[0]=Nt,L[0]),qt=Ft-X*It+(gt-vt),Rt=X*jt+V*It+(mt-dt),Ut=J*qt+$*Rt-Ht,zt=qt*-$+J*Rt-Bt,Wt=(s[0]=Ot,L[0]),Xt=Ut*Wt,Vt=(s[0]=_t,L[0]),pt=Xt+zt*Vt}var $t=l[j>>2],Jt=l[$t+48>>2];r=Jt>>2,l[g+22]=Jt;var Kt=l[$t+52>>2];n=Kt>>2,l[S>>2]=Kt;var Qt=p[n+5],Gt=p[n+6],Yt=p[r+5],Zt=p[r+6],en=l[H>>2];if(1==(l[v]|0)){var tn=p[n+14],nn=p[r+14],rn=en+68|0,Z=rn|0,sn=l[Z>>2],tt=rn+4|0,on=l[tt>>2],rt=k|0;f=rt>>2,l[f]=sn,it=k+4|0,a=it>>2,l[a]=on;var un=en+76|0,ot=un|0,an=l[ot>>2],at=un+4|0,fn=l[at>>2],lt=T|0;u=lt>>2,l[u]=an,ct=T+4|0,i=ct>>2,l[i]=fn;var ln=p[en+116>>2];p[g+36]=ln,p[M>>2]=0,p[g+34]=0;var cn=tn-nn-ln}else{var hn=p[r+4],pn=p[r+3],dn=p[n+4],vn=p[n+3],mn=en+68|0,rt=mn|0;f=rt>>2;var gn=l[f],it=mn+4|0;a=it>>2;var yn=l[a],Et=k|0;l[Et>>2]=gn,St=k+4|0,l[St>>2]=yn;var bn=en+76|0,lt=bn|0;u=lt>>2;var wn=l[u],ct=bn+4|0;i=ct>>2;var En=l[i],Ct=T|0;l[Ct>>2]=wn,kt=T+4|0,l[kt>>2]=En,p[g+36]=p[en+100>>2];var Sn=en+84|0,At=Sn|0,xn=l[At>>2],Mt=Sn+4|0,Tn=l[Mt>>2],Dt=M|0;l[Dt>>2]=xn,Pt=M+4|0,l[Pt>>2]=Tn;var Nn=(s[0]=gn,L[0]),Cn=(s[0]=yn,L[0]),kn=(s[0]=wn,L[0]),Ln=Gt*kn,An=(s[0]=En,L[0]),On=Ln-Qt*An+(vn-pn),Mn=Qt*kn+Gt*An+(dn-hn),_n=Zt*On+Yt*Mn-Nn,Dn=On*-Yt+Zt*Mn-Cn,Pn=(s[0]=xn,L[0]),Hn=_n*Pn,Bn=(s[0]=Tn,L[0]),cn=Hn+Dn*Bn}var jn=p[t+28>>2];p[g+38]=jn,p[g+37]=pt+jn*cn,p[g+39]=0}function Ip(e,t){var n,r,i=e>>2,u=e|0;l[u>>2]=Gp+8|0;var a=t+8|0;r=t+12|0,(l[a>>2]|0)==(l[r>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[i+1]=l[t>>2],l[i+2]=0,l[i+3]=0,l[i+12]=l[a>>2],a=e+52|0,l[a>>2]=l[r>>2],l[i+14]=0,c[e+61|0]=c[t+16|0]&1,c[e+60|0]=0,l[i+16]=l[t+4>>2],r=(e+16|0)>>2,l[r]=0,l[r+1]=0,l[r+2]=0,l[r+3]=0,l[r+4]=0,l[r+5]=0,l[r+6]=0,l[r+7]=0,l[u>>2]=fq+8|0,u=e+68|0,n=e+76|0;var f=t+20|0;r=p[f>>2],(!isNaN(r)&&!isNaN(0))&-Infinity<r&Infinity>r?(r=p[t+24>>2],r=(!isNaN(r)&&!isNaN(0))&-Infinity<r&Infinity>r?7:6):r=6,6==r&&O(N.da|0,34,N.fa|0,N.Af|0),r=t+28|0;var h=p[r>>2];0>h|(!isNaN(h)&&!isNaN(0))&-Infinity<h&Infinity>h^1&&O(N.da|0,35,N.fa|0,N.pg|0);var h=t+32|0,d=p[h>>2];0>d|(!isNaN(d)&&!isNaN(0))&-Infinity<d&Infinity>d^1&&O(N.da|0,36,N.fa|0,N.ah|0);var d=t+36|0,v=p[d>>2];0>v|(!isNaN(v)&&!isNaN(0))&-Infinity<v&Infinity>v^1&&O(N.da|0,37,N.fa|0,N.ph|0),v=o[f>>2],f=o[f+4>>2],l[n>>2]=v,l[n+4>>2]=f,n=o[a>>2]>>2;var a=(s[0]=v,L[0])-p[n+3],f=(s[0]=f,L[0])-p[n+4],v=p[n+6],m=p[n+5];n=(L[0]=v*a+m*f,s[0]),a=(L[0]=a*-m+v*f,s[0])|0,l[u>>2]=0|n,l[u+4>>2]=a,p[i+26]=p[r>>2],p[i+24]=0,p[i+25]=0,p[i+21]=p[h>>2],p[i+22]=p[d>>2],p[i+23]=0,p[i+27]=0}function Jp(e,t){var n,r,i;n=t>>2;var o=e>>2;r=e|0,l[r>>2]=Gp+8|0,i=t+8|0;var u=t+12|0;(l[i>>2]|0)==(l[u>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[o+1]=l[n],l[o+2]=0,l[o+3]=0,l[o+12]=l[i>>2],l[o+13]=l[u>>2],l[o+14]=0,c[e+61|0]=c[t+16|0]&1,c[e+60|0]=0,l[o+16]=l[n+1],i=(e+16|0)>>2,l[i]=0,l[i+1]=0,l[i+2]=0,l[i+3]=0,l[i+4]=0,l[i+5]=0,l[i+6]=0,l[i+7]=0,l[r>>2]=gq+8|0,u=e+76|0,i=e+84|0,r=e+92|0;var a=t+20|0,f=e+68|0,h=l[a+4>>2];l[f>>2]=l[a>>2],l[f+4>>2]=h,a=t+28|0,f=l[a+4>>2],l[u>>2]=l[a>>2],l[u+4>>2]=f,a=t+36|0,u=l[a>>2],a=l[a+4>>2],l[i>>2]=u,l[i+4>>2]=a,u=(s[0]=u,L[0]),a=(s[0]=a,L[0]),f=dg(u*u+a*a),1.1920928955078125e-7>f?i=a:(f=1/f,u*=f,p[i>>2]=u,i=a*f,p[(e+88|0)>>2]=i),i=(L[0]=-1*i,s[0]),u=(L[0]=u,s[0])|0,l[r>>2]=0|i,l[r+4>>2]=u,p[o+25]=p[n+11],p[o+63]=0,r=(e+104|0)>>2,l[r]=0,l[r+1]=0,l[r+2]=0,l[r+3]=0,p[o+30]=p[(t+52|0)>>2],p[o+31]=p[n+14],p[o+32]=p[n+16],p[o+33]=p[n+17],c[e+136|0]=c[t+48|0]&1,c[e+137|0]=c[t+60|0]&1,l[o+35]=0,n=(e+184|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0}function hq(e,t,n,r,i,o,u,a){var f=e>>2;l[f+2]=t,l[f+3]=n;var c=e+20|0,h=l[r+4>>2];l[c>>2]=l[r>>2],l[c+4>>2]=h,c=e+28|0,h=l[i+4>>2],l[c>>2]=l[i>>2],l[c+4>>2]=h;var c=o|0,h=p[c>>2]-p[t+12>>2],o=o+4|0,d=p[o>>2]-p[t+16>>2],v=p[t+24>>2],m=p[t+20>>2],t=e+36|0,g=(L[0]=v*h+m*d,s[0]),h=(L[0]=h*-m+v*d,s[0])|0;l[t>>2]=0|g,l[t+4>>2]=h,t=u|0,h=p[t>>2]-p[n+12>>2],u=u+4|0,d=p[u>>2]-p[n+16>>2],v=p[n+24>>2],n=p[n+20>>2],e=e+44|0,g=(L[0]=v*h+n*d,s[0]),n=(L[0]=h*-n+v*d,s[0])|0,l[e>>2]=0|g,l[e+4>>2]=n,e=p[c>>2]-p[r>>2],r=p[o>>2]-p[r+4>>2],r=dg(e*e+r*r),p[f+13]=r,r=p[t>>2]-p[i>>2],i=p[u>>2]-p[i+4>>2],i=dg(r*r+i*i),p[f+14]=i,p[f+15]=a,1.1920928955078125e-7<a||O(N.Tb|0,51,N.Be|0,N.Bf|0)}function Lp(e,t){var n,r=e>>2,i=e|0;l[i>>2]=Gp+8|0,n=t+8|0;var s=t+12|0;(l[n>>2]|0)==(l[s>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[r+1]=l[t>>2],l[r+2]=0,l[r+3]=0,l[r+12]=l[n>>2],l[r+13]=l[s>>2],l[r+14]=0,c[e+61|0]=c[t+16|0]&1,c[e+60|0]=0,l[r+16]=l[t+4>>2],n=(e+16|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,l[n+4]=0,l[n+5]=0,l[n+6]=0,l[n+7]=0,l[i>>2]=iq+8|0,s=e+76|0,n=e+92|0;var i=e+100|0,o=t+20|0,u=e+68|0,a=l[o+4>>2];l[u>>2]=l[o>>2],l[u+4>>2]=a,o=t+28|0,u=l[o+4>>2],l[s>>2]=l[o>>2],l[s+4>>2]=u,s=t+36|0,o=l[s+4>>2],l[n>>2]=l[s>>2],l[n+4>>2]=o,n=t+44|0,s=l[n+4>>2],l[i>>2]=l[n>>2],l[i+4>>2]=s,i=t+52|0,p[r+21]=p[i>>2],n=t+56|0,p[r+22]=p[n>>2],s=t+60|0,o=p[s>>2],0!=o?s=o:(O(N.Tb|0,65,N.ue|0,N.rg|0),s=p[s>>2]),p[r+28]=s,p[r+27]=p[i>>2]+s*p[n>>2],p[r+29]=0}function Np(e,t){var n,r;n=t>>2;var i=e>>2,o=e|0;l[o>>2]=Gp+8|0,r=t+8|0;var u=t+12|0;(l[r>>2]|0)==(l[u>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[i+1]=l[n],l[i+2]=0,l[i+3]=0,l[i+12]=l[r>>2],l[i+13]=l[u>>2],l[i+14]=0,c[e+61|0]=c[t+16|0]&1,c[e+60|0]=0,l[i+16]=l[n+1],r=(e+16|0)>>2,l[r]=0,l[r+1]=0,l[r+2]=0,l[r+3]=0,l[r+4]=0,l[r+5]=0,l[r+6]=0,l[r+7]=0,l[o>>2]=jq+8|0,u=e+84|0,r=e+92|0;var o=e+100|0,a=t+20|0,f=e+76|0,h=l[a+4>>2];l[f>>2]=l[a>>2],l[f+4>>2]=h,a=t+28|0,f=l[a+4>>2],l[u>>2]=l[a>>2],l[u+4>>2]=f,a=t+36|0,u=l[a>>2],a=l[a+4>>2],l[r>>2]=u,l[r+4>>2]=a,r=-1*(s[0]=a,L[0]),r=0|(L[0]=r,s[0]),l[o>>2]=r,l[o+4>>2]=u|0,p[i+51]=0,p[i+27]=0,p[i+52]=0,p[i+28]=0,p[i+53]=0,p[i+29]=0,p[i+30]=p[n+12],p[i+31]=p[n+13],c[e+128|0]=c[t+44|0]&1,p[i+17]=p[n+14],p[i+18]=p[n+15],p[i+54]=0,p[i+55]=0,n=(e+172|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0}function kq(e){return l[e+68>>2]}function lq(e){return l[e+64>>2]}function mq(e,t){l[e+68>>2]=t}function nq(e,t){l[e+76>>2]=t}function oq(e,t){l[e+64>>2]=t}function pq(e,t){l[e+60>>2]=t}function qq(){var e,t=rq(80);return e=t>>2,If(t),l[e+15]=0,l[e+16]=0,l[e+17]=Ap,l[e+18]=Bp,l[e+19]=0,t}function sq(e){return l[e+72>>2]}function tq(e,t){l[e+72>>2]=t}function uq(e){return l[e+60>>2]}function vq(e){return l[e+76>>2]}function wq(e){return l[e+48>>2]}function xq(e){return l[e+52>>2]}function yq(e,t){p[e+68>>2]=t}function zq(e){return l[e+64>>2]}function Aq(e,t){l[e+64>>2]=t}function Bq(e){return l[e+12>>2]}function Cq(e){return p[e+68>>2]}function Dq(e){return p[e+104>>2]}function Eq(e){return p[e+72>>2]}function Fq(e){return 0!=(c[e+61|0]&1)<<24>>24}function Gq(e){return l[e+4>>2]}function Hq(e,t){p[e+72>>2]=t}function nr(e,t){p[e+104>>2]=t}function or(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function pr(e){return p[e+20>>2]}function qr(e,t){p[e+16>>2]=t}function rr(e){return l[e+12>>2]}function sr(e,t){p[e+20>>2]=t}function ws(e){return l[e+8>>2]}function xs(e){return l[e+4>>2]}function ys(e){return p[e+16>>2]}function zs(e){return l[e+40>>2]}function As(e,t){p[e>>2]=t}function Bs(e,t){var n=e+38|0;if((t&1|0)!=(c[n]&1|0)){var r=o[e+8>>2],s=r+4|0,u=i[s>>1];0==(u&2)<<16>>16&&(i[s>>1]=u|2,p[r+144>>2]=0),c[n]=t&1}}function Cs(e,t){return l[e+24>>2]+28*t|0}function Ds(e,t){l[e+40>>2]=t}function Es(e){return 0!=(c[e+38|0]&1)<<24>>24}function Fs(e){return l[l[e+12>>2]+4>>2]}function Gs(e){return p[e>>2]}function Hs(e){return l[e+48>>2]}function Is(e){return l[e+52>>2]}function Js(e,t){p[e+84>>2]=t}function Ks(e){return l[e+64>>2]}function Ls(e,t){p[e+104>>2]=t}function Ms(e,t){l[e+64>>2]=t}function Ns(e){return l[e+12>>2]}function Os(e){return p[e+104>>2]}function Ps(e){return p[e+84>>2]}function Qs(e){return p[e+88>>2]}function Rs(e){return 0!=(c[e+61|0]&1)<<24>>24}function Ss(e,t){var n=l[e+52>>2],r=n+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),n=e+76|0,r=l[t+4>>2],l[n>>2]=l[t>>2],l[n+4>>2]=r}function Ts(e){return l[e+4>>2]}function Us(e,t){p[e+88>>2]=t}function Vs(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function Ws(e){return l[e+48>>2]}function Xs(e){return l[e+4>>2]}function Ys(e){Ln(e|0,e)}function Zs(e){0!=(e|0)&&(bg(l[e+32>>2]),bg(l[e+44>>2]),bg(l[e+4>>2]),$s(e))}function at(e,t){for(var n=t>>2,r=e>>2,i=n+15;n<i;n++,r++)l[r]=l[n]}function bt(e){var t=a;a+=8,0==c[ct]<<24>>24&&dt(ct),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=et;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,et}function ft(e){var t=a;a+=8,0==c[gt]<<24>>24&&dt(gt),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=ht;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,ht}function it(e,t){var n=a;a+=8,0==c[jt]<<24>>24&&dt(jt),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=kt;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,kt}function lt(e){0!=(e|0)&&K[l[l[e>>2]+24>>2]](e)}function mt(e){K[l[l[e>>2]+16>>2]](e)}function nt(e){var t,n,r=e>>2,i=rq(176);n=i>>2,l[i>>2]=Gp+8|0;var s=e+8|0,o=l[s>>2];t=e+12|0;var u=l[t>>2];return(o|0)==(u|0)?(O(N.k|0,173,N.l|0,N.m|0),s=l[s>>2],t=l[t>>2]):(s=o,t=u),l[n+1]=l[r],l[n+2]=0,l[n+3]=0,l[n+12]=s,l[n+13]=t,l[n+14]=0,c[i+61|0]=c[e+16|0]&1,c[i+60|0]=0,l[n+16]=l[r+1],t=(i+16|0)>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,l[t+4]=0,l[t+5]=0,l[t+6]=0,l[t+7]=0,l[i>>2]=Hp+8|0,t=i+88|0,u=e+20|0,s=i+80|0,o=l[u+4>>2],l[s>>2]=l[u>>2],l[s+4>>2]=o,e=e+28|0,u=l[e+4>>2],l[t>>2]=l[e>>2],l[t+4>>2]=u,p[n+26]=p[r+9],p[n+17]=p[r+10],p[n+18]=p[r+11],p[n+25]=0,p[n+24]=0,p[n+19]=0,i}function ot(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function pt(e,t){var n,r;r=(e+32|0)>>1,n=t>>1,i[r]=i[n],i[r+1]=i[n+1],i[r+2]=i[n+2],En(e)}function qt(){var e=rq(44);return i[e+32>>1]=1,i[e+34>>1]=-1,i[e+36>>1]=0,l[e+40>>2]=0,l[e+24>>2]=0,l[e+28>>2]=0,l[e>>2]=0,l[e+4>>2]=0,l[e+8>>2]=0,l[e+12>>2]=0,e}function rt(e,t){var n=l[e+12>>2];K[l[l[n>>2]+28>>2]](n,t,p[e>>2])}function st(e,t){var n=l[e+12>>2];return K[l[l[n>>2]+16>>2]](n,l[e+8>>2]+12|0,t)}function tt(e){0!=(e|0)&&$s(e)}function ut(e,t,n,r){var i=l[e+12>>2];return K[l[l[i>>2]+20>>2]](i,t,n,l[e+8>>2]+12|0,r)}function vt(e){var t=a;a+=8,0==c[wt]<<24>>24&&dt(wt),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=xt;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,xt}function yt(e){var t=a;a+=8,0==c[zt]<<24>>24&&dt(zt),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=At;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,At}function Bt(e){var t=rq(168);return Ip(t,e),t}function Ct(e,t){var n=a;a+=8,0==c[Dt]<<24>>24&&dt(Dt),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=Et;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,Et}function Ft(e){0!=(e|0)&&K[l[l[e>>2]+24>>2]](e)}function Gt(e){K[l[l[e>>2]+16>>2]](e)}function Ht(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function It(e){0!=(e|0)&&K[l[l[e>>2]+24>>2]](e)}function Jt(e){var t=a;a+=8,0==c[Kt]<<24>>24&&dt(Kt),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=Lt;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,Lt}function Mt(e){0==c[Nt]<<24>>24&&dt(Nt);var e=e+76|0,t=l[e+4>>2],n=Ot;return l[n>>2]=l[e>>2],l[n+4>>2]=t,Ot}function Pt(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function Qt(e){K[l[l[e>>2]+16>>2]](e)}function Rt(e){return l[e+64>>2]}function qu(e){return l[e+52>>2]}function ru(e){return 0!=(c[e+61|0]&1)<<24>>24}function su(e,t){l[e+64>>2]=t}function tu(e){return l[e+12>>2]}function uu(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function vu(e){return p[e+112>>2]}function wu(e){var t,n=l[e>>2];if(-1==(n|0))t=0;else{t=l[e+4>>2]>>2;var n=2*(p[t+(9*n|0)+2]-p[t+(9*n|0)]+(p[t+(9*n|0)+3]-p[t+(9*n|0)+1])),e=l[e+12>>2],r=0<(e|0);e:do if(r){for(var i=0,s=0;;)if(i=0>(l[t+(9*s|0)+8]|0)?i:i+2*(p[t+(9*s|0)+2]-p[t+(9*s|0)]+(p[t+(9*s|0)+3]-p[t+(9*s|0)+1])),s=s+1|0,(s|0)==(e|0)){var o=i;break e}}else o=0;while(0);t=o/n}return t}function xu(e){var t=l[e>>2];return-1==(t|0)?0:l[(l[e+4>>2]+32>>2)+(9*t|0)]}function yu(e){return l[e+28>>2]}function zu(e,t){c[e+102994|0]=t&1}function Au(e){var t,n=l[e+102872>>2];if(-1==(n|0))t=0;else{t=l[e+102876>>2]>>2;var n=2*(p[t+(9*n|0)+2]-p[t+(9*n|0)]+(p[t+(9*n|0)+3]-p[t+(9*n|0)+1])),e=l[e+102884>>2],r=0<(e|0);e:do if(r){for(var i=0,s=0;;)if(i=0>(l[t+(9*s|0)+8]|0)?i:i+2*(p[t+(9*s|0)+2]-p[t+(9*s|0)]+(p[t+(9*s|0)+3]-p[t+(9*s|0)+1])),s=s+1|0,(s|0)==(e|0)){var o=i;break e}}else o=0;while(0);t=o/n}return t}function Bu(e){var t=l[e+102872>>2];return-1==(t|0)?0:l[(l[e+102876>>2]+32>>2)+(9*t|0)]}function Cu(e){return 0!=(c[e+102994|0]&1)<<24>>24}function Du(e,t){l[e+102944>>2]=t}function Eu(e,t){c[e+102993|0]=t&1}function Fu(e,t){var n=e+102968|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function Gu(e){return l[e+102960>>2]}function Hu(e){return 0!=(l[e+102868>>2]&4|0)}function Iu(e){return 0!=(c[e+102993|0]&1)<<24>>24}function Ju(e){return l[e+102956>>2]}function Ku(e){return l[e+102952>>2]}function Lu(e,t){l[e+102980>>2]=t}function iw(e){return l[e+102964>>2]}function gx(e){0==c[hx]<<24>>24&&dt(hx);var e=e+68|0,t=l[e+4>>2],n=ix;return l[n>>2]=l[e>>2],l[n+4>>2]=t,ix}function ox(e){var t;t=l[e+52>>2]>>2;var n=p[t+6],r=p[e+100>>2],i=p[t+5],o=p[e+104>>2],u=n*r-i*o+p[t+3];return t=i*r+n*o+p[t+4],n=e+76|0,e=l[n+4>>2],n=(s[0]=l[n>>2],L[0]),e=(s[0]=e,L[0]),u-=n,e=t-e,dg(u*u+e*e)}function px(e){var t;t=l[e+48>>2]>>2;var n=p[t+6],r=p[e+92>>2],i=p[t+5],o=p[e+96>>2],u=n*r-i*o+p[t+3];return t=i*r+n*o+p[t+4],n=e+68|0,e=l[n+4>>2],n=(s[0]=l[n>>2],L[0]),e=(s[0]=e,L[0]),u-=n,e=t-e,dg(u*u+e*e)}function qx(e){var t=a;a+=8,0==c[rx]<<24>>24&&dt(rx),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=sx;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,sx}function tx(e,t){var n=a;a+=8,0==c[ux]<<24>>24&&dt(ux),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=vx;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,vx}function wx(e){var t=rq(196);return Lp(t,e),t}function xx(e,t){return 4==(-1<(t|0)?(l[e+12>>2]|0)>(t|0)?5:4:4)&&O(N.r|0,159,N.H|0,N.q|0),l[e+4>>2]+36*t|0}function yx(e,t){return 4==(-1<(t|0)?(l[e+12>>2]|0)>(t|0)?5:4:4)&&O(N.r|0,153,N.T|0,N.q|0),l[(l[e+4>>2]+16>>2)+(9*t|0)]}function zx(e){0!=(e|0)&&(bg(l[e+32>>2]),bg(l[e+44>>2]),bg(l[e+4>>2]),$s(e))}function Ax(){var e=rq(60);return If(e),e}function Bx(e){var t=e+12|0,n=l[t>>2],r=0<(n|0);e:do if(r)for(var i=e+4|0,s=0,o=0,u=l[i>>2],a=n;;){if(2<=(l[(u+32>>2)+(9*o|0)]|0)){var f=u+36*o+24|0,c=l[f>>2];-1==(c|0)?(O(N.d|0,686,N.La|0,N.$a|0),c=l[f>>2],f=l[i>>2],a=l[t>>2]):f=u,u=l[(f+32>>2)+(9*l[(u+28>>2)+(9*o|0)]|0)]-l[(f+32>>2)+(9*c|0)]|0,u=0<(u|0)?u:-u|0,s=(s|0)>(u|0)?s:u,u=f}o=o+1|0;if((o|0)>=(a|0)){var h=s;break e}}else h=0;while(0);return h}function Cx(e,t,n){var r,i,s;s=-1<(t|0)?(l[e+12>>2]|0)>(t|0)?5:4:4,4==s&&O(N.r|0,159,N.H|0,N.q|0);var o=e+4|0;return s=l[o>>2],i=s>>2,-1<(n|0)?(l[e+12>>2]|0)>(n|0)?(r=s>>2,s=8):s=7:s=7,7==s&&(O(N.r|0,159,N.H|0,N.q|0),e=l[o>>2],r=e>>2),(0<p[r+(9*n|0)]-p[i+(9*t|0)+2]|0<p[r+(9*n|0)+1]-p[i+(9*t|0)+3]|0<p[i+(9*t|0)]-p[r+(9*n|0)+2]|0<p[i+(9*t|0)+1]-p[r+(9*n|0)+3])^1}function Dx(e,t){var n,r;r=(e+40|0)>>2;var i=l[r],s=e+36|0;n=(e+32|0)>>2;if((i|0)==(l[s>>2]|0)){var o=l[n];l[s>>2]=i<<1,i=fe(i<<3),l[n]=i,ag(i,o,l[r]<<2),bg(o),o=l[r]}else o=i;l[((o<<2)+l[n]|0)>>2]=t,l[r]=l[r]+1|0}function Ex(e,t,n,r){if(Vh(e|0,t,n,r)){var n=(e+40|0)>>2,r=l[n],i=e+36|0,e=(e+32|0)>>2;if((r|0)==(l[i>>2]|0)){var s=l[e];l[i>>2]=r<<1,r=fe(r<<3),l[e]=r,ag(r,s,l[n]<<2),bg(s),r=l[n]}l[((r<<2)+l[e]|0)>>2]=t,l[n]=l[n]+1|0}}function Fx(e,t){for(var n=l[e+40>>2],r=e+32|0,i=0;(i|0)<(n|0);){var s=(i<<2)+l[r>>2]|0;if((l[s>>2]|0)==(t|0)){l[s>>2]=-1;break}i=i+1|0}n=e+28|0,l[n>>2]=l[n>>2]-1|0,Th(e|0,t)}function Gx(e,t,n){var r=a;a+=8,e=e+102872|0,l[r>>2]=e,l[r+4>>2]=t;var i=e|0,s,o,u,e=a;a+=1036;var f,c=e+4|0,t=(e|0)>>2;l[t]=c,u=(e+1028|0)>>2,o=(e+1032|0)>>2,l[o]=256,l[c>>2]=l[i>>2],l[u]=1;for(var i=i+4|0,h=n|0,d=n+4|0,v=n+8|0,n=n+12|0,m=r|0,g=r+4|0,y=1;0<(y|0);){var b=y-1|0;l[u]=b,f=l[t],y=l[f+(b<<2)>>2];if(-1==(y|0))y=b;else{var w=l[i>>2];s=w>>2;if(0<p[h>>2]-p[s+(9*y|0)+2]|0<p[d>>2]-p[s+(9*y|0)+3]|0<p[s+(9*y|0)]-p[v>>2]|0<p[s+(9*y|0)+1]-p[n>>2])y=b;else if(s=w+36*y+24|0,-1==(l[s>>2]|0)){w=l[m>>2],f=-1<(y|0)?(l[w+12>>2]|0)>(y|0)?12:11:11,11==f&&O(N.r|0,153,N.T|0,N.q|0),f=l[g>>2];if(!K[l[l[f>>2]+8>>2]](f,l[l[(l[w+4>>2]+16>>2)+(9*y|0)]+16>>2]))break;y=l[u]}else{if((b|0)==(l[o]|0)){l[o]=b<<1,b=fe(b<<3),l[t]=b;var E=f;ag(b,E,l[u]<<2),(f|0)!=(c|0)&&bg(E)}l[((l[u]<<2)+l[t]|0)>>2]=l[s>>2],f=l[u]+1|0,l[u]=f,y=w+36*y+28|0,(f|0)==(l[o]|0)&&(w=l[t],l[o]=f<<1,f=fe(f<<3),l[t]=f,s=w,ag(f,s,l[u]<<2),(w|0)!=(c|0)&&bg(s)),l[((l[u]<<2)+l[t]|0)>>2]=l[y>>2],y=l[u]+1|0,l[u]=y}}}o=l[t],(o|0)!=(c|0)&&(bg(o),l[t]=0),a=e,a=r}function Hx(e){var t=e+102884|0,n=l[t>>2],r=0<(n|0);e:do if(r)for(var i=e+102876|0,s=0,o=0,u=l[i>>2],a=n;;){if(2<=(l[(u+32>>2)+(9*o|0)]|0)){var f=u+36*o+24|0,c=l[f>>2];-1==(c|0)?(O(N.d|0,686,N.La|0,N.$a|0),c=l[f>>2],f=l[i>>2],a=l[t>>2]):f=u,u=l[(f+32>>2)+(9*l[(u+28>>2)+(9*o|0)]|0)]-l[(f+32>>2)+(9*c|0)]|0,u=0<(u|0)?u:-u|0,s=(s|0)>(u|0)?s:u,u=f}o=o+1|0;if((o|0)>=(a|0)){var h=s;break e}}else h=0;while(0);return h}function Ix(e,t){var n,r=e+102868|0;n=l[r>>2],0==(n&2|0)?r=n:(O(N.t|0,109,N.Ke|0,N.qa|0),r=l[r>>2]);if(0==(r&2|0)){r=vm(e|0,152),0==(r|0)?r=0:An(r,t,e),l[r+92>>2]=0,n=(e+102952|0)>>2,l[r+96>>2]=l[n];var i=l[n];0!=(i|0)&&(l[(i+92|0)>>2]=r),l[n]=r,n=e+102960|0,l[n>>2]=l[n>>2]+1|0}else r=0;return r}function Jx(e){var t=rq(103028);return To(t,e),t}function Kx(e){var t,e=l[e+102952>>2],n=0==(e|0);e:do if(!n){t=e;for(t>>=2;;){p[t+19]=0,p[t+20]=0,p[t+21]=0,t=l[t+24];if(0==(t|0))break e;t>>=2}}while(0)}function Lx(e){return 0!=(c[e+102992|0]&1)<<24>>24}function Mx(e,t){var n=e+102976|0,r=(t&1|0)==(c[n]&1|0);e:do if(!r&&(c[n]=t&1,!t)){var s=l[e+102952>>2];if(0!=(s|0))for(;;){var o=s+4|0,u=i[o>>1];0==(u&2)<<16>>16&&(i[o>>1]=u|2,p[s+144>>2]=0),s=l[s+96>>2];if(0==(s|0))break e}}while(0)}function Nx(e){return 0!=(c[e+102976|0]&1)<<24>>24}function Ox(e){return l[e+102900>>2]}function Px(e){return 0!=(l[e+102868>>2]&2|0)}function Qx(e){return l[e+102932>>2]}function Rx(e,t){l[e+102984>>2]=t}function Sx(e,t){var n=e+102868|0,r=l[n>>2];l[n>>2]=t?r|4:r&-5}function Tx(e){return l[e+102936>>2]}function Ux(e,t){c[e+102992|0]=t&1}function Vx(e,t){l[e+102940>>2]=t}function Wx(e){return l[e+48>>2]}function Xx(e){return l[e+52>>2]}function Yx(e){return l[e+64>>2]}function Zx(e){return p[e+120>>2]}function $x(e){return l[e+12>>2]}function ay(e,t){var n=l[e+48>>2],r=n+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),n=l[e+52>>2],r=n+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),p[e+132>>2]=t}function by(e){return p[e+132>>2]}function cy(e,t){var n=l[e+48>>2],r=n+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),n=l[e+52>>2],r=n+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),p[e+128>>2]=t}function dy(e,t){var n=e+136|0;if((t&1|0)!=(c[n]&1|0)){var r=o[e+48>>2],s=r+4|0,u=i[s>>1];0==(u&2)<<16>>16&&(i[s>>1]=u|2,p[r+144>>2]=0),r=l[e+52>>2],s=r+4|0,u=i[s>>1],0==(u&2)<<16>>16&&(i[s>>1]=u|2,p[r+144>>2]=0),c[n]=t&1,p[e+112>>2]=0}}function ey(e){return 0!=(c[e+137|0]&1)<<24>>24}function fy(e,t){l[e+64>>2]=t}function gy(e){return p[e+128>>2]}function hy(e){return 0!=(c[e+61|0]&1)<<24>>24}function iy(e){var t,n,r=e>>2,i=l[r+12];n=i>>2;var o=l[r+13];t=o>>2;var u=p[r+17]-p[n+7],a=p[r+18]-p[n+8],f=p[n+6],c=p[n+5],e=f*u-c*a,u=c*u+f*a,h=p[r+19]-p[t+7],d=p[r+20]-p[t+8],v=p[t+6],m=p[t+5],a=v*h-m*d,h=m*h+v*d,d=p[t+11]+a-(p[n+11]+e),v=p[t+12]+h-(p[n+12]+u),m=p[r+21],g=p[r+22],r=f*m-c*g,f=c*m+f*g,i=i+64|0,c=l[i+4>>2],i=(s[0]=l[i>>2],L[0]),c=(s[0]=c,L[0]),o=o+64|0,m=l[o+4>>2],o=(s[0]=l[o>>2],L[0]),m=(s[0]=m,L[0]);return n=p[n+18],t=p[t+18],g=-n,d*f*g+v*r*n+r*(o+h*-t-i-u*g)+f*(m+a*t-c-e*n)}function jy(e,t){var n=l[e+48>>2],r=n+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),n=l[e+52>>2],r=n+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),c[e+137|0]=t&1}function ky(e){return p[e+100>>2]}function ly(e,t){return p[e+116>>2]*t}function my(e){var t,n=e>>2;t=l[n+12]>>2;var r=p[t+6],i=p[n+17],s=p[t+5],o=p[n+18],e=l[n+13]>>2,u=p[e+6],a=p[n+19],f=p[e+5],c=p[n+20],h=p[n+21],n=p[n+22];return(u*a-f*c+p[e+3]-(r*i-s*o+p[t+3]))*(r*h-s*n)+(f*a+u*c+p[e+4]-(s*i+r*o+p[t+4]))*(s*h+r*n)}function ny(e){return l[e+4>>2]}function oy(e){return 0!=(c[e+136|0]&1)<<24>>24}function py(e){return p[e+124>>2]}function qy(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function ry(e){return l[e+4>>2]}function sy(e,t){p[e+8>>2]=t}function ty(e){return p[e+8>>2]}function uy(e,t,n,r){var i=a;a+=28;var o=i+8,u=e+102872|0;l[i>>2]=u,l[i+4>>2]=t,p[o+16>>2]=1;var f=l[n+4>>2];l[o>>2]=l[n>>2],l[o+4>>2]=f;var c=o+8|0,h=l[r+4>>2];l[c>>2]=l[r>>2],l[c+4>>2]=h;var d=u|0,v,m,g,y,b,w,E=a;a+=1056;var S=E+1036;w=o>>2;var x=l[w+1],T=(s[0]=l[w],L[0]),C=(s[0]=x,L[0]);b=(o+8|0)>>2;var k=l[b+1],A=(s[0]=l[b],L[0]),M=(s[0]=k,L[0]),_=A-T,D=M-C,P=_*_+D*D;0<P||O(N.r|0,204,N.Ue|0,N.cg|0);var H=dg(P);if(1.1920928955078125e-7>H)var B=_,j=D;else var F=1/H,B=_*F,j=D*F;var I=-1*j,q=0<I?I:-I,R=0<B?B:-B,U=p[o+16>>2],z=T+_*U,W=C+D*U,X=T<z?T:z,V=C<W?C:W,$=T>z?T:z,J=C>W?C:W,Q=E+4|0;y=(E|0)>>2,l[y]=Q,g=(E+1028|0)>>2,m=(E+1032|0)>>2,l[m]=256,l[Q>>2]=l[d>>2],l[g]=1;var G=d+4|0,Y=S+8|0,Z=S+16|0,et=U,tt=X,nt=V,rt=$,it=J,st=1;e:for(;;){for(var ot=st;;){if(0>=(ot|0))break e;var ut=ot-1|0;l[g]=ut;var at=l[y],ft=l[at+(ut<<2)>>2];if(-1==(ft|0)){var lt=et,ct=tt,ht=nt,pt=rt,dt=it;break}var vt=l[G>>2];v=vt>>2;var mt=p[v+(9*ft|0)+2],gt=p[v+(9*ft|0)+3],yt=p[v+(9*ft|0)],bt=p[v+(9*ft|0)+1];if(0<tt-mt|0<nt-gt|0<yt-rt|0<bt-it){lt=et,ct=tt,ht=nt,pt=rt,dt=it;break}var wt=I*(T-.5*(yt+mt))+B*(C-.5*(bt+gt));if(0<(0<wt?wt:-wt)-(.5*q*(mt-yt)+.5*R*(gt-bt))){lt=et,ct=tt,ht=nt,pt=rt,dt=it;break}var Et=vt+36*ft+24|0;if(-1==(l[Et>>2]|0)){var St=l[w+1];l[S>>2]=l[w],l[S+4>>2]=St;var xt=l[b+1];l[Y>>2]=l[b],l[Y+4>>2]=xt,p[Z>>2]=et;var Tt,Nt=i,Ct=S,kt=ft,Lt=Ct>>2,At=a;a+=20;var Ot=At+12,Mt=l[Nt>>2];4==(-1<(kt|0)?(l[Mt+12>>2]|0)>(kt|0)?5:4:4)&&O(N.r|0,153,N.T|0,N.q|0);var _t=l[(l[Mt+4>>2]+16>>2)+(9*kt|0)],Dt=l[_t+16>>2],Pt=l[Dt+12>>2];if(K[l[l[Pt>>2]+20>>2]](Pt,At,Ct,l[Dt+8>>2]+12|0,l[_t+20>>2])){var Ht=p[At+8>>2],Bt=1-Ht,jt=p[Lt+1]*Bt+p[Lt+3]*Ht;p[Ot>>2]=p[Lt]*Bt+p[Lt+2]*Ht,p[Ot+4>>2]=jt;var Ft=l[Nt+4>>2],It=K[l[l[Ft>>2]+8>>2]](Ft,Dt,Ot,At|0,Ht)}else It=p[Lt+4];a=At,Tt=It;if(0==Tt)break e;if(0>=Tt){lt=et,ct=tt,ht=nt,pt=rt,dt=it;break}var qt=T+_*Tt,Rt=C+D*Tt,Ut=T<qt?T:qt,zt=C<Rt?C:Rt,Wt=T>qt?T:qt,Xt=C>Rt?C:Rt,lt=Tt,ct=Ut,ht=zt,pt=Wt,dt=Xt;break}if((ut|0)==(l[m]|0)){l[m]=ut<<1;var Vt=fe(ut<<3);l[y]=Vt;var $t=at;ag(Vt,$t,l[g]<<2),(at|0)!=(Q|0)&&bg($t)}l[((l[g]<<2)+l[y]|0)>>2]=l[Et>>2];var Jt=l[g]+1|0;l[g]=Jt;var Kt=vt+36*ft+28|0;if((Jt|0)==(l[m]|0)){var Qt=l[y];l[m]=Jt<<1;var Gt=fe(Jt<<3);l[y]=Gt;var Yt=Qt;ag(Gt,Yt,l[g]<<2),(Qt|0)!=(Q|0)&&bg(Yt)}l[((l[g]<<2)+l[y]|0)>>2]=l[Kt>>2];var Zt=l[g]+1|0,ot=l[g]=Zt}et=lt,tt=ct,nt=ht,rt=pt,it=dt,st=l[g]}var en=l[y];(en|0)!=(Q|0)&&(bg(en),l[y]=0),a=E,a=i}function vy(e){0!=(e|0)&&(Cp(e),$s(e))}function wy(e){0==c[xy]<<24>>24&&dt(xy);var e=e+102968|0,t=l[e+4>>2],n=yy;return l[n>>2]=l[e>>2],l[n+4>>2]=t,yy}function zy(e){var t=a;a+=8,0==c[Ay]<<24>>24&&dt(Ay),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=By;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,By}function Cy(e){var t=rq(256);return Jp(t,e),t}function Dy(e,t){var n=a;a+=8,0==c[Ey]<<24>>24&&dt(Ey),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=Fy;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,Fy}function Gy(e){0!=(e|0)&&K[l[l[e>>2]+24>>2]](e)}function Hy(e){K[l[l[e>>2]+16>>2]](e)}function Iy(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function Jy(e,t,n){var r=e>>2;t>n&&O(N.bh|0,575,N.Ae|0,N.Ib|0),e=e+120|0;if(6==(p[e>>2]!=t?6:p[r+31]!=n?6:11)){var s=o[r+12],u=s+4|0,a=i[u>>1];0==(a&2)<<16>>16&&(i[u>>1]=a|2,p[s+144>>2]=0),s=l[r+13],u=s+4|0,a=i[u>>1],0==(a&2)<<16>>16&&(i[u>>1]=a|2,p[s+144>>2]=0),p[e>>2]=t,p[r+31]=n,p[r+28]=0}}function Ky(e){var t=a;a+=8,0==c[Ly]<<24>>24&&dt(Ly),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=My;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,My}function Ny(e){0!=(e|0)&&K[l[l[e>>2]+4>>2]](e)}function Oy(e,t,n){K[l[l[e>>2]+28>>2]](e,t,n)}function Py(e,t){return K[l[l[e>>2]+8>>2]](e,t)}function Qy(e,t,n,r,i){return K[l[l[e>>2]+20>>2]](e,t,n,r,i)}function Ry(e,t,n,r){K[l[l[e>>2]+24>>2]](e,t,n,r)}function Sy(e){return K[l[l[e>>2]+12>>2]](e)}function Ty(e,t){var n=e+12|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function Uy(e){return l[e+48>>2]}function Vy(e){return l[e+52>>2]}function Wy(e){return l[e+64>>2]}function Xy(e,t){p[e+72>>2]=t}function Yy(e){return l[e+12>>2]}function Zy(e){return p[e+68>>2]}function $y(e,t){var n=l[e+48>>2],r=n+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),n=l[e+52>>2],r=n+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),p[e+124>>2]=t}function az(e){return p[e+124>>2]}function bz(e,t){return p[e+112>>2]*t}function cz(e){return 0!=(c[e+128|0]&1)<<24>>24}function dz(e){var t,n=e>>2;t=l[n+12]>>2;var e=l[n+13]>>2,r=p[t+6],i=p[n+19],s=p[t+5],o=p[n+20],u=p[e+6],a=p[n+21],f=p[e+5],c=p[n+22],h=p[n+23],n=p[n+24];return(u*a-f*c+p[e+3]-(r*i-s*o+p[t+3]))*(r*h-s*n)+(f*a+u*c+p[e+4]-(s*i+r*o+p[t+4]))*(s*h+r*n)}function ez(e,t){l[e+64>>2]=t}function fz(e){return p[e+72>>2]}function gz(e,t){var n=l[e+48>>2],r=n+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),n=l[e+52>>2],r=n+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),p[e+120>>2]=t}function hz(e){return 0!=(c[e+61|0]&1)<<24>>24}function iz(e){return p[l[e+52>>2]+72>>2]-p[l[e+48>>2]+72>>2]}function jz(e,t){var n=l[e+48>>2],r=n+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),n=l[e+52>>2],r=n+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),c[e+128|0]=t&1}function kz(e){return p[e+120>>2]}function lz(e){return l[e+4>>2]}function mz(e,t){p[e+68>>2]=t}function nz(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function oz(e,t){var n=e+4|0;l[n>>2]|=t}function pz(e,t){var n=e+4|0;l[n>>2]&=t^-1}function qz(e,t){l[e+4>>2]=t}function rz(e){return l[e+4>>2]}function sz(e){return l[e+12>>2]}function tz(e){return l[e+48>>2]}function uz(e){return l[e+52>>2]}function vz(e){return l[e+64>>2]}function wz(e){return l[e+4>>2]}function xz(e,t){l[e+64>>2]=t}function yz(e){return 0!=(c[e+61|0]&1)<<24>>24}function zz(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function Az(e){return l[e+68>>2]}function Bz(e){return l[e+72>>2]}function Cz(e){return l[e+4>>2]}function Dz(e){return l[e+64>>2]}function Ez(e){return l[e+52>>2]}function Fz(e){return 0!=(c[e+61|0]&1)<<24>>24}function Gz(e,t){l[e+64>>2]=t}function Hz(e){return l[e+48>>2]}function Iz(e){return l[e+12>>2]}function Jz(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function Kz(e,t,n){return K[l[l[e>>2]+16>>2]](e,t,n)}function Lz(){var e,t=rq(20);return l[t>>2]=Mz+8|0,e=(t+4|0)>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,t}function Nz(e){var t=a;a+=8,0==c[Oz]<<24>>24&&dt(Oz),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=Pz;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,Pz}function Qz(e){var t=a;a+=8,0==c[Rz]<<24>>24&&dt(Rz),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=Sz;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,Sz}function Tz(e){var t=rq(224);return Np(t,e),t}function Uz(e,t){var n=a;a+=8,0==c[Vz]<<24>>24&&dt(Vz),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=Wz;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,Wz}function Xz(e){0!=(e|0)&&K[l[l[e>>2]+24>>2]](e)}function Yz(e){K[l[l[e>>2]+16>>2]](e)}function Zz(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function $z(e){0!=(e|0)&&K[l[l[e>>2]+4>>2]](e)}function aA(e,t){K[l[l[e>>2]+28>>2]](e,t)}function bA(e,t,n,r){K[l[l[e>>2]+8>>2]](e,t,n,r)}function cA(e,t,n,r,i){K[l[l[e>>2]+20>>2]](e,t,n,r,i)}function dA(e,t,n,r){K[l[l[e>>2]+12>>2]](e,t,n,r)}function eA(e,t,n,r){K[l[l[e>>2]+16>>2]](e,t,n,r)}function fA(e,t,n,r){K[l[l[e>>2]+24>>2]](e,t,n,r)}function gA(){var e=rq(8);return l[e>>2]=hA+8|0,l[e+4>>2]=0,e}function iA(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function jA(e){var t=a;a+=8,0==c[kA]<<24>>24&&dt(kA),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=lA;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,lA}function mA(e){K[l[l[e>>2]+16>>2]](e)}function nA(e){var t=a;a+=8,0==c[oA]<<24>>24&&dt(oA),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=lD;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,lD}function OG(e,t){var n=a;a+=8,0==c[PG]<<24>>24&&dt(PG),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=QG;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,QG}function RG(e){var t=rq(276);return Mp(t,e),t}function SG(e){var t=a;a+=8,0==c[TG]<<24>>24&&dt(TG),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=UG;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,UG}function VG(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function WG(e){K[l[l[e>>2]+16>>2]](e)}function XG(e){0!=(e|0)&&K[l[l[e>>2]+24>>2]](e)}function YG(e,t){(!isNaN(t)&&!isNaN(0))&-Infinity<t&Infinity>t||O(N.Za|0,398,N.re|0,N.Zg|0),p[e+152>>2]=t}function ZG(e){var t=a;a+=8,0==c[$G]<<24>>24&&dt($G),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=aH;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,aH}function bH(e,t){var n=a;a+=8,0==c[cH]<<24>>24&&dt(cH),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=dH;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,dH}function eH(e){return p[e+152>>2]}function fH(e){var t=l[e>>2];return-1==(t|0)?0:l[(l[e+4>>2]+32>>2)+(9*t|0)]}function gH(e){var t,n=l[e>>2];if(-1==(n|0))t=0;else{t=l[e+4>>2]>>2;var n=2*(p[t+(9*n|0)+2]-p[t+(9*n|0)]+(p[t+(9*n|0)+3]-p[t+(9*n|0)+1])),e=l[e+12>>2],r=0<(e|0);e:do if(r){for(var i=0,s=0;;)if(i=0>(l[t+(9*s|0)+8]|0)?i:i+2*(p[t+(9*s|0)+2]-p[t+(9*s|0)]+(p[t+(9*s|0)+3]-p[t+(9*s|0)+1])),s=s+1|0,(s|0)==(e|0)){var o=i;break e}}else o=0;while(0);t=o/n}return t}function hH(e){return l[e+48>>2]}function iH(e){return l[e+52>>2]}function jH(e,t){p[e+68>>2]=t}function kH(e){return l[e+64>>2]}function lH(e,t){l[e+64>>2]=t}function mH(e){return l[e+12>>2]}function nH(e){return p[e+68>>2]}function oH(e){return p[e+72>>2]}function pH(e){return 0!=(c[e+61|0]&1)<<24>>24}function qH(e){return p[e+96>>2]}function rH(e){return l[e+4>>2]}function sH(e,t){p[e+72>>2]=t}function tH(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function uH(e){return l[e+48>>2]}function vH(e){return l[e+52>>2]}function wH(e){return l[e+64>>2]}function xH(e){return p[e+120>>2]}function yH(e){return l[e+12>>2]}function zH(e,t){var n=l[e+48>>2],r=n+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),n=l[e+52>>2],r=n+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),p[e+108>>2]=t}function AH(e){return p[l[e+52>>2]+56>>2]-p[l[e+48>>2]+56>>2]-p[e+116>>2]}function BH(e){return p[e+108>>2]}function CH(e,t){return p[e+96>>2]*t}function DH(e){return 0!=(c[e+112|0]&1)<<24>>24}function EH(e,t){var n=e+112|0;if((t&1|0)!=(c[n]&1|0)){var r=o[e+48>>2],s=r+4|0,u=i[s>>1];0==(u&2)<<16>>16&&(i[s>>1]=u|2,p[r+144>>2]=0),r=l[e+52>>2],s=r+4|0,u=i[s>>1],0==(u&2)<<16>>16&&(i[s>>1]=u|2,p[r+144>>2]=0),c[n]=t&1,p[e+92>>2]=0}}function FH(e,t,n,r,i){return K[l[l[e>>2]+8>>2]](e,t,n,r,i)}function GH(){var e=rq(4);return l[e>>2]=HH+8|0,e}function IH(e){0!=(e|0)&&K[l[l[e>>2]+4>>2]](e)}function JH(e){0!=(e|0)&&(bg(l[e+4>>2]),$s(e))}function KH(){var e,t,n=rq(28);t=n>>2,l[t]=-1,l[t+3]=16,l[t+2]=0;var r=fe(576);e=r>>2,l[t+1]=r;for(var i=e,s=i+144;i<s;i++)l[i]=0;for(i=0;;){s=i+1|0,l[(r+20>>2)+(9*i|0)]=s,l[(r+32>>2)+(9*i|0)]=-1;if(15<=(s|0))break;i=s}return l[e+140]=-1,l[e+143]=-1,l[t+4]=0,l[t+5]=0,l[t+6]=0,n}function LH(e,t){return 4==(-1<(t|0)?(l[e+12>>2]|0)>(t|0)?5:4:4)&&O(N.r|0,159,N.H|0,N.q|0),l[e+4>>2]+36*t|0}function MH(e,t){return 4==(-1<(t|0)?(l[e+12>>2]|0)>(t|0)?5:4:4)&&O(N.r|0,153,N.T|0,N.q|0),l[(l[e+4>>2]+16>>2)+(9*t|0)]}function NH(e){var t=e+12|0,n=l[t>>2],r=0<(n|0);e:do if(r)for(var i=e+4|0,s=0,o=0,u=l[i>>2],a=n;;){if(2<=(l[(u+32>>2)+(9*o|0)]|0)){var f=u+36*o+24|0,c=l[f>>2];-1==(c|0)?(O(N.d|0,686,N.La|0,N.$a|0),c=l[f>>2],f=l[i>>2],a=l[t>>2]):f=u,u=l[(f+32>>2)+(9*l[(u+28>>2)+(9*o|0)]|0)]-l[(f+32>>2)+(9*c|0)]|0,u=0<(u|0)?u:-u|0,s=(s|0)>(u|0)?s:u,u=f}o=o+1|0;if((o|0)>=(a|0)){var h=s;break e}}else h=0;while(0);return h}function OH(e,t,n){var r,i=Kf(e);r=(e+4|0)>>2;var o=p[t+4>>2]-.10000000149011612,u=l[r]+36*i|0,a=(L[0]=p[t>>2]-.10000000149011612,s[0]),o=(L[0]=o,s[0])|0;return l[(u|0)>>2]=0|a,l[(u+4|0)>>2]=o,a=p[t+12>>2]+.10000000149011612,u=l[r]+36*i+8|0,t=(L[0]=p[t+8>>2]+.10000000149011612,s[0]),a=(L[0]=a,s[0])|0,l[(u|0)>>2]=0|t,l[(u+4|0)>>2]=a,l[(l[r]+36*i+16|0)>>2]=n,l[(l[r]+36*i+32|0)>>2]=0,Lf(e,i),i}function PH(e){var t=a;a+=8,0==c[QH]<<24>>24&&dt(QH),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=RH;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,RH}function SH(e){var t=a;a+=8,0==c[TH]<<24>>24&&dt(TH),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=UH;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,UH}function VH(e){var t,n,r=e>>2,i=rq(208);n=i>>2,l[i>>2]=Gp+8|0;var s=e+8|0,o=l[s>>2];t=e+12|0;var u=l[t>>2];return(o|0)==(u|0)?(O(N.k|0,173,N.l|0,N.m|0),s=l[s>>2],t=l[t>>2]):(s=o,t=u),l[n+1]=l[r],l[n+2]=0,l[n+3]=0,l[n+12]=s,l[n+13]=t,l[n+14]=0,c[i+61|0]=c[e+16|0]&1,c[i+60|0]=0,l[n+16]=l[r+1],t=(i+16|0)>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,l[t+4]=0,l[t+5]=0,l[t+6]=0,l[t+7]=0,l[i>>2]=Op+8|0,t=i+88|0,u=e+20|0,s=i+80|0,o=l[u+4>>2],l[s>>2]=l[u>>2],l[s+4>>2]=o,e=e+28|0,u=l[e+4>>2],l[t>>2]=l[e>>2],l[t+4>>2]=u,p[n+24]=p[r+9],p[n+17]=p[r+10],p[n+18]=p[r+11],p[n+26]=0,p[n+27]=0,p[n+28]=0,i}function WH(e,t){var n=a;a+=8,0==c[XH]<<24>>24&&dt(XH),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=YH;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,YH}function ZH(e){0!=(e|0)&&K[l[l[e>>2]+24>>2]](e)}function $H(e){K[l[l[e>>2]+16>>2]](e)}function aI(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function bI(e){var t=a;a+=8,0==c[cI]<<24>>24&&dt(cI),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=dI;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,dI}function eI(e){var t,n,r=e>>2,i=rq(228);n=i>>2,l[i>>2]=Gp+8|0;var s=e+8|0,o=l[s>>2];t=e+12|0;var u=l[t>>2];return(o|0)==(u|0)?(O(N.k|0,173,N.l|0,N.m|0),s=l[s>>2],t=l[t>>2]):(s=o,t=u),l[n+1]=l[r],l[n+2]=0,l[n+3]=0,l[n+12]=s,l[n+13]=t,l[n+14]=0,c[i+61|0]=c[e+16|0]&1,c[i+60|0]=0,l[n+16]=l[r+1],t=(i+16|0)>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,l[t+4]=0,l[t+5]=0,l[t+6]=0,l[t+7]=0,l[i>>2]=Kp+8|0,t=i+76|0,u=e+20|0,s=i+68|0,o=l[u+4>>2],l[s>>2]=l[u>>2],l[s+4>>2]=o,u=e+28|0,s=l[u+4>>2],l[t>>2]=l[u>>2],l[t+4>>2]=s,p[n+29]=p[r+9],t=(i+84|0)>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,p[n+30]=p[(e+44|0)>>2],p[n+31]=p[r+12],p[n+26]=p[r+15],p[n+27]=p[r+14],c[i+112|0]=c[e+40|0]&1,c[i+100|0]=c[e+52|0]&1,l[n+56]=0,i}function fI(e){return 0!=(c[e+100|0]&1)<<24>>24}function gI(e,t){l[e+64>>2]=t}function hI(e,t){var n=l[e+48>>2],r=n+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),n=l[e+52>>2],r=n+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),p[e+104>>2]=t}function iI(e){return 0!=(c[e+61|0]&1)<<24>>24}function jI(e){return p[l[e+52>>2]+72>>2]-p[l[e+48>>2]+72>>2]}function kI(e,t){var n=l[e+48>>2],r=n+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),n=l[e+52>>2],r=n+4|0,s=i[r>>1],0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[n+144>>2]=0),c[e+100|0]=t&1}function lI(e){return p[e+116>>2]}function mI(e){return p[e+104>>2]}function nI(e){return l[e+4>>2]}function oI(e){return p[e+124>>2]}function pI(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function qI(e){return l[e+4>>2]}function rI(e,t){p[e+8>>2]=t}function sI(e){return p[e+8>>2]}function tI(e){return l[e+12>>2]}function uI(e){return l[e+16>>2]}function vI(e,t){var n=e+20|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r,c[e+36|0]=1}function wI(e,t){l[e+12>>2]=t}function xI(e,t){var n=e+28|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r,c[e+37|0]=1}function yI(e,t){l[e+16>>2]=t}function zI(e){return l[e+12>>2]}function AI(e){return p[e+84>>2]}function BI(e){return l[e+48>>2]}function CI(e){return 0!=(c[e+61|0]&1)<<24>>24}function DI(e){return l[e+64>>2]}function EI(e){return l[e+4>>2]}function FI(e){return l[e+52>>2]}function GI(e,t){var n=a;a+=8,0==c[HI]<<24>>24&&dt(HI),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=II;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,II}function JI(e){0!=(e|0)&&K[l[l[e>>2]+24>>2]](e)}function KI(e){K[l[l[e>>2]+16>>2]](e)}function LI(e,t,n){var r=e>>2;t>n&&O(N.gh|0,473,N.ze|0,N.Ib|0),e=e+120|0;if(6==(p[e>>2]!=t?6:p[r+31]!=n?6:11)){var s=o[r+12],u=s+4|0,a=i[u>>1];0==(a&2)<<16>>16&&(i[u>>1]=a|2,p[s+144>>2]=0),s=l[r+13],u=s+4|0,a=i[u>>1],0==(a&2)<<16>>16&&(i[u>>1]=a|2,p[s+144>>2]=0),p[r+23]=0,p[e>>2]=t,p[r+31]=n}}function MI(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function NI(e){var t=a;a+=8,0==c[OI]<<24>>24&&dt(OI),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=PI;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,PI}function QI(){return rq(1)}function RI(e){0!=(e|0)&&$s(e|0)}function SI(e){0!=(e|0)&&K[l[l[e>>2]+4>>2]](e)}function TI(){var e=rq(4);return l[e>>2]=UI+8|0,e}function VI(e,t){K[l[l[e>>2]+12>>2]](e,t)}function WI(e,t){K[l[l[e>>2]+8>>2]](e,t)}function XI(e,t,n){K[l[l[e>>2]+16>>2]](e,t,n)}function YI(e,t,n){K[l[l[e>>2]+20>>2]](e,t,n)}function ZI(e){0!=(e|0)&&K[l[l[e>>2]+4>>2]](e)}function $I(e,t,n){var r=e+12|0;4==(0==(l[r>>2]|0)?0==(l[e+16>>2]|0)?5:4:4)&&O(N.F|0,48,N.ea|0,N.Ta|0),1<(n|0)||O(N.F|0,49,N.ea|0,N.Sb|0);var i=e+16|0;l[i>>2]=n,n=fe(n<<3),l[r>>2]=n,ag(n,t,l[i>>2]<<3),c[e+36|0]=0,c[e+37|0]=0}function aJ(e,t,n){K[l[l[e>>2]+28>>2]](e,t,n)}function bJ(e,t){return K[l[l[e>>2]+8>>2]](e,t)}function cJ(){var e,t=rq(40);return e=t>>2,l[e]=dJ+8|0,l[e+1]=3,p[e+2]=.009999999776482582,l[e+3]=0,l[e+4]=0,c[t+36|0]=0,c[t+37|0]=0,t}function eJ(e,t,n,r){K[l[l[e>>2]+24>>2]](e,t,n,r)}function fJ(e,t,n,r,i){return K[l[l[e>>2]+20>>2]](e,t,n,r,i)}function gJ(e){return K[l[l[e>>2]+12>>2]](e)}function hJ(e,t,n){return K[l[l[e>>2]+16>>2]](e,t,n)}function iJ(e,t,n){var r;r=(e+12|0)>>2,4==(0==(l[r]|0)?0==(l[e+16>>2]|0)?5:4:4)&&O(N.F|0,34,N.kb|0,N.Ta|0),2<(n|0)||O(N.F|0,35,N.kb|0,N.$b|0);var i=n+1|0,s=e+16|0;l[s>>2]=i,i=fe(i<<3),l[r]=i,ag(i,t,n<<3),t=l[r],n=(n<<3)+t|0,i=l[t+4>>2],l[(n|0)>>2]=l[t>>2],l[(n+4|0)>>2]=i,r=l[r],s=(l[s>>2]-2<<3)+r|0,n=e+20|0,t=l[s+4>>2],l[n>>2]=l[s>>2],l[n+4>>2]=t,s=r+8|0,r=e+28|0,n=l[s+4>>2],l[r>>2]=l[s>>2],l[r+4>>2]=n,c[e+36|0]=1,c[e+37|0]=1}function jJ(e,t){return K[l[l[e>>2]+8>>2]](e,t)}function kJ(e){0!=(e|0)&&K[l[l[e>>2]+4>>2]](e)}function lJ(){var e=rq(4);return l[e>>2]=mJ+8|0,e}function nJ(e){if(0!=(e|0)){var t=e+4|0,n=0<(l[t>>2]|0),r=e|0,i=l[r>>2];e:do if(n){for(var s=0,o=i;;)if(bg(l[o+(s<<3)+4>>2]),s=s+1|0,o=l[r>>2],(s|0)>=(l[t>>2]|0)){var u=o;break e}}else u=i;while(0);bg(u),$s(e)}}function oJ(e){var t;t=(e+4|0)>>2;var n=0<(l[t]|0),r=e|0;e:do if(n)for(var i=0;;)if(bg(l[l[r>>2]+(i<<3)+4>>2]),i=i+1|0,(i|0)>=(l[t]|0))break e;while(0);l[t]=0,ge(l[r>>2],l[e+8>>2]<<3),e=(e+12|0)>>2;for(t=e+14;e<t;e++)l[e]=0}function pJ(e,t,n){var r=0==(n|0);e:do if(!r){var i=0<(n|0);do{if(i){if(640>=(n|0))break;bg(t);break e}O(N.e|0,164,N.f|0,N.Wa|0)}while(0);var s=Ic[wm+n|0],i=s&255;14>(s&255)||O(N.e|0,173,N.f|0,N.g|0),s=t,i=(i<<2)+e+12|0,l[t>>2]=l[i>>2],l[i>>2]=s}while(0)}function qJ(){var e,t=rq(68);e=t>>2,l[e+2]=128,l[e+1]=0;var n=fe(1024);l[e]=n,e=n>>2;for(n=e+256;e<n;e++)l[e]=0;e=(t+12|0)>>2;for(n=e+14;e<n;e++)l[e]=0;if(0==(c[yp]&1)<<24>>24){n=0;for(e=1;14>(n|0)||O(N.e|0,73,N.Ha|0,N.Ua|0),(e|0)>(l[xm+(n<<2)>>2]|0)&&(n=n+1|0),c[wm+e|0]=n&255,e=e+1|0,641!=(e|0););c[yp]=1}return t}function rJ(e){0!=(e|0)&&K[l[l[e>>2]+24>>2]](e)}function sJ(e){var t=a;a+=8,0==c[tJ]<<24>>24&&dt(tJ),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=uJ;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,uJ}function vJ(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function wJ(e){K[l[l[e>>2]+16>>2]](e)}function xJ(e,t){p[e+84>>2]=t}function yJ(e,t){l[e+64>>2]=t}function zJ(e){return l[e+164>>2]}function AJ(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function BJ(e,t){p[e+8>>2]=t}function CJ(e){return p[e+8>>2]}function DJ(e,t){return(t<<3)+e+20|0}function EJ(e,t,n){e>>=2,l[e+37]=4;var r=-t,i=-n;p[e+5]=r,p[e+6]=i,p[e+7]=t,p[e+8]=i,p[e+9]=t,p[e+10]=n,p[e+11]=r,p[e+12]=n,p[e+21]=0,p[e+22]=-1,p[e+23]=1,p[e+24]=0,p[e+25]=0,p[e+26]=1,p[e+27]=-1,p[e+28]=0,p[e+3]=0,p[e+4]=0}function FJ(e,t){var n=e+12|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function GJ(e,t){l[e+148>>2]=t}function HJ(e){return l[e+148>>2]}function IJ(e){return l[e+4>>2]}function JJ(e){return l[e+148>>2]}function KJ(e,t,n){var r=e+12|0,i=l[t+4>>2];l[r>>2]=l[t>>2],l[r+4>>2]=i,t=e+20|0,r=l[n+4>>2],l[t>>2]=l[n>>2],l[t+4>>2]=r,c[e+44|0]=0,c[e+45|0]=0}function LJ(e,t){p[e+8>>2]=t}function MJ(e){return p[e+8>>2]}function NJ(e){return l[e+4>>2]}function OJ(e){return l[e+12>>2]}function PJ(e,t){var n=e+4|0,r=l[n>>2];l[n>>2]=t?r|4:r&-5}function QJ(e){return p[e+140>>2]}function RJ(e){return p[e+136>>2]}function SJ(e){return 0!=(l[e+4>>2]&2|0)}function TJ(e){return 0!=(l[e+4>>2]&4|0)}function UJ(e){return l[e+52>>2]}function VJ(e,t){p[e+136>>2]=t}function WJ(e){return l[e+48>>2]}function XJ(e){return l[e+56>>2]}function YJ(e){return l[e+60>>2]}function ZJ(e,t){p[e+140>>2]=t}function $J(e){var t=p[l[e+48>>2]+20>>2],n=p[l[e+52>>2]+20>>2];p[e+140>>2]=t>n?t:n}function aK(e){return p[e+8>>2]}function bK(e,t){p[e+8>>2]=t}function cK(e){return l[e+4>>2]}function dK(e){return p[e+56>>2]}function eK(e){return l[e+148>>2]}function fK(e){return 0!=(i[e+4>>1]&4)<<16>>16}function gK(e,t){p[e+136>>2]=t}function hK(e,t){p[e+140>>2]=t}function iK(e,t){l[e+148>>2]=t}function jK(e){return p[e+72>>2]}function kK(e){return l[e+100>>2]}function lK(e,t,n){if(2==(l[e>>2]|0)){var r=e+4|0,s=i[r>>1];0==(s&2)<<16>>16&&(i[r>>1]=s|2,p[e+144>>2]=0),r=t|0,s=e+76|0,p[s>>2]+=p[r>>2],t=t+4|0,s=e+80|0,p[s>>2]+=p[t>>2],s=e+84|0,p[s>>2]+=(p[n>>2]-p[e+44>>2])*p[t>>2]-(p[n+4>>2]-p[e+48>>2])*p[r>>2]}}function mK(e,t){if(0!=(l[e>>2]|0)){var n=p[t>>2],r=p[t+4>>2];0<n*n+r*r&&(n=e+4|0,r=i[n>>1],0==(r&2)<<16>>16&&(i[n>>1]=r|2,p[e+144>>2]=0)),n=e+64|0,r=l[t+4>>2],l[n>>2]=l[t>>2],l[n+4>>2]=r}}function nK(e){return l[e+108>>2]}function oK(e){return l[e+96>>2]}function pK(e){var t=a;a+=8,0==c[qK]<<24>>24&&dt(qK),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=rK;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,rK}function sK(e,t){var n=a;a+=8,0==c[tK]<<24>>24&&dt(tK),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=uK;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,uK}function vK(e){var t,n,r=rq(168);n=r>>2,l[r>>2]=Gp+8|0;var i=e+8|0,s=l[i>>2];t=e+12|0;var o=l[t>>2];return(s|0)==(o|0)?(O(N.k|0,173,N.l|0,N.m|0),i=l[i>>2],t=l[t>>2]):(i=s,t=o),l[n+1]=l[e>>2],l[n+2]=0,l[n+3]=0,l[n+12]=i,l[n+13]=t,l[n+14]=0,c[r+61|0]=c[e+16|0]&1,c[r+60|0]=0,l[n+16]=l[e+4>>2],t=(r+16|0)>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,l[t+4]=0,l[t+5]=0,l[t+6]=0,l[t+7]=0,l[r>>2]=Qp+8|0,t=r+76|0,o=e+20|0,i=r+68|0,s=l[o+4>>2],l[i>>2]=l[o>>2],l[i+4>>2]=s,o=e+28|0,i=l[o+4>>2],l[t>>2]=l[o>>2],l[t+4>>2]=i,p[n+21]=p[e+36>>2],p[n+40]=0,p[n+23]=0,l[n+41]=0,p[n+22]=0,r}function wK(e){0!=(e|0)&&K[l[l[e>>2]+4>>2]](e)}function xK(e,t,n){K[l[l[e>>2]+28>>2]](e,t,n)}function yK(e,t){return K[l[l[e>>2]+8>>2]](e,t)}function zK(e,t,n,r,i){return K[l[l[e>>2]+20>>2]](e,t,n,r,i)}function AK(e,t,n,r){K[l[l[e>>2]+24>>2]](e,t,n,r)}function BK(e){return K[l[l[e>>2]+12>>2]](e)}function CK(e,t,n){return K[l[l[e>>2]+16>>2]](e,t,n)}function DK(){var e,t=rq(152);return e=t>>2,l[e]=EK+8|0,l[e+1]=2,p[e+2]=.009999999776482582,l[e+37]=0,p[e+3]=0,p[e+4]=0,t}function FK(e){0!=(e|0)&&K[l[l[e>>2]+4>>2]](e)}function GK(e,t,n){K[l[l[e>>2]+28>>2]](e,t,n)}function HK(e,t){return K[l[l[e>>2]+8>>2]](e,t)}function IK(e,t,n,r,i){return K[l[l[e>>2]+20>>2]](e,t,n,r,i)}function JK(e,t,n,r){K[l[l[e>>2]+24>>2]](e,t,n,r)}function KK(e){return K[l[l[e>>2]+12>>2]](e)}function LK(e,t,n){return K[l[l[e>>2]+16>>2]](e,t,n)}function MK(){var e,t=rq(48);return e=t>>2,l[e]=NK+8|0,l[e+1]=1,p[e+2]=.009999999776482582,e=t+28|0,l[e>>2]=0,l[e+4>>2]=0,l[e+8>>2]=0,l[e+12>>2]=0,i[e+16>>1]=0,t}function OK(e,t){var n=l[e+48>>2],r=l[e+52>>2];Sg(t,e+64|0,l[n+8>>2]+12|0,p[l[n+12>>2]+8>>2],l[r+8>>2]+12|0,p[l[r+12>>2]+8>>2])}function PK(e){var t=dg(p[l[e+48>>2]+16>>2]*p[l[e+52>>2]+16>>2]);p[e+136>>2]=t}function QK(e,t,n,r){K[l[l[e>>2]>>2]](e,t,n,r)}function RK(e,t,n){K[l[l[e>>2]+28>>2]](e,t,n)}function SK(e,t){return K[l[l[e>>2]+8>>2]](e,t)}function TK(e,t,n,r,i){return K[l[l[e>>2]+20>>2]](e,t,n,r,i)}function UK(e,t,n,r){K[l[l[e>>2]+24>>2]](e,t,n,r)}function VK(e){return K[l[l[e>>2]+12>>2]](e)}function WK(e,t,n){return K[l[l[e>>2]+16>>2]](e,t,n)}function XK(e,t){0==c[YK]<<24>>24&&dt(YK);var n=p[t>>2]-p[e+12>>2],r=p[t+4>>2]-p[e+16>>2],i=p[e+24>>2],o=p[e+20>>2],u=(L[0]=i*n+o*r,s[0]),n=(L[0]=n*-o+i*r,s[0])|0,r=ZK;return l[r>>2]=0|u,l[r+4>>2]=n,ZK}function $K(e){0==c[aL]<<24>>24&&dt(aL);var e=e+64|0,t=l[e+4>>2],n=bL;return l[n>>2]=l[e>>2],l[n+4>>2]=t,bL}function cL(e,t){var n;n=(e+4|0)>>1;var r=i[n];if(t)i[n]=r|4;else{var s=r&-5;i[n]=s,0==(r&2)<<16>>16&&(i[n]=s|2,p[e+144>>2]=0)}}function dL(e){return p[e+116>>2]}function eL(e,t){if(0!=(l[e>>2]|0)){if(0<t*t){var n=e+4|0,r=i[n>>1];0==(r&2)<<16>>16&&(i[n>>1]=r|2,p[e+144>>2]=0)}p[e+72>>2]=t}}function fL(e,t){var n=e+116|0;p[t>>2]=p[n>>2];var r=e+28|0,i=p[r>>2],s=p[e+32>>2];p[t+12>>2]=p[e+124>>2]+p[n>>2]*(i*i+s*s),n=t+4|0,i=l[r+4>>2],l[n>>2]=l[r>>2],l[n+4>>2]=i}function gL(e,t){if(2==(l[e>>2]|0)){var n=e+4|0,r=i[n>>1];0==(r&2)<<16>>16&&(i[n>>1]=r|2,p[e+144>>2]=0),n=e+76|0,p[n>>2]+=p[t>>2],n=e+80|0,p[n>>2]+=p[t+4>>2]}}function hL(e,t){if(2==(l[e>>2]|0)){var n=e+4|0,r=i[n>>1];0==(r&2)<<16>>16&&(i[n>>1]=r|2,p[e+144>>2]=0),n=e+84|0,p[n>>2]+=t}}function iL(e){return 0!=(i[e+4>>1]&2)<<16>>16}function jL(e){return p[e+136>>2]}function kL(e,t,n){var r=e>>2;if(2==(l[r]|0)){var s=e+4|0,o=i[s>>1];0==(o&2)<<16>>16&&(i[s>>1]=o|2,p[r+36]=0);var o=p[r+30],s=t|0,t=t+4|0,u=p[t>>2]*o,a=e+64|0;p[a>>2]+=p[s>>2]*o,o=e+68|0,p[o>>2]+=u,e=e+72|0,p[e>>2]+=p[r+32]*((p[n>>2]-p[r+11])*p[t>>2]-(p[n+4>>2]-p[r+12])*p[s>>2])}}function lL(e){return 0!=(i[e+4>>1]&16)<<16>>16}function mL(e){return l[e+112>>2]}function nL(e){return p[e+132>>2]}function oL(e){return 0!=(i[e+4>>1]&8)<<16>>16}function pL(e){return l[e+88>>2]}function qL(e,t){p[e+132>>2]=t}function rL(e,t){var n=e+4|0,r=i[n>>1];i[n>>1]=t?r|8:r&-9}function sL(e){return l[e>>2]}function tL(e){return p[e+140>>2]}function uL(e){var t=p[e+28>>2],n=p[e+32>>2];return p[e+124>>2]+p[e+116>>2]*(t*t+n*n)}function vL(e){return 0!=(i[e+4>>1]&32)<<16>>16}function wL(e,t){if(2==(l[e>>2]|0)){var n=e+4|0,r=i[n>>1];0==(r&2)<<16>>16&&(i[n>>1]=r|2,p[e+144>>2]=0),n=e+72|0,p[n>>2]+=p[e+128>>2]*t}}function xL(e){return p[e+96>>2]}function yL(e){return 0!=(c[e+61|0]&1)<<24>>24}function zL(e){return l[e+64>>2]}function AL(e){return l[e+4>>2]}function BL(e){return l[e+52>>2]}function CL(e,t){l[e+64>>2]=t}function DL(e,t){var n=e>>2;0==c[EL]<<24>>24&&dt(EL);var r=p[n+18],i=p[n+17]+(p[t>>2]-p[n+11])*r,n=(L[0]=p[n+16]+(p[t+4>>2]-p[n+12])*-r,s[0]),i=(L[0]=i,s[0])|0,r=FL;return l[r>>2]=0|n,l[r+4>>2]=i,FL}function GL(e,t,n){var r=a;return a+=28,i[r+22>>1]=1,i[r+24>>1]=-1,i[r+26>>1]=0,l[r+4>>2]=0,p[r+8>>2]=.20000000298023224,p[r+12>>2]=0,c[r+20|0]=0,l[(r|0)>>2]=t,p[(r+16|0)>>2]=n,e=Fn(e,r),a=r,e}function HL(e,t){0==c[IL]<<24>>24&&dt(IL);var n=p[e+24>>2],r=p[t>>2],i=p[e+20>>2],o=p[t+4>>2],u=(L[0]=n*r-i*o,s[0]),n=(L[0]=i*r+n*o,s[0])|0,r=JL;return l[r>>2]=0|u,l[r+4>>2]=n,JL}function KL(e,t){var n=e>>2;0==c[LL]<<24>>24&&dt(LL);var r=p[n+6],i=p[t>>2],o=p[n+5],u=p[t+4>>2],a=p[n+18],f=p[n+17]+(r*i-o*u+p[n+3]-p[n+11])*a,n=(L[0]=p[n+16]+(o*i+r*u+p[n+4]-p[n+12])*-a,s[0]),f=(L[0]=f,s[0])|0,r=ML;return l[r>>2]=0|n,l[r+4>>2]=f,ML}function NL(e,t){0==c[OL]<<24>>24&&dt(OL);var n=p[e+24>>2],r=p[t>>2],i=p[e+20>>2],o=p[t+4>>2],u=i*r+n*o+p[e+16>>2],n=(L[0]=n*r-i*o+p[e+12>>2],s[0]),u=(L[0]=u,s[0])|0,r=PL;return l[r>>2]=0|n,l[r+4>>2]=u,PL}function QL(e,t){var n;n=(e+4|0)>>1;var r=i[n];t?0==(r&2)<<16>>16&&(i[n]=r|2,p[e+144>>2]=0):(i[n]=r&-3,p[e+144>>2]=0,n=(e+64|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,l[n+4]=0,l[n+5]=0)}function RL(e,t){0==c[SL]<<24>>24&&dt(SL);var n=p[e+24>>2],r=p[t>>2],i=p[e+20>>2],o=p[t+4>>2],u=(L[0]=n*r+i*o,s[0]),n=(L[0]=r*-i+n*o,s[0])|0,r=TL;return l[r>>2]=0|u,l[r+4>>2]=n,TL}function UL(e,t){var n=e+4|0,r=i[n>>1];i[n>>1]=t?r|16:r&-17,Cn(e)}function VL(e,t){4==((!isNaN(t)&&!isNaN(0))&-Infinity<t?Infinity>t&0<=t?5:4:4)&&O(N.Rb|0,228,N.ye|0,N.lg|0),p[e+100>>2]=t}function WL(e){var t=a;a+=8,0==c[XL]<<24>>24&&dt(XL),K[l[l[e>>2]>>2]](t,e);var e=l[t+4>>2],n=YL;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,YL}function ZL(e,t){return K[l[l[e>>2]+12>>2]](e,t)}function $L(e){K[l[l[e>>2]+16>>2]](e)}function aM(e){0!=(e|0)&&K[l[l[e>>2]+24>>2]](e)}function bM(e,t){4==((!isNaN(t)&&!isNaN(0))&-Infinity<t?Infinity>t&0<=t?5:4:4)&&O(N.Rb|0,217,N.xe|0,N.wf|0),p[e+96>>2]=t}function cM(e){var t,n,r=rq(180);n=r>>2,l[r>>2]=Gp+8|0;var i=e+8|0,s=l[i>>2];t=e+12|0;var o=l[t>>2];return(s|0)==(o|0)?(O(N.k|0,173,N.l|0,N.m|0),i=l[i>>2],t=l[t>>2]):(i=s,t=o),l[n+1]=l[e>>2],l[n+2]=0,l[n+3]=0,l[n+12]=i,l[n+13]=t,l[n+14]=0,c[r+61|0]=c[e+16|0]&1,c[r+60|0]=0,l[n+16]=l[e+4>>2],t=(r+16|0)>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,l[t+4]=0,l[t+5]=0,l[t+6]=0,l[t+7]=0,l[r>>2]=Pp+8|0,t=r+76|0,o=e+20|0,i=r+68|0,s=l[o+4>>2],l[i>>2]=l[o>>2],l[i+4>>2]=s,o=e+28|0,i=l[o+4>>2],l[t>>2]=l[o>>2],l[t+4>>2]=i,p[n+21]=0,p[n+22]=0,p[n+23]=0,p[n+24]=p[e+36>>2],p[n+25]=p[e+40>>2],r}function dM(e){var t=a;a+=8,0==c[eM]<<24>>24&&dt(eM),K[l[l[e>>2]+4>>2]](t,e);var e=l[t+4>>2],n=fM;return l[n>>2]=l[t>>2],l[n+4>>2]=e,a=t,fM}function gM(e){return l[e+48>>2]}function hM(e){return l[e+12>>2]}function iM(e){return p[e+100>>2]}function jM(e){return 0==(i[l[e+48>>2]+4>>1]&32)<<16>>16?0:0!=(i[l[e+52>>2]+4>>1]&32)<<16>>16}function kM(e){return l[e+102408>>2]}function lM(e,t){i[e+2>>1]=t}function mM(e,t){i[e>>1]=t}function nM(e){return i[e+4>>1]}function oM(e,t){i[e+4>>1]=t}function pM(e){return i[e+2>>1]}function qM(e){return i[e>>1]}function rM(e,t){var n=e+20|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function sM(e){return l[e+8>>2]}function tM(e){return l[e+12>>2]}function uM(e,t){var n=e+28|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function vM(e,t){l[e+8>>2]=t}function wM(e,t){l[e+12>>2]=t}function xM(e){return p[e+36>>2]}function yM(e,t){p[e+36>>2]=t}function zM(e){return 0!=(c[e+16|0]&1)<<24>>24}function AM(e,t){p[e+40>>2]=t}function BM(e,t){c[e+16|0]=t&1}function CM(e,t,n,r){l[e+8>>2]=t,l[e+12>>2]=n;var i=r|0,o=p[i>>2]-p[t+12>>2],r=r+4|0,u=p[r>>2]-p[t+16>>2],a=p[t+24>>2],f=p[t+20>>2],t=e+20|0,c=(L[0]=a*o+f*u,s[0]),o=(L[0]=o*-f+a*u,s[0])|0;l[t>>2]=0|c,l[t+4>>2]=o,i=p[i>>2]-p[n+12>>2],r=p[r>>2]-p[n+16>>2],o=p[n+24>>2],n=p[n+20>>2],e=e+28|0,u=(L[0]=o*i+n*r,s[0]),n=(L[0]=i*-n+o*r,s[0])|0,l[e>>2]=0|u,l[e+4>>2]=n}function DM(e){return p[e+40>>2]}function EM(e){return p[e+28>>2]}function FM(e){return 0!=(c[e+37|0]&1)<<24>>24}function GM(e){return l[e>>2]}function HM(e){return 0!=(c[e+36|0]&1)<<24>>24}function IM(e,t){var n=e+4|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function JM(e,t){var n=e+16|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function KM(e){return 0!=(c[e+39|0]&1)<<24>>24}function LM(e){return l[e+44>>2]}function MM(e,t){p[e+32>>2]=t}function NM(e,t){c[e+38|0]=t&1}function OM(e,t){c[e+36|0]=t&1}function PM(e){return p[e+48>>2]}function QM(e,t){p[e+24>>2]=t}function RM(e,t){l[e+44>>2]=t}function SM(e,t){l[e>>2]=t}function TM(e,t){p[e+48>>2]=t}function UM(e){return p[e+32>>2]}function VM(e,t){c[e+39|0]=t&1}function WM(e,t){c[e+40|0]=t&1}function XM(e,t){p[e+12>>2]=t}function YM(e){return p[e+12>>2]}function ZM(e){return p[e+24>>2]}function $M(e){return 0!=(c[e+40|0]&1)<<24>>24}function aN(e,t){p[e+28>>2]=t}function bN(e){return 0!=(c[e+38|0]&1)<<24>>24}function cN(e,t){c[e+37|0]=t&1}function dN(e,t){p[e>>2]=t}function eN(e,t,n){p[e>>2]=t,p[e+4>>2]=n}function fN(e){return p[e>>2]}function gN(e){return p[e+4>>2]}function hN(e,t){p[e+4>>2]=t}function iN(e){var t=p[e>>2];return(!isNaN(t)&&!isNaN(0))&-Infinity<t&Infinity>t?(e=p[e+4>>2],e=(!isNaN(e)&&!isNaN(0))&-Infinity<e?Infinity>e:0):e=0,e}function jN(e){var t=p[e>>2],e=p[e+4>>2];return t*t+e*e}function kN(e,t){var n=e|0;p[n>>2]+=p[t>>2],n=e+4|0,p[n>>2]+=p[t+4>>2]}function lN(e){p[e>>2]=0,p[e+4>>2]=0}function mN(e,t){var n=e|0;p[n>>2]*=t,n=e+4|0,p[n>>2]*=t}function nN(e,t){p[e+8>>2]=t}function oN(e,t,n,r){p[e>>2]=t,p[e+4>>2]=n,p[e+8>>2]=r}function pN(e){return p[e+8>>2]}function qN(e,t){var n=e|0;p[n>>2]+=p[t>>2],n=e+4|0,p[n>>2]+=p[t+4>>2],n=e+8|0,p[n>>2]+=p[t+8>>2]}function rN(e){p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0}function sN(e,t){var n=a;a+=8,0==c[tN]<<24>>24&&dt(tN),K[l[l[e>>2]+8>>2]](n,e,t);var r=l[n+4>>2],i=uN;return l[i>>2]=l[n>>2],l[i+4>>2]=r,a=n,uN}function vN(e){0!=(e|0)&&(0!=(l[e+102400>>2]|0)&&O(N.p|0,32,N.R|0,N.Va|0),0!=(l[e+102796>>2]|0)&&O(N.p|0,33,N.R|0,N.Ya|0),$s(e|0))}function wN(){var e,t=rq(102800);return e=t>>2,l[e+25600]=0,l[e+25601]=0,l[e+25602]=0,l[e+25699]=0,t}function xN(e,t){var n,r,i;i=(e+102796|0)>>2,r=l[i];if(32>(r|0))var s=r;else O(N.p|0,38,N.w|0,N.D|0),s=l[i];r=(e+12*s+102412|0)>>2,l[(e+102416>>2)+(3*s|0)]=t,n=(e+102400|0)>>2;var o=l[n];return 102400<(o+t|0)?(n=fe(t),l[r]=n,c[e+12*s+102420|0]=1):(l[r]=e+o|0,c[e+12*s+102420|0]=0,l[n]=l[n]+t|0),n=e+102404|0,s=l[n>>2]+t|0,l[n>>2]=s,n=e+102408|0,o=l[n>>2],l[n>>2]=(o|0)>(s|0)?o:s,l[i]=l[i]+1|0,l[r]}function yN(e){0!=(e|0)&&K[l[l[e>>2]+4>>2]](e)}function zN(e,t){K[l[l[e>>2]+8>>2]](e,t)}function AN(){var e=rq(4);return l[e>>2]=BN+8|0,e}function CN(e){0!=(e|0)&&$s(e)}function DN(){var e,t=rq(6);return e=t>>1,i[e]=1,i[e+1]=-1,i[e+2]=0,t}function EN(e){0!=(e|0)&&$s(e)}function FN(){var e,t=rq(44);return e=t>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,c[t+16]=0,l[e]=9,e=(t+20|0)>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,l[e+4]=0,l[e+5]=0,t}function GN(){var e,t,n=rq(52);return t=n>>2,l[t+11]=0,e=(n+4|0)>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,l[e+4]=0,l[e+5]=0,l[e+6]=0,l[e+7]=0,c[n+36|0]=1,c[n+37|0]=1,c[n+38|0]=0,c[n+39|0]=0,l[t]=0,c[n+40|0]=1,p[t+12]=1,n}function HN(e){0!=(e|0)&&$s(e)}function IN(e){var t=e|0,n=p[t>>2],e=e+4|0,r=p[e>>2],i=dg(n*n+r*r);if(1.1920928955078125e-7>i)t=0;else{var s=1/i;p[t>>2]=n*s,p[e>>2]=r*s,t=i}return t}function JN(){return rq(8)}function KN(e,t){var n=rq(8);return p[n>>2]=e,p[n+4>>2]=t,n}function LN(e){0==c[MN]<<24>>24&&dt(MN);var t=p[e>>2],e=(L[0]=-p[e+4>>2],s[0]),t=(L[0]=t,s[0])|0,n=NN;return l[n>>2]=0|e,l[n+4>>2]=t,NN}function ON(e){var t=p[e>>2],e=p[e+4>>2];return dg(t*t+e*e)}function PN(e){0!=(e|0)&&$s(e)}function QN(e){0==c[RN]<<24>>24&&dt(RN);var t=-p[e+4>>2],e=(L[0]=-p[e>>2],s[0]),t=(L[0]=t,s[0])|0,n=SN;return l[n>>2]=0|e,l[n+4>>2]=t,SN}function TN(e){0!=(e|0)&&$s(e)}function UN(e,t){var n=e|0;p[n>>2]*=t,n=e+4|0,p[n>>2]*=t,n=e+8|0,p[n>>2]*=t}function VN(e){return p[e+24>>2]}function WN(e,t){p[e+24>>2]=t}function XN(e){return l[e+16>>2]}function YN(e,t){var n,r=l[e+16>>2];n=r>>2;var i=l[e+20>>2],s=1<(i|0);e:do if(s)for(var o=p[t+4>>2],u=p[t>>2],a=0,f=p[n]*u+p[n+1]*o,c=1;;){var h=p[(c<<3>>2)+n]*u+p[((c<<3)+4>>2)+n]*o,d=h>f,a=d?c:a,f=d?h:f,c=c+1|0;if((c|0)==(i|0)){var v=a;break e}}else v=0;while(0);return(v<<3)+r|0}function ZN(e){return l[e+20>>2]}function $N(e){return l[e+20>>2]}function aO(e,t){var n;n=l[e+16>>2]>>2;var r=l[e+20>>2],i=1<(r|0);e:do if(i)for(var s=p[t+4>>2],o=p[t>>2],u=0,a=p[n]*o+p[n+1]*s,f=1;;){var c=p[(f<<3>>2)+n]*o+p[((f<<3)+4>>2)+n]*s,h=c>a,u=h?f:u,a=h?c:a,f=f+1|0;if((f|0)==(r|0)){var d=u;break e}}else d=0;while(0);return d}function bO(e,t){l[e+16>>2]=t}function cO(e,t){l[e+20>>2]=t}function dO(e){return 0!=(c[e+20|0]&1)<<24>>24}function eO(e,t){l[e+4>>2]=t}function fO(e,t){l[e>>2]=t}function gO(e){return p[e+16>>2]}function hO(e){return l[e>>2]}function iO(e,t){p[e+16>>2]=t}function jO(e,t){p[e+12>>2]=t}function kO(e){return p[e+12>>2]}function lO(e,t){c[e+20|0]=t&1}function mO(e){return p[e+8>>2]}function nO(e,t){p[e+8>>2]=t}function oO(e){return l[e+4>>2]}function pO(e,t){var n=e+20|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function qO(e,t){var n=e+28|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function rO(e){return p[e+68>>2]}function sO(e){return 0!=(c[e+60|0]&1)<<24>>24}function tO(e){return p[e+44>>2]}function uO(e,t){c[e+48|0]=t&1}function vO(e,t){p[e+68>>2]=t}function wO(e,t){l[e+8>>2]=t}function xO(e,t){l[e+12>>2]=t}function yO(e,t,n,r,i){var o=n>>2;l[e+8>>2]=t,l[e+12>>2]=n;var u=r|0,a=p[u>>2]-p[t+12>>2],f=r+4|0,c=p[f>>2]-p[t+16>>2],n=t+24|0,h=p[n>>2],r=t+20|0,d=p[r>>2],v=e+20|0,m=(L[0]=h*a+d*c,s[0]),a=(L[0]=a*-d+h*c,s[0])|0;l[v>>2]=0|m,l[v+4>>2]=a,u=p[u>>2]-p[o+3],v=p[f>>2]-p[o+4],m=p[o+6],c=p[o+5],f=e+28|0,a=(L[0]=m*u+c*v,s[0]),u=(L[0]=u*-c+m*v,s[0])|0,l[f>>2]=0|a,l[f+4>>2]=u,n=p[n>>2],u=p[i>>2],r=p[r>>2],a=p[i+4>>2],i=e+36|0,f=(L[0]=n*u+r*a,s[0]),r=(L[0]=u*-r+n*a,s[0])|0,l[i>>2]=0|f,l[i+4>>2]=r,p[e+44>>2]=p[o+14]-p[t+56>>2]}function zO(e,t){p[e+52>>2]=t}function AO(e){return p[e+56>>2]}function BO(e){return 0!=(c[e+48|0]&1)<<24>>24}function CO(e,t){p[e+44>>2]=t}function DO(e){return 0!=(c[e+16|0]&1)<<24>>24}function EO(e){return l[e+8>>2]}function FO(e){return l[e+12>>2]}function GO(e,t){p[e+56>>2]=t}function HO(e){return p[e+64>>2]}function IO(e,t){p[e+64>>2]=t}function JO(e,t){c[e+60|0]=t&1}function KO(e,t){c[e+16|0]=t&1}function LO(e){return p[e+52>>2]}function MO(e,t){var n=e+36|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function NO(e,t){p[e+4>>2]=t}function OO(e){p[e>>2]=0,p[e+4>>2]=1}function PO(e){return p[e+4>>2]}function QO(e,t){var n=e+20|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function RO(e,t){var n=e+28|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function SO(e){return p[e+52>>2]}function TO(e,t){p[e+48>>2]=t}function UO(e,t){p[e+56>>2]=t}function VO(e,t){p[e+52>>2]=t}function WO(e,t){l[e+8>>2]=t}function XO(e,t){l[e+12>>2]=t}function YO(e,t,n,r,i){l[e+8>>2]=t,l[e+12>>2]=n;var o=r|0,u=p[o>>2]-p[t+12>>2],a=r+4|0,f=p[a>>2]-p[t+16>>2],r=t+24|0,c=p[r>>2],t=t+20|0,h=p[t>>2],d=e+20|0,v=(L[0]=c*u+h*f,s[0]),u=(L[0]=u*-h+c*f,s[0])|0;l[d>>2]=0|v,l[d+4>>2]=u,o=p[o>>2]-p[n+12>>2],a=p[a>>2]-p[n+16>>2],u=p[n+24>>2],c=p[n+20>>2],n=e+28|0,f=(L[0]=u*o+c*a,s[0]),o=(L[0]=o*-c+u*a,s[0])|0,l[n>>2]=0|f,l[n+4>>2]=o,r=p[r>>2],n=p[i>>2],t=p[t>>2],i=p[i+4>>2],e=e+36|0,o=(L[0]=r*n+t*i,s[0]),i=(L[0]=n*-t+r*i,s[0])|0,l[e>>2]=0|o,l[e+4>>2]=i}function ZO(){return rq(12)}function $O(e,t,n){var r,i=rq(12);return r=i>>2,p[r]=e,p[r+1]=t,p[r+2]=n,i}function aP(e){0==c[bP]<<24>>24&&dt(bP);var t=-p[e+4>>2],n=-p[e+8>>2];return p[cP>>2]=-p[e>>2],p[cP+4>>2]=t,p[cP+8>>2]=n,cP}function dP(){var e,t=rq(28);return e=t>>2,l[e+4]=0,l[e+5]=0,p[e+6]=0,t}function eP(e){0!=(e|0)&&$s(e)}function fP(e,t){return 4==(-1<(t|0)?(l[e+20>>2]|0)>(t|0)?5:4:4)&&O(N.i|0,103,N.h|0,N.j|0),(t<<3)+l[e+16>>2]|0}function gP(e){0!=(e|0)&&$s(e)}function hP(){var e=rq(28);return i[e+22>>1]=1,i[e+24>>1]=-1,i[e+26>>1]=0,l[e>>2]=0,l[e+4>>2]=0,p[e+8>>2]=.20000000298023224,p[e+12>>2]=0,p[e+16>>2]=0,c[e+20|0]=0,e}function iP(e,t){var n,r;r=(e+22|0)>>1,n=t>>1,i[r]=i[n],i[r+1]=i[n+1],i[r+2]=i[n+2]}function jP(){var e,t,n=rq(72);return t=n>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,c[n+16]=0,l[t]=2,e=(n+20|0)>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,p[(n+36|0)>>2]=1,p[t+10]=0,p[t+11]=0,c[n+48|0]=0,p[t+13]=0,p[t+14]=0,c[n+60|0]=0,p[t+16]=0,p[t+17]=0,n}function kP(e){0!=(e|0)&&$s(e)}function lP(e){0!=(e|0)&&$s(e)}function mP(e,t){var n=Yk(t);p[e>>2]=n,n=Zk(t),p[e+4>>2]=n}function nP(e){return oP(p[e>>2],p[e+4>>2])}function pP(e){0==c[qP]<<24>>24&&dt(qP);var t=p[e+4>>2],e=(L[0]=-p[e>>2],s[0]),t=(L[0]=t,s[0])|0,n=rP;return l[n>>2]=0|e,l[n+4>>2]=t,rP}function sP(e){0==c[tP]<<24>>24&&dt(tP);var t=p[e>>2],e=(L[0]=p[e+4>>2],s[0]),t=(L[0]=t,s[0])|0,n=uP;return l[n>>2]=0|e,l[n+4>>2]=t,uP}function vP(){return rq(8)}function wP(e){var t=rq(8),n=Yk(e);return p[t>>2]=n,e=Zk(e),p[t+4>>2]=e,t}function xP(e){return p[e+56>>2]}function yP(e,t){p[e+60>>2]=t}function zP(e){return p[e+48>>2]}function AP(e){return 0!=(c[e+16|0]&1)<<24>>24}function BP(e){return 0!=(c[e+44|0]&1)<<24>>24}function CP(e){return p[e+60>>2]}function DP(e){return l[e+8>>2]}function EP(e){return l[e+12>>2]}function FP(e,t){c[e+44|0]=t&1}function GP(e,t){c[e+16|0]=t&1}function HP(e,t){var n=e+36|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function IP(e,t){var n=e+20|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function JP(e){return p[e+44>>2]}function KP(e,t){var n=e+28|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function LP(e,t){p[e+44>>2]=t}function MP(e){return 0!=(c[e+52|0]&1)<<24>>24}function NP(e,t){p[e+48>>2]=t}function OP(e){return p[e+36>>2]}function PP(e,t){c[e+40|0]=t&1}function QP(e){return p[e+56>>2]}function RP(e,t){p[e+56>>2]=t}function SP(e){return p[e+60>>2]}function TP(e,t){l[e+8>>2]=t}function UP(e,t){l[e+12>>2]=t}function VP(e,t,n,r){var i=n>>2,o=t>>2;l[e+8>>2]=t,l[e+12>>2]=n;var t=r|0,n=p[t>>2]-p[o+3],r=r+4|0,u=p[r>>2]-p[o+4],a=p[o+6],f=p[o+5],c=e+20|0,h=(L[0]=a*n+f*u,s[0]),n=(L[0]=n*-f+a*u,s[0])|0;l[c>>2]=0|h,l[c+4>>2]=n,t=p[t>>2]-p[i+3],c=p[r>>2]-p[i+4],h=p[i+6],u=p[i+5],r=e+28|0,n=(L[0]=h*t+u*c,s[0]),t=(L[0]=t*-u+h*c,s[0])|0,l[r>>2]=0|n,l[r+4>>2]=t,p[e+36>>2]=p[i+14]-p[o+14]}function WP(e){return 0!=(c[e+40|0]&1)<<24>>24}function XP(e){return p[e+48>>2]}function YP(e,t){p[e+36>>2]=t}function ZP(e){return 0!=(c[e+16|0]&1)<<24>>24}function $P(e){return l[e+8>>2]}function aQ(e){return l[e+12>>2]}function bQ(e,t){p[e+60>>2]=t}function cQ(e,t){c[e+52|0]=t&1}function dQ(e,t){c[e+16|0]=t&1}function eQ(e,t){var n=e+36|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function fQ(e,t){var n=e+44|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function gQ(e,t){p[e+60>>2]=t}function hQ(e,t){var n=e+28|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function iQ(e,t){var n=e+20|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function jQ(e,t){l[e+8>>2]=t}function kQ(e,t){l[e+12>>2]=t}function lQ(e){return p[e+60>>2]}function mQ(e){return 0!=(c[e+16|0]&1)<<24>>24}function nQ(e,t){p[e+56>>2]=t}function oQ(e,t){p[e+52>>2]=t}function pQ(e){return l[e+8>>2]}function qQ(e){return l[e+12>>2]}function rQ(e){return p[e+56>>2]}function sQ(e){return p[e+52>>2]}function tQ(e,t){c[e+16|0]=t&1}function uQ(e){return l[e+8>>2]}function vQ(e,t){l[e+4>>2]=t}function wQ(e,t){l[e+8>>2]=t}function xQ(e,t){l[e+12>>2]=t}function yQ(e){return l[e+12>>2]}function zQ(e,t){l[e>>2]=t}function AQ(e){return 0!=(c[e+16|0]&1)<<24>>24}function BQ(e){return l[e>>2]}function CQ(e,t){c[e+16|0]=t&1}function DQ(e){return l[e+4>>2]}function EQ(e,t){var n=l[t+4>>2];l[e>>2]=l[t>>2],l[e+4>>2]=n}function FQ(e,t){var n=e+8|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function GQ(e){p[e>>2]=0,p[e+4>>2]=0,p[e+8>>2]=0,p[e+12>>2]=1}function HQ(e,t,n,r){p[e>>2]=t,p[e+4>>2]=n,p[e+8>>2]=r}function IQ(e,t){p[e>>2]=t}function JQ(e){return p[e>>2]}function KQ(e,t){p[e+8>>2]=t}function LQ(e){return p[e+4>>2]}function MQ(e){return p[e+8>>2]}function NQ(e,t){p[e+4>>2]=t}function OQ(e,t){var n=e+8|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function PQ(e){var t=p[e+8>>2],n=p[e>>2],r=p[e+12>>2],e=p[e+4>>2];return 0<=t-n&0<=r-e?(!isNaN(n)&&!isNaN(0))&-Infinity<n&Infinity>n?(!isNaN(e)&&!isNaN(0))&-Infinity<e&Infinity>e?(!isNaN(t)&&!isNaN(0))&-Infinity<t&Infinity>t?(!isNaN(r)&&!isNaN(0))&-Infinity<r?Infinity>r:0:0:0:0:0}function QQ(e,t){return p[e>>2]>p[t>>2]?0:p[e+4>>2]>p[t+4>>2]?0:p[t+8>>2]>p[e+8>>2]?0:p[t+12>>2]<=p[e+12>>2]}function RQ(){var e,t,n=rq(64);return t=n>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,c[n+16]=0,l[t]=7,e=(n+20|0)>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,p[(n+36|0)>>2]=1,p[t+10]=0,c[n+44|0]=0,p[t+12]=0,p[t+13]=0,p[t+14]=2,p[t+15]=.699999988079071,n}function SQ(e){0!=(e|0)&&$s(e)}function TQ(){var e,t,n=rq(64);t=n>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,c[n+16]=0,l[t]=1;var r=n+20|0;return e=r>>2,p[t+11]=0,p[t+12]=0,p[t+15]=0,p[t+14]=0,c[n+52|0]=0,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,l[e+4]=0,c[r+20]=0,n}function UQ(e){0!=(e|0)&&$s(e)}function VQ(e){0!=(e|0)&&$s(e)}function WQ(){var e,t=rq(64);return e=t>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,l[e]=4,p[e+5]=-1,p[e+6]=1,p[e+7]=1,p[e+8]=1,p[e+9]=-1,p[e+10]=0,p[e+11]=1,p[e+12]=0,p[e+13]=0,p[e+14]=0,p[e+15]=1,c[t+16|0]=1,t}function XQ(e){0!=(e|0)&&$s(e)}function YQ(){var e,t=rq(20);return e=t>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,c[t+16]=0,t}function ZQ(e){0!=(e|0)&&$s(e)}function $Q(e,t,n){var r=l[t+4>>2];l[e>>2]=l[t>>2],l[e+4>>2]=r,t=Yk(n),p[e+8>>2]=t,n=Zk(n),p[e+12>>2]=n}function aR(){return rq(16)}function bR(e,t){var n=rq(16),r=l[e+4>>2];l[n>>2]=l[e>>2],l[n+4>>2]=r;var r=n+8|0,i=l[t+4>>2];return l[r>>2]=l[t>>2],l[r+4>>2]=i,n}function cR(e){0!=(e|0)&&$s(e)}function dR(){return rq(12)}function eR(e,t,n){var r,i=rq(12);return r=i>>2,p[r]=e,p[r+1]=t,p[r+2]=n,i}function fR(e){0!=(e|0)&&$s(e)}function gR(){return rq(16)}function hR(e){0==c[iR]<<24>>24&&dt(iR);var t=.5*(p[e+12>>2]-p[e+4>>2]),e=(L[0]=.5*(p[e+8>>2]-p[e>>2]),s[0]),t=(L[0]=t,s[0])|0,n=jR;return l[n>>2]=0|e,l[n+4>>2]=t,jR}function kR(e){return 2*(p[e+8>>2]-p[e>>2]+(p[e+12>>2]-p[e+4>>2]))}function lR(e,t){var n=p[e>>2],r=p[t>>2],i=p[e+4>>2],o=p[t+4>>2],n=(L[0]=n<r?n:r,s[0]),i=(L[0]=i<o?i:o,s[0])|0;l[e>>2]=0|n,l[e+4>>2]=i;var i=e+8|0,r=p[i>>2],u=p[t+8>>2],o=p[e+12>>2],n=p[t+12>>2],r=(L[0]=r>u?r:u,s[0]),o=(L[0]=o>n?o:n,s[0])|0;l[i>>2]=0|r,l[i+4>>2]=o}function mR(e,t,n){var r=p[t>>2],i=p[n>>2],o=p[t+4>>2],u=p[n+4>>2],r=(L[0]=r<i?r:i,s[0]),o=(L[0]=o<u?o:u,s[0])|0;l[e>>2]=0|r,l[e+4>>2]=o,o=p[t+8>>2],u=p[n+8>>2],t=p[t+12>>2],n=p[n+12>>2],e=e+8|0,o=(L[0]=o>u?o:u,s[0]),n=(L[0]=t>n?t:n,s[0])|0,l[e>>2]=0|o,l[e+4>>2]=n}function nR(e,t){var n=l[t+4>>2];l[e>>2]=l[t>>2],l[e+4>>2]=n}function oR(e,t){var n=e+20|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function pR(e){return l[e+8>>2]}function qR(e){return l[e+12>>2]}function rR(e,t){var n=e+28|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function sR(e){return p[e+40>>2]}function tR(e,t){l[e+8>>2]=t}function uR(e,t){l[e+12>>2]=t}function vR(e,t){p[e+36>>2]=t}function wR(e){return p[e+36>>2]}function xR(e){return 0!=(c[e+16|0]&1)<<24>>24}function yR(e){return p[e+44>>2]}function zR(e,t){c[e+16|0]=t&1}function AR(e,t){p[e+40>>2]=t}function BR(e,t,n,r){var i=n>>2,o=t>>2;l[e+8>>2]=t,l[e+12>>2]=n;var t=r|0,n=p[t>>2]-p[o+3],r=r+4|0,u=p[r>>2]-p[o+4],a=p[o+6],f=p[o+5],c=e+20|0,h=(L[0]=a*n+f*u,s[0]),n=(L[0]=n*-f+a*u,s[0])|0;l[c>>2]=0|h,l[c+4>>2]=n,t=p[t>>2]-p[i+3],c=p[r>>2]-p[i+4],h=p[i+6],u=p[i+5],r=e+28|0,n=(L[0]=h*t+u*c,s[0]),t=(L[0]=t*-u+h*c,s[0])|0,l[r>>2]=0|n,l[r+4>>2]=t,p[e+36>>2]=p[i+14]-p[o+14]}function CR(e,t){p[e+44>>2]=t}function DR(e){return l[e+8>>2]}function ER(e){return l[e+12>>2]}function FR(e,t){p[e+36>>2]=t}function GR(e,t){l[e+8>>2]=t}function HR(e,t){l[e+12>>2]=t}function IR(e){return p[e+28>>2]}function JR(e,t){var n=e+20|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function KR(e,t){p[e+28>>2]=t}function LR(e){return p[e+32>>2]}function MR(e){return 0!=(c[e+16|0]&1)<<24>>24}function NR(e,t){c[e+16|0]=t&1}function OR(e,t){p[e+32>>2]=t}function PR(e){return p[e+36>>2]}function QR(e,t){var n=e+20|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function RR(e){return l[e+8>>2]}function SR(e){return l[e+12>>2]}function TR(e,t){var n=e+28|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function UR(e,t){p[e+44>>2]=t}function VR(e,t){l[e+8>>2]=t}function WR(e,t){l[e+12>>2]=t}function XR(e){return p[e+36>>2]}function YR(e){return p[e+40>>2]}function ZR(e){return 0!=(c[e+16|0]&1)<<24>>24}function $R(e){return p[e+44>>2]}function aS(e,t){c[e+16|0]=t&1}function bS(e,t){p[e+36>>2]=t}function cS(e,t){p[e+40>>2]=t}function dS(e){return l[e+8>>2]}function eS(e){return l[e+12>>2]}function fS(e){return l[e+20>>2]}function gS(e,t){l[e+8>>2]=t}function hS(e,t){l[e+12>>2]=t}function iS(e,t){l[e+24>>2]=t}function jS(e,t){p[e+28>>2]=t}function kS(e){return 0!=(c[e+16|0]&1)<<24>>24}function lS(e){return l[e+24>>2]}function mS(e,t){c[e+16|0]=t&1}function nS(e){return p[e+28>>2]}function oS(e,t){l[e+20>>2]=t}function pS(e,t){l[e+4>>2]=t}function qS(e){return l[e+8>>2]}function rS(e){return l[e>>2]}function sS(e,t){l[e+8>>2]=t}function tS(e){return l[e+12>>2]}function uS(e,t){l[e>>2]=t}function vS(e,t){l[e+12>>2]=t}function wS(e){return l[e+4>>2]}function xS(e,t){var n=e+20|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function yS(e){return l[e+8>>2]}function zS(e){return l[e+12>>2]}function AS(e,t){var n=e+28|0,r=l[t+4>>2];l[n>>2]=l[t>>2],l[n+4>>2]=r}function BS(e,t){l[e+8>>2]=t}function CS(e,t){l[e+12>>2]=t}function DS(e){return p[e+36>>2]}function ES(e){return 0!=(c[e+16|0]&1)<<24>>24}function FS(e,t){c[e+16|0]=t&1}function GS(e,t){p[e+36>>2]=t}function HS(e){0==c[IS]<<24>>24&&dt(IS);var t=.5*(p[e+4>>2]+p[e+12>>2]),e=(L[0]=.5*(p[e>>2]+p[e+8>>2]),s[0]),t=(L[0]=t,s[0])|0,n=JS;return l[n>>2]=0|e,l[n+4>>2]=t,JS}function KS(e){0!=(e|0)&&$s(e)}function LS(){var e,t=rq(48);return e=t>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,c[t+16]=0,l[e]=8,e=(t+20|0)>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,l[e+4]=0,l[e+5]=0,l[e+6]=0,t}function MS(){var e,t=rq(40);return e=t>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,c[t+16]=0,l[e]=5,p[e+5]=0,p[e+6]=0,p[e+7]=0,p[e+8]=5,p[e+9]=.699999988079071,t}function NS(e){0!=(e|0)&&$s(e)}function OS(){var e,t,n=rq(48);return t=n>>2,l[t]=0,l[t+1]=0,l[t+2]=0,l[t+3]=0,c[n+16]=0,l[t]=3,e=(n+20|0)>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,p[(n+36|0)>>2]=1,p[t+10]=0,p[t+11]=0,n}function PS(e){0!=(e|0)&&$s(e)}function QS(e,t,n,r,i){l[e+8>>2]=t,l[e+12>>2]=n;var o=r|0,u=p[o>>2]-p[t+12>>2],r=r+4|0,a=p[r>>2]-p[t+16>>2],f=p[t+24>>2],c=p[t+20>>2],t=e+20|0,h=(L[0]=f*u+c*a,s[0]),u=(L[0]=u*-c+f*a,s[0])|0;l[t>>2]=0|h,l[t+4>>2]=u,u=i|0,a=p[u>>2]-p[n+12>>2],i=i+4|0,f=p[i>>2]-p[n+16>>2],t=p[n+24>>2],c=p[n+20>>2],n=e+28|0,h=(L[0]=t*a+c*f,s[0]),a=(L[0]=a*-c+t*f,s[0])|0,l[n>>2]=0|h,l[n+4>>2]=a,o=p[u>>2]-p[o>>2],r=p[i>>2]-p[r>>2],o=dg(o*o+r*r),p[e+36>>2]=o}function RS(e){0!=(e|0)&&$s(e)}function SS(){var e,t=rq(32);return e=t>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,c[t+16]=0,l[e]=6,l[e+5]=0,l[e+6]=0,p[e+7]=1,t}function TS(e){0!=(e|0)&&$s(e)}function US(){return rq(16)}function VS(e){0!=(e|0)&&$s(e)}function WS(){var e,t=rq(40);return e=t>>2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0,c[t+16]=0,l[e]=10,p[e+5]=-1,p[e+6]=0,p[e+7]=1,p[e+8]=0,p[e+9]=0,t}function fe(e){var t,n,r,i,s,u,a,f,c,h,p,d,v,m,g,y,b,w,E,S=245>e>>>0;e:do if(S){var x=11>e>>>0?16:e+11&-8,T=x>>>3,N=o[R>>2],C=N>>>(T>>>0);if(0!=(C&3|0)){var k=(C&1^1)+T|0,L=k<<1,A=(L<<2)+R+40|0,O=(L+2<<2)+R+40|0,M=o[O>>2],_=M+8|0,D=o[_>>2];(A|0)==(D|0)?l[R>>2]=N&(1<<k^-1):(D>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[O>>2]=D,l[D+12>>2]=A);var P=k<<3;l[M+4>>2]=P|3;var H=M+(P|4)|0;l[H>>2]|=1;var B=_;E=331}else if(x>>>0>o[R+8>>2]>>>0)if(0!=(C|0)){var j=2<<T,F=C<<T&(j|-j),I=(F&-F)-1|0,q=I>>>12&16,U=I>>>(q>>>0),z=U>>>5&8,W=U>>>(z>>>0),X=W>>>2&4,V=W>>>(X>>>0),$=V>>>1&2,J=V>>>($>>>0),K=J>>>1&1,Q=(z|q|X|$|K)+(J>>>(K>>>0))|0,G=Q<<1,Y=(G<<2)+R+40|0,Z=(G+2<<2)+R+40|0,et=o[Z>>2],tt=et+8|0,nt=o[tt>>2];(Y|0)==(nt|0)?l[R>>2]=N&(1<<Q^-1):(nt>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[Z>>2]=nt,l[nt+12>>2]=Y);var rt=Q<<3,it=rt-x|0;l[et+4>>2]=x|3;var st=et,ot=st+x|0;l[st+(x|4)>>2]=it|1,l[st+rt>>2]=it;var ut=o[R+8>>2];if(0!=(ut|0)){var at=l[R+20>>2],ft=ut>>>2&1073741822,lt=(ft<<2)+R+40|0,ct=o[R>>2],ht=1<<(ut>>>3);if(0==(ct&ht|0)){l[R>>2]=ct|ht;var pt=lt,dt=(ft+2<<2)+R+40|0}else{var vt=(ft+2<<2)+R+40|0,mt=o[vt>>2];mt>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),pt=mt,dt=vt}l[dt>>2]=at,l[pt+12>>2]=at,l[(at+8|0)>>2]=pt,l[(at+12|0)>>2]=lt}l[R+8>>2]=it,l[R+20>>2]=ot,B=tt,E=331}else{var gt=l[R+4>>2];if(0==(gt|0))Cn=x,w=Cn>>2,E=155;else{var yt=(gt&-gt)-1|0,bt=yt>>>12&16,wt=yt>>>(bt>>>0),Et=wt>>>5&8,St=wt>>>(Et>>>0),xt=St>>>2&4,Tt=St>>>(xt>>>0),Nt=Tt>>>1&2,Ct=Tt>>>(Nt>>>0),kt=Ct>>>1&1,Lt=o[R+((Et|bt|xt|Nt|kt)+(Ct>>>(kt>>>0))<<2)+304>>2],At=Lt,Ot=Lt;b=Ot>>2;for(var Mt=(l[Lt+4>>2]&-8)-x|0;;){var _t=l[At+16>>2];if(0==(_t|0)){var Dt=l[At+20>>2];if(0==(Dt|0))break;var Pt=Dt}else Pt=_t;var Ht=(l[Pt+4>>2]&-8)-x|0,Bt=Ht>>>0<Mt>>>0,jt=Bt?Ht:Mt,Ft=Bt?Pt:Ot,At=Pt,Ot=Ft;b=Ot>>2,Mt=jt}var It=Ot,qt=o[R+16>>2],Rt=It>>>0<qt>>>0;do if(!Rt){var Ut=It+x|0,zt=Ut;if(It>>>0<Ut>>>0){var Wt=o[b+6],Xt=o[b+3],Vt=(Xt|0)==(Ot|0);do{if(Vt){var $t=Ot+20|0,Jt=l[$t>>2];if(0==(Jt|0)){var Kt=Ot+16|0,Qt=l[Kt>>2];if(0==(Qt|0)){var Gt=0;y=Gt>>2;break}var Yt=Kt,Zt=Qt}else Yt=$t,Zt=Jt,E=39;for(;;){var en=Zt+20|0,tn=l[en>>2];if(0!=(tn|0))Yt=en,Zt=tn;else{var nn=Zt+16|0,rn=o[nn>>2];if(0==(rn|0))break;Yt=nn,Zt=rn}}Yt>>>0<qt>>>0&&(XS(),ha("Reached an unreachable!")),l[Yt>>2]=0,Gt=Zt}else{var sn=o[b+2];sn>>>0<qt>>>0&&(XS(),ha("Reached an unreachable!")),l[sn+12>>2]=Xt,l[Xt+8>>2]=sn,Gt=Xt}y=Gt>>2}while(0);var on=0==(Wt|0);t:do if(!on){var un=Ot+28|0,an=(l[un>>2]<<2)+R+304|0,fn=(Ot|0)==(l[an>>2]|0);do{if(fn){l[an>>2]=Gt;if(0!=(Gt|0))break;l[R+4>>2]&=1<<l[un>>2]^-1;break t}Wt>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!"));var ln=Wt+16|0;(l[ln>>2]|0)==(Ot|0)?l[ln>>2]=Gt:l[Wt+20>>2]=Gt;if(0==(Gt|0))break t}while(0);Gt>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[y+6]=Wt;var cn=o[b+4];0!=(cn|0)&&(cn>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[y+4]=cn,l[cn+24>>2]=Gt);var hn=o[b+5];0!=(hn|0)&&(hn>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[y+5]=hn,l[hn+24>>2]=Gt)}while(0);if(16>Mt>>>0){var pn=Mt+x|0;l[b+1]=pn|3;var dn=pn+(It+4)|0;l[dn>>2]|=1}else{l[b+1]=x|3,l[It+(x|4)>>2]=Mt|1,l[It+Mt+x>>2]=Mt;var vn=o[R+8>>2];if(0!=(vn|0)){var mn=o[R+20>>2],gn=vn>>>2&1073741822,yn=(gn<<2)+R+40|0,bn=o[R>>2],wn=1<<(vn>>>3);if(0==(bn&wn|0)){l[R>>2]=bn|wn;var En=yn,Sn=(gn+2<<2)+R+40|0}else{var xn=(gn+2<<2)+R+40|0,Tn=o[xn>>2];Tn>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),En=Tn,Sn=xn}l[Sn>>2]=mn,l[En+12>>2]=mn,l[mn+8>>2]=En,l[mn+12>>2]=yn}l[R+8>>2]=Mt,l[R+20>>2]=zt}var Nn=Ot+8|0;if(0==(Nn|0)){Cn=x,w=Cn>>2,E=155;break e}B=Nn,E=331;break e}}while(0);XS(),ha("Reached an unreachable!")}}else{var Cn=x;w=Cn>>2,E=155}}else{if(4294967231<e>>>0)Cn=-1;else{var kn=e+11|0,Ln=kn&-8;g=Ln>>2;var An=o[R+4>>2];if(0!=(An|0)){var On=-Ln|0,Mn=kn>>>8;if(0==(Mn|0))var _n=0;else if(16777215<Ln>>>0)_n=31;else var Dn=(Mn+1048320|0)>>>16&8,Pn=Mn<<Dn,Hn=(Pn+520192|0)>>>16&4,Bn=Pn<<Hn,jn=(Bn+245760|0)>>>16&2,Fn=14-(Hn|Dn|jn)+(Bn<<jn>>>15)|0,_n=Ln>>>((Fn+7|0)>>>0)&1|Fn<<1;var In=o[R+(_n<<2)+304>>2],qn=0==(In|0);t:do if(qn)var Rn=0,Un=On,zn=0;else{var Wn=31==(_n|0)?0:25-(_n>>>1)|0,Xn=0,Vn=On,$n=In;m=$n>>2;for(var Jn=Ln<<Wn,Kn=0;;){var Qn=l[m+1]&-8,Gn=Qn-Ln|0;if(Gn>>>0<Vn>>>0){if((Qn|0)==(Ln|0)){Rn=$n,Un=Gn,zn=$n;break t}var Yn=$n,Zn=Gn}else Yn=Xn,Zn=Vn;var er=o[m+5],tr=o[((Jn>>>31<<2)+16>>2)+m],nr=0==(er|0)|(er|0)==(tr|0)?Kn:er;if(0==(tr|0)){Rn=Yn,Un=Zn,zn=nr;break t}Xn=Yn,Vn=Zn,$n=tr,m=$n>>2,Jn<<=1,Kn=nr}}while(0);if(0==(zn|0)&0==(Rn|0)){var rr=2<<_n,ir=An&(rr|-rr);if(0==(ir|0)){Cn=Ln,w=Cn>>2,E=155;break}var sr=(ir&-ir)-1|0,or=sr>>>12&16,ur=sr>>>(or>>>0),ar=ur>>>5&8,fr=ur>>>(ar>>>0),lr=fr>>>2&4,cr=fr>>>(lr>>>0),hr=cr>>>1&2,pr=cr>>>(hr>>>0),dr=pr>>>1&1,vr=l[R+((ar|or|lr|hr|dr)+(pr>>>(dr>>>0))<<2)+304>>2]}else vr=zn;var mr=0==(vr|0);t:do if(mr){var gr=Un,yr=Rn;v=yr>>2}else{var br=vr;d=br>>2;for(var wr=Un,Er=Rn;;){var Sr=(l[d+1]&-8)-Ln|0,xr=Sr>>>0<wr>>>0,Tr=xr?Sr:wr,Nr=xr?br:Er,Cr=o[d+4];if(0!=(Cr|0))br=Cr;else{var kr=o[d+5];if(0==(kr|0)){gr=Tr,yr=Nr,v=yr>>2;break t}br=kr}d=br>>2,wr=Tr,Er=Nr}}while(0);if(0!=(yr|0)&&gr>>>0<(l[R+8>>2]-Ln|0)>>>0){var Lr=yr;p=Lr>>2;var Ar=o[R+16>>2],Or=Lr>>>0<Ar>>>0;do if(!Or){var Mr=Lr+Ln|0,_r=Mr;if(Lr>>>0<Mr>>>0){var Dr=o[v+6],Pr=o[v+3],Hr=(Pr|0)==(yr|0);do{if(Hr){var Br=yr+20|0,jr=l[Br>>2];if(0==(jr|0)){var Fr=yr+16|0,Ir=l[Fr>>2];if(0==(Ir|0)){var qr=0;h=qr>>2;break}var Rr=Fr,Ur=Ir}else Rr=Br,Ur=jr,E=103;for(;;){var zr=Ur+20|0,Wr=l[zr>>2];if(0!=(Wr|0))Rr=zr,Ur=Wr;else{var Xr=Ur+16|0,Vr=o[Xr>>2];if(0==(Vr|0))break;Rr=Xr,Ur=Vr}}Rr>>>0<Ar>>>0&&(XS(),ha("Reached an unreachable!")),l[Rr>>2]=0,qr=Ur}else{var $r=o[v+2];$r>>>0<Ar>>>0&&(XS(),ha("Reached an unreachable!")),l[$r+12>>2]=Pr,l[Pr+8>>2]=$r,qr=Pr}h=qr>>2}while(0);var Jr=0==(Dr|0);t:do if(!Jr){var Kr=yr+28|0,Qr=(l[Kr>>2]<<2)+R+304|0,Gr=(yr|0)==(l[Qr>>2]|0);do{if(Gr){l[Qr>>2]=qr;if(0!=(qr|0))break;l[R+4>>2]&=1<<l[Kr>>2]^-1;break t}Dr>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!"));var Yr=Dr+16|0;(l[Yr>>2]|0)==(yr|0)?l[Yr>>2]=qr:l[Dr+20>>2]=qr;if(0==(qr|0))break t}while(0);qr>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[h+6]=Dr;var Zr=o[v+4];0!=(Zr|0)&&(Zr>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[h+4]=Zr,l[Zr+24>>2]=qr);var ei=o[v+5];0!=(ei|0)&&(ei>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[h+5]=ei,l[ei+24>>2]=qr)}while(0);var ti=16>gr>>>0;t:do if(ti){var ni=gr+Ln|0;l[v+1]=ni|3;var ri=ni+(Lr+4)|0;l[ri>>2]|=1}else if(l[v+1]=Ln|3,l[((Ln|4)>>2)+p]=gr|1,l[(gr>>2)+p+g]=gr,256>gr>>>0){var ii=gr>>>2&1073741822,si=(ii<<2)+R+40|0,oi=o[R>>2],ui=1<<(gr>>>3);if(0==(oi&ui|0)){l[R>>2]=oi|ui;var ai=si,fi=(ii+2<<2)+R+40|0}else{var li=(ii+2<<2)+R+40|0,ci=o[li>>2];ci>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),ai=ci,fi=li}l[fi>>2]=_r,l[ai+12>>2]=_r,l[g+(p+2)]=ai,l[g+(p+3)]=si}else{var hi=Mr,pi=gr>>>8;if(0==(pi|0))var di=0;else if(16777215<gr>>>0)di=31;else var vi=(pi+1048320|0)>>>16&8,mi=pi<<vi,gi=(mi+520192|0)>>>16&4,yi=mi<<gi,bi=(yi+245760|0)>>>16&2,wi=14-(gi|vi|bi)+(yi<<bi>>>15)|0,di=gr>>>((wi+7|0)>>>0)&1|wi<<1;var Ei=(di<<2)+R+304|0;l[g+(p+7)]=di;var Si=Ln+(Lr+16)|0;l[g+(p+5)]=0,l[Si>>2]=0;var xi=l[R+4>>2],Ti=1<<di;if(0==(xi&Ti|0))l[R+4>>2]=xi|Ti,l[Ei>>2]=hi,l[g+(p+6)]=Ei,l[g+(p+3)]=hi,l[g+(p+2)]=hi;else for(var Ni=gr<<(31==(di|0)?0:25-(di>>>1)|0),Ci=l[Ei>>2];;){if((l[Ci+4>>2]&-8|0)==(gr|0)){var ki=Ci+8|0,Li=o[ki>>2],Ai=o[R+16>>2],Oi=Ci>>>0<Ai>>>0;do if(!Oi&&Li>>>0>=Ai>>>0){l[Li+12>>2]=hi,l[ki>>2]=hi,l[g+(p+2)]=Li,l[g+(p+3)]=Ci,l[g+(p+6)]=0;break t}while(0);XS(),ha("Reached an unreachable!")}var Mi=(Ni>>>31<<2)+Ci+16|0,_i=o[Mi>>2];if(0!=(_i|0))Ni<<=1,Ci=_i;else{if(Mi>>>0>=o[R+16>>2]>>>0){l[Mi>>2]=hi,l[g+(p+6)]=Ci,l[g+(p+3)]=hi,l[g+(p+2)]=hi;break t}XS(),ha("Reached an unreachable!")}}}while(0);var Di=yr+8|0;if(0==(Di|0)){Cn=Ln,w=Cn>>2,E=155;break e}B=Di,E=331;break e}}while(0);XS(),ha("Reached an unreachable!")}}Cn=Ln}w=Cn>>2,E=155}while(0);e:do if(155==E){var Pi=o[R+8>>2];if(Cn>>>0>Pi>>>0){var Hi=o[R+12>>2];if(Cn>>>0<Hi>>>0){var Bi=Hi-Cn|0;l[R+12>>2]=Bi;var ji=o[R+24>>2],Fi=ji;l[R+24>>2]=Fi+Cn|0,l[(Fi+4>>2)+w]=Bi|1,l[ji+4>>2]=Cn|3,B=ji+8|0}else{if(0==(l[YS>>2]|0)&&0==(l[YS>>2]|0)){var Ii=ZS();0==(Ii-1&Ii|0)?(l[YS+8>>2]=Ii,l[YS+4>>2]=Ii,l[YS+12>>2]=-1,l[YS+16>>2]=2097152,l[YS+20>>2]=0,l[R+440>>2]=0,l[YS>>2]=Math.floor(Date.now()/1e3)&-16^1431655768):(XS(),ha("Reached an unreachable!"))}var qi=0==(l[R+440>>2]&4|0);t:do{if(qi){var Ri=l[R+24>>2],Ui=0==(Ri|0);n:do if(Ui)E=174;else{for(var zi=Ri,Wi=R+444|0;;){var Xi=Wi|0,Vi=o[Xi>>2];if(Vi>>>0<=zi>>>0){var $i=Wi+4|0;if((Vi+l[$i>>2]|0)>>>0>zi>>>0)break}var Ji=o[Wi+8>>2];if(0==(Ji|0)){E=174;break n}Wi=Ji}if(0==(Wi|0))E=174;else{var Ki=l[YS+8>>2],Qi=Cn+47-l[R+12>>2]+Ki&-Ki;if(2147483647>Qi>>>0){var Gi=$S(Qi),Yi=(Gi|0)==(l[Xi>>2]+l[$i>>2]|0),Zi=Yi?Gi:-1,es=Yi?Qi:0,ts=Qi,ns=Gi;E=181}else{var rs=0;E=189}}}while(0);if(174==E){var is=$S(0);if(-1==(is|0))rs=0,E=189;else{var ss=l[YS+8>>2],os=ss+(Cn+47)&-ss,us=is,as=l[YS+4>>2],fs=as-1|0,ls=0==(fs&us|0)?os:os-us+(fs+us&-as)|0;if(2147483647>ls>>>0){var cs=$S(ls),hs=(cs|0)==(is|0),ps=hs?ls:0,Zi=hs?is:-1,es=ps,ts=ls,ns=cs;E=181}else rs=0,E=189}}n:do if(181==E){var ds=-ts|0;if(-1!=(Zi|0)){var vs=es;c=vs>>2;var ms=Zi;f=ms>>2,E=194;break t}var gs=-1!=(ns|0)&2147483647>ts>>>0;do if(gs)if(ts>>>0<(Cn+48|0)>>>0){var ys=l[YS+8>>2],bs=Cn+47-ts+ys&-ys;if(2147483647>bs>>>0){if(-1==($S(bs)|0)){$S(ds),rs=es;break n}ws=bs+ts|0}else ws=ts}else var ws=ts;else ws=ts;while(0);if(-1!=(ns|0)){vs=ws,c=vs>>2,ms=ns,f=ms>>2,E=194;break t}l[R+440>>2]|=4;var Es=es;E=191;break t}while(0);l[R+440>>2]|=4,Es=rs}else Es=0;E=191}while(0);if(191==E){var Ss=l[YS+8>>2],xs=Ss+(Cn+47)&-Ss;if(2147483647>xs>>>0){var Ts=$S(xs),Ns=$S(0);if(-1!=(Ns|0)&-1!=(Ts|0)&Ts>>>0<Ns>>>0){var Cs=Ns-Ts|0,ks=Cs>>>0>(Cn+40|0)>>>0,Ls=ks?Cs:Es,As=ks?Ts:-1;-1==(As|0)?E=330:(vs=Ls,c=vs>>2,ms=As,f=ms>>2,E=194)}else E=330}else E=330}do if(194==E){var Os=l[R+432>>2]+vs|0;l[R+432>>2]=Os,Os>>>0>o[R+436>>2]>>>0&&(l[R+436>>2]=Os);var Ms=o[R+24>>2];a=Ms>>2;var _s=0==(Ms|0);t:do if(_s){var Ds=o[R+16>>2];0==(Ds|0)|ms>>>0<Ds>>>0&&(l[R+16>>2]=ms),l[R+444>>2]=ms,l[R+448>>2]=vs,l[R+456>>2]=0,l[R+36>>2]=l[YS>>2],l[R+32>>2]=-1;for(var Ps=0;;){var Hs=Ps<<1,Bs=(Hs<<2)+R+40|0;l[R+(Hs+3<<2)+40>>2]=Bs,l[R+(Hs+2<<2)+40>>2]=Bs;var js=Ps+1|0;if(32==(js|0))break;Ps=js}var Fs=ms+8|0,Is=0==(Fs&7|0)?0:-Fs&7,qs=vs-40-Is|0;l[R+24>>2]=ms+Is|0,l[R+12>>2]=qs,l[(Is+4>>2)+f]=qs|1,l[(vs-36>>2)+f]=40,l[R+28>>2]=l[YS+16>>2]}else{var Rs=R+444|0;for(u=Rs>>2;0!=(Rs|0);){var Us=o[u],zs=Rs+4|0,Ws=o[zs>>2];if((ms|0)==(Us+Ws|0)){if(0!=(l[u+3]&8|0))break;var Xs=Ms;if(!(Xs>>>0>=Us>>>0&Xs>>>0<ms>>>0))break;l[zs>>2]=Ws+vs|0;var Vs=l[R+24>>2],$s=l[R+12>>2]+vs|0,Js=Vs,Ks=Vs+8|0,Qs=0==(Ks&7|0)?0:-Ks&7,Gs=$s-Qs|0;l[R+24>>2]=Js+Qs|0,l[R+12>>2]=Gs,l[(Qs+(Js+4)|0)>>2]=Gs|1,l[($s+(Js+4)|0)>>2]=40,l[R+28>>2]=l[YS+16>>2];break t}Rs=l[u+2],u=Rs>>2}ms>>>0<o[R+16>>2]>>>0&&(l[R+16>>2]=ms);for(var Ys=ms+vs|0,Zs=R+444|0;;){if(0==(Zs|0)){E=293;break}var eo=Zs|0;if((l[eo>>2]|0)==(Ys|0)){E=218;break}Zs=l[Zs+8>>2]}do if(218==E&&0==(l[Zs+12>>2]&8|0)){l[eo>>2]=ms;var to=Zs+4|0;l[to>>2]=l[to>>2]+vs|0;var no=ms+8|0,ro=0==(no&7|0)?0:-no&7,io=vs+(ms+8)|0,so=0==(io&7|0)?0:-io&7;s=so>>2;var oo=ms+so+vs|0,uo=oo,ao=ro+Cn|0;i=ao>>2;var fo=ms+ao|0,lo=fo,co=oo-(ms+ro)-Cn|0;l[(ro+4>>2)+f]=Cn|3;var ho=(uo|0)==(l[R+24>>2]|0);n:do if(ho){var po=l[R+12>>2]+co|0;l[R+12>>2]=po,l[R+24>>2]=lo,l[i+(f+1)]=po|1}else if((uo|0)==(l[R+20>>2]|0)){var vo=l[R+8>>2]+co|0;l[R+8>>2]=vo,l[R+20>>2]=lo,l[i+(f+1)]=vo|1,l[(ms+vo+ao|0)>>2]=vo}else{var mo=vs+4|0,go=o[(mo>>2)+f+s];if(1==(go&3|0)){var yo=go&-8,bo=go>>>3,wo=256>go>>>0;r:do if(wo){var Eo=o[((so|8)>>2)+f+c],So=o[s+(c+(f+3))];if((Eo|0)==(So|0))l[R>>2]&=1<<bo^-1;else{var xo=((go>>>2&1073741822)<<2)+R+40|0;E=(Eo|0)==(xo|0)?233:Eo>>>0<o[R+16>>2]>>>0?236:233;do if(233==E&&!((So|0)!=(xo|0)&&So>>>0<o[R+16>>2]>>>0)){l[Eo+12>>2]=So,l[So+8>>2]=Eo;break r}while(0);XS(),ha("Reached an unreachable!")}}else{var To=oo,No=o[((so|24)>>2)+f+c],Co=o[s+(c+(f+3))],ko=(Co|0)==(To|0);do{if(ko){var Lo=so|16,Ao=ms+mo+Lo|0,Oo=l[Ao>>2];if(0==(Oo|0)){var Mo=ms+Lo+vs|0,_o=l[Mo>>2];if(0==(_o|0)){var Do=0;r=Do>>2;break}var Po=Mo,Ho=_o}else Po=Ao,Ho=Oo,E=243;for(;;){var Bo=Ho+20|0,jo=l[Bo>>2];if(0!=(jo|0))Po=Bo,Ho=jo;else{var Fo=Ho+16|0,Io=o[Fo>>2];if(0==(Io|0))break;Po=Fo,Ho=Io}}Po>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[Po>>2]=0,Do=Ho}else{var qo=o[((so|8)>>2)+f+c];qo>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[qo+12>>2]=Co,l[Co+8>>2]=qo,Do=Co}r=Do>>2}while(0);if(0!=(No|0)){var Ro=so+(vs+(ms+28))|0,Uo=(l[Ro>>2]<<2)+R+304|0,zo=(To|0)==(l[Uo>>2]|0);do{if(zo){l[Uo>>2]=Do;if(0!=(Do|0))break;l[R+4>>2]&=1<<l[Ro>>2]^-1;break r}No>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!"));var Wo=No+16|0;(l[Wo>>2]|0)==(To|0)?l[Wo>>2]=Do:l[No+20>>2]=Do;if(0==(Do|0))break r}while(0);Do>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[r+6]=No;var Xo=so|16,Vo=o[(Xo>>2)+f+c];0!=(Vo|0)&&(Vo>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[r+4]=Vo,l[Vo+24>>2]=Do);var $o=o[(mo+Xo>>2)+f];0!=($o|0)&&($o>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[r+5]=$o,l[$o+24>>2]=Do)}}while(0);var Jo=ms+(yo|so)+vs|0,Ko=yo+co|0}else Jo=uo,Ko=co;var Qo=Jo+4|0;l[Qo>>2]&=-2,l[i+(f+1)]=Ko|1,l[(Ko>>2)+f+i]=Ko;if(256>Ko>>>0){var Go=Ko>>>2&1073741822,Yo=(Go<<2)+R+40|0,Zo=o[R>>2],eu=1<<(Ko>>>3);if(0==(Zo&eu|0)){l[R>>2]=Zo|eu;var tu=Yo,nu=(Go+2<<2)+R+40|0}else{var ru=(Go+2<<2)+R+40|0,iu=o[ru>>2];iu>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),tu=iu,nu=ru}l[nu>>2]=lo,l[tu+12>>2]=lo,l[i+(f+2)]=tu,l[i+(f+3)]=Yo}else{var su=fo,ou=Ko>>>8;if(0==(ou|0))var uu=0;else if(16777215<Ko>>>0)uu=31;else var au=(ou+1048320|0)>>>16&8,fu=ou<<au,lu=(fu+520192|0)>>>16&4,cu=fu<<lu,hu=(cu+245760|0)>>>16&2,pu=14-(lu|au|hu)+(cu<<hu>>>15)|0,uu=Ko>>>((pu+7|0)>>>0)&1|pu<<1;var du=(uu<<2)+R+304|0;l[i+(f+7)]=uu,l[i+(f+5)]=0,l[i+(f+4)]=0;var vu=l[R+4>>2],mu=1<<uu;if(0==(vu&mu|0))l[R+4>>2]=vu|mu,l[du>>2]=su,l[i+(f+6)]=du,l[i+(f+3)]=su,l[i+(f+2)]=su;else for(var gu=Ko<<(31==(uu|0)?0:25-(uu>>>1)|0),yu=l[du>>2];;){if((l[yu+4>>2]&-8|0)==(Ko|0)){var bu=yu+8|0,wu=o[bu>>2],Eu=o[R+16>>2],Su=yu>>>0<Eu>>>0;do if(!Su&&wu>>>0>=Eu>>>0){l[wu+12>>2]=su,l[bu>>2]=su,l[i+(f+2)]=wu,l[i+(f+3)]=yu,l[i+(f+6)]=0;break n}while(0);XS(),ha("Reached an unreachable!")}var xu=(gu>>>31<<2)+yu+16|0,Tu=o[xu>>2];if(0!=(Tu|0))gu<<=1,yu=Tu;else{if(xu>>>0>=o[R+16>>2]>>>0){l[xu>>2]=su,l[i+(f+6)]=yu,l[i+(f+3)]=su,l[i+(f+2)]=su;break n}XS(),ha("Reached an unreachable!")}}}}while(0);B=ms+(ro|8)|0;break e}while(0);var Nu=Ms,Cu=R+444|0;for(n=Cu>>2;;){var ku=o[n];if(ku>>>0<=Nu>>>0){var Lu=o[n+1];if((ku+Lu|0)>>>0>Nu>>>0){var Au=ku,Ou=Lu;break}}var Mu=o[n+2];if(0==(Mu|0)){Au=0,Ou=4;break}Cu=Mu,n=Cu>>2}var _u=Au+Ou|0,Du=Au+(Ou-39)|0,Pu=Au+(Ou-47)+(0==(Du&7|0)?0:-Du&7)|0,Hu=Pu>>>0<(Ms+16|0)>>>0?Nu:Pu,Bu=Hu+8|0;t=Bu>>2;var ju=Bu,Fu=ms+8|0,Iu=0==(Fu&7|0)?0:-Fu&7,qu=vs-40-Iu|0;l[R+24>>2]=ms+Iu|0,l[R+12>>2]=qu,l[(Iu+4>>2)+f]=qu|1,l[(vs-36>>2)+f]=40,l[R+28>>2]=l[YS+16>>2],l[Hu+4>>2]=27,l[t]=l[R+444>>2],l[t+1]=l[R+448>>2],l[t+2]=l[R+452>>2],l[t+3]=l[R+456>>2],l[R+444>>2]=ms,l[R+448>>2]=vs,l[R+456>>2]=0,l[R+452>>2]=ju;var Ru=Hu+28|0;l[Ru>>2]=7;var Uu=(Hu+32|0)>>>0<_u>>>0;n:do if(Uu)for(var zu=Ru;;){var Wu=zu+4|0;l[Wu>>2]=7;if((zu+8|0)>>>0>=_u>>>0)break n;zu=Wu}while(0);if((Hu|0)!=(Nu|0)){var Xu=Hu-Ms|0,Vu=Nu+Xu|0,$u=Xu+(Nu+4)|0;l[$u>>2]&=-2,l[a+1]=Xu|1,l[Vu>>2]=Xu;if(256>Xu>>>0){var Ju=Xu>>>2&1073741822,Ku=(Ju<<2)+R+40|0,Qu=o[R>>2],Gu=1<<(Xu>>>3);if(0==(Qu&Gu|0)){l[R>>2]=Qu|Gu;var Yu=Ku,Zu=(Ju+2<<2)+R+40|0}else{var ea=(Ju+2<<2)+R+40|0,ta=o[ea>>2];ta>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),Yu=ta,Zu=ea}l[Zu>>2]=Ms,l[Yu+12>>2]=Ms,l[a+2]=Yu,l[a+3]=Ku}else{var na=Ms,ra=Xu>>>8;if(0==(ra|0))var ia=0;else if(16777215<Xu>>>0)ia=31;else var sa=(ra+1048320|0)>>>16&8,oa=ra<<sa,ua=(oa+520192|0)>>>16&4,aa=oa<<ua,fa=(aa+245760|0)>>>16&2,la=14-(ua|sa|fa)+(aa<<fa>>>15)|0,ia=Xu>>>((la+7|0)>>>0)&1|la<<1;var ca=(ia<<2)+R+304|0;l[a+7]=ia,l[a+5]=0,l[a+4]=0;var pa=l[R+4>>2],da=1<<ia;if(0==(pa&da|0))l[R+4>>2]=pa|da,l[ca>>2]=na,l[a+6]=ca,l[a+3]=Ms,l[a+2]=Ms;else for(var va=Xu<<(31==(ia|0)?0:25-(ia>>>1)|0),ma=l[ca>>2];;){if((l[ma+4>>2]&-8|0)==(Xu|0)){var ga=ma+8|0,ya=o[ga>>2],ba=o[R+16>>2],wa=ma>>>0<ba>>>0;do if(!wa&&ya>>>0>=ba>>>0){l[ya+12>>2]=na,l[ga>>2]=na,l[a+2]=ya,l[a+3]=ma,l[a+6]=0;break t}while(0);XS(),ha("Reached an unreachable!")}var Ea=(va>>>31<<2)+ma+16|0,Sa=o[Ea>>2];if(0!=(Sa|0))va<<=1,ma=Sa;else{if(Ea>>>0>=o[R+16>>2]>>>0){l[Ea>>2]=na,l[a+6]=ma,l[a+3]=Ms,l[a+2]=Ms;break t}XS(),ha("Reached an unreachable!")}}}}}while(0);var xa=o[R+12>>2];if(xa>>>0>Cn>>>0){var Ta=xa-Cn|0;l[R+12>>2]=Ta;var Na=o[R+24>>2],Ca=Na;l[R+24>>2]=Ca+Cn|0,l[(Ca+4>>2)+w]=Ta|1,l[Na+4>>2]=Cn|3,B=Na+8|0;break e}}while(0);l[aT>>2]=12,B=0}}else{var ka=Pi-Cn|0,La=o[R+20>>2];if(15<ka>>>0){var Aa=La;l[R+20>>2]=Aa+Cn|0,l[R+8>>2]=ka,l[(Aa+4>>2)+w]=ka|1,l[Aa+Pi>>2]=ka,l[La+4>>2]=Cn|3}else{l[R+8>>2]=0,l[R+20>>2]=0,l[La+4>>2]=Pi|3;var Oa=Pi+(La+4)|0;l[Oa>>2]|=1}B=La+8|0}}while(0);return B}function bg(e){var t,n,r,i,s,u,a=e>>2,f,c=0==(e|0);e:do if(!c){var h=e-8|0,p=h,d=o[R+16>>2],v=h>>>0<d>>>0;t:do if(!v){var m=o[e-4>>2],g=m&3;if(1!=(g|0)){var y=m&-8;u=y>>2;var b=e+(y-8)|0,w=b,E=0==(m&1|0);n:do if(E){var S=o[h>>2];if(0==(g|0))break e;var x=-8-S|0;s=x>>2;var T=e+x|0,N=T,C=S+y|0;if(T>>>0<d>>>0)break t;if((N|0)==(l[R+20>>2]|0)){i=(e+(y-4)|0)>>2;if(3!=(l[i]&3|0)){var k=N;r=k>>2;var L=C;break}l[R+8>>2]=C,l[i]&=-2,l[s+(a+1)]=C|1,l[b>>2]=C;break e}if(256>S>>>0){var A=o[s+(a+2)],O=o[s+(a+3)];if((A|0)==(O|0))l[R>>2]&=1<<(S>>>3)^-1,k=N,r=k>>2,L=C;else{var M=((S>>>2&1073741822)<<2)+R+40|0,_=(A|0)!=(M|0)&A>>>0<d>>>0;do if(!_&&(O|0)==(M|0)|O>>>0>=d>>>0){l[A+12>>2]=O,l[O+8>>2]=A,k=N,r=k>>2,L=C;break n}while(0);XS(),ha("Reached an unreachable!")}}else{var D=T,P=o[s+(a+6)],H=o[s+(a+3)],B=(H|0)==(D|0);do{if(B){var j=x+(e+20)|0,F=l[j>>2];if(0==(F|0)){var I=x+(e+16)|0,q=l[I>>2];if(0==(q|0)){var U=0;n=U>>2;break}var z=I,W=q}else z=j,W=F,f=22;for(;;){var X=W+20|0,V=l[X>>2];if(0!=(V|0))z=X,W=V;else{var $=W+16|0,J=o[$>>2];if(0==(J|0))break;z=$,W=J}}z>>>0<d>>>0&&(XS(),ha("Reached an unreachable!")),l[z>>2]=0,U=W}else{var K=o[s+(a+2)];K>>>0<d>>>0&&(XS(),ha("Reached an unreachable!")),l[K+12>>2]=H,l[H+8>>2]=K,U=H}n=U>>2}while(0);if(0!=(P|0)){var Q=x+(e+28)|0,G=(l[Q>>2]<<2)+R+304|0,Y=(D|0)==(l[G>>2]|0);do{if(Y){l[G>>2]=U;if(0!=(U|0))break;l[R+4>>2]&=1<<l[Q>>2]^-1,k=N,r=k>>2,L=C;break n}P>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!"));var Z=P+16|0;(l[Z>>2]|0)==(D|0)?l[Z>>2]=U:l[P+20>>2]=U;if(0==(U|0)){k=N,r=k>>2,L=C;break n}}while(0);U>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[n+6]=P;var et=o[s+(a+4)];0!=(et|0)&&(et>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[n+4]=et,l[et+24>>2]=U);var tt=o[s+(a+5)];0!=(tt|0)&&(tt>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[n+5]=tt,l[tt+24>>2]=U)}k=N,r=k>>2,L=C}}else k=p,r=k>>2,L=y;while(0);var nt=k;if(nt>>>0<b>>>0){var rt=e+(y-4)|0,it=o[rt>>2];if(0!=(it&1|0)){var st=0==(it&2|0);do if(st){if((w|0)==(l[R+24>>2]|0)){var ot=l[R+12>>2]+L|0;l[R+12>>2]=ot,l[R+24>>2]=k,l[r+1]=ot|1,(k|0)==(l[R+20>>2]|0)&&(l[R+20>>2]=0,l[R+8>>2]=0);if(ot>>>0<=o[R+28>>2]>>>0)break e;var ut=Ia,at=Ia;if(0==(l[YS>>2]|0)&&0==(l[YS>>2]|0)){var ft=ZS();0==(ft-1&ft|0)?(l[YS+8>>2]=ft,l[YS+4>>2]=ft,l[YS+12>>2]=-1,l[YS+16>>2]=2097152,l[YS+20>>2]=0,l[R+440>>2]=0,l[YS>>2]=Math.floor(Date.now()/1e3)&-16^1431655768):(XS(),ha("Reached an unreachable!"))}n:do{var lt=o[R+24>>2];if(0!=(lt|0)){var ct=o[R+12>>2],ht=40<ct>>>0;do if(ht){for(var pt=o[YS+8>>2],dt=(Math.floor(((-41+ct+pt|0)>>>0)/(pt>>>0))-1)*pt|0,vt=lt,mt=R+444|0,at=mt>>2;;){var gt=o[at];if(gt>>>0<=vt>>>0&&(gt+l[at+1]|0)>>>0>vt>>>0){var yt=mt;break}var bt=o[at+2];if(0==(bt|0)){yt=0;break}mt=bt,at=mt>>2}if(0==(l[yt+12>>2]&8|0)){var wt=$S(0),ut=(yt+4|0)>>2;if((wt|0)==(l[yt>>2]+l[ut]|0)){var Et=$S(-(2147483646<dt>>>0?-2147483648-pt|0:dt)|0),St=$S(0);if(-1!=(Et|0)&St>>>0<wt>>>0){var xt=wt-St|0;if((wt|0)!=(St|0)){l[ut]=l[ut]-xt|0,l[R+432>>2]=l[R+432>>2]-xt|0;var Tt=l[R+24>>2],Nt=l[R+12>>2]-xt|0,Ct=Tt,kt=Tt+8|0,Lt=0==(kt&7|0)?0:-kt&7,At=Nt-Lt|0;l[R+24>>2]=Ct+Lt|0,l[R+12>>2]=At,l[(Lt+(Ct+4)|0)>>2]=At|1,l[(Nt+(Ct+4)|0)>>2]=40,l[R+28>>2]=l[YS+16>>2];break n}}}}}while(0);o[R+12>>2]>>>0>o[R+28>>2]>>>0&&(l[R+28>>2]=-1)}}while(0);break e}if((w|0)==(l[R+20>>2]|0)){var Ot=l[R+8>>2]+L|0;l[R+8>>2]=Ot,l[R+20>>2]=k,l[r+1]=Ot|1,l[(nt+Ot|0)>>2]=Ot;break e}var Mt=(it&-8)+L|0,_t=it>>>3,Dt=256>it>>>0;n:do if(Dt){var Pt=o[a+u],Ht=o[((y|4)>>2)+a];if((Pt|0)==(Ht|0))l[R>>2]&=1<<_t^-1;else{var Bt=((it>>>2&1073741822)<<2)+R+40|0;f=(Pt|0)==(Bt|0)?64:Pt>>>0<o[R+16>>2]>>>0?67:64;do if(64==f&&!((Ht|0)!=(Bt|0)&&Ht>>>0<o[R+16>>2]>>>0)){l[Pt+12>>2]=Ht,l[Ht+8>>2]=Pt;break n}while(0);XS(),ha("Reached an unreachable!")}}else{var jt=b,Ft=o[u+(a+4)],It=o[((y|4)>>2)+a],qt=(It|0)==(jt|0);do{if(qt){var Rt=y+(e+12)|0,Ut=l[Rt>>2];if(0==(Ut|0)){var zt=y+(e+8)|0,Wt=l[zt>>2];if(0==(Wt|0)){var Xt=0;t=Xt>>2;break}var Vt=zt,$t=Wt}else Vt=Rt,$t=Ut,f=74;for(;;){var Jt=$t+20|0,Kt=l[Jt>>2];if(0!=(Kt|0))Vt=Jt,$t=Kt;else{var Qt=$t+16|0,Gt=o[Qt>>2];if(0==(Gt|0))break;Vt=Qt,$t=Gt}}Vt>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[Vt>>2]=0,Xt=$t}else{var Yt=o[a+u];Yt>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[Yt+12>>2]=It,l[It+8>>2]=Yt,Xt=It}t=Xt>>2}while(0);if(0!=(Ft|0)){var Zt=y+(e+20)|0,en=(l[Zt>>2]<<2)+R+304|0,tn=(jt|0)==(l[en>>2]|0);do{if(tn){l[en>>2]=Xt;if(0!=(Xt|0))break;l[R+4>>2]&=1<<l[Zt>>2]^-1;break n}Ft>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!"));var nn=Ft+16|0;(l[nn>>2]|0)==(jt|0)?l[nn>>2]=Xt:l[Ft+20>>2]=Xt;if(0==(Xt|0))break n}while(0);Xt>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[t+6]=Ft;var rn=o[u+(a+2)];0!=(rn|0)&&(rn>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[t+4]=rn,l[rn+24>>2]=Xt);var sn=o[u+(a+3)];0!=(sn|0)&&(sn>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),l[t+5]=sn,l[sn+24>>2]=Xt)}}while(0);l[r+1]=Mt|1,l[nt+Mt>>2]=Mt;if((k|0)==(l[R+20>>2]|0)){l[R+8>>2]=Mt;break e}var on=Mt}else l[rt>>2]=it&-2,l[r+1]=L|1,on=l[nt+L>>2]=L;while(0);if(256>on>>>0){var un=on>>>2&1073741822,an=(un<<2)+R+40|0,fn=o[R>>2],ln=1<<(on>>>3);if(0==(fn&ln|0)){l[R>>2]=fn|ln;var cn=an,hn=(un+2<<2)+R+40|0}else{var pn=(un+2<<2)+R+40|0,dn=o[pn>>2];dn>>>0<o[R+16>>2]>>>0&&(XS(),ha("Reached an unreachable!")),cn=dn,hn=pn}l[hn>>2]=k,l[cn+12>>2]=k,l[r+2]=cn,l[r+3]=an;break e}var vn=k,mn=on>>>8;if(0==(mn|0))var gn=0;else if(16777215<on>>>0)gn=31;else var yn=(mn+1048320|0)>>>16&8,bn=mn<<yn,wn=(bn+520192|0)>>>16&4,En=bn<<wn,Sn=(En+245760|0)>>>16&2,xn=14-(wn|yn|Sn)+(En<<Sn>>>15)|0,gn=on>>>((xn+7|0)>>>0)&1|xn<<1;var Tn=(gn<<2)+R+304|0;l[r+7]=gn,l[r+5]=0,l[r+4]=0;var Nn=l[R+4>>2],Cn=1<<gn,kn=0==(Nn&Cn|0);n:do if(kn)l[R+4>>2]=Nn|Cn,l[Tn>>2]=vn,l[r+6]=Tn,l[r+3]=k,l[r+2]=k;else for(var Ln=on<<(31==(gn|0)?0:25-(gn>>>1)|0),An=l[Tn>>2];;){if((l[An+4>>2]&-8|0)==(on|0)){var On=An+8|0,Mn=o[On>>2],_n=o[R+16>>2],Dn=An>>>0<_n>>>0;do if(!Dn&&Mn>>>0>=_n>>>0){l[Mn+12>>2]=vn,l[On>>2]=vn,l[r+2]=Mn,l[r+3]=An,l[r+6]=0;break n}while(0);XS(),ha("Reached an unreachable!")}var Pn=(Ln>>>31<<2)+An+16|0,Hn=o[Pn>>2];if(0!=(Hn|0))Ln<<=1,An=Hn;else{if(Pn>>>0>=o[R+16>>2]>>>0){l[Pn>>2]=vn,l[r+6]=An,l[r+3]=k,l[r+2]=k;break n}XS(),ha("Reached an unreachable!")}}while(0);var Bn=l[R+32>>2]-1|0;l[R+32>>2]=Bn;if(0!=(Bn|0))break e;for(var jn=R+452|0;;){var Fn=l[jn>>2];if(0==(Fn|0))break;jn=Fn+8|0}l[R+32>>2]=-1;break e}}}}while(0);XS(),ha("Reached an unreachable!")}while(0)}function $s(e){0!=(e|0)&&bg(e)}function rq(e){for(e=0==(e|0)?1:e;;){var t=fe(e);if(0!=(t|0))return t;t=(ad=l[bT>>2],l[bT>>2]=ad,ad);if(0==(t|0)){var n;n=fe(4),l[n>>2]=cT+8|0;var r=dT;if(!eT){try{l[fT>>2]=0}catch(i){}try{l[gT>>2]=1}catch(s){}try{l[hT>>2]=2}catch(o){}eT=Db}Module.M("Compiled code throwing an exception, "+[n,r,32]+", at "+Error().stack),l[iT>>2]=n,l[iT+4>>2]=r,l[iT+8>>2]=32,"uncaught_exception"in jT?jT.lc++:jT.lc=1,ha(n),ha("Reached an unreachable!")}K[t]()}return Gb}function ag(e,t,n){if(20<=n&&t%2==e%2)if(t%4==e%4){for(n=t+n;t%4;)c[e++]=c[t++];for(var t=t>>2,e=e>>2,r=n>>2;t<r;)l[e++]=l[t++];t<<=2;for(e<<=2;t<n;)c[e++]=c[t++]}else{n=t+n,t%2&&(c[e++]=c[t++]),t>>=1,e>>=1;for(r=n>>1;t<r;)i[e++]=i[t++];t<<=1,e<<=1,t<n&&(c[e++]=c[t++])}else for(;n--;)c[e++]=c[t++]}function O(e,t,n,r){ha("Assertion failed: "+Dd(r)+", at: "+[Dd(e),t,Dd(n)])}function ge(e,t){var n=0;if(20<=t){for(var r=e+t;e%4;)c[e++]=n;0>n&&(n+=256);for(var i=e>>2,s=r>>2,o=n|n<<8|n<<16|n<<24;i<s;)l[i++]=o;for(e=i<<2;e<r;)c[e++]=n}else for(;t--;)c[e++]=n}function qT(e){aT||(aT=y([0],"i32",w)),l[aT>>2]=e}function vT(e,t){if("string"!=typeof e)return Gb;t===Ia&&(t="/"),e&&"/"==e[0]&&(t="");for(var n=(t+"/"+e).split("/").reverse(),r=[""];n.length;){var i=n.pop();""==i||"."==i||(".."==i?1<r.length&&r.pop():r.push(i))}return 1==r.length?"/":r.join("/")}function wT(e,t,n){var r={ai:Hb,gb:Hb,error:0,name:Gb,path:Gb,object:Gb,gc:Hb,ic:Gb,hc:Gb},e=vT(e);if("/"==e)r.ai=Db,r.gb=r.gc=Db,r.name="/",r.path=r.ic="/",r.object=r.hc=xT;else if(e!==Gb)for(var n=n||0,e=e.slice(1).split("/"),i=xT,s=[""];e.length;){1==e.length&&i.X&&(r.gc=Db,r.ic=1==s.length?"/":s.join("/"),r.hc=i,r.name=e[0]);var o=e.shift();if(!i.X){r.error=20;break}if(!i.kc){r.error=kT;break}if(!i.u.hasOwnProperty(o)){r.error=2;break}i=i.u[o];if(i.link&&(!t||0!=e.length)){if(40<n){r.error=40;break}r=vT(i.link,s.join("/")),r=wT([r].concat(e).join("/"),t,n+1);break}s.push(o),0==e.length&&(r.gb=Db,r.path=s.join("/"),r.object=i)}return r}function yT(e){return zT(),e=wT(e,Ia),e.gb?e.object:(qT(e.error),Gb)}function AT(e,t,n,r,i){e||(e="/"),"string"==typeof e&&(e=yT(e)),e||(qT(kT),ha(Error("Parent path must exist."))),e.X||(qT(20),ha(Error("Parent must be a folder."))),!e.write&&!uT&&(qT(kT),ha(Error("Parent folder must be writeable.")));if(!t||"."==t||".."==t)qT(2),ha(Error("Name must not be empty."));e.u.hasOwnProperty(t)&&(qT(17),ha(Error("Can't overwrite object."))),e.u[t]={kc:r===Ia?Db:r,write:i===Ia?Hb:i,timestamp:Date.now(),$h:tT++};for(var s in n)n.hasOwnProperty(s)&&(e.u[t][s]=n[s]);return e.u[t]}function BT(e,t,n,r){return AT(e,t,{X:Db,Q:Hb,u:{}},n,r)}function CT(e,t,n,r){e=yT(e),e===Gb&&ha(Error("Invalid parent."));for(t=t.split("/").reverse();t.length;){var i=t.pop();i&&(e.u.hasOwnProperty(i)||BT(e,i,n,r),e=e.u[i])}return e}function DT(e,t,n,r,i){return n.X=Hb,AT(e,t,n,r,i)}function ET(e,t,n,r,i){if("string"==typeof n){for(var s=Array(n.length),o=0,u=n.length;o<u;++o)s[o]=n.charCodeAt(o);n=s}return n={Q:Hb,u:n.subarray?n.subarray(0):n},DT(e,t,n,r,i)}function FT(e,t,n,r){return!n&&!r&&ha(Error("A device must have at least one callback defined.")),DT(e,t,{Q:Db,input:n,Y:r},Boolean(n),Boolean(r))}function zT(){xT||(xT={kc:Db,write:Db,X:Db,Q:Hb,timestamp:Date.now(),$h:1,u:{}})}function fn(e,t,n){var r=gn[e];if(r){if(r.Ea){if(0>n)return qT(mT),-1;if(r.object.Q){if(r.object.Y){for(var i=0;i<n;i++)try{r.object.Y(c[t+i])}catch(s){return qT(nT),-1}return r.object.timestamp=Date.now(),i}return qT(pT),-1}i=r.position,e=gn[e];if(!e||e.object.Q)qT(lT),t=-1;else if(e.Ea)if(e.object.X)qT(oT),t=-1;else if(0>n||0>i)qT(mT),t=-1;else{for(var o=e.object.u;o.length<i;)o.push(0);for(var u=0;u<n;u++)o[i+u]=Ic[t+u];e.object.timestamp=Date.now(),t=u}else qT(kT),t=-1;return-1!=t&&(r.position+=t),t}return qT(kT),-1}return qT(lT),-1}function dt(e){c[e]||(c[e]=1)}function XS(){ha("abort() at "+Error().stack)}function ZS(){switch(8){case 8:return he;case 54:case 56:case 21:case 61:case 63:case 22:case 67:case 23:case 24:case 25:case 26:case 27:case 69:case 28:case 101:case 70:case 71:case 29:case 30:case 199:case 75:case 76:case 32:case 43:case 44:case 80:case 46:case 47:case 45:case 48:case 49:case 42:case 82:case 33:case 7:case 108:case 109:case 107:case 112:case 119:case 121:return 200809;case 13:case 104:case 94:case 95:case 34:case 35:case 77:case 81:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 91:case 94:case 95:case 110:case 111:case 113:case 114:case 115:case 116:case 117:case 118:case 120:case 40:case 16:case 79:case 19:return-1;case 92:case 93:case 5:case 72:case 6:case 74:case 92:case 93:case 96:case 97:case 98:case 99:case 102:case 103:case 105:return 1;case 38:case 66:case 50:case 51:case 4:return 1024;case 15:case 64:case 41:return 32;case 55:case 37:case 17:return 2147483647;case 18:case 1:return 47839;case 59:case 57:return 99;case 68:case 58:return 2048;case 0:return 2097152;case 3:return 65536;case 14:return 32768;case 73:return 32767;case 39:return 16384;case 60:return 1e3;case 106:return 700;case 52:return 256;case 62:return 255;case 2:return 100;case 65:return 64;case 36:return 20;case 100:return 16;case 20:return 6;case 53:return 4}return qT(mT),-1}function $S(e){HT||(Gc=Gc+4095>>12<<12,HT=Db);var t=Gc;return 0!=e&&Fc(e),t}function jT(){return!!jT.lc}function zf(e){function t(){var t=0;ff=Db,Module._main&&(Ce(Ne),t=Module.Zh(e),Module.noExitRuntime||Ce(Ue));if(Module.postRun)for("function"==typeof Module.postRun&&(Module.postRun=[Module.postRun]);0<Module.postRun.length;)Module.postRun.pop()();return t}e=e||Module.arguments;if(0<df)return Module.M("run() called, but dependencies remain, so not running"),0;if(Module.preRun){"function"==typeof Module.preRun&&(Module.preRun=[Module.preRun]);var n=Module.preRun;Module.preRun=[];for(var r=n.length-1;0<=r;r--)n[r]();if(0<df)return 0}return Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),t()},1),0):t()}function Z(e,t){var n=t?t.prototype.b:cW,r=n[e];return r?r:(t=t||Object,r=Object.create(t.prototype),r.a=e,r.c=t,n[e]=r)}function dW(){this.a=qq(),dW.prototype.b[this.a]=this,this.c=dW}function eW(e){this.a=nt(e.a),eW.prototype.b[this.a]=this,this.c=eW}function fW(){this.a=qt(),fW.prototype.b[this.a]=this,this.c=fW}function gW(e){this.a=Bt(e.a),gW.prototype.b[this.a]=this,this.c=gW}function hW(e){this.a=wx(e.a),hW.prototype.b[this.a]=this,this.c=hW}function iW(){this.a=Ax(),iW.prototype.b[this.a]=this,this.c=iW}function jW(e){this.a=Jx(e.a),jW.prototype.b[this.a]=this,this.c=jW}function kW(e){this.a=Cy(e.a),kW.prototype.b[this.a]=this,this.c=kW}function lW(){this.a=Lz(),lW.prototype.b[this.a]=this,this.c=lW}function mW(e){this.a=Tz(e.a),mW.prototype.b[this.a]=this,this.c=mW}function nW(){this.a=gA(),nW.prototype.b[this.a]=this,this.c=nW}function oW(){ha("b2Joint is abstract!")}function pW(e){this.a=RG(e.a),pW.prototype.b[this.a]=this,this.c=pW}function qW(){this.a=GH(),qW.prototype.b[this.a]=this,this.c=qW}function rW(){this.a=KH(),rW.prototype.b[this.a]=this,this.c=rW}function sW(e){this.a=VH(e.a),sW.prototype.b[this.a]=this,this.c=sW}function tW(e){this.a=eI(e.a),tW.prototype.b[this.a]=this,this.c=tW}function uW(){this.a=QI(),uW.prototype.b[this.a]=this,this.c=uW}function vW(){this.a=TI(),vW.prototype.b[this.a]=this,this.c=vW}function wW(){this.a=cJ(),wW.prototype.b[this.a]=this,this.c=wW}function xW(){this.a=lJ(),xW.prototype.b[this.a]=this,this.c=xW}function yW(){this.a=qJ(),yW.prototype.b[this.a]=this,this.c=yW}function zW(e){this.a=vK(e.a),zW.prototype.b[this.a]=this,this.c=zW}function AW(){this.a=DK(),AW.prototype.b[this.a]=this,this.c=AW}function BW(){this.a=MK(),BW.prototype.b[this.a]=this,this.c=BW}function CW(){ha("b2Contact is abstract!")}function DW(){ha("b2Shape is abstract!")}function EW(){ha("b2Body is abstract!")}function FW(e){this.a=cM(e.a),FW.prototype.b[this.a]=this,this.c=FW}function GW(){this.a=wN(),GW.prototype.b[this.a]=this,this.c=GW}function HW(){this.a=AN(),HW.prototype.b[this.a]=this,this.c=HW}function IW(){this.a=DN(),IW.prototype.b[this.a]=this,this.c=IW}function JW(){this.a=FN(),JW.prototype.b[this.a]=this,this.c=JW}function KW(){this.a=GN(),KW.prototype.b[this.a]=this,this.c=KW}function LW(e,t){this.a=e===Ia?JN():KN(e,t),LW.prototype.b[this.a]=this,this.c=LW}function MW(e,t,n){this.a=e===Ia?ZO():$O(e,t,n),MW.prototype.b[this.a]=this,this.c=MW}function NW(){this.a=dP(),NW.prototype.b[this.a]=this,this.c=NW}function OW(){this.a=hP(),OW.prototype.b[this.a]=this,this.c=OW}function PW(){this.a=jP(),PW.prototype.b[this.a]=this,this.c=PW}function QW(e){this.a=e===Ia?vP():wP(e),QW.prototype.b[this.a]=this,this.c=QW}function RW(){this.a=RQ(),RW.prototype.b[this.a]=this,this.c=RW}function SW(){this.a=TQ(),SW.prototype.b[this.a]=this,this.c=SW}function TW(){this.a=WQ(),TW.prototype.b[this.a]=this,this.c=TW}function UW(){this.a=YQ(),UW.prototype.b[this.a]=this,this.c=UW}function VW(e,t){this.a=e===Ia?aR():bR(e.a,t.a),VW.prototype.b[this.a]=this,this.c=VW}function WW(e,t,n){this.a=e===Ia?dR():eR(e,t,n),WW.prototype.b[this.a]=this,this.c=WW}function XW(){this.a=gR(),XW.prototype.b[this.a]=this,this.c=XW}function K_(){this.a=LS(),K_.prototype.b[this.a]=this,this.c=K_}function L_(){this.a=MS(),L_.prototype.b[this.a]=this,this.c=L_}function M_(){this.a=OS(),M_.prototype.b[this.a]=this,this.c=M_}function N_(){this.a=SS(),N_.prototype.b[this.a]=this,this.c=N_}function O_(){this.a=US(),O_.prototype.b[this.a]=this,this.c=O_}function P_(){this.a=WS(),P_.prototype.b[this.a]=this,this.c=P_}this.createjs=this.createjs||{},function(){var e=function(){throw"UID cannot be instantiated"};e._nextID=0,e.get=function(){return e._nextID++},createjs.UID=e}(),this.createjs=this.createjs||{},function(){var e=function(){this.initialize()},t=e.prototype;e.initialize=function(e){e.addEventListener=t.addEventListener,e.removeEventListener=t.removeEventListener,e.removeAllEventListeners=t.removeAllEventListeners,e.hasEventListener=t.hasEventListener,e.dispatchEvent=t.dispatchEvent},t._listeners=null,t.initialize=function(){},t.addEventListener=function(e,t){var n=this._listeners;n?this.removeEventListener(e,t):n=this._listeners={};var r=n[e];return r||(r=n[e]=[]),r.push(t),t},t.removeEventListener=function(e,t){var n=this._listeners;if(n){var r=n[e];if(r)for(var i=0,s=r.length;i<s;i++)if(r[i]==t){1==s?delete n[e]:r.splice(i,1);break}}},t.removeAllEventListeners=function(e){e?this._listeners&&delete this._listeners[e]:this._listeners=null},t.dispatchEvent=function(e,t){var n=!1,r=this._listeners;if(e&&r){"string"==typeof e&&(e={type:e}),r=r[e.type];if(!r)return n;e.target=t||this;for(var r=r.slice(),i=0,s=r.length;i<s;i++)var o=r[i],n=o.handleEvent?n||o.handleEvent(e):n||o(e)}return!!n},t.hasEventListener=function(e){var t=this._listeners;return!!t&&!!t[e]},t.toString=function(){return"[EventDispatcher]"},createjs.EventDispatcher=e}(),this.createjs=this.createjs||{},function(){var e=function(){throw"Ticker cannot be instantiated."};e.useRAF=!1,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e._listeners=null,e._pauseable=null,e._paused=!1,e._inited=!1,e._startTime=0,e._pausedTime=0,e._ticks=0,e._pausedTicks=0,e._interval=50,e._lastTime=0,e._times=null,e._tickTimes=null,e._rafActive=!1,e._timeoutID=null,e.addListener=function(t,n){null!=t&&(e.removeListener(t),e._pauseable[e._listeners.length]=null==n?!0:n,e._listeners.push(t))},e.init=function(){e._inited=!0,e._times=[],e._tickTimes=[],e._pauseable=[],e._listeners=[],e._times.push(e._lastTime=e._startTime=e._getTime()),e.setInterval(e._interval)},e.removeListener=function(t){var n=e._listeners;n&&(t=n.indexOf(t),-1!=t&&(n.splice(t,1),e._pauseable.splice(t,1)))},e.removeAllListeners=function(){e._listeners=[],e._pauseable=[]},e.setInterval=function(t){e._interval=t,e._inited&&e._setupTick()},e.getInterval=function(){return e._interval},e.setFPS=function(t){e.setInterval(1e3/t)},e.getFPS=function(){return 1e3/e._interval},e.getMeasuredFPS=function(t){return 2>e._times.length?-1:(null==t&&(t=e.getFPS()|0),t=Math.min(e._times.length-1,t),1e3/((e._times[0]-e._times[t])/t))},e.setPaused=function(t){e._paused=t},e.getPaused=function(){return e._paused},e.getTime=function(t){return e._getTime()-e._startTime-(t?e._pausedTime:0)},e.getTicks=function(t){return e._ticks-(t?e._pausedTicks:0)},e._handleAF=function(){e._rafActive=!1,e._setupTick(),e._getTime()-e._lastTime>=.97*(e._interval-1)&&e._tick()},e._handleTimeout=function(){e.timeoutID=null,e._setupTick(),e._tick()},e._setupTick=function(){if(!e._rafActive&&null==e.timeoutID){if(e.useRAF){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(t){t(e._handleAF),e._rafActive=!0;return}}e.timeoutID=setTimeout(e._handleTimeout,e._interval)}},e._tick=function(){var t=e._getTime();e._ticks++;var n=t-e._lastTime,r=e._paused;r&&(e._pausedTicks++,e._pausedTime+=n),e._lastTime=t;for(var i=e._pauseable,s=e._listeners.slice(),o=s?s.length:0,u=0;u<o;u++){var a=s[u];null==a||r&&i[u]||(a.tick?a.tick(n,r):a instanceof Function&&a(n,r))}e.dispatchEvent({type:"tick",paused:r,delta:n,time:t,runTime:t-e._pausedTime});for(e._tickTimes.unshift(e._getTime()-t);100<e._tickTimes.length;)e._tickTimes.pop();for(e._times.unshift(t);100<e._times.length;)e._times.pop()};var t=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);e._getTime=function(){return t&&t.call(performance)||(new Date).getTime()},e.init(),createjs.Ticker=e}(),this.createjs=this.createjs||{},function(){var e=function(e,t,n,r,i,s,o,u,a){this.initialize(e,t,n,r,i,s,o,u,a)},t=e.prototype;t.stageX=0,t.stageY=0,t.rawX=0,t.rawY=0,t.type=null,t.nativeEvent=null,t.onMouseMove=null,t.onMouseUp=null,t.target=null,t.pointerID=0,t.primary=!1,t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t.initialize=function(e,t,n,r,i,s,o,u,a){this.type=e,this.stageX=t,this.stageY=n,this.target=r,this.nativeEvent=i,this.pointerID=s,this.primary=o,this.rawX=null==u?t:u,this.rawY=null==a?n:a},t.clone=function(){return new e(this.type,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)},t.toString=function(){return"[MouseEvent (type="+this.type+" stageX="+this.stageX+" stageY="+this.stageY+")]"},createjs.MouseEvent=e}(),this.createjs=this.createjs||{},function(){var e=function(e,t,n,r,i,s){this.initialize(e,t,n,r,i,s)},t=e.prototype;e.identity=null,e.DEG_TO_RAD=Math.PI/180,t.a=1,t.b=0,t.c=0,t.d=1,t.tx=0,t.ty=0,t.alpha=1,t.shadow=null,t.compositeOperation=null,t.initialize=function(e,t,n,r,i,s){return null!=e&&(this.a=e),this.b=t||0,this.c=n||0,null!=r&&(this.d=r),this.tx=i||0,this.ty=s||0,this},t.prepend=function(e,t,n,r,i,s){var o=this.tx;if(1!=e||0!=t||0!=n||1!=r){var u=this.a,a=this.c;this.a=u*e+this.b*n,this.b=u*t+this.b*r,this.c=a*e+this.d*n,this.d=a*t+this.d*r}return this.tx=o*e+this.ty*n+i,this.ty=o*t+this.ty*r+s,this},t.append=function(e,t,n,r,i,s){var o=this.a,u=this.b,a=this.c,f=this.d;return this.a=e*o+t*a,this.b=e*u+t*f,this.c=n*o+r*a,this.d=n*u+r*f,this.tx=i*o+s*a+this.tx,this.ty=i*u+s*f+this.ty,this},t.prependMatrix=function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty),this.prependProperties(e.alpha,e.shadow,e.compositeOperation),this},t.appendMatrix=function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty),this.appendProperties(e.alpha,e.shadow,e.compositeOperation),this},t.prependTransform=function(t,n,r,i,s,o,u,a,f){if(s%360){var l=s*e.DEG_TO_RAD;s=Math.cos(l),l=Math.sin(l)}else s=1,l=0;if(a||f)this.tx-=a,this.ty-=f;return o||u?(o*=e.DEG_TO_RAD,u*=e.DEG_TO_RAD,this.prepend(s*r,l*r,-l*i,s*i,0,0),this.prepend(Math.cos(u),Math.sin(u),-Math.sin(o),Math.cos(o),t,n)):this.prepend(s*r,l*r,-l*i,s*i,t,n),this},t.appendTransform=function(t,n,r,i,s,o,u,a,f){if(s%360){var l=s*e.DEG_TO_RAD;s=Math.cos(l),l=Math.sin(l)}else s=1,l=0;o||u?(o*=e.DEG_TO_RAD,u*=e.DEG_TO_RAD,this.append(Math.cos(u),Math.sin(u),-Math.sin(o),Math.cos(o),t,n),this.append(s*r,l*r,-l*i,s*i,0,0)):this.append(s*r,l*r,-l*i,s*i,t,n);if(a||f)this.tx-=a*this.a+f*this.c,this.ty-=a*this.b+f*this.d;return this},t.rotate=function(e){var t=Math.cos(e);e=Math.sin(e);var n=this.a,r=this.c,i=this.tx;return this.a=n*t-this.b*e,this.b=n*e+this.b*t,this.c=r*t-this.d*e,this.d=r*e+this.d*t,this.tx=i*t-this.ty*e,this.ty=i*e+this.ty*t,this},t.skew=function(t,n){return t*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(t),Math.cos(t),0,0),this},t.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},t.translate=function(e,t){return this.tx+=e,this.ty+=t,this},t.identity=function(){return this.alpha=this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.shadow=this.compositeOperation=null,this},t.invert=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.tx,s=e*r-t*n;return this.a=r/s,this.b=-t/s,this.c=-n/s,this.d=e/s,this.tx=(n*this.ty-r*i)/s,this.ty=-(e*this.ty-t*i)/s,this},t.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d},t.decompose=function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),r=Math.atan2(this.b,this.a);return n==r?(t.rotation=r/e.DEG_TO_RAD,0>this.a&&0<=this.d&&(t.rotation+=0>=t.rotation?180:-180),t.skewX=t.skewY=0):(t.skewX=n/e.DEG_TO_RAD,t.skewY=r/e.DEG_TO_RAD),t},t.reinitialize=function(e,t,n,r,i,s,o,u,a){return this.initialize(e,t,n,r,i,s),this.alpha=o||1,this.shadow=u,this.compositeOperation=a,this},t.appendProperties=function(e,t,n){return this.alpha*=e,this.shadow=t||this.shadow,this.compositeOperation=n||this.compositeOperation,this},t.prependProperties=function(e,t,n){return this.alpha*=e,this.shadow=this.shadow||t,this.compositeOperation=this.compositeOperation||n,this},t.clone=function(){var t=new e(this.a,this.b,this.c,this.d,this.tx,this.ty);return t.shadow=this.shadow,t.alpha=this.alpha,t.compositeOperation=this.compositeOperation,t},t.toString=function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"},e.identity=new e(1,0,0,1,0,0),createjs.Matrix2D=e}(),this.createjs=this.createjs||{},function(){var e=function(e,t){this.initialize(e,t)},t=e.prototype;t.x=0,t.y=0,t.initialize=function(e,t){this.x=null==e?0:e,this.y=null==t?0:t},t.clone=function(){return new e(this.x,this.y)},t.toString=function(){return"[Point (x="+this.x+" y="+this.y+")]"},createjs.Point=e}(),this.createjs=this.createjs||{},function(){var e=function(e,t,n,r){this.initialize(e,t,n,r)},t=e.prototype;t.x=0,t.y=0,t.width=0,t.height=0,t.initialize=function(e,t,n,r){this.x=null==e?0:e,this.y=null==t?0:t,this.width=null==n?0:n,this.height=null==r?0:r},t.clone=function(){return new e(this.x,this.y,this.width,this.height)},t.toString=function(){return"[Rectangle (x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+")]"},createjs.Rectangle=e}(),this.createjs=this.createjs||{},function(){var e=function(e,t,n,r,i,s,o){this.initialize(e,t,n,r,i,s,o)},t=e.prototype;t.target=null,t.overLabel=null,t.outLabel=null,t.downLabel=null,t.play=!1,t._isPressed=!1,t._isOver=!1,t.initialize=function(e,t,n,r,i,s,o){e.addEventListener&&(this.target=e,e.cursor="pointer",this.overLabel=null==n?"over":n,this.outLabel=null==t?"out":t,this.downLabel=null==r?"down":r,this.play=i,this.setEnabled(!0),this.handleEvent({}),s&&(o&&(s.actionsEnabled=!1,s.gotoAndStop&&s.gotoAndStop(o)),e.hitArea=s))},t.setEnabled=function(e){var t=this.target;e?(t.addEventListener("mouseover",this),t.addEventListener("mouseout",this),t.addEventListener("mousedown",this)):(t.removeEventListener("mouseover",this),t.removeEventListener("mouseout",this),t.removeEventListener("mousedown",this))},t.toString=function(){return"[ButtonHelper]"},t.handleEvent=function(e){var t=this.target,n=e.type;"mousedown"==n?(e.addEventListener("mouseup",this),this._isPressed=!0,e=this.downLabel):"mouseup"==n?(this._isPressed=!1,e=this._isOver?this.overLabel:this.outLabel):"mouseover"==n?(this._isOver=!0,e=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,e=this._isPressed?this.overLabel:this.outLabel),this.play?t.gotoAndPlay&&t.gotoAndPlay(e):t.gotoAndStop&&t.gotoAndStop(e)},createjs.ButtonHelper=e}(),this.createjs=this.createjs||{},function(){var e=function(e,t,n,r){this.initialize(e,t,n,r)},t=e.prototype;e.identity=null,t.color=null,t.offsetX=0,t.offsetY=0,t.blur=0,t.initialize=function(e,t,n,r){this.color=e,this.offsetX=t,this.offsetY=n,this.blur=r},t.toString=function(){return"[Shadow]"},t.clone=function(){return new e(this.color,this.offsetX,this.offsetY,this.blur)},e.identity=new e("transparent",0,0,0),createjs.Shadow=e}(),this.createjs=this.createjs||{},function(){var e=function(e){this.initialize(e)},t=e.prototype;t.complete=!0,t.onComplete=null,t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._animations=null,t._frames=null,t._images=null,t._data=null,t._loadCount=0,t._frameHeight=0,t._frameWidth=0,t._numFrames=0,t._regX=0,t._regY=0,t.initialize=function(e){var t,n,r;if(null!=e){if(e.images&&0<(n=e.images.length)){r=this._images=[];for(t=0;t<n;t++){var i=e.images[t];if("string"==typeof i){var s=i,i=new Image;i.src=s}r.push(i),!i.getContext&&!i.complete&&(this._loadCount++,this.complete=!1,function(e){i.onload=function(){e._handleImageLoad()}}(this))}}if(null!=e.frames)if(e.frames instanceof Array){this._frames=[],r=e.frames,t=0;for(n=r.length;t<n;t++)s=r[t],this._frames.push({image:this._images[s[4]?s[4]:0],rect:new createjs.Rectangle(s[0],s[1],s[2],s[3]),regX:s[5]||0,regY:s[6]||0})}else n=e.frames,this._frameWidth=n.width,this._frameHeight=n.height,this._regX=n.regX||0,this._regY=n.regY||0,this._numFrames=n.count,0==this._loadCount&&this._calculateFrames();if(null!=(n=e.animations)){this._animations=[],this._data={};for(var o in n){e={name:o},s=n[o];if("number"==typeof s)r=e.frames=[s];else if(s instanceof Array)if(1==s.length)e.frames=[s[0]];else{e.frequency=s[3],e.next=s[2],r=e.frames=[];for(t=s[0];t<=s[1];t++)r.push(t)}else e.frequency=s.frequency,e.next=s.next,t=s.frames,r=e.frames="number"==typeof t?[t]:t.slice(0);e.next=2>r.length||0==e.next?null:null==e.next||1==e.next?o:e.next,e.frequency||(e.frequency=1),this._animations.push(o),this._data[o]=e}}}},t.getNumFrames=function(e){return null==e?this._frames?this._frames.length:this._numFrames:(e=this._data[e],null==e?0:e.frames.length)},t.getAnimations=function(){return this._animations.slice(0)},t.getAnimation=function(e){return this._data[e]},t.getFrame=function(e){var t;return this.complete&&this._frames&&(t=this._frames[e])?t:null},t.getFrameBounds=function(e){return(e=this.getFrame(e))?new createjs.Rectangle(-e.regX,-e.regY,e.rect.width,e.rect.height):null},t.toString=function(){return"[SpriteSheet]"},t.clone=function(){var t=new e;return t.complete=this.complete,t._animations=this._animations,t._frames=this._frames,t._images=this._images,t._data=this._data,t._frameHeight=this._frameHeight,t._frameWidth=this._frameWidth,t._numFrames=this._numFrames,t._loadCount=this._loadCount,t},t._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.onComplete&&this.onComplete(),this.dispatchEvent("complete"))},t._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];for(var e=0,t=this._frameWidth,n=this._frameHeight,r=0,i=this._images;r<i.length;r++){for(var s=i[r],o=(s.width+1)/t|0,u=(s.height+1)/n|0,u=0<this._numFrames?Math.min(this._numFrames-e,o*u):o*u,a=0;a<u;a++)this._frames.push({image:s,rect:new createjs.Rectangle(a%o*t,(a/o|0)*n,t,n),regX:this._regX,regY:this._regY});e+=u}this._numFrames=e}},createjs.SpriteSheet=e}(),this.createjs=this.createjs||{},function(){function e(e,t,n){this.f=e,this.params=t,this.path=null==n?!0:n}e.prototype.exec=function(e){this.f.apply(e,this.params)};var t=function(){this.initialize()},n=t.prototype;t.getRGB=function(e,t,n,r){return null!=e&&null==n&&(r=t,n=e&255,t=e>>8&255,e=e>>16&255),null==r?"rgb("+e+","+t+","+n+")":"rgba("+e+","+t+","+n+","+r+")"},t.getHSL=function(e,t,n,r){return null==r?"hsl("+e%360+","+t+"%,"+n+"%)":"hsla("+e%360+","+t+"%,"+n+"%,"+r+")"},t.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63},t.STROKE_CAPS_MAP=["butt","round","square"],t.STROKE_JOINTS_MAP=["miter","round","bevel"],t._ctx=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d"),t.beginCmd=new e(t._ctx.beginPath,[],!1),t.fillCmd=new e(t._ctx.fill,[],!1),t.strokeCmd=new e(t._ctx.stroke,[],!1),n._strokeInstructions=null,n._strokeStyleInstructions=null,n._ignoreScaleStroke=!1,n._fillInstructions=null,n._instructions=null,n._oldInstructions=null,n._activeInstructions=null,n._active=!1,n._dirty=!1,n.initialize=function(){this.clear(),this._ctx=t._ctx},n.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)},n.draw=function(e){this._dirty&&this._updateInstructions();for(var t=this._instructions,n=0,r=t.length;n<r;n++)t[n].exec(e)},n.drawAsPath=function(e){this._dirty&&this._updateInstructions();for(var t,n=this._instructions,r=0,i=n.length;r<i;r++)((t=n[r]).path||0==r)&&t.exec(e)},n.moveTo=function(t,n){return this._activeInstructions.push(new e(this._ctx.moveTo,[t,n])),this},n.lineTo=function(t,n){return this._dirty=this._active=!0,this._activeInstructions.push(new e(this._ctx.lineTo,[t,n])),this},n.arcTo=function(t,n,r,i,s){return this._dirty=this._active=!0,this._activeInstructions.push(new e(this._ctx.arcTo,[t,n,r,i,s])),this},n.arc=function(t,n,r,i,s,o){return this._dirty=this._active=!0,null==o&&(o=!1),this._activeInstructions.push(new e(this._ctx.arc,[t,n,r,i,s,o])),this},n.quadraticCurveTo=function(t,n,r,i){return this._dirty=this._active=!0,this._activeInstructions.push(new e(this._ctx.quadraticCurveTo,[t,n,r,i])),this},n.bezierCurveTo=function(t,n,r,i,s,o){return this._dirty=this._active=!0,this._activeInstructions.push(new e(this._ctx.bezierCurveTo,[t,n,r,i,s,o])),this},n.rect=function(t,n,r,i){return this._dirty=this._active=!0,this._activeInstructions.push(new e(this._ctx.rect,[t,n,r,i])),this},n.closePath=function(){return this._active&&(this._dirty=!0,this._activeInstructions.push(new e(this._ctx.closePath,[]))),this},n.clear=function(){return this._instructions=[],this._oldInstructions=[],this._activeInstructions=[],this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=null,this._active=this._dirty=!1,this},n.beginFill=function(n){return this._active&&this._newPath(),this._fillInstructions=n?[new e(this._setProp,["fillStyle",n],!1),t.fillCmd]:null,this},n.beginLinearGradientFill=function(n,r,i,s,o,u){this._active&&this._newPath(),i=this._ctx.createLinearGradient(i,s,o,u),s=0;for(o=n.length;s<o;s++)i.addColorStop(r[s],n[s]);return this._fillInstructions=[new e(this._setProp,["fillStyle",i],!1),t.fillCmd],this},n.beginRadialGradientFill=function(n,r,i,s,o,u,f,l){this._active&&this._newPath(),i=this._ctx.createRadialGradient(i,s,o,u,f,l),s=0;for(o=n.length;s<o;s++)i.addColorStop(r[s],n[s]);return this._fillInstructions=[new e(this._setProp,["fillStyle",i],!1),t.fillCmd],this},n.beginBitmapFill=function(n,r,i){return this._active&&this._newPath(),n=this._ctx.createPattern(n,r||""),n=new e(this._setProp,["fillStyle",n],!1),this._fillInstructions=i?[n,new e(this._ctx.save,[],!1),new e(this._ctx.transform,[i.a,i.b,i.c,i.d,i.tx,i.ty],!1),t.fillCmd,new e(this._ctx.restore,[],!1)]:[n,t.fillCmd],this},n.endFill=function(){return this.beginFill()},n.setStrokeStyle=function(n,r,i,s,o){return this._active&&this._newPath(),this._strokeStyleInstructions=[new e(this._setProp,["lineWidth",null==n?"1":n],!1),new e(this._setProp,["lineCap",null==r?"butt":isNaN(r)?r:t.STROKE_CAPS_MAP[r]],!1),new e(this._setProp,["lineJoin",null==i?"miter":isNaN(i)?i:t.STROKE_JOINTS_MAP[i]],!1),new e(this._setProp,["miterLimit",null==s?"10":s],!1)],this._ignoreScaleStroke=o,this},n.beginStroke=function(t){return this._active&&this._newPath(),this._strokeInstructions=t?[new e(this._setProp,["strokeStyle",t],!1)]:null,this},n.beginLinearGradientStroke=function(t,n,r,i,s,o){this._active&&this._newPath(),r=this._ctx.createLinearGradient(r,i,s,o),i=0;for(s=t.length;i<s;i++)r.addColorStop(n[i],t[i]);return this._strokeInstructions=[new e(this._setProp,["strokeStyle",r],!1)],this},n.beginRadialGradientStroke=function(t,n,r,i,s,o,u,a){this._active&&this._newPath(),r=this._ctx.createRadialGradient(r,i,s,o,u,a),i=0;for(s=t.length;i<s;i++)r.addColorStop(n[i],t[i]);return this._strokeInstructions=[new e(this._setProp,["strokeStyle",r],!1)],this},n.beginBitmapStroke=function(t,n){this._active&&this._newPath();var r=this._ctx.createPattern(t,n||"");return this._strokeInstructions=[new e(this._setProp,["strokeStyle",r],!1)],this},n.endStroke=function(){return this.beginStroke(),this},n.curveTo=n.quadraticCurveTo,n.drawRect=n.rect,n.drawRoundRect=function(e,t,n,r,i){return this.drawRoundRectComplex(e,t,n,r,i,i,i,i),this},n.drawRoundRectComplex=function(t,n,r,i,s,o,u,a){var f=(r<i?r:i)/2,l=0,h=0,p=0,d=0;0>s&&(s*=l=-1),s>f&&(s=f),0>o&&(o*=h=-1),o>f&&(o=f),0>u&&(u*=p=-1),u>f&&(u=f),0>a&&(a*=d=-1),a>f&&(a=f),this._dirty=this._active=!0;var f=this._ctx.arcTo,v=this._ctx.lineTo;return this._activeInstructions.push(new e(this._ctx.moveTo,[t+r-o,n]),new e(f,[t+r+o*h,n-o*h,t+r,n+o,o]),new e(v,[t+r,n+i-u]),new e(f,[t+r+u*p,n+i+u*p,t+r-u,n+i,u]),new e(v,[t+a,n+i]),new e(f,[t-a*d,n+i+a*d,t,n+i-a,a]),new e(v,[t,n+s]),new e(f,[t-s*l,n-s*l,t+s,n,s]),new e(this._ctx.closePath)),this},n.drawCircle=function(e,t,n){return this.arc(e,t,n,0,2*Math.PI),this},n.drawEllipse=function(t,n,r,i){this._dirty=this._active=!0;var s=.5522848*(r/2),o=.5522848*(i/2),u=t+r,a=n+i;return r=t+r/2,i=n+i/2,this._activeInstructions.push(new e(this._ctx.moveTo,[t,i]),new e(this._ctx.bezierCurveTo,[t,i-o,r-s,n,r,n]),new e(this._ctx.bezierCurveTo,[r+s,n,u,i-o,u,i]),new e(this._ctx.bezierCurveTo,[u,i+o,r+s,a,r,a]),new e(this._ctx.bezierCurveTo,[r-s,a,t,i+o,t,i])),this},n.drawPolyStar=function(t,n,r,i,s,o){this._dirty=this._active=!0,null==s&&(s=0),s=1-s,o=null==o?0:o/(180/Math.PI);var u=Math.PI/i;this._activeInstructions.push(new e(this._ctx.moveTo,[t+Math.cos(o)*r,n+Math.sin(o)*r]));for(var a=0;a<i;a++)o+=u,1!=s&&this._activeInstructions.push(new e(this._ctx.lineTo,[t+Math.cos(o)*r*s,n+Math.sin(o)*r*s])),o+=u,this._activeInstructions.push(new e(this._ctx.lineTo,[t+Math.cos(o)*r,n+Math.sin(o)*r]));return this},n.decodePath=function(e){for(var n=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],r=[2,2,4,6,0],i=0,s=e.length,o=[],u=0,f=0,l=t.BASE_64;i<s;){var c=e.charAt(i),h=l[c],p=h>>3,d=n[p];if(!d||h&3)throw"bad path data (@"+i+"): "+c;c=r[p],p||(u=f=0),o.length=0,i++,h=(h>>2&1)+2;for(p=0;p<c;p++){var v=l[e.charAt(i)],m=v>>5?-1:1,v=(v&31)<<6|l[e.charAt(i+1)];3==h&&(v=v<<6|l[e.charAt(i+2)]),v=m*v/10,p%2?u=v+=u:f=v+=f,o[p]=v,i+=h}d.apply(this,o)}return this},n.clone=function(){var e=new t;return e._instructions=this._instructions.slice(),e._activeInstructions=this._activeInstructions.slice(),e._oldInstructions=this._oldInstructions.slice(),this._fillInstructions&&(e._fillInstructions=this._fillInstructions.slice()),this._strokeInstructions&&(e._strokeInstructions=this._strokeInstructions.slice()),this._strokeStyleInstructions&&(e._strokeStyleInstructions=this._strokeStyleInstructions.slice()),e._active=this._active,e._dirty=this._dirty,e},n.toString=function(){return"[Graphics]"},n.mt=n.moveTo,n.lt=n.lineTo,n.at=n.arcTo,n.bt=n.bezierCurveTo,n.qt=n.quadraticCurveTo,n.a=n.arc,n.r=n.rect,n.cp=n.closePath,n.c=n.clear,n.f=n.beginFill,n.lf=n.beginLinearGradientFill,n.rf=n.beginRadialGradientFill,n.bf=n.beginBitmapFill,n.ef=n.endFill,n.ss=n.setStrokeStyle,n.s=n.beginStroke,n.ls=n.beginLinearGradientStroke,n.rs=n.beginRadialGradientStroke,n.bs=n.beginBitmapStroke,n.es=n.endStroke,n.dr=n.drawRect,n.rr=n.drawRoundRect,n.rc=n.drawRoundRectComplex,n.dc=n.drawCircle,n.de=n.drawEllipse,n.dp=n.drawPolyStar,n.p=n.decodePath,n._updateInstructions=function(){this._instructions=this._oldInstructions.slice(),this._instructions.push(t.beginCmd),this._instructions.push.apply(this._instructions,this._activeInstructions),this._fillInstructions&&this._instructions.push.apply(this._instructions,this._fillInstructions),this._strokeInstructions&&(this._strokeStyleInstructions&&this._instructions.push.apply(this._instructions,this._strokeStyleInstructions),this._instructions.push.apply(this._instructions,this._strokeInstructions),this._ignoreScaleStroke?this._instructions.push(new e(this._ctx.save,[],!1),new e(this._ctx.setTransform,[1,0,0,1,0,0],!1),t.strokeCmd,new e(this._ctx.restore,[],!1)):this._instructions.push(t.strokeCmd))},n._newPath=function(){this._dirty&&this._updateInstructions(),this._oldInstructions=this._instructions,this._activeInstructions=[],this._active=this._dirty=!1},n._setProp=function(e,t){this[e]=t},createjs.Graphics=t}(),this.createjs=this.createjs||{},function(){var e=function(){this.initialize()},t=e.prototype;e.suppressCrossDomainErrors=!1,e._hitTestCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),e._hitTestCanvas.width=e._hitTestCanvas.height=1,e._hitTestContext=e._hitTestCanvas.getContext("2d"),e._nextCacheID=1,t.alpha=1,t.cacheCanvas=null,t.id=-1,t.mouseEnabled=!0,t.name=null,t.parent=null,t.regX=0,t.regY=0,t.rotation=0,t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.shadow=null,t.visible=!0,t.x=0,t.y=0,t.compositeOperation=null,t.snapToPixel=!1,t.onPress=null,t.onClick=null,t.onDoubleClick=null,t.onMouseOver=null,t.onMouseOut=null,t.onTick=null,t.filters=null,t.cacheID=0,t.mask=null,t.hitArea=null,t.cursor=null,t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._cacheOffsetX=0,t._cacheOffsetY=0,t._cacheScale=1,t._cacheDataURLID=0,t._cacheDataURL=null,t._matrix=null,t.initialize=function(){this.id=createjs.UID.get(),this._matrix=new createjs.Matrix2D},t.isVisible=function(){return!!this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY},t.draw=function(e,t){var n=this.cacheCanvas;if(t||!n)return!1;var r=this._cacheScale;return e.drawImage(n,this._cacheOffsetX,this._cacheOffsetY,n.width/r,n.height/r),!0},t.updateContext=function(e){var t,n=this.mask;n&&n.graphics&&!n.graphics.isEmpty()&&(t=n.getMatrix(n._matrix),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),n.graphics.drawAsPath(e),e.clip(),t.invert(),e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty)),t=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY),createjs.Stage._snapToPixelEnabled&&this.snapToPixel?e.transform(t.a,t.b,t.c,t.d,t.tx+.5|0,t.ty+.5|0):e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),e.globalAlpha*=this.alpha,this.compositeOperation&&(e.globalCompositeOperation=this.compositeOperation),this.shadow&&this._applyShadow(e,this.shadow)},t.cache=function(e,t,n,r,i){i=i||1,this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),this.cacheCanvas.width=Math.ceil(n*i),this.cacheCanvas.height=Math.ceil(r*i),this._cacheOffsetX=e,this._cacheOffsetY=t,this._cacheScale=i||1,this.updateCache()},t.updateCache=function(t){var n=this.cacheCanvas,r=this._cacheScale,i=this._cacheOffsetX*r,s=this._cacheOffsetY*r;if(!n)throw"cache() must be called before updateCache()";var o=n.getContext("2d");o.save(),t||o.clearRect(0,0,n.width+1,n.height+1),o.globalCompositeOperation=t,o.setTransform(r,0,0,r,-i,-s),this.draw(o,!0),this._applyFilters(),o.restore(),this.cacheID=e._nextCacheID++},t.uncache=function(){this._cacheDataURL=this.cacheCanvas=null,this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0,this._cacheScale=1},t.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null},t.getStage=function(){for(var e=this;e.parent;)e=e.parent;return e instanceof createjs.Stage?e:null},t.localToGlobal=function(e,t){var n=this.getConcatenatedMatrix(this._matrix);return null==n?null:(n.append(1,0,0,1,e,t),new createjs.Point(n.tx,n.ty))},t.globalToLocal=function(e,t){var n=this.getConcatenatedMatrix(this._matrix);return null==n?null:(n.invert(),n.append(1,0,0,1,e,t),new createjs.Point(n.tx,n.ty))},t.localToLocal=function(e,t,n){return e=this.localToGlobal(e,t),n.globalToLocal(e.x,e.y)},t.setTransform=function(e,t,n,r,i,s,o,u,a){return this.x=e||0,this.y=t||0,this.scaleX=null==n?1:n,this.scaleY=null==r?1:r,this.rotation=i||0,this.skewX=s||0,this.skewY=o||0,this.regX=u||0,this.regY=a||0,this},t.getMatrix=function(e){return(e?e.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)},t.getConcatenatedMatrix=function(e){e?e.identity():e=new createjs.Matrix2D;for(var t=this;null!=t;)e.prependTransform(t.x,t.y,t.scaleX,t.scaleY,t.rotation,t.skewX,t.skewY,t.regX,t.regY).prependProperties(t.alpha,t.shadow,t.compositeOperation),t=t.parent;return e},t.hitTest=function(t,n){var r=e._hitTestContext;r.setTransform(1,0,0,1,-t,-n),this.draw(r);var i=this._testHit(r);return r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,2,2),i},t.set=function(e){for(var t in e)this[t]=e[t];return this},t.clone=function(){var t=new e;return this.cloneProps(t),t},t.toString=function(){return"[DisplayObject (name="+this.name+")]"},t.cloneProps=function(e){e.alpha=this.alpha,e.name=this.name,e.regX=this.regX,e.regY=this.regY,e.rotation=this.rotation,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.shadow=this.shadow,e.skewX=this.skewX,e.skewY=this.skewY,e.visible=this.visible,e.x=this.x,e.y=this.y,e.mouseEnabled=this.mouseEnabled,e.compositeOperation=this.compositeOperation,this.cacheCanvas&&(e.cacheCanvas=this.cacheCanvas.cloneNode(!0),e.cacheCanvas.getContext("2d").putImageData(this.cacheCanvas.getContext("2d").getImageData(0,0,this.cacheCanvas.width,this.cacheCanvas.height),0,0))},t._applyShadow=function(e,t){t=t||Shadow.identity,e.shadowColor=t.color,e.shadowOffsetX=t.offsetX,e.shadowOffsetY=t.offsetY,e.shadowBlur=t.blur},t._tick=function(e){this.onTick&&this.onTick.apply(this,e);var t=this._listeners;t&&t.tick&&this.dispatchEvent({type:"tick",params:e})},t._testHit=function(t){try{var n=1<t.getImageData(0,0,1,1).data[3]}catch(r){if(!e.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images."}return n},t._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var e=this.filters.length,t=this.cacheCanvas.getContext("2d"),n=this.cacheCanvas.width,r=this.cacheCanvas.height,i=0;i<e;i++)this.filters[i].applyFilter(t,0,0,n,r)},t._hasMouseHandler=function(e){var t=this._listeners;return!!(e&1&&(this.onPress||this.onClick||this.onDoubleClick||t&&(this.hasEventListener("mousedown")||this.hasEventListener("click")||this.hasEventListener("dblclick")))||e&2&&(this.onMouseOver||this.onMouseOut||this.cursor||t&&(this.hasEventListener("mouseover")||this.hasEventListener("mouseout"))))},createjs.DisplayObject=e}(),this.createjs=this.createjs||{},function(){var e=function(){this.initialize()},t=e.prototype=new createjs.DisplayObject;t.children=null,t.DisplayObject_initialize=t.initialize,t.initialize=function(){this.DisplayObject_initialize(),this.children=[]},t.isVisible=function(){var e=this.cacheCanvas||this.children.length;return!!this.visible&&!!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)},t.DisplayObject_draw=t.draw,t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;for(var n=this.children.slice(0),r=0,i=n.length;r<i;r++){var s=n[r];s.isVisible()&&(e.save(),s.updateContext(e),s.draw(e),e.restore())}return!0},t.addChild=function(e){if(null==e)return e;var t=arguments.length;if(1<t){for(var n=0;n<t;n++)this.addChild(arguments[n]);return arguments[t-1]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.push(e),e},t.addChildAt=function(e,t){var n=arguments.length,r=arguments[n-1];if(0>r||r>this.children.length)return arguments[n-2];if(2<n){for(var i=0;i<n-1;i++)this.addChildAt(arguments[i],r+i);return arguments[n-2]}return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),e},t.removeChild=function(e){var t=arguments.length;if(1<t){for(var n=!0,r=0;r<t;r++)n=n&&this.removeChild(arguments[r]);return n}return this.removeChildAt(this.children.indexOf(e))},t.removeChildAt=function(e){var t=arguments.length;if(1<t){for(var n=[],r=0;r<t;r++)n[r]=arguments[r];n.sort(function(e,t){return t-e});for(var i=!0,r=0;r<t;r++)i=i&&this.removeChildAt(n[r]);return i}if(0>e||e>this.children.length-1)return!1;if(t=this.children[e])t.parent=null;return this.children.splice(e,1),!0},t.removeAllChildren=function(){for(var e=this.children;e.length;)e.pop().parent=null},t.getChildAt=function(e){return this.children[e]},t.getChildByName=function(e){for(var t=this.children,n=0,r=t.length;n<r;n++)if(t[n].name==e)return t[n];return null},t.sortChildren=function(e){this.children.sort(e)},t.getChildIndex=function(e){return this.children.indexOf(e)},t.getNumChildren=function(){return this.children.length},t.swapChildrenAt=function(e,t){var n=this.children,r=n[e],i=n[t];r&&i&&(n[e]=i,n[t]=r)},t.swapChildren=function(e,t){for(var n=this.children,r,i,s=0,o=n.length;s<o&&(n[s]==e&&(r=s),n[s]==t&&(i=s),null==r||null==i);s++);s!=o&&(n[r]=t,n[i]=e)},t.setChildIndex=function(e,t){var n=this.children,r=n.length;if(!(e.parent!=this||0>t||t>=r)){for(var i=0;i<r&&n[i]!=e;i++);i==r||i==t||(n.splice(i,1),t<i&&t--,n.splice(t,0,e))}},t.contains=function(e){for(;e;){if(e==this)return!0;e=e.parent}return!1},t.hitTest=function(e,t){return null!=this.getObjectUnderPoint(e,t)},t.getObjectsUnderPoint=function(e,t){var n=[],r=this.localToGlobal(e,t);return this._getObjectsUnderPoint(r.x,r.y,n),n},t.getObjectUnderPoint=function(e,t){var n=this.localToGlobal(e,t);return this._getObjectsUnderPoint(n.x,n.y)},t.clone=function(t){var n=new e;this.cloneProps(n);if(t)for(var r=n.children=[],i=0,s=this.children.length;i<s;i++){var o=this.children[i].clone(t);o.parent=n,r.push(o)}return n},t.toString=function(){return"[Container (name="+this.name+")]"},t.DisplayObject__tick=t._tick,t._tick=function(e){for(var t=this.children.length-1;0<=t;t--){var n=this.children[t];n._tick&&n._tick(e)}this.DisplayObject__tick(e)},t._getObjectsUnderPoint=function(t,n,r,i){var s=createjs.DisplayObject._hitTestContext,o=this._matrix,u=this._hasMouseHandler(i);if(!this.hitArea&&this.cacheCanvas&&u&&(this.getConcatenatedMatrix(o),s.setTransform(o.a,o.b,o.c,o.d,o.tx-t,o.ty-n),s.globalAlpha=o.alpha,this.draw(s),this._testHit(s)))return s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,2,2),this;for(var a=this.children.length-1;0<=a;a--){var f=this.children[a],l=f.hitArea;if(f.visible&&!(!l&&!f.isVisible()||i&&!f.mouseEnabled)){var h=i&&f._hasMouseHandler(i);if(f instanceof e&&(!l||!h)){if(u){if(f=f._getObjectsUnderPoint(t,n))return this}else if(f=f._getObjectsUnderPoint(t,n,r,i),!r&&f)return f}else if(!i||u||h)if(f.getConcatenatedMatrix(o),l&&(o.appendTransform(l.x,l.y,l.scaleX,l.scaleY,l.rotation,l.skewX,l.skewY,l.regX,l.regY),o.alpha=l.alpha),s.globalAlpha=o.alpha,s.setTransform(o.a,o.b,o.c,o.d,o.tx-t,o.ty-n),(l||f).draw(s),this._testHit(s)){s.setTransform(1,0,0,1,0,0),s.clearRect(0,0,2,2);if(u)return this;if(!r)return f;r.push(f)}}}return null},createjs.Container=e}(),this.createjs=this.createjs||{},function(){var e=function(e){this.initialize(e)},t=e.prototype=new createjs.Container;e._snapToPixelEnabled=!1,t.autoClear=!0,t.canvas=null,t.mouseX=0,t.mouseY=0,t.onMouseMove=null,t.onMouseUp=null,t.onMouseDown=null,t.snapToPixelEnabled=!1,t.mouseInBounds=!1,t.tickOnUpdate=!0,t.mouseMoveOutside=!1,t._pointerData=null,t._pointerCount=0,t._primaryPointerID=null,t._mouseOverIntervalID=null,t.Container_initialize=t.initialize,t.initialize=function(e){this.Container_initialize(),this.canvas="string"==typeof e?document.getElementById(e):e,this._pointerData={},this.enableDOMEvents(!0)},t.update=function(){if(this.canvas){this.autoClear&&this.clear(),e._snapToPixelEnabled=this.snapToPixelEnabled,this.tickOnUpdate&&this._tick(arguments.length?arguments:null);var t=this.canvas.getContext("2d");t.save(),this.updateContext(t),this.draw(t,!1),t.restore()}},t.tick=t.update,t.handleEvent=function(e){"tick"==e.type&&this.update(e)},t.clear=function(){if(this.canvas){var e=this.canvas.getContext("2d");e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,this.canvas.width+1,this.canvas.height+1)}},t.toDataURL=function(e,t){t||(t="image/png");var n=this.canvas.getContext("2d"),r=this.canvas.width,i=this.canvas.height,s;if(e){s=n.getImageData(0,0,r,i);var o=n.globalCompositeOperation;n.globalCompositeOperation="destination-over",n.fillStyle=e,n.fillRect(0,0,r,i)}var u=this.canvas.toDataURL(t);return e&&(n.clearRect(0,0,r+1,i+1),n.putImageData(s,0,0),n.globalCompositeOperation=o),u},t.enableMouseOver=function(e){this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null);if(null==e)e=20;else if(0>=e)return;var t=this;this._mouseOverIntervalID=setInterval(function(){t._testMouseOver()},1e3/Math.min(50,e))},t.enableDOMEvents=function(e){null==e&&(e=!0);var t,n=this._eventListeners;if(!e&&n){for(t in n)e=n[t],e.t.removeEventListener(t,e.f);this._eventListeners=null}else if(e&&!n&&this.canvas){e=window.addEventListener?window:document;var r=this,n=this._eventListeners={};n.mouseup={t:e,f:function(e){r._handleMouseUp(e)}},n.mousemove={t:e,f:function(e){r._handleMouseMove(e)}},n.dblclick={t:e,f:function(e){r._handleDoubleClick(e)}},n.mousedown={t:this.canvas,f:function(e){r._handleMouseDown(e)}};for(t in n)e=n[t],e.t.addEventListener(t,e.f)}},t.clone=function(){var t=new e(null);return this.cloneProps(t),t},t.toString=function(){return"[Stage (name="+this.name+")]"},t._getPointerData=function(e){var t=this._pointerData[e];return!t&&(t=this._pointerData[e]={x:0,y:0},null==this._primaryPointerID||-1==this._primaryPointerID)&&(this._primaryPointerID=e),t},t._handleMouseMove=function(e){e||(e=window.event),this._handlePointerMove(-1,e,e.pageX,e.pageY)},t._handlePointerMove=function(e,t,n,r){if(this.canvas){var i=this._getPointerData(e),s=i.inBounds;this._updatePointerPosition(e,n,r);if(s||i.inBounds||this.mouseMoveOutside){if(this.onMouseMove||this.hasEventListener("stagemousemove"))n=new createjs.MouseEvent("stagemousemove",i.x,i.y,this,t,e,e==this._primaryPointerID,i.rawX,i.rawY),this.onMouseMove&&this.onMouseMove(n),this.dispatchEvent(n);(r=i.event)&&(r.onMouseMove||r.hasEventListener("mousemove"))&&(n=new createjs.MouseEvent("mousemove",i.x,i.y,r.target,t,e,e==this._primaryPointerID,i.rawX,i.rawY),r.onMouseMove&&r.onMouseMove(n),r.dispatchEvent(n,r.target))}}},t._updatePointerPosition=function(e,t,n){var r=this._getElementRect(this.canvas);t-=r.left,n-=r.top;var i=this.canvas.width,s=this.canvas.height;t/=(r.right-r.left)/i,n/=(r.bottom-r.top)/s,r=this._getPointerData(e),(r.inBounds=0<=t&&0<=n&&t<=i-1&&n<=s-1)?(r.x=t,r.y=n):this.mouseMoveOutside&&(r.x=0>t?0:t>i-1?i-1:t,r.y=0>n?0:n>s-1?s-1:n),r.rawX=t,r.rawY=n,e==this._primaryPointerID&&(this.mouseX=r.x,this.mouseY=r.y,this.mouseInBounds=r.inBounds)},t._getElementRect=function(e){var t;try{t=e.getBoundingClientRect()}catch(n){t={top:e.offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}}var r=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),i=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),s=window.getComputedStyle?getComputedStyle(e):e.currentStyle;e=parseInt(s.paddingLeft)+parseInt(s.borderLeftWidth);var o=parseInt(s.paddingTop)+parseInt(s.borderTopWidth),u=parseInt(s.paddingRight)+parseInt(s.borderRightWidth),s=parseInt(s.paddingBottom)+parseInt(s.borderBottomWidth);return{left:t.left+r+e,right:t.right+r-u,top:t.top+i+o,bottom:t.bottom+i-s}},t._handleMouseUp=function(e){this._handlePointerUp(-1,e,!1)},t._handlePointerUp=function(e,t,n){var r=this._getPointerData(e),i;if(this.onMouseMove||this.hasEventListener("stagemouseup"))i=new createjs.MouseEvent("stagemouseup",r.x,r.y,this,t,e,e==this._primaryPointerID,r.rawX,r.rawY),this.onMouseUp&&this.onMouseUp(i),this.dispatchEvent(i);var s=r.event;s&&(s.onMouseUp||s.hasEventListener("mouseup"))&&(i=new createjs.MouseEvent("mouseup",r.x,r.y,s.target,t,e,e==this._primaryPointerID,r.rawX,r.rawY),s.onMouseUp&&s.onMouseUp(i),s.dispatchEvent(i,s.target)),(s=r.target)&&(s.onClick||s.hasEventListener("click"))&&this._getObjectsUnderPoint(r.x,r.y,null,!0,this._mouseOverIntervalID?3:1)==s&&(i=new createjs.MouseEvent("click",r.x,r.y,s,t,e,e==this._primaryPointerID,r.rawX,r.rawY),s.onClick&&s.onClick(i),s.dispatchEvent(i)),n?(e==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[e]):r.event=r.target=null},t._handleMouseDown=function(e){this._handlePointerDown(-1,e,!1)},t._handlePointerDown=function(e,t,n,r){var i=this._getPointerData(e);null!=r&&this._updatePointerPosition(e,n,r);if(this.onMouseDown||this.hasEventListener("stagemousedown"))n=new createjs.MouseEvent("stagemousedown",i.x,i.y,this,t,e,e==this._primaryPointerID,i.rawX,i.rawY),this.onMouseDown&&this.onMouseDown(n),this.dispatchEvent(n);if(r=this._getObjectsUnderPoint(i.x,i.y,null,this._mouseOverIntervalID?3:1))if(i.target=r,r.onPress||r.hasEventListener("mousedown"))if(n=new createjs.MouseEvent("mousedown",i.x,i.y,r,t,e,e==this._primaryPointerID,i.rawX,i.rawY),r.onPress&&r.onPress(n),r.dispatchEvent(n),n.onMouseMove||n.onMouseUp||n.hasEventListener("mousemove")||n.hasEventListener("mouseup"))i.event=n},t._testMouseOver=function(){if(-1==this._primaryPointerID&&(this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var e=null;this.mouseInBounds&&(e=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,3),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY);var t=this._mouseOverTarget;if(t!=e){var n=this._getPointerData(-1);if(t&&(t.onMouseOut||t.hasEventListener("mouseout"))){var r=new createjs.MouseEvent("mouseout",n.x,n.y,t,null,-1,n.rawX,n.rawY);t.onMouseOut&&t.onMouseOut(r),t.dispatchEvent(r)}t&&(this.canvas.style.cursor=""),e&&(e.onMouseOver||e.hasEventListener("mouseover"))&&(r=new createjs.MouseEvent("mouseover",n.x,n.y,e,null,-1,n.rawX,n.rawY),e.onMouseOver&&e.onMouseOver(r),e.dispatchEvent(r)),e&&(this.canvas.style.cursor=e.cursor||""),this._mouseOverTarget=e}}},t._handleDoubleClick=function(e){var t=this._getPointerData(-1),n=this._getObjectsUnderPoint(t.x,t.y,null,this._mouseOverIntervalID?3:1);n&&(n.onDoubleClick||n.hasEventListener("dblclick"))&&(evt=new createjs.MouseEvent("dblclick",t.x,t.y,n,e,-1,!0,t.rawX,t.rawY),n.onDoubleClick&&n.onDoubleClick(evt),n.dispatchEvent(evt))},createjs.Stage=e}(),this.createjs=this.createjs||{},function(){var e=function(e){this.initialize(e)},t=e.prototype=new createjs.DisplayObject;t.image=null,t.snapToPixel=!0,t.sourceRect=null,t.DisplayObject_initialize=t.initialize,t.initialize=function(e){this.DisplayObject_initialize(),"string"==typeof e?(this.image=new Image,this.image.src=e):this.image=e},t.isVisible=function(){var e=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState);return!!this.visible&&!!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)},t.DisplayObject_draw=t.draw,t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;var n=this.sourceRect;return n?e.drawImage(this.image,n.x,n.y,n.width,n.height,0,0,n.width,n.height):e.drawImage(this.image,0,0),!0},t.clone=function(){var t=new e(this.image);return this.sourceRect&&(t.sourceRect=this.sourceRect.clone()),this.cloneProps(t),t},t.toString=function(){return"[Bitmap (name="+this.name+")]"},createjs.Bitmap=e}(),this.createjs=this.createjs||{},function(){var e=function(e){this.initialize(e)},t=e.prototype=new createjs.DisplayObject;t.onAnimationEnd=null,t.currentFrame=-1,t.currentAnimation=null,t.paused=!0,t.spriteSheet=null,t.snapToPixel=!0,t.offset=0,t.currentAnimationFrame=0,t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._advanceCount=0,t._animation=null,t.DisplayObject_initialize=t.initialize,t.initialize=function(e){this.DisplayObject_initialize(),this.spriteSheet=e},t.isVisible=function(){var e=this.cacheCanvas||this.spriteSheet.complete&&0<=this.currentFrame;return!!this.visible&&!!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)},t.DisplayObject_draw=t.draw,t.draw=function(e,t){if(this.DisplayObject_draw(e,t))return!0;this._normalizeFrame();var n=this.spriteSheet.getFrame(this.currentFrame);if(n){var r=n.rect;return e.drawImage(n.image,r.x,r.y,r.width,r.height,-n.regX,-n.regY,r.width,r.height),!0}},t.play=function(){this.paused=!1},t.stop=function(){this.paused=!0},t.gotoAndPlay=function(e){this.paused=!1,this._goto(e)},t.gotoAndStop=function(e){this.paused=!0,this._goto(e)},t.advance=function(){this._animation?this.currentAnimationFrame++:this.currentFrame++,this._normalizeFrame()},t.getBounds=function(){return this.spriteSheet.getFrameBounds(this.currentFrame)},t.clone=function(){var t=new e(this.spriteSheet);return this.cloneProps(t),t},t.toString=function(){return"[BitmapAnimation (name="+this.name+")]"},t.DisplayObject__tick=t._tick,t._tick=function(e){var t=this._animation?this._animation.frequency:1;!this.paused&&0==(++this._advanceCount+this.offset)%t&&this.advance(),this.DisplayObject__tick(e)},t._normalizeFrame=function(){var e=this._animation,t=this.currentFrame,n=this.paused,r;if(e)if(r=e.frames.length,this.currentAnimationFrame>=r){var i=e.next;this._dispatchAnimationEnd(e,t,n,i,r-1)||(i?this._goto(i):(this.paused=!0,this.currentAnimationFrame=e.frames.length-1,this.currentFrame=e.frames[this.currentAnimationFrame]))}else this.currentFrame=e.frames[this.currentAnimationFrame];else r=this.spriteSheet.getNumFrames(),t>=r&&!this._dispatchAnimationEnd(e,t,n,r-1)&&(this.currentFrame=0)},t._dispatchAnimationEnd=function(e,t,n,r,i){var s=e?e.name:null;return this.onAnimationEnd&&this.onAnimationEnd(this,s,r),this.dispatchEvent({type:"animationend",name:s,next:r}),!n&&this.paused&&(this.currentAnimationFrame=i),this.paused!=n||this._animation!=e||this.currentFrame!=t},t.DisplayObject_cloneProps=t.cloneProps,t.cloneProps=function(e){this.DisplayObject_cloneProps(e),e.onAnimationEnd=this.onAnimationEnd,e.currentFrame=this.currentFrame,e.currentAnimation=this.currentAnimation,e.paused=this.paused,e.offset=this.offset,e._animation=this._animation,e.currentAnimationFrame=this.currentAnimationFrame},t._goto=function(e){if(isNaN(e)){var t=this.spriteSheet.getAnimation(e);t&&(this.currentAnimationFrame=0,this._animation=t,this.currentAnimation=e,this._normalizeFrame())}else this.currentAnimation=this._animation=null,this.currentFrame=e},createjs.BitmapAnimation=e}(),this.createjs=this.createjs||{},function(){var e=function(e){this.initialize(e)},t=e.prototype=new createjs.DisplayObject;t.graphics=null,t.DisplayObject_initialize=t.initialize,t.initialize=function(e){this.DisplayObject_initialize(),this.graphics=e?e:new createjs.Graphics},t.isVisible=function(){var e=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!this.visible&&!!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)},t.DisplayObject_draw=t.draw,t.draw=function(e,t){return this.DisplayObject_draw(e,t)?!0:(this.graphics.draw(e),!0)},t.clone=function(t){return t=new e(t&&this.graphics?this.graphics.clone():this.graphics),this.cloneProps(t),t},t.toString=function(){return"[Shape (name="+this.name+")]"},createjs.Shape=e}(),this.createjs=this.createjs||{},function(){var e=function(e,t,n){this.initialize(e,t,n)},t=e.prototype=new createjs.DisplayObject;e._workingContext=(createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")).getContext("2d"),t.text="",t.font=null,t.color="#000",t.textAlign="left",t.textBaseline="top",t.maxWidth=null,t.outline=!1,t.lineHeight=0,t.lineWidth=null,t.DisplayObject_initialize=t.initialize,t.initialize=function(e,t,n){this.DisplayObject_initialize(),this.text=e,this.font=t,this.color=n?n:"#000"},t.isVisible=function(){var e=this.cacheCanvas||null!=this.text&&""!==this.text;return!!this.visible&&!!(0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&e)},t.DisplayObject_draw=t.draw,t.draw=function(e,t){return this.DisplayObject_draw(e,t)?!0:(this.outline?e.strokeStyle=this.color:e.fillStyle=this.color,e.font=this.font,e.textAlign=this.textAlign||"start",e.textBaseline=this.textBaseline||"alphabetic",this._drawText(e),!0)},t.getMeasuredWidth=function(){return this._getWorkingContext().measureText(this.text).width},t.getMeasuredLineHeight=function(){return 1.2*this._getWorkingContext().measureText("M").width},t.getMeasuredHeight=function(){return this._drawText()*(this.lineHeight||this.getMeasuredLineHeight())},t.clone=function(){var t=new e(this.text,this.font,this.color);return this.cloneProps(t),t},t.toString=function(){return"[Text (text="+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"},t.DisplayObject_cloneProps=t.cloneProps,t.cloneProps=function(e){this.DisplayObject_cloneProps(e),e.textAlign=this.textAlign,e.textBaseline=this.textBaseline,e.maxWidth=this.maxWidth,e.outline=this.outline,e.lineHeight=this.lineHeight,e.lineWidth=this.lineWidth},t._getWorkingContext=function(){var t=e._workingContext;return t.font=this.font,t.textAlign=this.textAlign||"start",t.textBaseline=this.textBaseline||"alphabetic",t},t._drawText=function(e){var t=!!e;t||(e=this._getWorkingContext());for(var n=String(this.text).split(/(?:\r\n|\r|\n)/),r=this.lineHeight||this.getMeasuredLineHeight(),i=0,s=0,o=n.length;s<o;s++){var u=e.measureText(n[s]).width;if(null==this.lineWidth||u<this.lineWidth)t&&this._drawTextLine(e,n[s],i*r);else{for(var u=n[s].split(/(\s)/),a=u[0],f=1,l=u.length;f<l;f+=2)e.measureText(a+u[f]+u[f+1]).width>this.lineWidth?(t&&this._drawTextLine(e,a,i*r),i++,a=u[f+1]):a+=u[f]+u[f+1];t&&this._drawTextLine(e,a,i*r)}i++}return i},t._drawTextLine=function(e,t,n){this.outline?e.strokeText(t,0,n,this.maxWidth||65535):e.fillText(t,0,n,this.maxWidth||65535)},createjs.Text=e}(),this.createjs=this.createjs||{},function(){var e=function(){throw"SpriteSheetUtils cannot be instantiated"};e._workingCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),e._workingContext=e._workingCanvas.getContext("2d"),e.addFlippedFrames=function(t,n,r,i){if(n||r||i){var s=0;n&&e._flip(t,++s,!0,!1),r&&e._flip(t,++s,!1,!0),i&&e._flip(t,++s,!0,!0)}},e.extractFrame=function(t,n){isNaN(n)&&(n=t.getAnimation(n).frames[0]);var r=t.getFrame(n);if(!r)return null;var i=r.rect,s=e._workingCanvas;return s.width=i.width,s.height=i.height,e._workingContext.drawImage(r.image,i.x,i.y,i.width,i.height,0,0,i.width,i.height),r=new Image,r.src=s.toDataURL("image/png"),r},e.mergeAlpha=function(e,t,n){n||(n=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas")),n.width=Math.max(t.width,e.width),n.height=Math.max(t.height,e.height);var r=n.getContext("2d");return r.save(),r.drawImage(e,0,0),r.globalCompositeOperation="destination-in",r.drawImage(t,0,0),r.restore(),n},e._flip=function(t,n,r,i){for(var s=t._images,o=e._workingCanvas,u=e._workingContext,a=s.length/n,f=0;f<a;f++){var l=s[f];l.__tmp=f,u.setTransform(1,0,0,1,0,0),u.clearRect(0,0,o.width+1,o.height+1),o.width=l.width,o.height=l.height,u.setTransform(r?-1:1,0,0,i?-1:1,r?l.width:0,i?l.height:0),u.drawImage(l,0,0);var h=new Image;h.src=o.toDataURL("image/png"),h.width=l.width,h.height=l.height,s.push(h)}u=t._frames,o=u.length/n;for(f=0;f<o;f++){var l=u[f],p=l.rect.clone(),h=s[l.image.__tmp+a*n],d={image:h,rect:p,regX:l.regX,regY:l.regY};r&&(p.x=h.width-p.x-p.width,d.regX=p.width-l.regX),i&&(p.y=h.height-p.y-p.height,d.regY=p.height-l.regY),u.push(d)}r="_"+(r?"h":"")+(i?"v":""),i=t._animations,t=t._data,s=i.length/n;for(f=0;f<s;f++){u=i[f],l=t[u],a={name:u+r,frequency:l.frequency,next:l.next,frames:[]},l.next&&(a.next+=r),u=l.frames,l=0;for(h=u.length;l<h;l++)a.frames.push(u[l]+o*n);t[a.name]=a,i.push(a.name)}},createjs.SpriteSheetUtils=e}(),this.createjs=this.createjs||{},function(){var e=function(){this.initialize()},t=e.prototype;e.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions",e.ERR_RUNNING="a build is already running",t.maxWidth=2048,t.maxHeight=2048,t.spriteSheet=null,t.scale=1,t.padding=1,t.timeSlice=.3,t.progress=-1,t.onComplete=null,t.onProgress=null,t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t._frames=null,t._animations=null,t._data=null,t._nextFrameIndex=0,t._index=0,t._timerID=null,t._scale=1,t.initialize=function(){this._frames=[],this._animations={}},t.addFrame=function(t,n,r,i,s,o){if(this._data)throw e.ERR_RUNNING;return n=n||t.bounds||t.nominalBounds,!n&&t.getBounds&&(n=t.getBounds()),n?(r=r||1,this._frames.push({source:t,sourceRect:n,scale:r,funct:i,params:s,scope:o,index:this._frames.length,height:n.height*r})-1):null},t.addAnimation=function(t,n,r,i){if(this._data)throw e.ERR_RUNNING;this._animations[t]={frames:n,next:r,frequency:i}},t.addMovieClip=function(t,n,r){if(this._data)throw e.ERR_RUNNING;var i=t.frameBounds,s=n||t.bounds||t.nominalBounds;!s&&t.getBounds&&(s=t.getBounds());if(!s&&!i)return null;n=this._frames.length;for(var o=t.timeline.duration,u=0;u<o;u++)this.addFrame(t,i&&i[u]?i[u]:s,r,function(e){var t=this.actionsEnabled;this.actionsEnabled=!1,this.gotoAndStop(e),this.actionsEnabled=t},[u],t);u=t.timeline._labels,t=[];for(var a in u)t.push({index:u[a],label:a});if(t.length){t.sort(function(e,t){return e.index-t.index}),u=0;for(a=t.length;u<a;u++){r=t[u].label;for(var i=n+(u==a-1?o:t[u+1].index),s=[],f=n+t[u].index;f<i;f++)s.push(f);this.addAnimation(r,s,!0)}}},t.build=function(){if(this._data)throw e.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet},t.buildAsync=function(t){if(this._data)throw e.ERR_RUNNING;this.timeSlice=t,this._startBuild();var n=this;this._timerID=setTimeout(function(){n._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))},t.stopAsync=function(){clearTimeout(this._timerID),this._data=null},t.clone=function(){throw"SpriteSheetBuilder cannot be cloned."},t.toString=function(){return"[SpriteSheetBuilder]"},t._startBuild=function(){var t=this.padding||0;this.progress=0,this.spriteSheet=null,this._index=0,this._scale=this.scale;var n=[];this._data={images:[],frames:n,animations:this._animations};var r=this._frames.slice();r.sort(function(e,t){return e.height<=t.height?-1:1});if(r[r.length-1].height+2*t>this.maxHeight)throw e.ERR_DIMENSIONS;for(var i=0,s=0,o=0;r.length;){var u=this._fillRow(r,i,o,n,t);u.w>s&&(s=u.w),i+=u.h;if(!u.h||!r.length){var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.width=this._getSize(s,this.maxWidth),a.height=this._getSize(i,this.maxHeight),this._data.images[o]=a,u.h||(s=i=0,o++)}}},t._getSize=function(e,t){for(var n=4;Math.pow(2,++n)<e;);return Math.min(t,Math.pow(2,n))},t._fillRow=function(t,n,r,i,s){var o=this.maxWidth,u=this.maxHeight;n+=s;for(var u=u-n,a=s,f=0,l=t.length-1;0<=l;l--){var h=t[l],p=this._scale*h.scale,d=h.sourceRect,v=h.source,m=Math.floor(p*d.x-s),g=Math.floor(p*d.y-s),y=Math.ceil(p*d.height+2*s),d=Math.ceil(p*d.width+2*s);if(d>o)throw e.ERR_DIMENSIONS;y>u||a+d>o||(h.img=r,h.rect=new createjs.Rectangle(a,n,d,y),f=f||y,t.splice(l,1),i[h.index]=[a,n,d,y,r,Math.round(-m+p*v.regX-s),Math.round(-g+p*v.regY-s)],a+=d)}return{w:a,h:f}},t._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data),this._data=null,this.progress=1,this.onComplete&&this.onComplete(this),this.dispatchEvent("complete")},t._run=function(){for(var e=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),t=(new Date).getTime()+e,n=!1;t>(new Date).getTime();)if(!this._drawNext()){n=!0;break}if(n)this._endBuild();else{var r=this;this._timerID=setTimeout(function(){r._run()},50-e)}e=this.progress=this._index/this._frames.length,this.onProgress&&this.onProgress(this,e),this.dispatchEvent({type:"progress",progress:e})},t._drawNext=function(){var e=this._frames[this._index],t=e.scale*this._scale,n=e.rect,r=e.sourceRect,i=this._data.images[e.img].getContext("2d");return e.funct&&e.funct.apply(e.scope,e.params),i.save(),i.beginPath(),i.rect(n.x,n.y,n.width,n.height),i.clip(),i.translate(Math.ceil(n.x-r.x*t),Math.ceil(n.y-r.y*t)),i.scale(t,t),e.source.draw(i),i.restore(),++this._index<this._frames.length},createjs.SpriteSheetBuilder=e}(),this.createjs=this.createjs||{},function(){var e=function(e){this.initialize(e)},t=e.prototype=new createjs.DisplayObject;t.htmlElement=null,t._oldMtx=null,t.DisplayObject_initialize=t.initialize,t.initialize=function(e){"string"==typeof e&&(e=document.getElementById(e)),this.DisplayObject_initialize(),this.mouseEnabled=!1,this.htmlElement=e,e=e.style,e.position="absolute",e.transformOrigin=e.WebkitTransformOrigin=e.msTransformOrigin=e.MozTransformOrigin=e.OTransformOrigin="0% 0%"},t.isVisible=function(){return null!=this.htmlElement},t.draw=function(){if(null!=this.htmlElement){var e=this.getConcatenatedMatrix(this._matrix),t=this.htmlElement.style;if(!this.visible)return!0;t.visibility="visible";var n=this._oldMtx||{};n.alpha!=e.alpha&&(t.opacity=""+e.alpha,n.alpha=e.alpha);if(n.tx!=e.tx||n.ty!=e.ty||n.a!=e.a||n.b!=e.b||n.c!=e.c||n.d!=e.d)t.transform=t.WebkitTransform=t.OTransform=t.msTransform=["matrix("+e.a,e.b,e.c,e.d,e.tx+.5|0,(e.ty+.5|0)+")"].join(),t.MozTransform=["matrix("+e.a,e.b,e.c,e.d,(e.tx+.5|0)+"px",(e.ty+.5|0)+"px)"].join(),this._oldMtx=e.clone();return!0}},t.cache=function(){},t.uncache=function(){},t.updateCache=function(){},t.hitTest=function(){},t.localToGlobal=function(){},t.globalToLocal=function(){},t.localToLocal=function(){},t.clone=function(){throw"DOMElement cannot be cloned."},t.toString=function(){return"[DOMElement (name="+this.name+")]"},t.DisplayObject__tick=t._tick,t._tick=function(e){this.htmlElement.style.visibility="hidden",this.DisplayObject__tick(e)},createjs.DOMElement=e}(),this.createjs=this.createjs||{},function(){var e=function(){this.initialize()},t=e.prototype;t.initialize=function(){},t.getBounds=function(){return new createjs.Rectangle(0,0,0,0)},t.applyFilter=function(){},t.toString=function(){return"[Filter]"},t.clone=function(){return new e},createjs.Filter=e}(),this.createjs=this.createjs||{},function(){var e=function(){throw"Touch cannot be instantiated"};e.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled},e.enable=function(t,n,r){return!t||!t.canvas||!e.isSupported()?!1:(t.__touch={pointers:{},multitouch:!n,preventDefault:!r,count:0},"ontouchstart"in window?e._IOS_enable(t):window.navigator.msPointerEnabled&&e._IE_enable(t),!0)},e.disable=function(t){t&&("ontouchstart"in window?e._IOS_disable(t):window.navigator.msPointerEnabled&&e._IE_disable(t))},e._IOS_enable=function(t){var n=t.canvas,r=t.__touch.f=function(n){e._IOS_handleEvent(t,n)};n.addEventListener("touchstart",r,!1),n.addEventListener("touchmove",r,!1),n.addEventListener("touchend",r,!1),n.addEventListener("touchcancel",r,!1)},e._IOS_disable=function(e){var t=e.canvas;t&&(e=e.__touch.f,t.removeEventListener("touchstart",e,!1),t.removeEventListener("touchmove",e,!1),t.removeEventListener("touchend",e,!1),t.removeEventListener("touchcancel",e,!1))},e._IOS_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();for(var n=t.changedTouches,r=t.type,i=0,s=n.length;i<s;i++){var o=n[i],u=o.identifier;o.target==e.canvas&&("touchstart"==r?this._handleStart(e,u,t,o.pageX,o.pageY):"touchmove"==r?this._handleMove(e,u,t,o.pageX,o.pageY):("touchend"==r||"touchcancel"==r)&&this._handleEnd(e,u,t))}}},e._IE_enable=function(t){var n=t.canvas,r=t.__touch.f=function(n){e._IE_handleEvent(t,n)};n.addEventListener("MSPointerDown",r,!1),window.addEventListener("MSPointerMove",r,!1),window.addEventListener("MSPointerUp",r,!1),window.addEventListener("MSPointerCancel",r,!1),t.__touch.preventDefault&&(n.style.msTouchAction="none"),t.__touch.activeIDs={}},e._IE_disable=function(e){var t=e.__touch.f;window.removeEventListener("MSPointerMove",t,!1),window.removeEventListener("MSPointerUp",t,!1),window.removeEventListener("MSPointerCancel",t,!1),e.canvas&&e.canvas.removeEventListener("MSPointerDown",t,!1)},e._IE_handleEvent=function(e,t){if(e){e.__touch.preventDefault&&t.preventDefault&&t.preventDefault();var n=t.type,r=t.pointerId,i=e.__touch.activeIDs;if("MSPointerDown"==n)t.srcElement==e.canvas&&(i[r]=!0,this._handleStart(e,r,t,t.pageX,t.pageY));else if(i[r])if("MSPointerMove"==n)this._handleMove(e,r,t,t.pageX,t.pageY);else if("MSPointerUp"==n||"MSPointerCancel"==n)delete i[r],this._handleEnd(e,r,t)}},e._handleStart=function(e,t,n,r,i){var s=e.__touch;if(s.multitouch||!s.count){var o=s.pointers;o[t]||(o[t]=!0,s.count++,e._handlePointerDown(t,n,r,i))}},e._handleMove=function(e,t,n,r,i){e.__touch.pointers[t]&&e._handlePointerMove(t,n,r,i)},e._handleEnd=function(e,t,n){var r=e.__touch,i=r.pointers;i[t]&&(r.count--,e._handlePointerUp(t,n,!0),delete i[t])},createjs.Touch=e}(),function(){var e=this.createjs=this.createjs||{},e=e.EaselJS=e.EaselJS||{};e.version="2013.05.14",e.buildDate="Tue, 14 May 2013 21:49:54 GMT"}(),this.createjs=this.createjs||{},function(){var e=function(e,t,n){this.initialize(e,t,n)},t=e.prototype;e.NONE=0,e.LOOP=1,e.REVERSE=2,e.IGNORE={},e._tweens=[],e._plugins={},e.get=function(t,n,r,i){return i&&e.removeTweens(t),new e(t,n,r)},e.tick=function(t,n){for(var r=e._tweens.slice(),i=r.length-1;0<=i;i--){var s=r[i];n&&!s.ignoreGlobalPause||s._paused||s.tick(s._useTicks?1:t)}},createjs.Ticker&&createjs.Ticker.addListener(e,!1),e.removeTweens=function(t){if(t.tweenjs_count){for(var n=e._tweens,r=n.length-1;0<=r;r--)n[r]._target==t&&(n[r]._paused=!0,n.splice(r,1));t.tweenjs_count=0}},e.removeAllTweens=function(){for(var t=e._tweens,n=0,r=t.length;n<r;n++){var i=t[n];i.paused=!0,i.target.tweenjs_count=0}t.length=0},e.hasActiveTweens=function(t){return t?t.tweenjs_count:e._tweens&&e._tweens.length},e.installPlugin=function(t,n){var r=t.priority;null==r&&(t.priority=r=0);for(var i=0,s=n.length,o=e._plugins;i<s;i++){var u=n[i];if(o[u]){for(var a=o[u],f=0,l=a.length;f<l&&!(r<a[f].priority);f++);o[u].splice(f,0,t)}else o[u]=[t]}},e._register=function(t,n){var r=t._target;n?(r&&(r.tweenjs_count=r.tweenjs_count?r.tweenjs_count+1:1),e._tweens.push(t)):(r&&r.tweenjs_count--,r=e._tweens.indexOf(t),-1!=r&&e._tweens.splice(r,1))},t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t.ignoreGlobalPause=!1,t.loop=!1,t.duration=0,t.pluginData=null,t.onChange=null,t.change=null,t.target=null,t.position=null,t._paused=!1,t._curQueueProps=null,t._initQueueProps=null,t._steps=null,t._actions=null,t._prevPosition=0,t._stepPosition=0,t._prevPos=-1,t._target=null,t._useTicks=!1,t.initialize=function(t,n,r){this.target=this._target=t,n&&(this._useTicks=n.useTicks,this.ignoreGlobalPause=n.ignoreGlobalPause,this.loop=n.loop,this.onChange=n.onChange,n.override&&e.removeTweens(t)),this.pluginData=r||{},this._curQueueProps={},this._initQueueProps={},this._steps=[],this._actions=[],n&&n.paused?this._paused=!0:e._register(this,!0),n&&null!=n.position&&this.setPosition(n.position,e.NONE)},t.wait=function(e){if(null==e||0>=e)return this;var t=this._cloneProps(this._curQueueProps);return this._addStep({d:e,p0:t,e:this._linearEase,p1:t})},t.to=function(e,t,n){if(isNaN(t)||0>t)t=0;return this._addStep({d:t||0,p0:this._cloneProps(this._curQueueProps),e:n,p1:this._cloneProps(this._appendQueueProps(e))})},t.call=function(e,t,n){return this._addAction({f:e,p:t?t:[this],o:n?n:this._target})},t.set=function(e,t){return this._addAction({f:this._set,o:this,p:[e,t?t:this._target]})},t.play=function(e){return this.call(e.setPaused,[!1],e)},t.pause=function(e){return e||(e=this),this.call(e.setPaused,[!0],e)},t.setPosition=function(e,t){0>e&&(e=0),null==t&&(t=1);var n=e,r=!1;n>=this.duration&&(this.loop?n%=this.duration:(n=this.duration,r=!0));if(n==this._prevPos)return r;var i=this._prevPos;this.position=this._prevPos=n,this._prevPosition=e;if(this._target)if(r)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var s=0,o=this._steps.length;s<o&&!(this._steps[s].t>n);s++);s=this._steps[s-1],this._updateTargetProps(s,(this._stepPosition=n-s.t)/s.d)}return 0!=t&&0<this._actions.length&&(this._useTicks?this._runActions(n,n):1==t&&n<i?(i!=this.duration&&this._runActions(i,this.duration),this._runActions(0,n,!0)):this._runActions(i,n)),r&&this.setPaused(!0),this.onChange&&this.onChange(this),this.dispatchEvent("change"),r},t.tick=function(e){this._paused||this.setPosition(this._prevPosition+e)},t.setPaused=function(t){return this._paused=!!t,e._register(this,!t),this},t.w=t.wait,t.t=t.to,t.c=t.call,t.s=t.set,t.toString=function(){return"[Tween]"},t.clone=function(){throw"Tween can not be cloned."},t._updateTargetProps=function(t,r){var i,s,o,u;!t&&1==r?i=s=this._curQueueProps:(t.e&&(r=t.e(r,0,1,1)),i=t.p0,s=t.p1);for(n in this._initQueueProps){null==(o=i[n])&&(i[n]=o=this._initQueueProps[n]),null==(u=s[n])&&(s[n]=u=o),o=o==u||0==r||1==r||"number"!=typeof o?1==r?u:o:o+(u-o)*r;var a=!1;if(u=e._plugins[n])for(var f=0,l=u.length;f<l;f++){var h=u[f].tween(this,n,o,i,s,r,!!t&&i==s,!t);h==e.IGNORE?a=!0:o=h}a||(this._target[n]=o)}},t._runActions=function(e,t,n){var r=e,i=t,s=-1,o=this._actions.length,u=1;e>t&&(r=t,i=e,s=o,o=u=-1);for(;(s+=u)!=o;){t=this._actions[s];var a=t.t;(a==i||a>r&&a<i||n&&a==e)&&t.f.apply(t.o,t.p)}},t._appendQueueProps=function(t){var n,r,i,s,o,u;for(u in t){if(void 0===this._initQueueProps[u]){r=this._target[u];if(n=e._plugins[u]){i=0;for(s=n.length;i<s;i++)r=n[i].init(this,u,r)}this._initQueueProps[u]=void 0===r?null:r}else r=this._curQueueProps[u];if(n=e._plugins[u]){o=o||{},i=0;for(s=n.length;i<s;i++)n[i].step&&n[i].step(this,u,r,t[u],o)}this._curQueueProps[u]=t[u]}return o&&this._appendQueueProps(o),this._curQueueProps},t._cloneProps=function(e){var t={},n;for(n in e)t[n]=e[n];return t},t._addStep=function(e){return 0<e.d&&(this._steps.push(e),e.t=this.duration,this.duration+=e.d),this},t._addAction=function(e){return e.t=this.duration,this._actions.push(e),this},t._set=function(e,t){for(var n in e)t[n]=e[n]},createjs.Tween=e}(),this.createjs=this.createjs||{},function(){var e=function(e,t,n){this.initialize(e,t,n)},t=e.prototype;t.ignoreGlobalPause=!1,t.duration=0,t.loop=!1,t.onChange=null,t.position=null,t._paused=!1,t._tweens=null,t._labels=null,t._prevPosition=0,t._prevPos=-1,t._useTicks=!1,t.initialize=function(e,t,n){this._tweens=[],n&&(this._useTicks=n.useTicks,this.loop=n.loop,this.ignoreGlobalPause=n.ignoreGlobalPause,this.onChange=n.onChange),e&&this.addTween.apply(this,e),this.setLabels(t),n&&n.paused?this._paused=!0:createjs.Tween._register(this,!0),n&&null!=n.position&&this.setPosition(n.position,createjs.Tween.NONE)},t.addTween=function(e){var t=arguments.length;if(1<t){for(var n=0;n<t;n++)this.addTween(arguments[n]);return arguments[0]}return 0==t?null:(this.removeTween(e),this._tweens.push(e),e.setPaused(!0),e._paused=!1,e._useTicks=this._useTicks,e.duration>this.duration&&(this.duration=e.duration),0<=this._prevPos&&e.setPosition(this._prevPos,createjs.Tween.NONE),e)},t.removeTween=function(e){var t=arguments.length;if(1<t){for(var n=!0,r=0;r<t;r++)n=n&&this.removeTween(arguments[r]);return n}return 0==t?!1:(t=this._tweens.indexOf(e),-1!=t?(this._tweens.splice(t,1),e.duration>=this.duration&&this.updateDuration(),!0):!1)},t.addLabel=function(e,t){this._labels[e]=t},t.setLabels=function(e){this._labels=e?e:{}},t.gotoAndPlay=function(e){this.setPaused(!1),this._goto(e)},t.gotoAndStop=function(e){this.setPaused(!0),this._goto(e)},t.setPosition=function(e,t){0>e&&(e=0);var n=this.loop?e%this.duration:e,r=!this.loop&&e>=this.duration;if(n==this._prevPos)return r;this._prevPosition=e,this.position=this._prevPos=n;for(var i=0,s=this._tweens.length;i<s;i++)if(this._tweens[i].setPosition(n,t),n!=this._prevPos)return!1;return r&&this.setPaused(!0),this.onChange&&this.onChange(this),r},t.setPaused=function(e){this._paused=!!e,createjs.Tween._register(this,!e)},t.updateDuration=function(){for(var e=this.duration=0,t=this._tweens.length;e<t;e++){var n=this._tweens[e];n.duration>this.duration&&(this.duration=n.duration)}},t.tick=function(e){this.setPosition(this._prevPosition+e)},t.resolve=function(e){var t=parseFloat(e);return isNaN(t)&&(t=this._labels[e]),t},t.toString=function(){return"[Timeline]"},t.clone=function(){throw"Timeline can not be cloned."},t._goto=function(e){e=this.resolve(e),null!=e&&this.setPosition(e)},createjs.Timeline=e}(),this.createjs=this.createjs||{},function(){var e=function(){throw"Ease cannot be instantiated."};e.linear=function(e){return e},e.none=e.linear,e.get=function(e){return-1>e&&(e=-1),1<e&&(e=1),function(t){return 0==e?t:0>e?t*(t*-e+1+e):t*((2-t)*e+(1-e))}},e.getPowIn=function(e){return function(t){return Math.pow(t,e)}},e.getPowOut=function(e){return function(t){return 1-Math.pow(1-t,e)}},e.getPowInOut=function(e){return function(t){return 1>(t*=2)?.5*Math.pow(t,e):1-.5*Math.abs(Math.pow(2-t,e))}},e.quadIn=e.getPowIn(2),e.quadOut=e.getPowOut(2),e.quadInOut=e.getPowInOut(2),e.cubicIn=e.getPowIn(3),e.cubicOut=e.getPowOut(3),e.cubicInOut=e.getPowInOut(3),e.quartIn=e.getPowIn(4),e.quartOut=e.getPowOut(4),e.quartInOut=e.getPowInOut(4),e.quintIn=e.getPowIn(5),e.quintOut=e.getPowOut(5),e.quintInOut=e.getPowInOut(5),e.sineIn=function(e){return 1-Math.cos(e*Math.PI/2)},e.sineOut=function(e){return Math.sin(e*Math.PI/2)},e.sineInOut=function(e){return-0.5*(Math.cos(Math.PI*e)-1)},e.getBackIn=function(e){return function(t){return t*t*((e+1)*t-e)}},e.backIn=e.getBackIn(1.7),e.getBackOut=function(e){return function(t){return--t*t*((e+1)*t+e)+1}},e.backOut=e.getBackOut(1.7),e.getBackInOut=function(e){return e*=1.525,function(t){return 1>(t*=2)?.5*t*t*((e+1)*t-e):.5*((t-=2)*t*((e+1)*t+e)+2)}},e.backInOut=e.getBackInOut(1.7),e.circIn=function(e){return-(Math.sqrt(1-e*e)-1)},e.circOut=function(e){return Math.sqrt(1- --e*e)},e.circInOut=function(e){return 1>(e*=2)?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},e.bounceIn=function(t){return 1-e.bounceOut(1-t)},e.bounceOut=function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},e.bounceInOut=function(t){return.5>t?.5*e.bounceIn(2*t):.5*e.bounceOut(2*t-1)+.5},e.getElasticIn=function(e,t){var n=2*Math.PI;return function(r){if(0==r||1==r)return r;var i=t/n*Math.asin(1/e);return-(e*Math.pow(2,10*(r-=1))*Math.sin((r-i)*n/t))}},e.elasticIn=e.getElasticIn(1,.3),e.getElasticOut=function(e,t){var n=2*Math.PI;return function(r){if(0==r||1==r)return r;var i=t/n*Math.asin(1/e);return e*Math.pow(2,-10*r)*Math.sin((r-i)*n/t)+1}},e.elasticOut=e.getElasticOut(1,.3),e.getElasticInOut=function(e,t){var n=2*Math.PI;return function(r){var i=t/n*Math.asin(1/e);return 1>(r*=2)?-0.5*e*Math.pow(2,10*(r-=1))*Math.sin((r-i)*n/t):.5*e*Math.pow(2,-10*(r-=1))*Math.sin((r-i)*n/t)+1}},e.elasticInOut=e.getElasticInOut(1,.3*1.5),createjs.Ease=e}(),this.createjs=this.createjs||{},function(){var e=function(){throw"MotionGuidePlugin cannot be instantiated."};e.priority=0,e.install=function(){return createjs.Tween.installPlugin(e,["guide","x","y","rotation"]),createjs.Tween.IGNORE},e.init=function(e,t,n){return e=e.target,e.hasOwnProperty("x")||(e.x=0),e.hasOwnProperty("y")||(e.y=0),e.hasOwnProperty("rotation")||(e.rotation=0),"guide"==t?null:n},e.step=function(t,n,r,i,s){if("guide"!=n)return i;var o;i.hasOwnProperty("path")||(i.path=[]),t=i.path,i.hasOwnProperty("end")||(i.end=1),i.hasOwnProperty("start")||(i.start=r&&r.hasOwnProperty("end")&&r.path===t?r.end:0);if(i.hasOwnProperty("_segments")&&i._length)return i;r=t.length;if(6<=r&&0==(r-2)%4){i._segments=[],i._length=0;for(n=2;n<r;n+=4){for(var u=t[n-2],a=t[n-1],f=t[n+0],l=t[n+1],h=t[n+2],p=t[n+3],d=u,v=a,m,g,y=0,b=[],w=1;10>=w;w++){g=w/10;var E=1-g;m=E*E*u+2*E*g*f+g*g*h,g=E*E*a+2*E*g*l+g*g*p,y+=b[b.push(Math.sqrt((o=m-d)*o+(o=g-v)*o))-1],d=m,v=g}i._segments.push(y),i._segments.push(b),i._length+=y}return o=i.orient,i.orient=!1,e.calc(i,i.end,s),i.orient=o,i}throw"invalid 'path' data, please see documentation for valid paths"},e.tween=function(t,n,r,i,s,o,u){return s=s.guide,void 0==s||s===i.guide?r:(s.lastRatio!=o&&(e.calc(s,(s.end-s.start)*(u?s.end:o)+s.start,t.target),s.orient&&(t.target.rotation+=i.rotation||0),s.lastRatio=o),!s.orient&&"rotation"==n?r:t.target[n])},e.calc=function(t,n,r){void 0==t._segments&&e.validate(t),void 0==r&&(r={x:0,y:0,rotation:0});var i=t._segments,s=t.path,o=t._length*n,u=i.length-2;for(n=0;o>i[n]&&n<u;)o-=i[n],n+=2;for(var i=i[n+1],a=0,u=i.length-1;o>i[a]&&a<u;)o-=i[a],a++;return o=a/++u+o/(u*i[a]),n=2*n+2,u=1-o,r.x=u*u*s[n-2]+2*u*o*s[n+0]+o*o*s[n+2],r.y=u*u*s[n-1]+2*u*o*s[n+1]+o*o*s[n+3],t.orient&&(r.rotation=57.2957795*Math.atan2((s[n+1]-s[n-1])*u+(s[n+3]-s[n+1])*o,(s[n+0]-s[n-2])*u+(s[n+2]-s[n+0])*o)),r},createjs.MotionGuidePlugin=e}(),function(){var e=this.createjs=this.createjs||{},e=e.TweenJS=e.TweenJS||{};e.version="2013.05.14",e.buildDate="Tue, 14 May 2013 21:49:54 GMT"}(),this.createjs=this.createjs||{},function(){function e(){throw"Sound cannot be instantiated"}function t(e,t){this.init(e,t)}function n(){}e.DELIMITER="|",e.AUDIO_TIMEOUT=8e3,e.INTERRUPT_ANY="any",e.INTERRUPT_EARLY="early",e.INTERRUPT_LATE="late",e.INTERRUPT_NONE="none",e.PLAY_INITED="playInited",e.PLAY_SUCCEEDED="playSucceeded",e.PLAY_INTERRUPTED="playInterrupted",e.PLAY_FINISHED="playFinished",e.PLAY_FAILED="playFailed",e.SUPPORTED_EXTENSIONS="mp3 ogg mpeg wav m4a mp4 aiff wma mid".split(" "),e.EXTENSION_MAP={m4a:"mp4"},e.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,e.defaultInterruptBehavior=e.INTERRUPT_NONE,e.lastId=0,e.activePlugin=null,e.pluginsRegistered=!1,e.masterVolume=1,e.masterMute=!1,e.instances=[],e.idHash={},e.preloadHash={},e.defaultSoundInstance=null,e.addEventListener=null,e.removeEventListener=null,e.removeAllEventListeners=null,e.dispatchEvent=null,e.hasEventListener=null,e._listeners=null,createjs.EventDispatcher.initialize(e),e.onLoadComplete=null,e.sendFileLoadEvent=function(t){if(e.preloadHash[t])for(var n=0,r=e.preloadHash[t].length;n<r;n++){var i=e.preloadHash[t][n],s={target:this,type:"fileload",src:i.src,id:i.id,data:i.data};e.preloadHash[t][n]=!0,e.dispatchEvent(s),e.onLoadComplete&&e.onLoadComplete(s),s={target:this,type:"loadComplete",src:i.src,id:i.id,data:i.data},e.dispatchEvent(s)}},e.getPreloadHandlers=function(){return{callback:createjs.proxy(e.initLoad,e),types:["sound"],extensions:e.SUPPORTED_EXTENSIONS}},e.registerPlugin=function(t){return e.pluginsRegistered=!0,null==t?!1:t.isSupported()?(e.activePlugin=new t,!0):!1},e.registerPlugins=function(t){for(var n=0,r=t.length;n<r;n++)if(e.registerPlugin(t[n]))return!0;return!1},e.initializeDefaultPlugins=function(){return null!=e.activePlugin?!0:e.pluginsRegistered?!1:e.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1},e.isReady=function(){return null!=e.activePlugin},e.getCapabilities=function(){return null==e.activePlugin?null:e.activePlugin.capabilities},e.getCapability=function(t){return null==e.activePlugin?null:e.activePlugin.capabilities[t]},e.initLoad=function(t,n,r,i){return t=e.registerSound(t,r,i,!1),null==t?!1:t},e.registerSound=function(n,r,i,s){if(!e.initializeDefaultPlugins())return!1;n instanceof Object&&(r=n.id,i=n.data,n=n.src);var o=e.parsePath(n,"sound",r,i);if(null==o)return!1;null!=r&&(e.idHash[r]=o.src);var u=null;null!=i&&(isNaN(i.channels)?isNaN(i)||(u=parseInt(i)):u=parseInt(i.channels));var f=e.activePlugin.register(o.src,u);return null!=f&&(null!=f.numChannels&&(u=f.numChannels),t.create(o.src,u),null==i||!isNaN(i)?i=o.data=u||t.maxPerChannel():i.channels=o.data.channels=u||t.maxPerChannel(),null!=f.tag?o.tag=f.tag:f.src&&(o.src=f.src),null!=f.completeHandler&&(o.completeHandler=f.completeHandler),f.type&&(o.type=f.type)),0!=s&&(e.preloadHash[o.src]||(e.preloadHash[o.src]=[]),e.preloadHash[o.src].push({src:n,id:r,data:i}),1==e.preloadHash[o.src].length&&e.activePlugin.preload(o.src,f)),o},e.registerManifest=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=createjs.Sound.registerSound(e[n].src,e[n].id,e[n].data,e[n].preload);return t},e.removeSound=function(n){if(null==e.activePlugin)return!1;n instanceof Object&&(n=n.src),n=e.getSrcById(n),n=e.parsePath(n);if(null==n)return!1;n=n.src;for(var r in e.idHash)e.idHash[r]==n&&delete e.idHash[r];return t.remove(n),delete e.preloadHash[n],e.activePlugin.removeSound(n),!0},e.removeManifest=function(e){for(var t=[],n=0,r=e.length;n<r;n++)t[n]=createjs.Sound.removeSound(e[n].src);return t},e.removeAllSounds=function(){e.idHash={},e.preloadHash={},t.removeAll(),e.activePlugin.removeAllSounds()},e.loadComplete=function(t){var n=e.parsePath(t,"sound");return t=n?e.getSrcById(n.src):e.getSrcById(t),1==e.preloadHash[t][0]},e.parsePath=function(t,n,r,i){"string"!=typeof t&&(t=t.toString()),t=t.split(e.DELIMITER),n={type:n||"sound",id:r,data:i},r=e.getCapabilities(),i=0;for(var s=t.length;i<s;i++){var o=t[i],u=o.match(e.FILE_PATTERN);if(null==u)return!1;var a=u[4],u=u[5];if(r[u]&&-1<e.SUPPORTED_EXTENSIONS.indexOf(u))return n.name=a,n.src=o,n.extension=u,n}return null},e.play=function(t,n,r,i,s,o,u){return t=e.createInstance(t),e.playInstance(t,n,r,i,s,o,u)||t.playFailed(),t},e.createInstance=function(n){if(!e.initializeDefaultPlugins())return e.defaultSoundInstance;n=e.getSrcById(n),n=e.parsePath(n,"sound");var r=null;return null!=n&&null!=n.src?(t.create(n.src),r=e.activePlugin.create(n.src)):r=e.defaultSoundInstance,r.uniqueId=e.lastId++,r},e.setVolume=function(t){if(null==Number(t))return!1;t=Math.max(0,Math.min(1,t)),e.masterVolume=t;if(!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(t))for(var n=this.instances,r=0,i=n.length;r<i;r++)n[r].setMasterVolume(t)},e.getVolume=function(){return e.masterVolume},e.mute=function(e){this.masterMute=e;if(!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this.instances,n=0,r=t.length;n<r;n++)t[n].setMasterMute(e)},e.setMute=function(e){if(null==e||void 0==e)return!1;this.masterMute=e;if(!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(e))for(var t=this.instances,n=0,r=t.length;n<r;n++)t[n].setMasterMute(e);return!0},e.getMute=function(){return this.masterMute},e.stop=function(){for(var e=this.instances,t=e.length;t--;)e[t].stop()},e.playInstance=function(t,n,r,i,s,o,u){n=n||e.defaultInterruptBehavior,null==r&&(r=0),null==i&&(i=t.getPosition()),null==s&&(s=0),null==o&&(o=t.getVolume()),null==u&&(u=t.getPan());if(0==r){if(!e.beginPlaying(t,n,i,s,o,u))return!1}else r=setTimeout(function(){e.beginPlaying(t,n,i,s,o,u)},r),t.delayTimeoutId=r;return this.instances.push(t),!0},e.beginPlaying=function(e,n,r,i,s,o){return t.add(e,n)?e.beginPlaying(r,i,s,o)?!0:(e=this.instances.indexOf(e),-1<e&&this.instances.splice(e,1),!1):!1},e.getSrcById=function(t){return null==e.idHash||null==e.idHash[t]?t:e.idHash[t]},e.playFinished=function(e){t.remove(e),e=this.instances.indexOf(e),-1<e&&this.instances.splice(e,1)},e.proxy=function(e,t){return function(){return e.apply(t,arguments)}},createjs.Sound=e,createjs.proxy=function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(n))}},t.channels={},t.create=function(e,n){return null==t.get(e)?(t.channels[e]=new t(e,n),!0):!1},t.remove=function(e){var n=t.get(e);return null==n?!1:(n.removeAll(),delete t.channels[e],!0)},t.removeAll=function(){for(var e in t.channels)t.channels[e].removeAll();t.channels={}},t.add=function(e,n){var r=t.get(e.src);return null==r?!1:r.add(e,n)},t.remove=function(e){var n=t.get(e.src);return null==n?!1:(n.remove(e),!0)},t.maxPerChannel=function(){return r.maxDefault},t.get=function(e){return t.channels[e]};var r=t.prototype={src:null,max:null,maxDefault:100,length:0,init:function(e,t){this.src=e,this.max=t||this.maxDefault,-1==this.max&&this.max==this.maxDefault,this.instances=[]},get:function(e){return this.instances[e]},add:function(e,t){return this.getSlot(t,e)?(this.instances.push(e),this.length++,!0):!1},remove:function(e){return e=this.instances.indexOf(e),-1==e?!1:(this.instances.splice(e,1),this.length--,!0)},removeAll:function(){for(;this.length;)this.instances[this.length-1].stop()},getSlot:function(t){for(var n,r,i=0,s=this.max;i<s;i++){n=this.get(i);if(null==n)return!0;if(t!=e.INTERRUPT_NONE||n.playState==e.PLAY_FINISHED)if(0==i)r=n;else if(n.playState==e.PLAY_FINISHED||n.playState==e.PLAY_INTERRUPTED||n.playState==e.PLAY_FAILED)r=n;else if(t==e.INTERRUPT_EARLY&&n.getPosition()<r.getPosition()||t==e.INTERRUPT_LATE&&n.getPosition()>r.getPosition())r=n}return null!=r?(r.interrupt(),this.remove(r),!0):!1},toString:function(){return"[Sound SoundChannel]"}};e.defaultSoundInstance=new function(){this.isDefault=!0,this.addEventListener=this.removeEventListener=this.removeAllEventListener=this.dispatchEvent=this.hasEventListener=this._listeners=this.interrupt=this.playFailed=this.pause=this.resume=this.play=this.beginPlaying=this.cleanUp=this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=function(){return!1},this.getVolume=this.getPan=this.getDuration=function(){return 0},this.playState=e.PLAY_FAILED,this.toString=function(){return"[Sound Default Sound Instance]"}},n.init=function(){var e=navigator.userAgent;n.isFirefox=-1<e.indexOf("Firefox"),n.isOpera=null!=window.opera,n.isChrome=-1<e.indexOf("Chrome"),n.isIOS=-1<e.indexOf("iPod")||-1<e.indexOf("iPhone")||-1<e.indexOf("iPad"),n.isAndroid=-1<e.indexOf("Android"),n.isBlackberry=-1<e.indexOf("Blackberry")},n.init(),createjs.Sound.BrowserDetect=n}(),this.createjs=this.createjs||{},function(){function e(){this.init()}function t(e,t){this.init(e,t)}function n(e,t){this.init(e,t)}e.capabilities=null,e.isSupported=function(){var t=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;return"file:"==location.protocol&&!t?!1:(e.generateCapabilities(),null==e.context?!1:!0)},e.generateCapabilities=function(){if(null==e.capabilities){var t=document.createElement("audio");if(null==t.canPlayType)return null;if(window.webkitAudioContext)e.context=new webkitAudioContext;else{if(!window.AudioContext)return null;e.context=new AudioContext}e.playEmptySound(),e.capabilities={panning:!0,volume:!0,tracks:-1};for(var n=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,i=0,s=n.length;i<s;i++){var o=n[i],u=r[o]||o;e.capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+u)&&""!=t.canPlayType("audio/"+u)}2>e.context.destination.numberOfChannels&&(e.capabilities.panning=!1),e.dynamicsCompressorNode=e.context.createDynamicsCompressor(),e.dynamicsCompressorNode.connect(e.context.destination),e.gainNode=e.context.createGainNode(),e.gainNode.connect(e.dynamicsCompressorNode)}},e.playEmptySound=function(){var e=this.context.createBuffer(1,1,22050),t=this.context.createBufferSource();t.buffer=e,t.connect(this.context.destination),t.noteOn(0)},e.prototype={capabilities:null,volume:1,context:null,dynamicsCompressorNode:null,gainNode:null,arrayBuffers:null,init:function(){this.capabilities=e.capabilities,this.arrayBuffers={},this.context=e.context,this.gainNode=e.gainNode,this.dynamicsCompressorNode=e.dynamicsCompressorNode},register:function(e){return this.arrayBuffers[e]=!0,{tag:new n(e,this)}},isPreloadStarted:function(e){return null!=this.arrayBuffers[e]},isPreloadComplete:function(e){return null!=this.arrayBuffers[e]&&1!=this.arrayBuffers[e]},removeFromPreload:function(e){delete this.arrayBuffers[e]},removeSound:function(e){delete this.arrayBuffers[e]},removeAllSounds:function(){this.arrayBuffers={}},addPreloadResults:function(e,t){this.arrayBuffers[e]=t},handlePreloadComplete:function(){createjs.Sound.sendFileLoadEvent(this.src)},preload:function(e){this.arrayBuffers[e]=!0,e=new n(e,this),e.onload=this.handlePreloadComplete,e.load()},create:function(e){return this.isPreloadStarted(e)||this.preload(e),new t(e,this)},setVolume:function(e){return this.volume=e,this.updateVolume(),!0},updateVolume:function(){var e=createjs.Sound.masterMute?0:this.volume;e!=this.gainNode.gain.value&&(this.gainNode.gain.value=e)},getVolume:function(){return this.volume},setMute:function(){return this.updateVolume(),!0},toString:function(){return"[WebAudioPlugin]"}},createjs.WebAudioPlugin=e,t.prototype={src:null,uniqueId:-1,playState:null,owner:null,offset:0,delay:0,volume:1,pan:0,duration:0,remainingLoops:0,delayTimeoutId:null,soundCompleteTimeout:null,panNode:null,gainNode:null,sourceNode:null,sourceNodeNext:null,muted:!1,paused:!1,startTime:0,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,endedHandler:null,readyHandler:null,stalledHandler:null,onReady:null,onPlaySucceeded:null,onPlayInterrupted:null,onPlayFailed:null,onComplete:null,onLoop:null,sendEvent:function(e){this.dispatchEvent({target:this,type:e})},init:function(e,t){this.owner=t,this.src=e,this.panNode=this.owner.context.createPanner(),this.panNode.panningModel=0,this.gainNode=this.owner.context.createGainNode(),this.gainNode.connect(this.panNode),this.owner.isPreloadComplete(this.src)&&(this.duration=1e3*this.owner.arrayBuffers[this.src].duration),this.endedHandler=createjs.proxy(this.handleSoundComplete,this),this.readyHandler=createjs.proxy(this.handleSoundReady,this),this.stalledHandler=createjs.proxy(this.handleSoundStalled,this)},cleanUp:function(){this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.cleanUpAudioNode(this.sourceNode),this.sourceNodeNext&&this.cleanUpAudioNode(this.sourceNodeNext)),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(0),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),null!=window.createjs&&createjs.Sound.playFinished(this)},cleanUpAudioNode:function(e){return e.noteOff(0),e.disconnect(this.gainNode),null},interrupt:function(){this.playState=createjs.Sound.PLAY_INTERRUPTED,this.onPlayInterrupted&&this.onPlayInterrupted(this),this.cleanUp(),this.paused=!1,this.sendEvent("interrupted")},handleSoundStalled:function(){null!=this.onPlayFailed&&this.onPlayFailed(this),this.sendEvent("failed")},handleSoundReady:function(){if(null!=window.createjs)if(1e3*this.offset>this.getDuration())this.playFailed();else{0>this.offset&&(this.offset=0),this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.panNode.connect(this.owner.gainNode);var e=this.owner.arrayBuffers[this.src].duration;this.sourceNode=this.createAndPlayAudioNode(this.owner.context.currentTime-e,this.offset),this.duration=1e3*e,this.startTime=this.sourceNode.startTime-this.offset,this.soundCompleteTimeout=setTimeout(this.endedHandler,1e3*(e-this.offset)),0!=this.remainingLoops&&(this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0))}},createAndPlayAudioNode:function(e,t){var n=this.owner.context.createBufferSource();return n.buffer=this.owner.arrayBuffers[this.src],n.connect(this.gainNode),n.startTime=e+n.buffer.duration,n.noteGrainOn(n.startTime,t,n.buffer.duration-t),n},play:function(e,t,n,r,i,s){this.cleanUp(),createjs.Sound.playInstance(this,e,t,n,r,i,s)},beginPlaying:function(e,t,n,r){if(null!=window.createjs&&this.src){this.offset=e/1e3,this.remainingLoops=t,this.setVolume(n),this.setPan(r);if(this.owner.isPreloadComplete(this.src))return this.handleSoundReady(null),this.onPlaySucceeded&&this.onPlaySucceeded(this),this.sendEvent("succeeded"),1;this.playFailed()}},pause:function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.paused=!0,this.offset=this.owner.context.currentTime-this.startTime,this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),!0):!1},resume:function(){return this.paused?(this.handleSoundReady(null),!0):!1},stop:function(){return this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),this.offset=0,!0},setVolume:function(e){return null==Number(e)?!1:(this.volume=e=Math.max(0,Math.min(1,e)),this.updateVolume(),!0)},updateVolume:function(){var e=this.muted?0:this.volume;return e!=this.gainNode.gain.value?(this.gainNode.gain.value=e,!0):!1},getVolume:function(){return this.volume},mute:function(e){return this.muted=e,this.updateVolume(),!0},setMute:function(e){return null==e||void 0==e?!1:(this.muted=e,this.updateVolume(),!0)},getMute:function(){return this.muted},setPan:function(e){if(!this.owner.capabilities.panning)return!1;this.panNode.setPosition(e,0,-0.5),this.pan=e},getPan:function(){return this.pan},getPosition:function(){return 1e3*(this.paused||null==this.sourceNode?this.offset:this.owner.context.currentTime-this.startTime)},setPosition:function(e){return this.offset=e/1e3,this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.cleanUpAudioNode(this.sourceNode),this.cleanUpAudioNode(this.sourceNodeNext),clearTimeout(this.soundCompleteTimeout)),!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&this.handleSoundReady(null),!0},getDuration:function(){return this.duration},handleSoundComplete:function(){this.offset=0,0!=this.remainingLoops?(this.remainingLoops--,this.sourceNodeNext?(this.cleanUpAudioNode(this.sourceNode),this.sourceNode=this.sourceNodeNext,this.startTime=this.sourceNode.startTime,this.sourceNodeNext=this.createAndPlayAudioNode(this.startTime,0),this.soundCompleteTimeout=setTimeout(this.endedHandler,this.duration)):this.handleSoundReady(null),null!=this.onLoop&&this.onLoop(this),this.sendEvent("loop")):null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),null!=this.onComplete&&this.onComplete(this),this.sendEvent("complete"))},playFailed:function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,null!=this.onPlayFailed&&this.onPlayFailed(this),this.cleanUp(),this.sendEvent("failed"))},toString:function(){return"[WebAudioPlugin SoundInstance]"}},createjs.EventDispatcher.initialize(t.prototype),n.prototype={request:null,owner:null,progress:-1,src:null,result:null,onload:null,onprogress:null,onError:null,init:function(e,t){this.src=e,this.owner=t},load:function(e){null!=e&&(this.src=e),this.request=new XMLHttpRequest,this.request.open("GET",this.src,!0),this.request.responseType="arraybuffer",this.request.onload=createjs.proxy(this.handleLoad,this),this.request.onError=createjs.proxy(this.handleError,this),this.request.onprogress=createjs.proxy(this.handleProgress,this),this.request.send()},handleProgress:function(e,t){this.progress=e/t,null!=this.onprogress&&this.onprogress({loaded:e,total:t,progress:this.progress})},handleLoad:function(){e.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))},handleAudioDecoded:function(e){this.progress=1,this.result=e,this.owner.addPreloadResults(this.src,this.result),this.onload&&this.onload()},handleError:function(e){this.owner.removeSound(this.src),this.onerror&&this.onerror(e)},toString:function(){return"[WebAudioPlugin WebAudioLoader]"}}}(),this.createjs=this.createjs||{},function(){function e(){this.init()}function t(e,t){this.init(e,t)}function n(e,t){this.init(e,t)}function r(e){this.init(e)}e.MAX_INSTANCES=30,e.capabilities=null,e.AUDIO_READY="canplaythrough",e.AUDIO_ENDED="ended",e.AUDIO_SEEKED="seeked",e.AUDIO_ERROR="error",e.AUDIO_STALLED="stalled",e.isSupported=function(){return createjs.Sound.BrowserDetect.isIOS?!1:(e.generateCapabilities(),null==e.tag||null==e.capabilities?!1:!0)},e.generateCapabilities=function(){if(null==e.capabilities){var t=e.tag=document.createElement("audio");if(null==t.canPlayType)return null;e.capabilities={panning:!0,volume:!0,tracks:-1};for(var n=createjs.Sound.SUPPORTED_EXTENSIONS,r=createjs.Sound.EXTENSION_MAP,i=0,s=n.length;i<s;i++){var o=n[i],u=r[o]||o;e.capabilities[o]="no"!=t.canPlayType("audio/"+o)&&""!=t.canPlayType("audio/"+o)||"no"!=t.canPlayType("audio/"+u)&&""!=t.canPlayType("audio/"+u)}}},e.prototype={capabilities:null,audioSources:null,defaultNumChannels:2,init:function(){this.capabilities=e.capabilities,this.audioSources={}},register:function(e,t){this.audioSources[e]=!0;for(var n=r.get(e),i=null,s=t||this.defaultNumChannels,o=0;o<s;o++)i=this.createTag(e),n.add(i);return{tag:i,numChannels:s}},createTag:function(e){var t=document.createElement("audio");return t.autoplay=!1,t.preload="none",t.src=e,t},removeSound:function(e){delete this.audioSources[e],r.remove(e)},removeAllSounds:function(){this.audioSources={},r.removeAll()},create:function(e){if(!this.isPreloadStarted(e)){var n=r.get(e),i=this.createTag(e);n.add(i),this.preload(e,{tag:i})}return new t(e,this)},isPreloadStarted:function(e){return null!=this.audioSources[e]},preload:function(e,t){this.audioSources[e]=!0,new n(e,t.tag)},toString:function(){return"[HTMLAudioPlugin]"}},createjs.HTMLAudioPlugin=e,t.prototype={src:null,uniqueId:-1,playState:null,owner:null,loaded:!1,offset:0,delay:0,volume:1,pan:0,duration:0,remainingLoops:0,delayTimeoutId:null,tag:null,muted:!1,paused:!1,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,onComplete:null,onLoop:null,onReady:null,onPlayFailed:null,onPlayInterrupted:null,onPlaySucceeded:null,endedHandler:null,readyHandler:null,stalledHandler:null,loopHandler:null,init:function(e,t){this.src=e,this.owner=t,this.endedHandler=createjs.proxy(this.handleSoundComplete,this),this.readyHandler=createjs.proxy(this.handleSoundReady,this),this.stalledHandler=createjs.proxy(this.handleSoundStalled,this),this.loopHandler=createjs.proxy(this.handleSoundLoop,this)},sendEvent:function(e){this.dispatchEvent({target:this,type:e})},cleanUp:function(){var e=this.tag;if(null!=e){e.pause(),e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),e.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{e.currentTime=0}catch(t){}r.setInstance(this.src,e),this.tag=null}clearTimeout(this.delayTimeoutId),null!=window.createjs&&createjs.Sound.playFinished(this)},interrupt:function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this.onPlayInterrupted&&this.onPlayInterrupted(this),this.cleanUp(),this.paused=!1,this.sendEvent("interrupted"))},play:function(e,t,n,r,i,s){this.cleanUp(),createjs.Sound.playInstance(this,e,t,n,r,i,s)},beginPlaying:function(e,t,n){if(null==window.createjs)return-1;var i=this.tag=r.getInstance(this.src);return null==i?(this.playFailed(),-1):(i.addEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1),this.offset=e,this.volume=n,this.updateVolume(),this.remainingLoops=t,4!==i.readyState?(i.addEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),i.addEventListener(createjs.HTMLAudioPlugin.AUDIO_STALLED,this.stalledHandler,!1),i.preload="auto",i.load()):this.handleSoundReady(null),this.onPlaySucceeded&&this.onPlaySucceeded(this),this.sendEvent("succeeded"),1)},handleSoundStalled:function(){null!=this.onPlayFailed&&this.onPlayFailed(this),this.cleanUp(),this.sendEvent("failed")},handleSoundReady:function(){null!=window.createjs&&(this.duration=1e3*this.tag.duration,this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),this.offset>=this.getDuration()?this.playFailed():(0<this.offset&&(this.tag.currentTime=.001*this.offset),-1==this.remainingLoops&&(this.tag.loop=!0),0!=this.remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0),this.tag.play()))},pause:function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&null!=this.tag?(this.paused=!0,this.tag.pause(),clearTimeout(this.delayTimeoutId),!0):!1},resume:function(){return!this.paused||null==this.tag?!1:(this.paused=!1,this.tag.play(),!0)},stop:function(){return this.offset=0,this.pause(),this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),!0},setMasterVolume:function(){return this.updateVolume(),!0},setVolume:function(e){return null==Number(e)?!1:(this.volume=e=Math.max(0,Math.min(1,e)),this.updateVolume(),!0)},updateVolume:function(){if(null!=this.tag){var e=this.muted||createjs.Sound.masterMute?0:this.volume*createjs.Sound.masterVolume;return e!=this.tag.volume&&(this.tag.volume=e),!0}return!1},getVolume:function(){return this.volume},mute:function(e){return this.muted=e,this.updateVolume(),!0},setMasterMute:function(){return this.updateVolume(),!0},setMute:function(e){return null==e||void 0==e?!1:(this.muted=e,this.updateVolume(),!0)},getMute:function(){return this.muted},setPan:function(){return!1},getPan:function(){return 0},getPosition:function(){return null==this.tag?this.offset:1e3*this.tag.currentTime},setPosition:function(e){if(null==this.tag)this.offset=e;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1);try{this.tag.currentTime=.001*e}catch(t){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1)}return!0},getDuration:function(){return this.duration},handleSoundComplete:function(){this.offset=0,null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this.cleanUp(),null!=this.onComplete&&this.onComplete(this),this.sendEvent("complete"))},handleSoundLoop:function(){this.offset=0,this.remainingLoops--,0==this.remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_SEEKED,this.loopHandler,!1)),null!=this.onLoop&&this.onLoop(this),this.sendEvent("loop")},playFailed:function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,null!=this.onPlayFailed&&this.onPlayFailed(this),this.cleanUp(),this.sendEvent("failed"))},toString:function(){return"[HTMLAudioPlugin SoundInstance]"}},createjs.EventDispatcher.initialize(t.prototype),n.prototype={src:null,tag:null,preloadTimer:null,loadedHandler:null,init:function(e,t){this.src=e,this.tag=t,this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200),this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this),this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler),this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this),this.tag.preload="auto",this.tag.src=e,this.tag.load()},preloadTick:function(){var e=this.tag.buffered,t=this.tag.duration;0<e.length&&e.end(0)>=t-1&&this.handleTagLoaded()},handleTagLoaded:function(){clearInterval(this.preloadTimer)},sendLoadedEvent:function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler),this.tag.onreadystatechange=null,createjs.Sound.sendFileLoadEvent(this.src)},toString:function(){return"[HTMLAudioPlugin HTMLAudioLoader]"}},r.tags={},r.get=function(e){var t=r.tags[e];return null==t&&(t=r.tags[e]=new r(e)),t},r.remove=function(e){var t=r.tags[e];return null==t?!1:(t.removeAll(),delete r.tags[e],!0)},r.removeAll=function(){for(var e in r.tags)r.tags[e].removeAll();r.tags={}},r.getInstance=function(e){return e=r.tags[e],null==e?null:e.get()},r.setInstance=function(e,t){var n=r.tags[e];return null==n?null:n.set(t)},r.prototype={src:null,length:0,available:0,tags:null,init:function(e){this.src=e,this.tags=[]},add:function(e){this.tags.push(e),this.length++,this.available++},removeAll:function(){for(;this.length--;)delete this.tags[this.length];this.tags=this.src=null},get:function(){if(0==this.tags.length)return null;this.available=this.tags.length;var e=this.tags.pop();return null==e.parentNode&&document.body.appendChild(e),e},set:function(e){-1==this.tags.indexOf(e)&&this.tags.push(e),this.available=this.tags.length},toString:function(){return"[HTMLAudioPlugin TagPool]"}}}(),this.createjs=this.createjs||{},function(){var e=function(){this.init()};e.prototype={};var t=e.prototype;e.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/,t.loaded=!1,t.canceled=!1,t.progress=0,t._item=null,t._basePath=null,t.onProgress=null,t.onLoadStart=null,t.onComplete=null,t.onError=null,t.addEventListener=null,t.removeEventListener=null,t.removeAllEventListeners=null,t.dispatchEvent=null,t.hasEventListener=null,t._listeners=null,createjs.EventDispatcher.initialize(t),t.getItem=function(){return this._item},t.init=function(){},t.load=function(){},t.close=function(){},t._sendLoadStart=function(){this._isCanceled()||(this.onLoadStart&&this.onLoadStart({target:this}),this.dispatchEvent("loadStart"),this.dispatchEvent("loadstart"))},t._sendProgress=function(e){if(!this._isCanceled()){var t=null;if("number"==typeof e)this.progress=e,t={loaded:this.progress,total:1};else if(t=e,this.progress=e.loaded/e.total,isNaN(this.progress)||Infinity==this.progress)this.progress=0;t.target=this,t.type="progress",t.progress=this.progress,this.onProgress&&this.onProgress(t),this.dispatchEvent(t)}},t._sendComplete=function(){this._isCanceled()||(this.onComplete&&this.onComplete({target:this}),this.dispatchEvent("complete"))},t._sendError=function(e){this._isCanceled()||(null==e&&(e={}),e.target=this,e.type="error",this.onError&&this.onError(e),this.dispatchEvent(e))},t._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1},t._parseURI=function(t){return t?t.match(e.FILE_PATTERN):null},t._formatQueryString=function(e,t){if(null==e)throw Error("You must specify data.");var n=[],r;for(r in e)n.push(r+"="+escape(e[r]));return t&&(n=n.concat(t)),n.join("&")},t.buildPath=function(e,t,n){if(null!=t){var r=this._parseURI(e);if(null==r[1]||""==r[1])e=t+e}if(null==n)return e;t=[],r=e.indexOf("?");if(-1!=r){var i=e.slice(r+1);t=t.concat(i.split("&"))}return-1!=r?e.slice(0,r)+"?"+this._formatQueryString(n,t):e+"?"+this._formatQueryString(n,t)},t.toString=function(){return"[PreloadJS AbstractLoader]"},createjs.AbstractLoader=e}(),this.createjs=this.createjs||{},function(){var e=function(e,t){this.init(e,t)},t=e.prototype=new createjs.AbstractLoader;e.LOAD_TIMEOUT=8e3,e.BINARY="binary",e.CSS="css",e.IMAGE="image",e.JAVASCRIPT="javascript",e.JSON="json",e.JSONP="jsonp",e.SOUND="sound",e.SVG="svg",e.TEXT="text",e.XML="xml",e.POST="POST",e.GET="GET",t.useXHR=!0,t.stopOnError=!1,t.maintainScriptOrder=!0,t.next=null,t.onFileLoad=null,t.onFileProgress=null,t._typeCallbacks=null,t._extensionCallbacks=null,t._loadStartWasDispatched=!1,t._maxConnections=1,t._currentlyLoadingScript=null,t._currentLoads=null,t._loadQueue=null,t._loadQueueBackup=null,t._loadItemsById=null,t._loadItemsBySrc=null,t._loadedResults=null,t._loadedRawResults=null,t._numItems=0,t._numItemsLoaded=0,t._scriptOrder=null,t._loadedScripts=null,t.init=function(e,t){this._numItems=this._numItemsLoaded=0,this._loadStartWasDispatched=this._paused=!1,this._currentLoads=[],this._loadQueue=[],this._loadQueueBackup=[],this._scriptOrder=[],this._loadedScripts=[],this._loadItemsById={},this._loadItemsBySrc={},this._loadedResults={},this._loadedRawResults={},this._typeCallbacks={},this._extensionCallbacks={},this._basePath=t,this.setUseXHR(e)},t.setUseXHR=function(e){return this.useXHR=0!=e&&null!=window.XMLHttpRequest},t.removeAll=function(){this.remove()},t.remove=function(e){var t=null;!e||e instanceof Array?e&&(t=e):t=[e],e=!1;if(t){for(;t.length;){for(var n=t.pop(),r=this.getResult(n),i=this._loadQueue.length-1;0<=i;i--)if(s=this._loadQueue[i].getItem(),s.id==n||s.src==n){this._loadQueue.splice(i,1)[0].cancel();break}for(i=this._loadQueueBackup.length-1;0<=i;i--)if(s=this._loadQueueBackup[i].getItem(),s.id==n||s.src==n){this._loadQueueBackup.splice(i,1)[0].cancel();break}if(r)delete this._loadItemsById[r.id],delete this._loadItemsBySrc[r.src],this._disposeItem(r);else for(var i=this._currentLoads.length-1;0<=i;i--){var s=this._currentLoads[i].getItem();if(s.id==n||s.src==n){this._currentLoads.splice(i,1)[0].cancel(),e=!0;break}}}e&&this._loadNext()}else{this.close();for(n in this._loadItemsById)this._disposeItem(this._loadItemsById[n]);this.init(this.useXHR)}},t.reset=function(){this.close();for(var e in this._loadItemsById)this._disposeItem(this._loadItemsById[e]);e=[],i=0;for(l=this._loadQueueBackup.length;i<l;i++)e.push(this._loadQueueBackup[i].getItem());this.loadManifest(e,!1)},e.isBinary=function(e){switch(e){case createjs.LoadQueue.IMAGE:case createjs.LoadQueue.BINARY:return!0;default:return!1}},t.installPlugin=function(e){if(null!=e&&null!=e.getPreloadHandlers){e=e.getPreloadHandlers();if(null!=e.types)for(var t=0,n=e.types.length;t<n;t++)this._typeCallbacks[e.types[t]]=e.callback;if(null!=e.extensions){t=0;for(n=e.extensions.length;t<n;t++)this._extensionCallbacks[e.extensions[t]]=e.callback}}},t.setMaxConnections=function(e){this._maxConnections=e,!this._paused&&0<this._loadQueue.length&&this._loadNext()},t.loadFile=function(e,t,n){null==e?this._sendError({text:"PRELOAD_NO_FILE"}):(this._addItem(e,n),!1!==t?this.setPaused(!1):this.setPaused(!0))},t.loadManifest=function(e,t,n){var r=null;if(e instanceof Array){if(0==e.length){this._sendError({text:"PRELOAD_MANIFEST_EMPTY"});return}r=e}else{if(null==e){this._sendError({text:"PRELOAD_MANIFEST_NULL"});return}r=[e]}e=0;for(var i=r.length;e<i;e++)this._addItem(r[e],n);!1!==t?this.setPaused(!1):this.setPaused(!0)},t.load=function(){this.setPaused(!1)},t.getItem=function(e){return this._loadItemsById[e]||this._loadItemsBySrc[e]},t.getResult=function(e,t){var n=this._loadItemsById[e]||this._loadItemsBySrc[e];return null==n?null:(n=n.id,t&&this._loadedRawResults[n]?this._loadedRawResults[n]:this._loadedResults[n])},t.setPaused=function(e){(this._paused=e)||this._loadNext()},t.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0,this._loadedScripts.length=0,this.loadStartWasDispatched=!1},t._addItem=function(e,t){var n=this._createLoadItem(e);if(null!=n){var r=this._createLoader(n,t);null!=r&&(this._loadQueue.push(r),this._loadQueueBackup.push(r),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&n.type==createjs.LoadQueue.JAVASCRIPT&&r instanceof createjs.XHRLoader&&(this._scriptOrder.push(n),this._loadedScripts.push(null)))}},t._createLoadItem=function(e){var t=null;switch(typeof e){case"string":t={src:e};break;case"object":t=window.HTMLAudioElement&&e instanceof HTMLAudioElement?{tag:e,src:t.tag.src,type:createjs.LoadQueue.SOUND}:e}e=this._parseURI(t.src),null!=e&&(t.ext=e[5]),null==t.type&&(t.type=this._getTypeByExtension(t.ext)),t.type==createjs.LoadQueue.JSON&&null!=t.callback&&(t.type=createjs.LoadQueue.JSONP);if(t.type==createjs.LoadQueue.JSONP&&null==t.callback)throw Error("callback is required for loading JSONP requests.");null==t.tag&&(t.tag=this._createTag(t.type));if(null==t.id||""==t.id)t.id=t.src;if(e=this._typeCallbacks[t.type]||this._extensionCallbacks[t.ext]){e=e(t.src,t.type,t.id,t.data);if(!1===e)return null;!0!==e&&(null!=e.src&&(t.src=e.src),null!=e.id&&(t.id=e.id),null!=e.tag&&e.tag.load instanceof Function&&(t.tag=e.tag),null!=e.completeHandler&&(t.completeHandler=e.completeHandler)),e.type&&(t.type=e.type),e=this._parseURI(t.src),null!=e&&null!=e[5]&&(t.ext=e[5].toLowerCase())}return this._loadItemsById[t.id]=t,this._loadItemsBySrc[t.src]=t},t._createLoader=function(e,t){var n=this.useXHR;switch(e.type){case createjs.LoadQueue.JSON:case createjs.LoadQueue.XML:case createjs.LoadQueue.TEXT:n=!0;break;case createjs.LoadQueue.SOUND:case createjs.LoadQueue.JSONP:n=!1}return null==t&&(t=this._basePath),n?new createjs.XHRLoader(e,t):new createjs.TagLoader(e,t)},t._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0),this._numItems==this._numItemsLoaded&&(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load());for(var e=0,t=this._loadQueue.length;e<t&&!(this._currentLoads.length>=this._maxConnections);e++){var n=this._loadQueue[e];if(this.maintainScriptOrder&&n instanceof createjs.TagLoader&&n.getItem().type==createjs.LoadQueue.JAVASCRIPT){if(this._currentlyLoadingScript)continue;this._currentlyLoadingScript=!0}this._loadQueue.splice(e,1),e--,t--,this._loadItem(n)}}},t._loadItem=function(e){e.addEventListener("progress",createjs.proxy(this._handleProgress,this)),e.addEventListener("complete",createjs.proxy(this._handleFileComplete,this)),e.addEventListener("error",createjs.proxy(this._handleFileError,this)),this._currentLoads.push(e),this._sendFileStart(e.getItem()),e.load()},t._handleFileError=function(e){var t=e.target;this._numItemsLoaded++,this._updateProgress(),e={item:t.getItem()},this._sendError(e),this.stopOnError||(this._removeLoadItem(t),this._loadNext())},t._handleFileComplete=function(e){e=e.target;var t=e.getItem();this._loadedResults[t.id]=e.getResult(),e instanceof createjs.XHRLoader&&(this._loadedRawResults[t.id]=e.getResult(!0)),this._removeLoadItem(e);if(this.maintainScriptOrder&&t.type==createjs.LoadQueue.JAVASCRIPT){if(!(e instanceof createjs.TagLoader)){this._loadedScripts[this._scriptOrder.indexOf(t)]=t,this._checkScriptLoadOrder(e);return}this._currentlyLoadingScript=!1}this._processFinishedLoad(t,e)},t._processFinishedLoad=function(e,t){this._numItemsLoaded++,this._updateProgress(),this._sendFileComplete(e,t),this._loadNext()},t._checkScriptLoadOrder=function(){for(var e=this._loadedScripts.length,t=0;t<e;t++){var n=this._loadedScripts[t];if(null===n)break;!0!==n&&(this._processFinishedLoad(n),this._loadedScripts[t]=!0,t--,e--)}},t._removeLoadItem=function(e){for(var t=this._currentLoads.length,n=0;n<t;n++)if(this._currentLoads[n]==e){this._currentLoads.splice(n,1);break}},t._handleProgress=function(e){e=e.target,this._sendFileProgress(e.getItem(),e.progress),this._updateProgress()},t._updateProgress=function(){var e=this._numItemsLoaded/this._numItems,t=this._numItems-this._numItemsLoaded;if(0<t){for(var n=0,r=0,i=this._currentLoads.length;r<i;r++)n+=this._currentLoads[r].progress;e+=n/t*(t/this._numItems)}this._sendProgress(e)},t._disposeItem=function(e){delete this._loadedResults[e.id],delete this._loadedRawResults[e.id],delete this._loadItemsById[e.id],delete this._loadItemsBySrc[e.src]},t._createTag=function(e){var t=null;switch(e){case createjs.LoadQueue.IMAGE:return document.createElement("img");case createjs.LoadQueue.SOUND:return t=document.createElement("audio"),t.autoplay=!1,t;case createjs.LoadQueue.JSONP:case createjs.LoadQueue.JAVASCRIPT:return t=document.createElement("script"),t.type="text/javascript",t;case createjs.LoadQueue.CSS:return t=this.useXHR?document.createElement("style"):document.createElement("link"),t.rel="stylesheet",t.type="text/css",t;case createjs.LoadQueue.SVG:return this.useXHR?t=document.createElement("svg"):(t=document.createElement("object"),t.type="image/svg+xml"),t}return null},t._getTypeByExtension=function(e){switch(e.toLowerCase()){case"jpeg":case"jpg":case"gif":case"png":case"webp":case"bmp":return createjs.LoadQueue.IMAGE;case"ogg":case"mp3":case"wav":return createjs.LoadQueue.SOUND;case"json":return createjs.LoadQueue.JSON;case"xml":return createjs.LoadQueue.XML;case"css":return createjs.LoadQueue.CSS;case"js":return createjs.LoadQueue.JAVASCRIPT;case"svg":return createjs.LoadQueue.SVG;default:return createjs.LoadQueue.TEXT}},t._sendFileProgress=function(e,t){if(this._isCanceled())this._cleanUp();else{var n={target:this,type:"fileprogress",progress:t,loaded:t,total:1,item:e};this.onFileProgress&&this.onFileProgress(n),this.dispatchEvent(n)}},t._sendFileComplete=function(e,t){if(!this._isCanceled()){var n={target:this,type:"fileload",loader:t,item:e,result:this._loadedResults[e.id],rawResult:this._loadedRawResults[e.id]};e.completeHandler&&e.completeHandler(n),this.onFileLoad&&this.onFileLoad(n),this.dispatchEvent(n)}},t._sendFileStart=function(e){this.dispatchEvent({target:this,type:"filestart",item:e})},t.toString=function(){return"[PreloadJS LoadQueue]"},e.proxy=function(e,t){return function(){return e.apply(t,arguments)}},createjs.LoadQueue=e,createjs.proxy||(createjs.proxy=function(e,t){var n=Array.prototype.slice.call(arguments,2);return function(){return e.apply(t,Array.prototype.slice.call(arguments,0).concat(n))}});var n=function(){};n.init=function(){var e=navigator.userAgent;n.isFirefox=-1<e.indexOf("Firefox"),n.isOpera=null!=window.opera,n.isChrome=-1<e.indexOf("Chrome"),n.isIOS=-1<e.indexOf("iPod")||-1<e.indexOf("iPhone")||-1<e.indexOf("iPad")},n.init(),createjs.LoadQueue.BrowserDetect=n,Array.prototype.indexOf||(Array.prototype.indexOf=function(e){if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if(0===n)return-1;var r=0;1<arguments.length&&(r=Number(arguments[1]),r!=r?r=0:0!=r&&Infinity!=r&&-Infinity!=r&&(r=(0<r||-1)*Math.floor(Math.abs(r))));if(r>=n)return-1;for(r=0<=r?r:Math.max(n-Math.abs(r),0);r<n;r++)if(r in t&&t[r]===e)return r;return-1})}(),this.createjs=this.createjs||{},function(){var e=function(e,t){this.init(e,t)},t=e.prototype=new createjs.AbstractLoader;t._loadTimeout=null,t._tagCompleteProxy=null,t._isAudio=!1,t._tag=null,t._jsonResult=null,t.init=function(e,t){this._item=e,this._basePath=t,this._tag=e.tag,this._isAudio=window.HTMLAudioElement&&e.tag instanceof HTMLAudioElement,this._tagCompleteProxy=createjs.proxy(this._handleLoad,this)},t.getResult=function(){return this._item.type==createjs.LoadQueue.JSONP?this._jsonResult:this._tag},t.cancel=function(){this.canceled=!0,this._clean(),this.getItem()},t.load=function(){var e=this._item,t=this._tag;clearTimeout(this._loadTimeout),this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT),this._isAudio&&(t.src=null,t.preload="auto"),t.onerror=createjs.proxy(this._handleError,this),this._isAudio?(t.onstalled=createjs.proxy(this._handleStalled,this),t.addEventListener("canplaythrough",this._tagCompleteProxy,!1)):(t.onload=createjs.proxy(this._handleLoad,this),t.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this));var n=this.buildPath(e.src,this._basePath,e.values);switch(e.type){case createjs.LoadQueue.CSS:t.href=n;break;case createjs.LoadQueue.SVG:t.data=n;break;default:t.src=n}if(e.type==createjs.LoadQueue.JSONP){if(null==e.callback)throw Error("callback is required for loading JSONP requests.");if(null!=window[e.callback])throw Error('JSONP callback "'+e.callback+'" already exists on window. You need to specify a different callback. Or re-name the current one.');window[e.callback]=createjs.proxy(this._handleJSONPLoad,this)}if(e.type==createjs.LoadQueue.SVG||e.type==createjs.LoadQueue.JSONP||e.type==createjs.LoadQueue.JSON||e.type==createjs.LoadQueue.JAVASCRIPT||e.type==createjs.LoadQueue.CSS)this._startTagVisibility=t.style.visibility,t.style.visibility="hidden",(document.body||document.getElementsByTagName("body")[0]).appendChild(t);null!=t.load&&t.load()},t._handleJSONPLoad=function(e){this._jsonResult=e},t._handleTimeout=function(){this._clean(),this._sendError({reason:"PRELOAD_TIMEOUT"})},t._handleStalled=function(){},t._handleError=function(){this._clean(),this._sendError()},t._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var e=this.getItem().tag;("loaded"==e.readyState||"complete"==e.readyState)&&this._handleLoad()},t._handleLoad=function(){if(!this._isCanceled()){var e=this.getItem(),t=e.tag;if(!(this.loaded||this.isAudio&&4!==t.readyState)){this.loaded=!0;switch(e.type){case createjs.LoadQueue.SVG:case createjs.LoadQueue.JSONP:t.style.visibility=this._startTagVisibility,(document.body||document.getElementsByTagName("body")[0]).removeChild(t)}this._clean(),this._sendComplete()}}},t._clean=function(){clearTimeout(this._loadTimeout);var e=this.getItem().tag;e.onload=null,e.removeEventListener&&e.removeEventListener("canplaythrough",this._tagCompleteProxy,!1),e.onstalled=null,e.onprogress=null,e.onerror=null,e.parentNode&&e.parentNode.removeChild(e),e=this.getItem(),e.type==createjs.LoadQueue.JSONP&&(window[e.callback]=null)},t.toString=function(){return"[PreloadJS TagLoader]"},createjs.TagLoader=e}(),this.createjs=this.createjs||{},function(){var e=function(e,t){this.init(e,t)},t=e.prototype=new createjs.AbstractLoader;t._request=null,t._loadTimeout=null,t._xhrLevel=1,t._response=null,t._rawResponse=null,t.init=function(e,t){this._item=e,this._basePath=t,this._createXHR(e)},t.getResult=function(e){return e&&this._rawResponse?this._rawResponse:this._response},t.cancel=function(){this.canceled=!0,this._clean(),this._request.abort()},t.load=function(){if(null==this._request)this._handleError();else{this._request.onloadstart=createjs.proxy(this._handleLoadStart,this),this._request.onprogress=createjs.proxy(this._handleProgress,this),this._request.onabort=createjs.proxy(this._handleAbort,this),this._request.onerror=createjs.proxy(this._handleError,this),this._request.ontimeout=createjs.proxy(this._handleTimeout,this),1==this._xhrLevel&&(this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),createjs.LoadQueue.LOAD_TIMEOUT)),this._request.onload=createjs.proxy(this._handleLoad,this),this._request.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);try{!this._item.values||this._item.method==createjs.LoadQueue.GET?this._request.send():this._item.method==createjs.LoadQueue.POST&&this._request.send(this._formatQueryString(this._item.values))}catch(e){this._sendError({source:e})}}},t.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null},t.getResponseHeader=function(e){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(e):null},t._handleProgress=function(e){0<e.loaded&&0==e.total||this._sendProgress({loaded:e.loaded,total:e.total})},t._handleLoadStart=function(){clearTimeout(this._loadTimeout),this._sendLoadStart()},t._handleAbort=function(){this._clean(),this._sendError()},t._handleError=function(){this._clean(),this._sendError()},t._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()},t._handleLoad=function(){this.loaded||(this.loaded=!0,this._checkError()?(this._response=this._getResponse(),this._clean(),this._generateTag()&&this._sendComplete()):this._handleError())},t._handleTimeout=function(){this._clean(),this._sendError({reason:"PRELOAD_TIMEOUT"})},t._checkError=function(){switch(parseInt(this._request.status)){case 404:case 0:return!1}return!0},t._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(e){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(t){}return null},t._createXHR=function(e){var t=document.createElement("a");t.href=this.buildPath(e.src,this._basePath);var n=document.createElement("a");n.href=location.href,t=""!=t.hostname&&(t.port!=n.port||t.protocol!=n.protocol||t.hostname!=n.hostname),n=null;if(t&&window.XDomainRequest)n=new XDomainRequest;else if(window.XMLHttpRequest)n=new XMLHttpRequest;else try{n=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(r){try{n=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(i){try{n=new ActiveXObject("Msxml2.XMLHTTP")}catch(s){return!1}}}e.type==createjs.LoadQueue.TEXT&&n.overrideMimeType&&n.overrideMimeType("text/plain; charset=x-user-defined"),this._xhrLevel="string"==typeof n.responseType?2:1;var o=null,o=e.method==createjs.LoadQueue.GET?this.buildPath(e.src,this._basePath,e.values):this.buildPath(e.src,this._basePath);return n.open(e.method||createjs.LoadQueue.GET,o,!0),t&&n instanceof XMLHttpRequest&&1==this._xhrLevel&&n.setRequestHeader("Origin",location.origin),e.values&&e.method==createjs.LoadQueue.POST&&n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),createjs.LoadQueue.isBinary(e.type)&&(n.responseType="arraybuffer"),this._request=n,!0},t._clean=function(){clearTimeout(this._loadTimeout);var e=this._request;e.onloadstart=null,e.onprogress=null,e.onabort=null,e.onerror=null,e.onload=null,e.ontimeout=null,e.onloadend=null,e.onreadystatechange=null},t._generateTag=function(){var e=this._item.tag;switch(this._item.type){case createjs.LoadQueue.IMAGE:return e.onload=createjs.proxy(this._handleTagReady,this),e.src=this.buildPath(this._item.src,this._basePath,this._item.values),this._rawResponse=this._response,this._response=e,!1;case createjs.LoadQueue.JAVASCRIPT:e=document.createElement("script"),this._rawResponse=e.text=this._response,this._response=e;break;case createjs.LoadQueue.CSS:document.getElementsByTagName("head")[0].appendChild(e);if(e.styleSheet)e.styleSheet.cssText=this._response;else{var t=document.createTextNode(this._response);e.appendChild(t)}this._rawResponse=this._response,this._response=e;break;case createjs.LoadQueue.XML:this._response=t=this._parseXML(this._response,"text/xml");break;case createjs.LoadQueue.SVG:t=this._parseXML(this._response,"image/svg+xml"),this._rawResponse=this._response,null!=t.documentElement?(e.appendChild(t.documentElement),this._response=e):this._response=t;break;case createjs.LoadQueue.JSON:e={};try{e=JSON.parse(this._response)}catch(n){e=n}this._rawResponse=this._response,this._response=e}return!0},t._parseXML=function(e,t){var n=null;return window.DOMParser?n=(new DOMParser).parseFromString(e,t):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async=!1,n.loadXML(e)),n},t._handleTagReady=function(){this._sendComplete()},t.toString=function(){return"[PreloadJS XHRLoader]"},createjs.XHRLoader=e}(),"object"!=typeof JSON&&(JSON={}),function(){function c(e){return 10>e?"0"+e:e}function a(t){return d.lastIndex=0,d.test(t)?'"'+t.replace(d,function(t){var n=e[t];return"string"==typeof n?n:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function b(e,t){var n,r,i,s,o=j,u,l=t[e];l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof h&&(l=h.call(t,e,l));switch(typeof l){case"string":return a(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";j+=f,u=[];if("[object Array]"===Object.prototype.toString.apply(l)){s=l.length;for(n=0;n<s;n+=1)u[n]=b(n,l)||"null";return i=0===u.length?"[]":j?"[\n"+j+u.join(",\n"+j)+"\n"+o+"]":"["+u.join(",")+"]",j=o,i}if(h&&"object"==typeof h){s=h.length;for(n=0;n<s;n+=1)"string"==typeof h[n]&&(r=h[n],(i=b(r,l))&&u.push(a(r)+(j?": ":":")+i))}else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i=b(r,l))&&u.push(a(r)+(j?": ":":")+i);return i=0===u.length?"{}":j?"{\n"+j+u.join(",\n"+j)+"\n"+o+"}":"{"+u.join(",")+"}",j=o,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,j,f,e={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;f=j="";if("number"==typeof n)for(r=0;r<n;r+=1)f+=" ";else"string"==typeof n&&(f=n);if(!(h=t)||"function"==typeof t||"object"==typeof t&&"number"==typeof t.length)return b("",{"":e});throw Error("JSON.stringify")}),"function"!=typeof JSON.parse&&(JSON.parse=function(a,b){function c(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=c(i,n),void 0!==r?i[n]=r:delete i[n]);return b.call(e,t,i)}var d;a=String(a),g.lastIndex=0,g.test(a)&&(a=a.replace(g,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return d=eval("("+a+")"),"function"==typeof b?c({"":d},""):d;throw new SyntaxError("JSON.parse")})}(),define("createjs",function(e){return function(){var t,n;return t||e.createjs}}(this)),define("settings",[],function(){var e=.75,t={width:640*e,height:480*e};return{factor:e,renderWindowSize:t,renderAspectRatio:t.width/t.height,portalDepth:36,portalSize:100,worldSize:{width:60,height:60},warpHoleColumns:11,warpHoleRows:11,frameSize:9.09,mirrorMode:!1,FLARThreshold:60}});var THREE=THREE||{REVISION:"58"};self.console=self.console||{info:function(){},log:function(){},debug:function(){},warn:function(){},error:function(){}},self.Int32Array=self.Int32Array||Array,self.Float32Array=self.Float32Array||Array,String.prototype.trim=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},THREE.extend=function(e,t){if(Object.keys)for(var n=Object.keys(t),r=0,i=n.length;r<i;r++){var s=n[r];Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}else for(s in n={}.hasOwnProperty,t)n.call(t,s)&&(e[s]=t[s]);return e},function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];void 0===window.requestAnimationFrame&&(window.requestAnimationFrame=function(t){var n=Date.now(),r=Math.max(0,16-(n-e)),i=window.setTimeout(function(){t(n+r)},r);return e=n+r,i}),window.cancelAnimationFrame=window.cancelAnimationFrame||function(e){window.clearTimeout(e)}}(),THREE.CullFaceNone=0,THREE.CullFaceBack=1,THREE.CullFaceFront=2,THREE.CullFaceFrontBack=3,THREE.FrontFaceDirectionCW=0,THREE.FrontFaceDirectionCCW=1,THREE.BasicShadowMap=0,THREE.PCFShadowMap=1,THREE.PCFSoftShadowMap=2,THREE.FrontSide=0,THREE.BackSide=1,THREE.DoubleSide=2,THREE.NoShading=0,THREE.FlatShading=1,THREE.SmoothShading=2,THREE.NoColors=0,THREE.FaceColors=1,THREE.VertexColors=2,THREE.NoBlending=0,THREE.NormalBlending=1,THREE.AdditiveBlending=2,THREE.SubtractiveBlending=3,THREE.MultiplyBlending=4,THREE.CustomBlending=5,THREE.AddEquation=100,THREE.SubtractEquation=101,THREE.ReverseSubtractEquation=102,THREE.ZeroFactor=200,THREE.OneFactor=201,THREE.SrcColorFactor=202,THREE.OneMinusSrcColorFactor=203,THREE.SrcAlphaFactor=204,THREE.OneMinusSrcAlphaFactor=205,THREE.DstAlphaFactor=206,THREE.OneMinusDstAlphaFactor=207,THREE.DstColorFactor=208,THREE.OneMinusDstColorFactor=209,THREE.SrcAlphaSaturateFactor=210,THREE.MultiplyOperation=0,THREE.MixOperation=1,THREE.AddOperation=2,THREE.UVMapping=function(){},THREE.CubeReflectionMapping=function(){},THREE.CubeRefractionMapping=function(){},THREE.SphericalReflectionMapping=function(){},THREE.SphericalRefractionMapping=function(){},THREE.RepeatWrapping=1e3,THREE.ClampToEdgeWrapping=1001,THREE.MirroredRepeatWrapping=1002,THREE.NearestFilter=1003,THREE.NearestMipMapNearestFilter=1004,THREE.NearestMipMapLinearFilter=1005,THREE.LinearFilter=1006,THREE.LinearMipMapNearestFilter=1007,THREE.LinearMipMapLinearFilter=1008,THREE.UnsignedByteType=1009,THREE.ByteType=1010,THREE.ShortType=1011,THREE.UnsignedShortType=1012,THREE.IntType=1013,THREE.UnsignedIntType=1014,THREE.FloatType=1015,THREE.UnsignedShort4444Type=1016,THREE.UnsignedShort5551Type=1017,THREE.UnsignedShort565Type=1018,THREE.AlphaFormat=1019,THREE.RGBFormat=1020,THREE.RGBAFormat=1021,THREE.LuminanceFormat=1022,THREE.LuminanceAlphaFormat=1023,THREE.RGB_S3TC_DXT1_Format=2001,THREE.RGBA_S3TC_DXT1_Format=2002,THREE.RGBA_S3TC_DXT3_Format=2003,THREE.RGBA_S3TC_DXT5_Format=2004,THREE.Color=function(e){return void 0!==e&&this.set(e),this},THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(e){return e instanceof THREE.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(0===t)this.r=this.g=this.b=n;else{var r=function(e,t,n){return 0>n&&(n+=1),1<n&&(n-=1),n<1/6?e+6*(t-e)*n:.5>n?t:n<2/3?e+6*(t-e)*(2/3-n):e},t=.5>=n?n*(1+t):n+t-n*t,n=2*n-t;this.r=r(n,t,e+1/3),this.g=r(n,t,e),this.b=r(n,t,e-1/3)}return this},setStyle:function(e){if(/^rgb\((\d+),(\d+),(\d+)\)$/i.test(e))return e=/^rgb\((\d+),(\d+),(\d+)\)$/i.exec(e),this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,this;if(/^rgb\((\d+)\%,(\d+)\%,(\d+)\%\)$/i.test(e))return e=/^rgb\((\d+)\%,(\d+)\%,(\d+)\%\)$/i.exec(e),this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,this;if(/^\#([0-9a-f]{6})$/i.test(e))return e=/^\#([0-9a-f]{6})$/i.exec(e),this.setHex(parseInt(e[1],16)),this;if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e))return e=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e),this.setHex(parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3],16)),this;if(/^(\w+)$/i.test(e))return this.setHex(THREE.ColorKeywords[e]),this},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e){return this.r=e.r*e.r,this.g=e.g*e.g,this.b=e.b*e.b,this},copyLinearToGamma:function(e){return this.r=Math.sqrt(e.r),this.g=Math.sqrt(e.g),this.b=Math.sqrt(e.b),this},convertGammaToLinear:function(){var e=this.r,t=this.g,n=this.b;return this.r=e*e,this.g=t*t,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(){var e={h:0,s:0,l:0};return function(){var t=this.r,n=this.g,r=this.b,i=Math.max(t,n,r),s=Math.min(t,n,r),o,u=(s+i)/2;if(s===i)s=o=0;else{var f=i-s,s=.5>=u?f/(i+s):f/(2-i-s);switch(i){case t:o=(n-r)/f+(n<r?6:0);break;case n:o=(r-t)/f+2;break;case r:o=(t-n)/f+4}o/=6}return e.h=o,e.s=s,e.l=u,e}}(),getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){var r=this.getHSL();return r.h+=e,r.s+=t,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}},THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},THREE.Quaternion=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1},THREE.Quaternion.prototype={constructor:THREE.Quaternion,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w,this},setFromEuler:function(e,t){var n=Math.cos(e.x/2),r=Math.cos(e.y/2),i=Math.cos(e.z/2),s=Math.sin(e.x/2),o=Math.sin(e.y/2),u=Math.sin(e.z/2);return void 0===t||"XYZ"===t?(this.x=s*r*i+n*o*u,this.y=n*o*i-s*r*u,this.z=n*r*u+s*o*i,this.w=n*r*i-s*o*u):"YXZ"===t?(this.x=s*r*i+n*o*u,this.y=n*o*i-s*r*u,this.z=n*r*u-s*o*i,this.w=n*r*i+s*o*u):"ZXY"===t?(this.x=s*r*i-n*o*u,this.y=n*o*i+s*r*u,this.z=n*r*u+s*o*i,this.w=n*r*i-s*o*u):"ZYX"===t?(this.x=s*r*i-n*o*u,this.y=n*o*i+s*r*u,this.z=n*r*u-s*o*i,this.w=n*r*i+s*o*u):"YZX"===t?(this.x=s*r*i+n*o*u,this.y=n*o*i+s*r*u,this.z=n*r*u-s*o*i,this.w=n*r*i-s*o*u):"XZY"===t&&(this.x=s*r*i-n*o*u,this.y=n*o*i-s*r*u,this.z=n*r*u+s*o*i,this.w=n*r*i+s*o*u),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this.x=e.x*r,this.y=e.y*r,this.z=e.z*r,this.w=Math.cos(n),this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0],e=t[4],r=t[8],i=t[1],s=t[5],o=t[9],u=t[2],a=t[6],t=t[10],f=n+s+t;return 0<f?(n=.5/Math.sqrt(f+1),this.w=.25/n,this.x=(a-o)*n,this.y=(r-u)*n,this.z=(i-e)*n):n>s&&n>t?(n=2*Math.sqrt(1+n-s-t),this.w=(a-o)/n,this.x=.25*n,this.y=(e+i)/n,this.z=(r+u)/n):s>t?(n=2*Math.sqrt(1+s-n-t),this.w=(r-u)/n,this.x=(e+i)/n,this.y=.25*n,this.z=(o+a)/n):(n=2*Math.sqrt(1+t-n-s),this.w=(i-e)/n,this.x=(r+u)/n,this.y=(o+a)/n,this.z=.25*n),this},inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},normalize:function(){var e=this.length();return 0===e?(this.z=this.y=this.x=0,this.w=1):(e=1/e,this.x*=e,this.y*=e,this.z*=e,this.w*=e),this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Quaternion's .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var n=e.x,r=e.y,i=e.z,s=e.w,o=t.x,u=t.y,a=t.z,f=t.w;return this.x=n*f+s*o+r*a-i*u,this.y=r*f+s*u+i*o-n*a,this.z=i*f+s*a+n*u-r*o,this.w=s*f-n*o-r*u-i*a,this},multiplyVector3:function(e){return console.warn("DEPRECATED: Quaternion's .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(e,t){var n=this.x,r=this.y,i=this.z,s=this.w,o=s*e.w+n*e.x+r*e.y+i*e.z;0>o?(this.w=-e.w,this.x=-e.x,this.y=-e.y,this.z=-e.z,o=-o):this.copy(e);if(1<=o)return this.w=s,this.x=n,this.y=r,this.z=i,this;var u=Math.acos(o),a=Math.sqrt(1-o*o);return.001>Math.abs(a)?(this.w=.5*(s+this.w),this.x=.5*(n+this.x),this.y=.5*(r+this.y),this.z=.5*(i+this.z),this):(o=Math.sin((1-t)*u)/a,u=Math.sin(t*u)/a,this.w=s*o+this.w*u,this.x=n*o+this.x*u,this.y=r*o+this.y*u,this.z=i*o+this.z*u,this)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this.w=e[3],this},toArray:function(){return[this.x,this.y,this.z,this.w]},clone:function(){return new THREE.Quaternion(this.x,this.y,this.z,this.w)}},THREE.Quaternion.slerp=function(e,t,n,r){return n.copy(e).slerp(t,r)},THREE.Vector2=function(e,t){this.x=e||0,this.y=t||0},THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector2's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScalar:function(e){return this.x+=e,this.y+=e,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector2's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e):this.set(0,0),this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,e=this.y-e.y;return t*t+e*e},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e){return this.x=e[0],this.y=e[1],this},toArray:function(){return[this.x,this.y]},clone:function(){return new THREE.Vector2(this.x,this.y)}},THREE.Vector3=function(e,t,n){this.x=e||0,this.y=t||0,this.z=n||0},THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector3's .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,e=e.elements;return this.x=e[0]*t+e[3]*n+e[6]*r,this.y=e[1]*t+e[4]*n+e[7]*r,this.z=e[2]*t+e[5]*n+e[8]*r,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*r+e[12],this.y=e[1]*t+e[5]*n+e[9]*r+e[13],this.z=e[2]*t+e[6]*n+e[10]*r+e[14],this},applyProjection:function(e){var t=this.x,n=this.y,r=this.z,e=e.elements,i=1/(e[3]*t+e[7]*n+e[11]*r+e[15]);return this.x=(e[0]*t+e[4]*n+e[8]*r+e[12])*i,this.y=(e[1]*t+e[5]*n+e[9]*r+e[13])*i,this.z=(e[2]*t+e[6]*n+e[10]*r+e[14])*i,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,s=e.y,o=e.z,e=e.w,u=e*t+s*r-o*n,a=e*n+o*t-i*r,f=e*r+i*n-s*t,t=-i*t-s*n-o*r;return this.x=u*e+t*-i+a*-o-f*-s,this.y=a*e+t*-s+f*-i-u*-o,this.z=f*e+t*-o+u*-s-a*-i,this},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*r,this.y=e[1]*t+e[5]*n+e[9]*r,this.z=e[2]*t+e[6]*n+e[10]*r,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e,this.z/=e):this.z=this.y=this.x=0,this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},cross:function(e,t){if(void 0!==t)return console.warn("DEPRECATED: Vector3's .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var n=this.x,r=this.y,i=this.z;return this.x=r*e.z-i*e.y,this.y=i*e.x-n*e.z,this.z=n*e.y-r*e.x,this},crossVectors:function(e,t){return this.x=e.y*t.z-e.z*t.y,this.y=e.z*t.x-e.x*t.z,this.z=e.x*t.y-e.y*t.x,this},angleTo:function(e){return e=this.dot(e)/(this.length()*e.length()),Math.acos(THREE.Math.clamp(e,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,e=this.z-e.z;return t*t+n*n+e*e},setEulerFromRotationMatrix:function(e,t){function n(e){return Math.min(Math.max(e,-1),1)}var r=e.elements,i=r[0],s=r[4],o=r[8],u=r[1],a=r[5],f=r[9],l=r[2],c=r[6],r=r[10];return void 0===t||"XYZ"===t?(this.y=Math.asin(n(o)),.99999>Math.abs(o)?(this.x=Math.atan2(-f,r),this.z=Math.atan2(-s,i)):(this.x=Math.atan2(c,a),this.z=0)):"YXZ"===t?(this.x=Math.asin(-n(f)),.99999>Math.abs(f)?(this.y=Math.atan2(o,r),this.z=Math.atan2(u,a)):(this.y=Math.atan2(-l,i),this.z=0)):"ZXY"===t?(this.x=Math.asin(n(c)),.99999>Math.abs(c)?(this.y=Math.atan2(-l,r),this.z=Math.atan2(-s,a)):(this.y=0,this.z=Math.atan2(u,i))):"ZYX"===t?(this.y=Math.asin(-n(l)),.99999>Math.abs(l)?(this.x=Math.atan2(c,r),this.z=Math.atan2(u,i)):(this.x=0,this.z=Math.atan2(-s,a))):"YZX"===t?(this.z=Math.asin(n(u)),.99999>Math.abs(u)?(this.x=Math.atan2(-f,a),this.y=Math.atan2(-l,i)):(this.x=0,this.y=Math.atan2(o,r))):"XZY"===t&&(this.z=Math.asin(-n(s)),.99999>Math.abs(s)?(this.x=Math.atan2(c,a),this.y=Math.atan2(o,i)):(this.x=Math.atan2(-f,r),this.y=0)),this},setEulerFromQuaternion:function(e,t){function n(e){return Math.min(Math.max(e,-1),1)}var r=e.x*e.x,i=e.y*e.y,s=e.z*e.z,o=e.w*e.w;return void 0===t||"XYZ"===t?(this.x=Math.atan2(2*(e.x*e.w-e.y*e.z),o-r-i+s),this.y=Math.asin(n(2*(e.x*e.z+e.y*e.w))),this.z=Math.atan2(2*(e.z*e.w-e.x*e.y),o+r-i-s)):"YXZ"===t?(this.x=Math.asin(n(2*(e.x*e.w-e.y*e.z))),this.y=Math.atan2(2*(e.x*e.z+e.y*e.w),o-r-i+s),this.z=Math.atan2(2*(e.x*e.y+e.z*e.w),o-r+i-s)):"ZXY"===t?(this.x=Math.asin(n(2*(e.x*e.w+e.y*e.z))),this.y=Math.atan2(2*(e.y*e.w-e.z*e.x),o-r-i+s),this.z=Math.atan2(2*(e.z*e.w-e.x*e.y),o-r+i-s)):"ZYX"===t?(this.x=Math.atan2(2*(e.x*e.w+e.z*e.y),o-r-i+s),this.y=Math.asin(n(2*(e.y*e.w-e.x*e.z))),this.z=Math.atan2(2*(e.x*e.y+e.z*e.w),o+r-i-s)):"YZX"===t?(this.x=Math.atan2(2*(e.x*e.w-e.z*e.y),o-r+i-s),this.y=Math.atan2(2*(e.y*e.w-e.x*e.z),o+r-i-s),this.z=Math.asin(n(2*(e.x*e.y+e.z*e.w)))):"XZY"===t&&(this.x=Math.atan2(2*(e.x*e.w+e.y*e.z),o-r+i-s),this.y=Math.atan2(2*(e.x*e.z+e.y*e.w),o+r-i-s),this.z=Math.asin(n(2*(e.z*e.w-e.x*e.y)))),this},getPositionFromMatrix:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},getScaleFromMatrix:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),n=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),e=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=n,this.z=e,this},getColumnFromMatrix:function(e,t){var n=4*e,r=t.elements;return this.x=r[n],this.y=r[n+1],this.z=r[n+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this},toArray:function(){return[this.x,this.y,this.z]},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}},THREE.extend(THREE.Vector3.prototype,{applyEuler:function(){var e=new THREE.Quaternion;return function(t,n){var r=e.setFromEuler(t,n);return this.applyQuaternion(r),this}}(),applyAxisAngle:function(){var e=new THREE.Quaternion;return function(t,n){var r=e.setFromAxisAngle(t,n);return this.applyQuaternion(r),this}}(),projectOnVector:function(){var e=new THREE.Vector3;return function(t){return e.copy(t).normalize(),t=this.dot(e),this.copy(e).multiplyScalar(t)}}(),projectOnPlane:function(){var e=new THREE.Vector3;return function(t){return e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e=new THREE.Vector3;return function(t){return e.copy(this).projectOnVector(t).multiplyScalar(2),this.subVectors(e,this)}}()}),THREE.Vector4=function(e,t,n,r){this.x=e||0,this.y=t||0,this.z=n||0,this.w=void 0!==r?r:1},THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector4's .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},sub:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Vector4's .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,e=e.elements;return this.x=e[0]*t+e[4]*n+e[8]*r+e[12]*i,this.y=e[1]*t+e[5]*n+e[9]*r+e[13]*i,this.z=e[2]*t+e[6]*n+e[10]*r+e[14]*i,this.w=e[3]*t+e[7]*n+e[11]*r+e[15]*i,this},divideScalar:function(e){return 0!==e?(this.x/=e,this.y/=e,this.z/=e,this.w/=e):(this.z=this.y=this.x=0,this.w=1),this},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return 1e-4>t?(this.x=1,this.z=this.y=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,e=e.elements,i=e[0];r=e[4];var s=e[8],o=e[1],u=e[5],a=e[9];n=e[2],t=e[6];var f=e[10];return.01>Math.abs(r-o)&&.01>Math.abs(s-n)&&.01>Math.abs(a-t)?.1>Math.abs(r+o)&&.1>Math.abs(s+n)&&.1>Math.abs(a+t)&&.1>Math.abs(i+u+f-3)?(this.set(1,0,0,0),this):(e=Math.PI,i=(i+1)/2,u=(u+1)/2,f=(f+1)/2,r=(r+o)/4,s=(s+n)/4,a=(a+t)/4,i>u&&i>f?.01>i?(t=0,r=n=.707106781):(t=Math.sqrt(i),n=r/t,r=s/t):u>f?.01>u?(t=.707106781,n=0,r=.707106781):(n=Math.sqrt(u),t=r/n,r=a/n):.01>f?(n=t=.707106781,r=0):(r=Math.sqrt(f),t=s/r,n=a/r),this.set(t,n,r,e),this):(e=Math.sqrt((t-a)*(t-a)+(s-n)*(s-n)+(o-r)*(o-r)),.001>Math.abs(e)&&(e=1),this.x=(t-a)/e,this.y=(s-n)/e,this.z=(o-r)/e,this.w=Math.acos((i+u+f-1)/2),this)},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this.w>e.w&&(this.w=e.w),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this.w<e.w&&(this.w=e.w),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this.w<e.w?this.w=e.w:this.w>t.w&&(this.w=t.w),this},negate:function(){return this.multiplyScalar(-1)},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e){return this.x=e[0],this.y=e[1],this.z=e[2],this.w=e[3],this},toArray:function(){return[this.x,this.y,this.z,this.w]},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}},THREE.Line3=function(e,t){this.start=void 0!==e?e:new THREE.Vector3,this.end=void 0!==t?t:new THREE.Vector3},THREE.Line3.prototype={constructor:THREE.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){return(e||new THREE.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new THREE.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var n=t||new THREE.Vector3;return this.delta(n).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(n,r){e.subVectors(n,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),i=t.dot(e)/i;return r&&(i=THREE.Math.clamp(i,0,1)),i}}(),closestPointToPoint:function(e,t,n){return e=this.closestPointToPointParameter(e,t),n=n||new THREE.Vector3,this.delta(n).multiplyScalar(e).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)},clone:function(){return(new THREE.Line3).copy(this)}},THREE.Box2=function(e,t){this.min=void 0!==e?e:new THREE.Vector2(Infinity,Infinity),this.max=void 0!==t?t:new THREE.Vector2(-Infinity,-Infinity)},THREE.Box2.prototype={constructor:THREE.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){if(0<e.length){var t=e[0];this.min.copy(t),this.max.copy(t);for(var n=1,r=e.length;n<r;n++)t=e[n],t.x<this.min.x?this.min.x=t.x:t.x>this.max.x&&(this.max.x=t.x),t.y<this.min.y?this.min.y=t.y:t.y>this.max.y&&(this.max.y=t.y)}else this.makeEmpty();return this},setFromCenterAndSize:function(){var e=new THREE.Vector2;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=Infinity,this.max.x=this.max.y=-Infinity,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){return(e||new THREE.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new THREE.Vector2).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y?!0:!1},getParameter:function(e){return new THREE.Vector2((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y?!1:!0},clampPoint:function(e,t){return(t||new THREE.Vector2).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new THREE.Vector2;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new THREE.Box2).copy(this)}},THREE.Box3=function(e,t){this.min=void 0!==e?e:new THREE.Vector3(Infinity,Infinity,Infinity),this.max=void 0!==t?t:new THREE.Vector3(-Infinity,-Infinity,-Infinity)},THREE.Box3.prototype={constructor:THREE.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){if(0<e.length){var t=e[0];this.min.copy(t),this.max.copy(t);for(var n=1,r=e.length;n<r;n++)t=e[n],t.x<this.min.x?this.min.x=t.x:t.x>this.max.x&&(this.max.x=t.x),t.y<this.min.y?this.min.y=t.y:t.y>this.max.y&&(this.max.y=t.y),t.z<this.min.z?this.min.z=t.z:t.z>this.max.z&&(this.max.z=t.z)}else this.makeEmpty();return this},setFromCenterAndSize:function(){var e=new THREE.Vector3;return function(t,n){var r=e.copy(n).multiplyScalar(.5);return this.min.copy(t).sub(r),this.max.copy(t).add(r),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=Infinity,this.max.x=this.max.y=this.max.z=-Infinity,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){return(e||new THREE.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new THREE.Vector3).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z?!0:!1},getParameter:function(e){return new THREE.Vector3((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z?!1:!0},clampPoint:function(e,t){return(t||new THREE.Vector3).copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new THREE.Vector3;return function(t){return e.copy(t).clamp(this.min,this.max).sub(t).length()}}(),getBoundingSphere:function(){var e=new THREE.Vector3;return function(t){return t=t||new THREE.Sphere,t.center=this.center(),t.radius=.5*this.size(e).length(),t}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(t){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new THREE.Box3).copy(this)}},THREE.Matrix3=function(e,t,n,r,i,s,o,u,a){this.elements=new Float32Array(9),this.set(void 0!==e?e:1,t||0,n||0,r||0,void 0!==i?i:1,s||0,o||0,u||0,void 0!==a?a:1)},THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(e,t,n,r,i,s,o,u,a){var f=this.elements;return f[0]=e,f[3]=t,f[6]=n,f[1]=r,f[4]=i,f[7]=s,f[2]=o,f[5]=u,f[8]=a,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){return e=e.elements,this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},multiplyVector3:function(e){return console.warn("DEPRECATED: Matrix3's .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){var e=new THREE.Vector3;return function(t){for(var n=0,r=t.length;n<r;n+=3)e.x=t[n],e.y=t[n+1],e.z=t[n+2],e.applyMatrix3(this),t[n]=e.x,t[n+1]=e.y,t[n+2]=e.z;return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],s=e[4],o=e[5],u=e[6],a=e[7],e=e[8];return t*s*e-t*o*a-n*i*e+n*o*u+r*i*a-r*s*u},getInverse:function(e,t){var n=e.elements,r=this.elements;r[0]=n[10]*n[5]-n[6]*n[9],r[1]=-n[10]*n[1]+n[2]*n[9],r[2]=n[6]*n[1]-n[2]*n[5],r[3]=-n[10]*n[4]+n[6]*n[8],r[4]=n[10]*n[0]-n[2]*n[8],r[5]=-n[6]*n[0]+n[2]*n[4],r[6]=n[9]*n[4]-n[5]*n[8],r[7]=-n[9]*n[0]+n[1]*n[8],r[8]=n[5]*n[0]-n[1]*n[4],n=n[0]*r[0]+n[1]*r[3]+n[2]*r[6];if(0===n){if(t)throw Error("Matrix3.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix3.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/n),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.getInverse(e).transpose(),this},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},clone:function(){var e=this.elements;return new THREE.Matrix3(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8])}},THREE.Matrix4=function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){var m=this.elements=new Float32Array(16);m[0]=void 0!==e?e:1,m[4]=t||0,m[8]=n||0,m[12]=r||0,m[1]=i||0,m[5]=void 0!==s?s:1,m[9]=o||0,m[13]=u||0,m[2]=a||0,m[6]=f||0,m[10]=void 0!==l?l:1,m[14]=c||0,m[3]=h||0,m[7]=p||0,m[11]=d||0,m[15]=void 0!==v?v:1},THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){var m=this.elements;return m[0]=e,m[4]=t,m[8]=n,m[12]=r,m[1]=i,m[5]=s,m[9]=o,m[13]=u,m[2]=a,m[6]=f,m[10]=l,m[14]=c,m[3]=h,m[7]=p,m[11]=d,m[15]=v,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){return e=e.elements,this.set(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]),this},extractPosition:function(e){return console.warn("DEPRECATED: Matrix4's .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},copyPosition:function(e){var t=this.elements,e=e.elements;return t[12]=e[12],t[13]=e[13],t[14]=e[14],this},extractRotation:function(){var e=new THREE.Vector3;return function(t){var n=this.elements,t=t.elements,r=1/e.set(t[0],t[1],t[2]).length(),i=1/e.set(t[4],t[5],t[6]).length(),s=1/e.set(t[8],t[9],t[10]).length();return n[0]=t[0]*r,n[1]=t[1]*r,n[2]=t[2]*r,n[4]=t[4]*i,n[5]=t[5]*i,n[6]=t[6]*i,n[8]=t[8]*s,n[9]=t[9]*s,n[10]=t[10]*s,this}}(),setRotationFromEuler:function(e,t){return console.warn("DEPRECATED: Matrix4's .setRotationFromEuler() has been deprecated in favor of makeRotationFromEuler.  Please update your code."),this.makeRotationFromEuler(e,t)},makeRotationFromEuler:function(e,t){var n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),r=Math.sin(r),u=Math.cos(i),i=Math.sin(i),a=Math.cos(s),s=Math.sin(s);if(void 0===t||"XYZ"===t){var f=o*a,l=o*s,c=r*a,h=r*s;n[0]=u*a,n[4]=-u*s,n[8]=i,n[1]=l+c*i,n[5]=f-h*i,n[9]=-r*u,n[2]=h-f*i,n[6]=c+l*i,n[10]=o*u}else"YXZ"===t?(f=u*a,l=u*s,c=i*a,h=i*s,n[0]=f+h*r,n[4]=c*r-l,n[8]=o*i,n[1]=o*s,n[5]=o*a,n[9]=-r,n[2]=l*r-c,n[6]=h+f*r,n[10]=o*u):"ZXY"===t?(f=u*a,l=u*s,c=i*a,h=i*s,n[0]=f-h*r,n[4]=-o*s,n[8]=c+l*r,n[1]=l+c*r,n[5]=o*a,n[9]=h-f*r,n[2]=-o*i,n[6]=r,n[10]=o*u):"ZYX"===t?(f=o*a,l=o*s,c=r*a,h=r*s,n[0]=u*a,n[4]=c*i-l,n[8]=f*i+h,n[1]=u*s,n[5]=h*i+f,n[9]=l*i-c,n[2]=-i,n[6]=r*u,n[10]=o*u):"YZX"===t?(f=o*u,l=o*i,c=r*u,h=r*i,n[0]=u*a,n[4]=h-f*s,n[8]=c*s+l,n[1]=s,n[5]=o*a,n[9]=-r*a,n[2]=-i*a,n[6]=l*s+c,n[10]=f-h*s):"XZY"===t&&(f=o*u,l=o*i,c=r*u,h=r*i,n[0]=u*a,n[4]=-s,n[8]=i*a,n[1]=f*s+h,n[5]=o*a,n[9]=l*s-c,n[2]=c*s-l,n[6]=r*a,n[10]=h*s+f);return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},setRotationFromQuaternion:function(e){return console.warn("DEPRECATED: Matrix4's .setRotationFromQuaternion() has been deprecated in favor of makeRotationFromQuaternion.  Please update your code."),this.makeRotationFromQuaternion(e)},makeRotationFromQuaternion:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z,s=e.w,o=n+n,u=r+r,a=i+i,e=n*o,f=n*u,n=n*a,l=r*u,r=r*a,i=i*a,o=s*o,u=s*u,s=s*a;return t[0]=1-(l+i),t[4]=f-s,t[8]=n+u,t[1]=f+s,t[5]=1-(e+i),t[9]=r-o,t[2]=n-u,t[6]=r+o,t[10]=1-(e+l),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new THREE.Vector3,t=new THREE.Vector3,n=new THREE.Vector3;return function(r,i,s){var o=this.elements;return n.subVectors(r,i).normalize(),0===n.length()&&(n.z=1),e.crossVectors(s,n).normalize(),0===e.length()&&(n.x+=1e-4,e.crossVectors(s,n).normalize()),t.crossVectors(n,e),o[0]=e.x,o[4]=t.x,o[8]=n.x,o[1]=e.y,o[5]=t.y,o[9]=n.y,o[2]=e.z,o[6]=t.z,o[10]=n.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("DEPRECATED: Matrix4's .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,s=n[0],o=n[4],u=n[8],a=n[12],f=n[1],l=n[5],c=n[9],h=n[13],p=n[2],d=n[6],v=n[10],m=n[14],g=n[3],y=n[7],b=n[11],n=n[15],w=r[0],E=r[4],S=r[8],x=r[12],T=r[1],N=r[5],C=r[9],k=r[13],L=r[2],A=r[6],O=r[10],M=r[14],_=r[3],D=r[7],P=r[11],r=r[15];return i[0]=s*w+o*T+u*L+a*_,i[4]=s*E+o*N+u*A+a*D,i[8]=s*S+o*C+u*O+a*P,i[12]=s*x+o*k+u*M+a*r,i[1]=f*w+l*T+c*L+h*_,i[5]=f*E+l*N+c*A+h*D,i[9]=f*S+l*C+c*O+h*P,i[13]=f*x+l*k+c*M+h*r,i[2]=p*w+d*T+v*L+m*_,i[6]=p*E+d*N+v*A+m*D,i[10]=p*S+d*C+v*O+m*P,i[14]=p*x+d*k+v*M+m*r,i[3]=g*w+y*T+b*L+n*_,i[7]=g*E+y*N+b*A+n*D,i[11]=g*S+y*C+b*O+n*P,i[15]=g*x+y*k+b*M+n*r,this},multiplyToArray:function(e,t,n){var r=this.elements;return this.multiplyMatrices(e,t),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},multiplyVector3:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("DEPRECATED: Matrix4's .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){var e=new THREE.Vector3;return function(t){for(var n=0,r=t.length;n<r;n+=3)e.x=t[n],e.y=t[n+1],e.z=t[n+2],e.applyProjection(this),t[n]=e.x,t[n+1]=e.y,t[n+2]=e.z;return t}}(),rotateAxis:function(e){console.warn("DEPRECATED: Matrix4's .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("DEPRECATED: Matrix4's .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],s=e[1],o=e[5],u=e[9],a=e[13],f=e[2],l=e[6],c=e[10],h=e[14];return e[3]*(+i*u*l-r*a*l-i*o*c+n*a*c+r*o*h-n*u*h)+e[7]*(+t*u*h-t*a*c+i*s*c-r*s*h+r*a*f-i*u*f)+e[11]*(+t*a*l-t*o*h-i*s*l+n*s*h+i*o*f-n*a*f)+e[15]*(-r*o*f-t*u*l+t*o*c+r*s*l-n*s*c+n*u*f)},transpose:function(){var e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},flattenToArrayOffset:function(e,t){var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e},getPosition:function(){var e=new THREE.Vector3;return function(){console.warn("DEPRECATED: Matrix4's .getPosition() has been removed. Use Vector3.getPositionFromMatrix( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var n=this.elements,r=e.elements,i=r[0],s=r[4],o=r[8],u=r[12],a=r[1],f=r[5],l=r[9],c=r[13],h=r[2],p=r[6],d=r[10],v=r[14],m=r[3],g=r[7],y=r[11],b=r[15];n[0]=l*v*g-c*d*g+c*p*y-f*v*y-l*p*b+f*d*b,n[4]=u*d*g-o*v*g-u*p*y+s*v*y+o*p*b-s*d*b,n[8]=o*c*g-u*l*g+u*f*y-s*c*y-o*f*b+s*l*b,n[12]=u*l*p-o*c*p-u*f*d+s*c*d+o*f*v-s*l*v,n[1]=c*d*m-l*v*m-c*h*y+a*v*y+l*h*b-a*d*b,n[5]=o*v*m-u*d*m+u*h*y-i*v*y-o*h*b+i*d*b,n[9]=u*l*m-o*c*m-u*a*y+i*c*y+o*a*b-i*l*b,n[13]=o*c*h-u*l*h+u*a*d-i*c*d-o*a*v+i*l*v,n[2]=f*v*m-c*p*m+c*h*g-a*v*g-f*h*b+a*p*b,n[6]=u*p*m-s*v*m-u*h*g+i*v*g+s*h*b-i*p*b,n[10]=s*c*m-u*f*m+u*a*g-i*c*g-s*a*b+i*f*b,n[14]=u*f*h-s*c*h-u*a*p+i*c*p+s*a*v-i*f*v,n[3]=l*p*m-f*d*m-l*h*g+a*d*g+f*h*y-a*p*y,n[7]=s*d*m-o*p*m+o*h*g-i*d*g-s*h*y+i*p*y,n[11]=o*f*m-s*l*m-o*a*g+i*l*g+s*a*y-i*f*y,n[15]=s*l*h-o*f*h+o*a*p-i*l*p-s*a*d+i*f*d,n=r[0]*n[0]+r[1]*n[4]+r[2]*n[8]+r[3]*n[12];if(0==n){if(t)throw Error("Matrix4.getInverse(): can't invert matrix, determinant is 0");return console.warn("Matrix4.getInverse(): can't invert matrix, determinant is 0"),this.identity(),this}return this.multiplyScalar(1/n),this},translate:function(){console.warn("DEPRECATED: Matrix4's .translate() has been removed.")},rotateX:function(){console.warn("DEPRECATED: Matrix4's .rotateX() has been removed.")},rotateY:function(){console.warn("DEPRECATED: Matrix4's .rotateY() has been removed.")},rotateZ:function(){console.warn("DEPRECATED: Matrix4's .rotateZ() has been removed.")},rotateByAxis:function(){console.warn("DEPRECATED: Matrix4's .rotateByAxis() has been removed.")},scale:function(e){var t=this.elements,n=e.x,r=e.y,e=e.z;return t[0]*=n,t[4]*=r,t[8]*=e,t[1]*=n,t[5]*=r,t[9]*=e,t[2]*=n,t[6]*=r,t[10]*=e,t[3]*=n,t[7]*=r,t[11]*=e,this},getMaxScaleOnAxis:function(){var e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],Math.max(e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10])))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(1,0,0,0,0,t,-e,0,0,e,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,0,e,0,0,1,0,0,-e,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),e=Math.sin(e);return this.set(t,-e,0,0,e,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,s=e.x,o=e.y,u=e.z,a=i*s,f=i*o;return this.set(a*s+n,a*o-r*u,a*u+r*o,0,a*o+r*u,f*o+n,f*u-r*s,0,a*u-r*o,f*u+r*s,i*u*u+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},compose:function(e,t,n){return console.warn("DEPRECATED: Matrix4's .compose() has been deprecated in favor of makeFromPositionQuaternionScale. Please update your code."),this.makeFromPositionQuaternionScale(e,t,n)},makeFromPositionQuaternionScale:function(e,t,n){return this.makeRotationFromQuaternion(t),this.scale(n),this.setPosition(e),this},makeFromPositionEulerScale:function(e,t,n,r){return this.makeRotationFromEuler(t,n),this.scale(r),this.setPosition(e),this},makeFrustum:function(e,t,n,r,i,s){var o=this.elements;return o[0]=2*i/(t-e),o[4]=0,o[8]=(t+e)/(t-e),o[12]=0,o[1]=0,o[5]=2*i/(r-n),o[9]=(r+n)/(r-n),o[13]=0,o[2]=0,o[6]=0,o[10]=-(s+i)/(s-i),o[14]=-2*s*i/(s-i),o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makePerspective:function(e,t,n,r){var e=n*Math.tan(THREE.Math.degToRad(.5*e)),i=-e;return this.makeFrustum(i*t,e*t,i,e,n,r)},makeOrthographic:function(e,t,n,r,i,s){var o=this.elements,u=t-e,a=n-r,f=s-i;return o[0]=2/u,o[4]=0,o[8]=0,o[12]=-((t+e)/u),o[1]=0,o[5]=2/a,o[9]=0,o[13]=-((n+r)/a),o[2]=0,o[6]=0,o[10]=-2/f,o[14]=-((s+i)/f),o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},clone:function(){var e=this.elements;return new THREE.Matrix4(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])}},THREE.extend(THREE.Matrix4.prototype,{decompose:function(){var e=new THREE.Vector3,t=new THREE.Vector3,n=new THREE.Vector3,r=new THREE.Matrix4;return function(i,s,o){var u=this.elements;return e.set(u[0],u[1],u[2]),t.set(u[4],u[5],u[6]),n.set(u[8],u[9],u[10]),i=i instanceof THREE.Vector3?i:new THREE.Vector3,s=s instanceof THREE.Quaternion?s:new THREE.Quaternion,o=o instanceof THREE.Vector3?o:new THREE.Vector3,o.x=e.length(),o.y=t.length(),o.z=n.length(),i.x=u[12],i.y=u[13],i.z=u[14],r.copy(this),r.elements[0]/=o.x,r.elements[1]/=o.x,r.elements[2]/=o.x,r.elements[4]/=o.y,r.elements[5]/=o.y,r.elements[6]/=o.y,r.elements[8]/=o.z,r.elements[9]/=o.z,r.elements[10]/=o.z,s.setFromRotationMatrix(r),[i,s,o]}}()}),THREE.Ray=function(e,t){this.origin=void 0!==e?e:new THREE.Vector3,this.direction=void 0!==t?t:new THREE.Vector3},THREE.Ray.prototype={constructor:THREE.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new THREE.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new THREE.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var n=t||new THREE.Vector3;n.subVectors(e,this.origin);var r=n.dot(this.direction);return n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(){var e=new THREE.Vector3;return function(t){var n=e.subVectors(t,this.origin).dot(this.direction);return e.copy(this.direction).multiplyScalar(n).add(this.origin),e.distanceTo(t)}}(),isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},isIntersectionPlane:function(e){return 0!=e.normal.dot(this.direction)||0==e.distanceToPoint(this.origin)?!0:!1},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0!=t)return-(this.origin.dot(e.normal)+e.constant)/t;if(0==e.distanceToPoint(this.origin))return 0},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return void 0===n?void 0:this.at(n,t)},applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new THREE.Ray).copy(this)}},THREE.Sphere=function(e,t){this.center=void 0!==e?e:new THREE.Vector3,this.radius=void 0!==t?t:0},THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromCenterAndPoints:function(e,t){for(var n=0,r=0,i=t.length;r<i;r++)var s=e.distanceToSquared(t[r]),n=Math.max(n,s);return this.center=e,this.radius=Math.sqrt(n),this},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return 0>=this.radius},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},clampPoint:function(e,t){var n=this.center.distanceToSquared(e),r=t||new THREE.Vector3;return r.copy(e),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(e){return e=e||new THREE.Box3,e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius*=e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new THREE.Sphere).copy(this)}},THREE.Frustum=function(e,t,n,r,i,s){this.planes=[void 0!==e?e:new THREE.Plane,void 0!==t?t:new THREE.Plane,void 0!==n?n:new THREE.Plane,void 0!==r?r:new THREE.Plane,void 0!==i?i:new THREE.Plane,void 0!==s?s:new THREE.Plane]},THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(e,t,n,r,i,s){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(s),this},copy:function(e){for(var t=this.planes,n=0;6>n;n++)t[n].copy(e.planes[n]);return this},setFromMatrix:function(e){var t=this.planes,n=e.elements,e=n[0],r=n[1],i=n[2],s=n[3],o=n[4],u=n[5],a=n[6],f=n[7],l=n[8],c=n[9],h=n[10],p=n[11],d=n[12],v=n[13],m=n[14],n=n[15];return t[0].setComponents(s-e,f-o,p-l,n-d).normalize(),t[1].setComponents(s+e,f+o,p+l,n+d).normalize(),t[2].setComponents(s+r,f+u,p+c,n+v).normalize(),t[3].setComponents(s-r,f-u,p-c,n-v).normalize(),t[4].setComponents(s-i,f-a,p-h,n-m).normalize(),t[5].setComponents(s+i,f+a,p+h,n+m).normalize(),this},intersectsObject:function(){var e=new THREE.Vector3;return function(t){var n=t.matrixWorld,r=this.planes,t=-t.geometry.boundingSphere.radius*n.getMaxScaleOnAxis();e.getPositionFromMatrix(n);for(n=0;6>n;n++)if(r[n].distanceToPoint(e)<t)return!1;return!0}}(),intersectsSphere:function(e){for(var t=this.planes,n=e.center,e=-e.radius,r=0;6>r;r++)if(t[r].distanceToPoint(n)<e)return!1;return!0},containsPoint:function(e){for(var t=this.planes,n=0;6>n;n++)if(0>t[n].distanceToPoint(e))return!1;return!0},clone:function(){return(new THREE.Frustum).copy(this)}},THREE.Plane=function(e,t){this.normal=void 0!==e?e:new THREE.Vector3(1,0,0),this.constant=void 0!==t?t:0},THREE.Plane.prototype={constructor:THREE.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(n,r,i){return r=e.subVectors(i,r).cross(t.subVectors(n,r)).normalize(),this.setFromNormalAndCoplanarPoint(r,n),this}}(),copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var n=this.distanceToPoint(e);return(t||new THREE.Vector3).copy(this.normal).multiplyScalar(n)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start),e=this.distanceToPoint(e.end);return 0>t&&0<e||0>e&&0<t},intersectLine:function(){var e=new THREE.Vector3;return function(t,n){var r=n||new THREE.Vector3,i=t.delta(e),s=this.normal.dot(i);if(0!=s)return s=-(t.start.dot(this.normal)+this.constant)/s,0>s||1<s?void 0:r.copy(i).multiplyScalar(s).add(t.start);if(0==this.distanceToPoint(t.start))return r.copy(t.start)}}(),coplanarPoint:function(e){return(e||new THREE.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(n,r){var r=r||(new THREE.Matrix3).getNormalMatrix(n),i=e.copy(this.normal).applyMatrix3(r),s=this.coplanarPoint(t);return s.applyMatrix4(n),this.setFromNormalAndCoplanarPoint(i,s),this}}(),translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant==this.constant},clone:function(){return(new THREE.Plane).copy(this)}},THREE.Math={clamp:function(e,t,n){return e<t?t:e>n?n:e},clampBottom:function(e,t){return e<t?t:e},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*(3-2*e))},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t),e*e*e*(e*(6*e-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},sign:function(e){return 0>e?-1:0<e?1:0},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}(),radToDeg:function(){var e=180/Math.PI;return function(t){return t*e}}()},THREE.Spline=function(e){function t(e,t,n,r,i,s,o){return e=.5*(n-e),r=.5*(r-t),(2*(t-n)+e+r)*o+(-3*(t-n)-2*e-r)*s+e*i+t}this.points=e;var n=[],r={x:0,y:0,z:0},i,s,o,u,a,f,l,c,h;this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return i=(this.points.length-1)*e,s=Math.floor(i),o=i-s,n[0]=0===s?s:s-1,n[1]=s,n[2]=s>this.points.length-2?this.points.length-1:s+1,n[3]=s>this.points.length-3?this.points.length-1:s+2,f=this.points[n[0]],l=this.points[n[1]],c=this.points[n[2]],h=this.points[n[3]],u=o*o,a=o*u,r.x=t(f.x,l.x,c.x,h.x,o,u,a),r.y=t(f.y,l.y,c.y,h.y,o,u,a),r.z=t(f.z,l.z,c.z,h.z,o,u,a),r},this.getControlPointsArray=function(){var e,t,n=this.points.length,r=[];for(e=0;e<n;e++)t=this.points[e],r[e]=[t.x,t.y,t.z];return r},this.getLength=function(e){var t,n,r,i=t=t=0,s=new THREE.Vector3,o=new THREE.Vector3,u=[],a=0;u[0]=0,e||(e=100),n=this.points.length*e,s.copy(this.points[0]);for(e=1;e<n;e++)t=e/n,r=this.getPoint(t),o.copy(r),a+=o.distanceTo(s),s.copy(r),t*=this.points.length-1,t=Math.floor(t),t!=i&&(u[t]=a,i=t);return u[u.length]=a,{chunks:u,total:a}},this.reparametrizeByArcLength=function(e){var t,n,r,i,s,o,u=[],a=new THREE.Vector3,f=this.getLength();u.push(a.copy(this.points[0]).clone());for(t=1;t<this.points.length;t++){n=f.chunks[t]-f.chunks[t-1],o=Math.ceil(e*n/f.total),i=(t-1)/(this.points.length-1),s=t/(this.points.length-1);for(n=1;n<o-1;n++)r=i+n*(1/o)*(s-i),r=this.getPoint(r),u.push(a.copy(r).clone());u.push(a.copy(this.points[t]).clone())}this.points=u}},THREE.Triangle=function(e,t,n){this.a=void 0!==e?e:new THREE.Vector3,this.b=void 0!==t?t:new THREE.Vector3,this.c=void 0!==n?n:new THREE.Vector3},THREE.Triangle.normal=function(){var e=new THREE.Vector3;return function(t,n,r,i){return i=i||new THREE.Vector3,i.subVectors(r,n),e.subVectors(t,n),i.cross(e),t=i.lengthSq(),0<t?i.multiplyScalar(1/Math.sqrt(t)):i.set(0,0,0)}}(),THREE.Triangle.barycoordFromPoint=function(){var e=new THREE.Vector3,t=new THREE.Vector3,n=new THREE.Vector3;return function(r,i,s,o,u){e.subVectors(o,i),t.subVectors(s,i),n.subVectors(r,i);var r=e.dot(e),i=e.dot(t),s=e.dot(n),f=t.dot(t),o=t.dot(n),l=r*f-i*i,u=u||new THREE.Vector3;return 0==l?u.set(-2,-1,-1):(l=1/l,f=(f*s-i*o)*l,r=(r*o-i*s)*l,u.set(1-f-r,r,f))}}(),THREE.Triangle.containsPoint=function(){var e=new THREE.Vector3;return function(t,n,r,i){return t=THREE.Triangle.barycoordFromPoint(t,n,r,i,e),0<=t.x&&0<=t.y&&1>=t.x+t.y}}(),THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){return(e||new THREE.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return THREE.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new THREE.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return THREE.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return THREE.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)},clone:function(){return(new THREE.Triangle).copy(this)}},THREE.Vertex=function(e){return console.warn("THREE.Vertex has been DEPRECATED. Use THREE.Vector3 instead."),e},THREE.UV=function(e,t){return console.warn("THREE.UV has been DEPRECATED. Use THREE.Vector2 instead."),new THREE.Vector2(e,t)},THREE.Clock=function(e){this.autoStart=void 0!==e?e:!0,this.elapsedTime=this.oldTime=this.startTime=0,this.running=!1},THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.oldTime=this.startTime=void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;this.autoStart&&!this.running&&this.start();if(this.running){var t=void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),e=.001*(t-this.oldTime);this.oldTime=t,this.elapsedTime+=e}return e}},THREE.EventDispatcher=function(){},THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)?!0:!1},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners,r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=0,r=t.length;n<r;n++)t[n].call(this,e)}}}},function(e){e.Raycaster=function(t,n,r,i){this.ray=new e.Ray(t,n),0<this.ray.direction.lengthSq()&&this.ray.direction.normalize(),this.near=r||0,this.far=i||Infinity};var t=new e.Sphere,n=new e.Ray,r=new e.Plane,i=new e.Vector3,s=new e.Vector3,o=new e.Matrix4,u=function(e,t){return e.distance-t.distance},a=function(u,f,l){if(u instanceof e.Particle){s.getPositionFromMatrix(u.matrixWorld);var h=f.ray.distanceToPoint(s);if(h>u.scale.x)return l;l.push({distance:h,point:u.position,face:null,object:u})}else if(u instanceof e.LOD)s.getPositionFromMatrix(u.matrixWorld),h=f.ray.origin.distanceTo(s),a(u.getObjectForDistance(h),f,l);else if(u instanceof e.Mesh){s.getPositionFromMatrix(u.matrixWorld),t.set(s,u.geometry.boundingSphere.radius*u.matrixWorld.getMaxScaleOnAxis());if(!f.ray.isIntersectionSphere(t))return l;var h=u.geometry,p=h.vertices,v=u.material instanceof e.MeshFaceMaterial,m=!0===v?u.material.materials:null,y=u.material.side,w,E,S,x=f.precision;o.getInverse(u.matrixWorld),n.copy(f.ray).applyMatrix4(o);for(var T=0,N=h.faces.length;T<N;T++){var C=h.faces[T],y=!0===v?m[C.materialIndex]:u.material;if(void 0!==y){r.setFromNormalAndCoplanarPoint(C.normal,p[C.a]);var k=n.distanceToPlane(r);if(!(Math.abs(k)<x)&&!(0>k)){y=y.side;if(!(y===e.DoubleSide||(w=n.direction.dot(r.normal),y===e.FrontSide?0>w:0<w)))continue;if(!(k<f.near||k>f.far)){i=n.at(k,i);if(C instanceof e.Face3){if(y=p[C.a],w=p[C.b],E=p[C.c],!e.Triangle.containsPoint(i,y,w,E))continue}else{if(!(C instanceof e.Face4))throw Error("face type not supported");if(y=p[C.a],w=p[C.b],E=p[C.c],S=p[C.d],!e.Triangle.containsPoint(i,y,w,S)&&!e.Triangle.containsPoint(i,w,E,S))continue}l.push({distance:k,point:f.ray.at(k),face:C,faceIndex:T,object:u})}}}}}},f=function(e,t,n){for(var e=e.getDescendants(),r=0,i=e.length;r<i;r++)a(e[r],t,n)};e.Raycaster.prototype.precision=1e-4,e.Raycaster.prototype.set=function(e,t){this.ray.set(e,t),0<this.ray.direction.length()&&this.ray.direction.normalize()},e.Raycaster.prototype.intersectObject=function(e,t){var n=[];return!0===t&&f(e,this,n),a(e,this,n),n.sort(u),n},e.Raycaster.prototype.intersectObjects=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)a(e[r],this,n),!0===t&&f(e[r],this,n);return n.sort(u),n}}(THREE),THREE.Object3D=function(){this.id=THREE.Object3DIdCount++,this.name="",this.parent=void 0,this.children=[],this.up=new THREE.Vector3(0,1,0),this.position=new THREE.Vector3,this.rotation=new THREE.Vector3,this.eulerOrder=THREE.Object3D.defaultEulerOrder,this.scale=new THREE.Vector3(1,1,1),this.renderDepth=null,this.rotationAutoUpdate=!0,this.matrix=new THREE.Matrix4,this.matrixWorld=new THREE.Matrix4,this.matrixWorldNeedsUpdate=this.matrixAutoUpdate=!0,this.quaternion=new THREE.Quaternion,this.useQuaternion=!1,this.visible=!0,this.receiveShadow=this.castShadow=!1,this.frustumCulled=!0,this.userData={}},THREE.Object3D.prototype={constructor:THREE.Object3D,applyMatrix:function(){var e=new THREE.Matrix4;return function(t){this.matrix.multiplyMatrices(t,this.matrix),this.position.getPositionFromMatrix(this.matrix),this.scale.getScaleFromMatrix(this.matrix),e.extractRotation(this.matrix),!0===this.useQuaternion?this.quaternion.setFromRotationMatrix(e):this.rotation.setEulerFromRotationMatrix(e,this.eulerOrder)}}(),rotateOnAxis:function(){var e=new THREE.Quaternion,t=new THREE.Quaternion;return function(n,r){return e.setFromAxisAngle(n,r),!0===this.useQuaternion?this.quaternion.multiply(e):(t.setFromEuler(this.rotation,this.eulerOrder),t.multiply(e),this.rotation.setEulerFromQuaternion(t,this.eulerOrder)),this}}(),translateOnAxis:function(){var e=new THREE.Vector3;return function(t,n){return e.copy(t),!0===this.useQuaternion?e.applyQuaternion(this.quaternion):e.applyEuler(this.rotation,this.eulerOrder),this.position.add(e.multiplyScalar(n)),this}}(),translate:function(e,t){return console.warn("DEPRECATED: Object3D's .translate() has been removed. Use .translateOnAxis( axis, distance ) instead. Note args have been changed."),this.translateOnAxis(t,e)},translateX:function(){var e=new THREE.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new THREE.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new THREE.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new THREE.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new THREE.Matrix4;return function(t){e.lookAt(t,this.position,this.up),!0===this.useQuaternion?this.quaternion.setFromRotationMatrix(e):this.rotation.setEulerFromRotationMatrix(e,this.eulerOrder)}}(),add:function(e){if(e===this)console.warn("THREE.Object3D.add: An object can't be added as a child of itself.");else if(e instanceof THREE.Object3D){void 0!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e);for(var t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof THREE.Scene&&t.__addObject(e)}},remove:function(e){var t=this.children.indexOf(e);if(-1!==t){e.parent=void 0,this.children.splice(t,1);for(t=this;void 0!==t.parent;)t=t.parent;void 0!==t&&t instanceof THREE.Scene&&t.__removeObject(e)}},traverse:function(e){e(this);for(var t=0,n=this.children.length;t<n;t++)this.children[t].traverse(e)},getObjectById:function(e,t){for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n];if(i.id===e||!0===t&&(i=i.getObjectById(e,t),void 0!==i))return i}},getObjectByName:function(e,t){for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n];if(i.name===e||!0===t&&(i=i.getObjectByName(e,t),void 0!==i))return i}},getChildByName:function(e,t){return console.warn("DEPRECATED: Object3D's .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e,t)},getDescendants:function(e){void 0===e&&(e=[]),Array.prototype.push.apply(e,this.children);for(var t=0,n=this.children.length;t<n;t++)this.children[t].getDescendants(e);return e},updateMatrix:function(){!1===this.useQuaternion?this.matrix.makeFromPositionEulerScale(this.position,this.rotation,this.eulerOrder,this.scale):this.matrix.makeFromPositionQuaternionScale(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===e)void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0;for(var t=0,n=this.children.length;t<n;t++)this.children[t].updateMatrixWorld(e)},clone:function(e){void 0===e&&(e=new THREE.Object3D),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.rotation instanceof THREE.Vector3&&e.rotation.copy(this.rotation),e.eulerOrder=this.eulerOrder,e.scale.copy(this.scale),e.renderDepth=this.renderDepth,e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.quaternion.copy(this.quaternion),e.useQuaternion=this.useQuaternion,e.visible=this.visible,e.castShadow=this.castShadow,e.receiveShadow=this.receiveShadow,e.frustumCulled=this.frustumCulled,e.userData=JSON.parse(JSON.stringify(this.userData));for(var t=0;t<this.children.length;t++)e.add(this.children[t].clone());return e}},THREE.Object3D.defaultEulerOrder="XYZ",THREE.Object3DIdCount=0,THREE.Projector=function(){function e(){if(s===u){var e=new THREE.RenderableObject;return o.push(e),u++,s++,e}return o[s++]}function t(){if(f===c){var e=new THREE.RenderableVertex;return l.push(e),c++,f++,e}return l[f++]}function n(e,t){return t.z-e.z}function r(e,t){var n=0,r=1,i=e.z+e.w,s=t.z+t.w,o=-e.z+e.w,u=-t.z+t.w;return 0<=i&&0<=s&&0<=o&&0<=u?!0:0>i&&0>s||0>o&&0>u?!1:(0>i?n=Math.max(n,i/(i-s)):0>s&&(r=Math.min(r,i/(i-s))),0>o?n=Math.max(n,o/(o-u)):0>u&&(r=Math.min(r,o/(o-u))),r<n?!1:(e.lerp(t,n),t.lerp(e,1-r),!0))}var i,s,o=[],u=0,a,f,l=[],c=0,h,p,d=[],v=0,m,g=[],y=0,b,w,E=[],S=0,x,T,N=[],C=0,k={objects:[],sprites:[],lights:[],elements:[]},L=new THREE.Vector3,A=new THREE.Vector4,O=new THREE.Box3(new THREE.Vector3(-1,-1,-1),new THREE.Vector3(1,1,1)),M=new THREE.Box3,_=Array(3),D=Array(4),P=new THREE.Matrix4,H=new THREE.Matrix4,B,j=new THREE.Matrix4,F=new THREE.Matrix3,I=new THREE.Matrix3,q=new THREE.Vector3,R=new THREE.Frustum,U=new THREE.Vector4,z=new THREE.Vector4;this.projectVector=function(e,t){return t.matrixWorldInverse.getInverse(t.matrixWorld),H.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),e.applyProjection(H)},this.unprojectVector=function(e,t){return t.projectionMatrixInverse.getInverse(t.projectionMatrix),H.multiplyMatrices(t.matrixWorld,t.projectionMatrixInverse),e.applyProjection(H)},this.pickingRay=function(e,t){e.z=-1;var n=new THREE.Vector3(e.x,e.y,1);return this.unprojectVector(e,t),this.unprojectVector(n,t),n.sub(e).normalize(),new THREE.Raycaster(e,n)},this.projectScene=function(o,u,c,W){var X=!1,$,Q,Y,Z,et,tt,nt,rt,it,st,ot,ut,at;T=w=m=p=0,k.elements.length=0,!0===o.autoUpdate&&o.updateMatrixWorld(),void 0===u.parent&&u.updateMatrixWorld(),P.copy(u.matrixWorldInverse.getInverse(u.matrixWorld)),H.multiplyMatrices(u.projectionMatrix,P),I.getNormalMatrix(P),R.setFromMatrix(H),s=0,k.objects.length=0,k.sprites.length=0,k.lights.length=0;var ft=function(t){for(var n=0,r=t.children.length;n<r;n++){var s=t.children[n];if(!1!==s.visible){if(s instanceof THREE.Light)k.lights.push(s);else if(s instanceof THREE.Mesh||s instanceof THREE.Line){if(!1===s.frustumCulled||!0===R.intersectsObject(s))i=e(),i.object=s,null!==s.renderDepth?i.z=s.renderDepth:(L.getPositionFromMatrix(s.matrixWorld),L.applyProjection(H),i.z=L.z),k.objects.push(i)}else s instanceof THREE.Sprite||s instanceof THREE.Particle?(i=e(),i.object=s,null!==s.renderDepth?i.z=s.renderDepth:(L.getPositionFromMatrix(s.matrixWorld),L.applyProjection(H),i.z=L.z),k.sprites.push(i)):(i=e(),i.object=s,null!==s.renderDepth?i.z=s.renderDepth:(L.getPositionFromMatrix(s.matrixWorld),L.applyProjection(H),i.z=L.z),k.objects.push(i));ft(s)}}};ft(o),!0===c&&k.objects.sort(n),o=0;for(c=k.objects.length;o<c;o++)if(rt=k.objects[o].object,B=rt.matrixWorld,f=0,rt instanceof THREE.Mesh){it=rt.geometry,Y=it.vertices,st=it.faces,it=it.faceVertexUvs,F.getNormalMatrix(B),ut=rt.material instanceof THREE.MeshFaceMaterial,at=!0===ut?rt.material:null,$=0;for(Q=Y.length;$<Q;$++)a=t(),a.positionWorld.copy(Y[$]).applyMatrix4(B),a.positionScreen.copy(a.positionWorld).applyMatrix4(H),a.positionScreen.x/=a.positionScreen.w,a.positionScreen.y/=a.positionScreen.w,a.positionScreen.z/=a.positionScreen.w,a.visible=!(-1>a.positionScreen.x||1<a.positionScreen.x||-1>a.positionScreen.y||1<a.positionScreen.y||-1>a.positionScreen.z||1<a.positionScreen.z);Y=0;for($=st.length;Y<$;Y++){Q=st[Y];var lt=!0===ut?at.materials[Q.materialIndex]:rt.material;if(void 0!==lt){tt=lt.side;if(Q instanceof THREE.Face3){if(Z=l[Q.a],et=l[Q.b],nt=l[Q.c],_[0]=Z.positionScreen,_[1]=et.positionScreen,_[2]=nt.positionScreen,!0!==Z.visible&&!0!==et.visible&&!0!==nt.visible&&!O.isIntersectionBox(M.setFromPoints(_)))continue;if(X=0>(nt.positionScreen.x-Z.positionScreen.x)*(et.positionScreen.y-Z.positionScreen.y)-(nt.positionScreen.y-Z.positionScreen.y)*(et.positionScreen.x-Z.positionScreen.x),tt!==THREE.DoubleSide&&X!==(tt===THREE.FrontSide))continue;p===v?(ot=new THREE.RenderableFace3,d.push(ot),v++,p++,h=ot):h=d[p++],h.v1.copy(Z),h.v2.copy(et),h.v3.copy(nt)}else if(Q instanceof THREE.Face4){if(Z=l[Q.a],et=l[Q.b],nt=l[Q.c],ot=l[Q.d],D[0]=Z.positionScreen,D[1]=et.positionScreen,D[2]=nt.positionScreen,D[3]=ot.positionScreen,!0!==Z.visible&&!0!==et.visible&&!0!==nt.visible&&!0!==ot.visible&&!O.isIntersectionBox(M.setFromPoints(D)))continue;if(X=0>(ot.positionScreen.x-Z.positionScreen.x)*(et.positionScreen.y-Z.positionScreen.y)-(ot.positionScreen.y-Z.positionScreen.y)*(et.positionScreen.x-Z.positionScreen.x)||0>(et.positionScreen.x-nt.positionScreen.x)*(ot.positionScreen.y-nt.positionScreen.y)-(et.positionScreen.y-nt.positionScreen.y)*(ot.positionScreen.x-nt.positionScreen.x),tt!==THREE.DoubleSide&&X!==(tt===THREE.FrontSide))continue;if(m===y){var ct=new THREE.RenderableFace4;g.push(ct),y++,m++,h=ct}else h=g[m++];h.v1.copy(Z),h.v2.copy(et),h.v3.copy(nt),h.v4.copy(ot)}h.normalModel.copy(Q.normal),!1===X&&(tt===THREE.BackSide||tt===THREE.DoubleSide)&&h.normalModel.negate(),h.normalModel.applyMatrix3(F).normalize(),h.normalModelView.copy(h.normalModel).applyMatrix3(I),h.centroidModel.copy(Q.centroid).applyMatrix4(B),nt=Q.vertexNormals,Z=0;for(et=nt.length;Z<et;Z++)ot=h.vertexNormalsModel[Z],ot.copy(nt[Z]),!1===X&&(tt===THREE.BackSide||tt===THREE.DoubleSide)&&ot.negate(),ot.applyMatrix3(F).normalize(),h.vertexNormalsModelView[Z].copy(ot).applyMatrix3(I);h.vertexNormalsLength=nt.length,Z=0;for(et=it.length;Z<et;Z++)if(ot=it[Z][Y],void 0!==ot){tt=0;for(nt=ot.length;tt<nt;tt++)h.uvs[Z][tt]=ot[tt]}h.color=Q.color,h.material=lt,q.copy(h.centroidModel).applyProjection(H),h.z=q.z,k.elements.push(h)}}}else if(rt instanceof THREE.Line){j.multiplyMatrices(H,B),Y=rt.geometry.vertices,Z=t(),Z.positionScreen.copy(Y[0]).applyMatrix4(j),st=rt.type===THREE.LinePieces?2:1,$=1;for(Q=Y.length;$<Q;$++)Z=t(),Z.positionScreen.copy(Y[$]).applyMatrix4(j),0<($+1)%st||(et=l[f-2],U.copy(Z.positionScreen),z.copy(et.positionScreen),!0===r(U,z)&&(U.multiplyScalar(1/U.w),z.multiplyScalar(1/z.w),w===S?(it=new THREE.RenderableLine,E.push(it),S++,w++,b=it):b=E[w++],b.v1.positionScreen.copy(U),b.v2.positionScreen.copy(z),b.z=Math.max(U.z,z.z),b.material=rt.material,rt.material.vertexColors===THREE.VertexColors&&(b.vertexColors[0].copy(rt.geometry.colors[$]),b.vertexColors[1].copy(rt.geometry.colors[$-1])),k.elements.push(b)))}o=0;for(c=k.sprites.length;o<c;o++)rt=k.sprites[o].object,B=rt.matrixWorld,rt instanceof THREE.Particle&&(A.set(B.elements[12],B.elements[13],B.elements[14],1),A.applyMatrix4(H),A.z/=A.w,0<A.z&&1>A.z&&(T===C?(X=new THREE.RenderableParticle,N.push(X),C++,T++,x=X):x=N[T++],x.object=rt,x.x=A.x/A.w,x.y=A.y/A.w,x.z=A.z,x.rotation=rt.rotation.z,x.scale.x=rt.scale.x*Math.abs(x.x-(A.x+u.projectionMatrix.elements[0])/(A.w+u.projectionMatrix.elements[12])),x.scale.y=rt.scale.y*Math.abs(x.y-(A.y+u.projectionMatrix.elements[5])/(A.w+u.projectionMatrix.elements[13])),x.material=rt.material,k.elements.push(x)));return!0===W&&k.elements.sort(n),k}},THREE.Face3=function(e,t,n,r,i,s){this.a=e,this.b=t,this.c=n,this.normal=r instanceof THREE.Vector3?r:new THREE.Vector3,this.vertexNormals=r instanceof Array?r:[],this.color=i instanceof THREE.Color?i:new THREE.Color,this.vertexColors=i instanceof Array?i:[],this.vertexTangents=[],this.materialIndex=void 0!==s?s:0,this.centroid=new THREE.Vector3},THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var e=new THREE.Face3(this.a,this.b,this.c);e.normal.copy(this.normal),e.color.copy(this.color),e.centroid.copy(this.centroid),e.materialIndex=this.materialIndex;var t,n;t=0;for(n=this.vertexNormals.length;t<n;t++)e.vertexNormals[t]=this.vertexNormals[t].clone();t=0;for(n=this.vertexColors.length;t<n;t++)e.vertexColors[t]=this.vertexColors[t].clone();t=0;for(n=this.vertexTangents.length;t<n;t++)e.vertexTangents[t]=this.vertexTangents[t].clone();return e}},THREE.Face4=function(e,t,n,r,i,s,o){this.a=e,this.b=t,this.c=n,this.d=r,this.normal=i instanceof THREE.Vector3?i:new THREE.Vector3,this.vertexNormals=i instanceof Array?i:[],this.color=s instanceof THREE.Color?s:new THREE.Color,this.vertexColors=s instanceof Array?s:[],this.vertexTangents=[],this.materialIndex=void 0!==o?o:0,this.centroid=new THREE.Vector3},THREE.Face4.prototype={constructor:THREE.Face4,clone:function(){var e=new THREE.Face4(this.a,this.b,this.c,this.d);e.normal.copy(this.normal),e.color.copy(this.color),e.centroid.copy(this.centroid),e.materialIndex=this.materialIndex;var t,n;t=0;for(n=this.vertexNormals.length;t<n;t++)e.vertexNormals[t]=this.vertexNormals[t].clone();t=0;for(n=this.vertexColors.length;t<n;t++)e.vertexColors[t]=this.vertexColors[t].clone();t=0;for(n=this.vertexTangents.length;t<n;t++)e.vertexTangents[t]=this.vertexTangents[t].clone();return e}},THREE.Geometry=function(){this.id=THREE.GeometryIdCount++,this.name="",this.vertices=[],this.colors=[],this.normals=[],this.faces=[],this.faceUvs=[[]],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingSphere=this.boundingBox=null,this.hasTangents=!1,this.dynamic=!0,this.buffersNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.tangentsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1},THREE.Geometry.prototype={constructor:THREE.Geometry,addEventListener:THREE.EventDispatcher.prototype.addEventListener,hasEventListener:THREE.EventDispatcher.prototype.hasEventListener,removeEventListener:THREE.EventDispatcher.prototype.removeEventListener,dispatchEvent:THREE.EventDispatcher.prototype.dispatchEvent,applyMatrix:function(e){for(var t=(new THREE.Matrix3).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++)this.vertices[n].applyMatrix4(e);n=0;for(r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(t).normalize();for(var s=0,o=i.vertexNormals.length;s<o;s++)i.vertexNormals[s].applyMatrix3(t).normalize();i.centroid.applyMatrix4(e)}},computeCentroids:function(){var e,t,n;e=0;for(t=this.faces.length;e<t;e++)n=this.faces[e],n.centroid.set(0,0,0),n instanceof THREE.Face3?(n.centroid.add(this.vertices[n.a]),n.centroid.add(this.vertices[n.b]),n.centroid.add(this.vertices[n.c]),n.centroid.divideScalar(3)):n instanceof THREE.Face4&&(n.centroid.add(this.vertices[n.a]),n.centroid.add(this.vertices[n.b]),n.centroid.add(this.vertices[n.c]),n.centroid.add(this.vertices[n.d]),n.centroid.divideScalar(4))},computeFaceNormals:function(){for(var e=new THREE.Vector3,t=new THREE.Vector3,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],s=this.vertices[i.a],o=this.vertices[i.b];e.subVectors(this.vertices[i.c],o),t.subVectors(s,o),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,n,r,i;if(void 0===this.__tmpVertices){i=this.__tmpVertices=Array(this.vertices.length),t=0;for(n=this.vertices.length;t<n;t++)i[t]=new THREE.Vector3;t=0;for(n=this.faces.length;t<n;t++)r=this.faces[t],r instanceof THREE.Face3?r.vertexNormals=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]:r instanceof THREE.Face4&&(r.vertexNormals=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3])}else{i=this.__tmpVertices,t=0;for(n=this.vertices.length;t<n;t++)i[t].set(0,0,0)}if(e){var s,o,u,a=new THREE.Vector3,f=new THREE.Vector3,l=new THREE.Vector3,c=new THREE.Vector3,h=new THREE.Vector3;t=0;for(n=this.faces.length;t<n;t++)r=this.faces[t],r instanceof THREE.Face3?(e=this.vertices[r.a],s=this.vertices[r.b],o=this.vertices[r.c],a.subVectors(o,s),f.subVectors(e,s),a.cross(f),i[r.a].add(a),i[r.b].add(a),i[r.c].add(a)):r instanceof THREE.Face4&&(e=this.vertices[r.a],s=this.vertices[r.b],o=this.vertices[r.c],u=this.vertices[r.d],l.subVectors(u,s),f.subVectors(e,s),l.cross(f),i[r.a].add(l),i[r.b].add(l),i[r.d].add(l),c.subVectors(u,o),h.subVectors(s,o),c.cross(h),i[r.b].add(c),i[r.c].add(c),i[r.d].add(c))}else{t=0;for(n=this.faces.length;t<n;t++)r=this.faces[t],r instanceof THREE.Face3?(i[r.a].add(r.normal),i[r.b].add(r.normal),i[r.c].add(r.normal)):r instanceof THREE.Face4&&(i[r.a].add(r.normal),i[r.b].add(r.normal),i[r.c].add(r.normal),i[r.d].add(r.normal))}t=0;for(n=this.vertices.length;t<n;t++)i[t].normalize();t=0;for(n=this.faces.length;t<n;t++)r=this.faces[t],r instanceof THREE.Face3?(r.vertexNormals[0].copy(i[r.a]),r.vertexNormals[1].copy(i[r.b]),r.vertexNormals[2].copy(i[r.c])):r instanceof THREE.Face4&&(r.vertexNormals[0].copy(i[r.a]),r.vertexNormals[1].copy(i[r.b]),r.vertexNormals[2].copy(i[r.c]),r.vertexNormals[3].copy(i[r.d]))},computeMorphNormals:function(){var e,t,n,r,i;n=0;for(r=this.faces.length;n<r;n++){i=this.faces[n],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0;for(t=i.vertexNormals.length;e<t;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone()}var s=new THREE.Geometry;s.faces=this.faces,e=0;for(t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,u=this.morphNormals[e].vertexNormals,a,f;n=0;for(r=this.faces.length;n<r;n++)i=this.faces[n],a=new THREE.Vector3,f=i instanceof THREE.Face3?{a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3}:{a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3,d:new THREE.Vector3},o.push(a),u.push(f)}o=this.morphNormals[e],s.vertices=this.morphTargets[e].vertices,s.computeFaceNormals(),s.computeVertexNormals(),n=0;for(r=this.faces.length;n<r;n++)i=this.faces[n],a=o.faceNormals[n],f=o.vertexNormals[n],a.copy(i.normal),i instanceof THREE.Face3?(f.a.copy(i.vertexNormals[0]),f.b.copy(i.vertexNormals[1]),f.c.copy(i.vertexNormals[2])):(f.a.copy(i.vertexNormals[0]),f.b.copy(i.vertexNormals[1]),f.c.copy(i.vertexNormals[2]),f.d.copy(i.vertexNormals[3]))}n=0;for(r=this.faces.length;n<r;n++)i=this.faces[n],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeTangents:function(){function e(e,t,n,r,i,s,T){u=e.vertices[t],a=e.vertices[n],f=e.vertices[r],l=o[i],c=o[s],h=o[T],p=a.x-u.x,d=f.x-u.x,v=a.y-u.y,m=f.y-u.y,g=a.z-u.z,y=f.z-u.z,b=c.x-l.x,w=h.x-l.x,E=c.y-l.y,S=h.y-l.y,x=1/(b*S-w*E),k.set((S*p-E*d)*x,(S*v-E*m)*x,(S*g-E*y)*x),L.set((b*d-w*p)*x,(b*m-w*v)*x,(b*y-w*g)*x),N[t].add(k),N[n].add(k),N[r].add(k),C[t].add(L),C[n].add(L),C[r].add(L)}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N=[],C=[],k=new THREE.Vector3,L=new THREE.Vector3,A=new THREE.Vector3,O=new THREE.Vector3,M=new THREE.Vector3;t=0;for(n=this.vertices.length;t<n;t++)N[t]=new THREE.Vector3,C[t]=new THREE.Vector3;t=0;for(n=this.faces.length;t<n;t++)s=this.faces[t],o=this.faceVertexUvs[0][t],s instanceof THREE.Face3?e(this,s.a,s.b,s.c,0,1,2):s instanceof THREE.Face4&&(e(this,s.a,s.b,s.d,0,1,3),e(this,s.b,s.c,s.d,1,2,3));var _=["a","b","c","d"];t=0;for(n=this.faces.length;t<n;t++){s=this.faces[t];for(r=0;r<s.vertexNormals.length;r++)M.copy(s.vertexNormals[r]),i=s[_[r]],T=N[i],A.copy(T),A.sub(M.multiplyScalar(M.dot(T))).normalize(),O.crossVectors(s.vertexNormals[r],T),i=O.dot(C[i]),i=0>i?-1:1,s.vertexTangents[r]=new THREE.Vector4(A.x,A.y,A.z,i)}this.hasTangents=!0},computeLineDistances:function(){for(var e=0,t=this.vertices,n=0,r=t.length;n<r;n++)0<n&&(e+=t[n].distanceTo(t[n-1])),this.lineDistances[n]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),this.boundingSphere.setFromCenterAndPoints(this.boundingSphere.center,this.vertices)},mergeVertices:function(){var e={},t=[],n=[],r,i=Math.pow(10,4),s,o,u,a,f;this.__tmpVertices=void 0,s=0;for(o=this.vertices.length;s<o;s++)r=this.vertices[s],r=[Math.round(r.x*i),Math.round(r.y*i),Math.round(r.z*i)].join("_"),void 0===e[r]?(e[r]=s,t.push(this.vertices[s]),n[s]=t.length-1):n[s]=n[e[r]];i=[],s=0;for(o=this.faces.length;s<o;s++)if(e=this.faces[s],e instanceof THREE.Face3){e.a=n[e.a],e.b=n[e.b],e.c=n[e.c],u=[e.a,e.b,e.c],r=-1;for(a=0;3>a;a++)if(u[a]==u[(a+1)%3]){i.push(s);break}}else if(e instanceof THREE.Face4){e.a=n[e.a],e.b=n[e.b],e.c=n[e.c],e.d=n[e.d],u=[e.a,e.b,e.c,e.d],r=-1;for(a=0;4>a;a++)u[a]==u[(a+1)%4]&&(0<=r&&i.push(s),r=a);if(0<=r){u.splice(r,1);var l=new THREE.Face3(u[0],u[1],u[2],e.normal,e.color,e.materialIndex);u=0;for(a=this.faceVertexUvs.length;u<a;u++)(f=this.faceVertexUvs[u][s])&&f.splice(r,1);e.vertexNormals&&0<e.vertexNormals.length&&(l.vertexNormals=e.vertexNormals,l.vertexNormals.splice(r,1)),e.vertexColors&&0<e.vertexColors.length&&(l.vertexColors=e.vertexColors,l.vertexColors.splice(r,1)),this.faces[s]=l}}for(s=i.length-1;0<=s;s--){this.faces.splice(s,1),u=0;for(a=this.faceVertexUvs.length;u<a;u++)this.faceVertexUvs[u].splice(s,1)}return n=this.vertices.length-t.length,this.vertices=t,n},clone:function(){for(var e=new THREE.Geometry,t=this.vertices,n=0,r=t.length;n<r;n++)e.vertices.push(t[n].clone());t=this.faces,n=0;for(r=t.length;n<r;n++)e.faces.push(t[n].clone());t=this.faceVertexUvs[0],n=0;for(r=t.length;n<r;n++){for(var i=t[n],s=[],o=0,u=i.length;o<u;o++)s.push(new THREE.Vector2(i[o].x,i[o].y));e.faceVertexUvs[0].push(s)}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.GeometryIdCount=0,THREE.BufferGeometry=function(){this.id=THREE.GeometryIdCount++,this.attributes={},this.dynamic=!1,this.offsets=[],this.boundingSphere=this.boundingBox=null,this.hasTangents=!1,this.morphTargets=[]},THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addEventListener:THREE.EventDispatcher.prototype.addEventListener,hasEventListener:THREE.EventDispatcher.prototype.hasEventListener,removeEventListener:THREE.EventDispatcher.prototype.removeEventListener,dispatchEvent:THREE.EventDispatcher.prototype.dispatchEvent,applyMatrix:function(e){var t,n;this.attributes.position&&(t=this.attributes.position.array),this.attributes.normal&&(n=this.attributes.normal.array),void 0!==t&&(e.multiplyVector3Array(t),this.verticesNeedUpdate=!0),void 0!==n&&((new THREE.Matrix3).getNormalMatrix(e).multiplyVector3Array(n),this.normalizeNormals(),this.normalsNeedUpdate=!0)},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var e=this.attributes.position.array;if(e){var t=this.boundingBox,n,r,i;3<=e.length&&(t.min.x=t.max.x=e[0],t.min.y=t.max.y=e[1],t.min.z=t.max.z=e[2]);for(var s=3,o=e.length;s<o;s+=3)n=e[s],r=e[s+1],i=e[s+2],n<t.min.x?t.min.x=n:n>t.max.x&&(t.max.x=n),r<t.min.y?t.min.y=r:r>t.max.y&&(t.max.y=r),i<t.min.z?t.min.z=i:i>t.max.z&&(t.max.z=i)}if(void 0===e||0===e.length)this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var e=this.attributes.position.array;if(e){for(var t,n=0,r,i,s=0,o=e.length;s<o;s+=3)t=e[s],r=e[s+1],i=e[s+2],t=t*t+r*r+i*i,t>n&&(n=t);this.boundingSphere.radius=Math.sqrt(n)}},computeVertexNormals:function(){if(this.attributes.position){var e,t,n,r;e=this.attributes.position.array.length;if(void 0===this.attributes.normal)this.attributes.normal={itemSize:3,array:new Float32Array(e),numItems:e};else{e=0;for(t=this.attributes.normal.array.length;e<t;e++)this.attributes.normal.array[e]=0}var i=this.attributes.position.array,s=this.attributes.normal.array,o,u,a,f,l,c,h=new THREE.Vector3,p=new THREE.Vector3,d=new THREE.Vector3,v=new THREE.Vector3,m=new THREE.Vector3;if(this.attributes.index){var g=this.attributes.index.array,y=this.offsets;n=0;for(r=y.length;n<r;++n){t=y[n].start,o=y[n].count;var b=y[n].index;e=t;for(t+=o;e<t;e+=3)o=b+g[e],u=b+g[e+1],a=b+g[e+2],f=i[3*o],l=i[3*o+1],c=i[3*o+2],h.set(f,l,c),f=i[3*u],l=i[3*u+1],c=i[3*u+2],p.set(f,l,c),f=i[3*a],l=i[3*a+1],c=i[3*a+2],d.set(f,l,c),v.subVectors(d,p),m.subVectors(h,p),v.cross(m),s[3*o]+=v.x,s[3*o+1]+=v.y,s[3*o+2]+=v.z,s[3*u]+=v.x,s[3*u+1]+=v.y,s[3*u+2]+=v.z,s[3*a]+=v.x,s[3*a+1]+=v.y,s[3*a+2]+=v.z}}else{e=0;for(t=i.length;e<t;e+=9)f=i[e],l=i[e+1],c=i[e+2],h.set(f,l,c),f=i[e+3],l=i[e+4],c=i[e+5],p.set(f,l,c),f=i[e+6],l=i[e+7],c=i[e+8],d.set(f,l,c),v.subVectors(d,p),m.subVectors(h,p),v.cross(m),s[e]=v.x,s[e+1]=v.y,s[e+2]=v.z,s[e+3]=v.x,s[e+4]=v.y,s[e+5]=v.z,s[e+6]=v.x,s[e+7]=v.y,s[e+8]=v.z}this.normalizeNormals(),this.normalsNeedUpdate=!0}},normalizeNormals:function(){for(var e=this.attributes.normal.array,t,n,r,i=0,s=e.length;i<s;i+=3)t=e[i],n=e[i+1],r=e[i+2],t=1/Math.sqrt(t*t+n*n+r*r),e[i]*=t,e[i+1]*=t,e[i+2]*=t},computeTangents:function(){function e(e){B.x=r[3*e],B.y=r[3*e+1],B.z=r[3*e+2],j.copy(B),I=a[e],P.copy(I),P.sub(B.multiplyScalar(B.dot(I))).normalize(),H.crossVectors(j,I),q=H.dot(f[e]),F=0>q?-1:1,u[4*e]=P.x,u[4*e+1]=P.y,u[4*e+2]=P.z,u[4*e+3]=F}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");else{var t=this.attributes.index.array,n=this.attributes.position.array,r=this.attributes.normal.array,i=this.attributes.uv.array,s=n.length/3;if(void 0===this.attributes.tangent){var o=4*s;this.attributes.tangent={itemSize:4,array:new Float32Array(o),numItems:o}}for(var u=this.attributes.tangent.array,a=[],f=[],o=0;o<s;o++)a[o]=new THREE.Vector3,f[o]=new THREE.Vector3;var l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,s=new THREE.Vector3,o=new THREE.Vector3,N,C,k,L,A,O,M,_=this.offsets;k=0;for(L=_.length;k<L;++k){C=_[k].start,A=_[k].count;var D=_[k].index;N=C;for(C+=A;N<C;N+=3)A=D+t[N],O=D+t[N+1],M=D+t[N+2],l=n[3*A],c=n[3*A+1],h=n[3*A+2],p=n[3*O],d=n[3*O+1],v=n[3*O+2],m=n[3*M],g=n[3*M+1],y=n[3*M+2],b=i[2*A],w=i[2*A+1],E=i[2*O],S=i[2*O+1],x=i[2*M],T=i[2*M+1],p-=l,l=m-l,d-=c,c=g-c,v-=h,h=y-h,E-=b,b=x-b,S-=w,w=T-w,T=1/(E*w-b*S),s.set((w*p-S*l)*T,(w*d-S*c)*T,(w*v-S*h)*T),o.set((E*l-b*p)*T,(E*c-b*d)*T,(E*h-b*v)*T),a[A].add(s),a[O].add(s),a[M].add(s),f[A].add(o),f[O].add(o),f[M].add(o)}var P=new THREE.Vector3,H=new THREE.Vector3,B=new THREE.Vector3,j=new THREE.Vector3,F,I,q;k=0;for(L=_.length;k<L;++k){C=_[k].start,A=_[k].count,D=_[k].index,N=C;for(C+=A;N<C;N+=3)A=D+t[N],O=D+t[N+1],M=D+t[N+2],e(A),e(O),e(M)}this.tangentsNeedUpdate=this.hasTangents=!0}},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.Camera=function(){THREE.Object3D.call(this),this.matrixWorldInverse=new THREE.Matrix4,this.projectionMatrix=new THREE.Matrix4,this.projectionMatrixInverse=new THREE.Matrix4},THREE.Camera.prototype=Object.create(THREE.Object3D.prototype),THREE.Camera.prototype.lookAt=function(){var e=new THREE.Matrix4;return function(t){e.lookAt(this.position,t,this.up),!0===this.useQuaternion?this.quaternion.setFromRotationMatrix(e):this.rotation.setEulerFromRotationMatrix(e,this.eulerOrder)}}(),THREE.OrthographicCamera=function(e,t,n,r,i,s){THREE.Camera.call(this),this.left=e,this.right=t,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==s?s:2e3,this.updateProjectionMatrix()},THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype),THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){this.projectionMatrix.makeOrthographic(this.left,this.right,this.top,this.bottom,this.near,this.far)},THREE.PerspectiveCamera=function(e,t,n,r){THREE.Camera.call(this),this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype),THREE.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*THREE.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.setViewOffset=function(e,t,n,r,i,s){this.fullWidth=e,this.fullHeight=t,this.x=n,this.y=r,this.width=i,this.height=s,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){if(this.fullWidth){var e=this.fullWidth/this.fullHeight,t=Math.tan(THREE.Math.degToRad(.5*this.fov))*this.near,n=-t,r=e*n,e=Math.abs(e*t-r),n=Math.abs(t-n);this.projectionMatrix.makeFrustum(r+this.x*e/this.fullWidth,r+(this.x+this.width)*e/this.fullWidth,t-(this.y+this.height)*n/this.fullHeight,t-this.y*n/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(this.fov,this.aspect,this.near,this.far)},THREE.Light=function(e){THREE.Object3D.call(this),this.color=new THREE.Color(e)},THREE.Light.prototype=Object.create(THREE.Object3D.prototype),THREE.Light.prototype.clone=function(e){return void 0===e&&(e=new THREE.Light),THREE.Object3D.prototype.clone.call(this,e),e.color.copy(this.color),e},THREE.AmbientLight=function(e){THREE.Light.call(this,e)},THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype),THREE.AmbientLight.prototype.clone=function(){var e=new THREE.AmbientLight;return THREE.Light.prototype.clone.call(this,e),e},THREE.AreaLight=function(e,t){THREE.Light.call(this,e),this.normal=new THREE.Vector3(0,-1,0),this.right=new THREE.Vector3(1,0,0),this.intensity=void 0!==t?t:1,this.height=this.width=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},THREE.AreaLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight=function(e,t){THREE.Light.call(this,e),this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==t?t:1,this.onlyShadow=this.castShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraTop=this.shadowCameraRight=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapHeight=this.shadowMapWidth=512,this.shadowCascade=!1,this.shadowCascadeOffset=new THREE.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null},THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight.prototype.clone=function(){var e=new THREE.DirectionalLight;return THREE.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e},THREE.HemisphereLight=function(e,t,n){THREE.Light.call(this,e),this.position.set(0,100,0),this.groundColor=new THREE.Color(t),this.intensity=void 0!==n?n:1},THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype),THREE.HemisphereLight.prototype.clone=function(){var e=new THREE.PointLight;return THREE.Light.prototype.clone.call(this,e),e.groundColor.copy(this.groundColor),e.intensity=this.intensity,e},THREE.PointLight=function(e,t,n){THREE.Light.call(this,e),this.intensity=void 0!==t?t:1,this.distance=void 0!==n?n:0},THREE.PointLight.prototype=Object.create(THREE.Light.prototype),THREE.PointLight.prototype.clone=function(){var e=new THREE.PointLight;return THREE.Light.prototype.clone.call(this,e),e.intensity=this.intensity,e.distance=this.distance,e},THREE.SpotLight=function(e,t,n,r,i){THREE.Light.call(this,e),this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==t?t:1,this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.exponent=void 0!==i?i:10,this.onlyShadow=this.castShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapHeight=this.shadowMapWidth=512,this.shadowMatrix=this.shadowCamera=this.shadowMapSize=this.shadowMap=null},THREE.SpotLight.prototype=Object.create(THREE.Light.prototype),THREE.SpotLight.prototype.clone=function(){var e=new THREE.SpotLight;return THREE.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.distance=this.distance,e.angle=this.angle,e.exponent=this.exponent,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e},THREE.Loader=function(e){this.statusDomElement=(this.showStatus=e)?THREE.Loader.prototype.addStatusElement():null,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:"anonymous",addStatusElement:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.right="0px",e.style.top="0px",e.style.fontSize="0.8em",e.style.textAlign="left",e.style.background="rgba(0,0,0,0.25)",e.style.color="#fff",e.style.width="120px",e.style.padding="0.5em 0.5em 0.5em 0.5em",e.style.zIndex=1e3,e.innerHTML="Loading ...",e},updateProgress:function(e){var t="Loaded ",t=e.total?t+((100*e.loaded/e.total).toFixed(0)+"%"):t+((e.loaded/1e3).toFixed(2)+" KB");this.statusDomElement.innerHTML=t},extractUrlBase:function(e){return e=e.split("/"),e.pop(),(1>e.length?".":e.join("/"))+"/"},initMaterials:function(e,t){for(var n=[],r=0;r<e.length;++r)n[r]=THREE.Loader.prototype.createMaterial(e[r],t);return n},needsTangents:function(e){for(var t=0,n=e.length;t<n;t++)if(e[t]instanceof THREE.ShaderMaterial)return!0;return!1},createMaterial:function(e,t){function n(e){return e=Math.log(e)/Math.LN2,Math.floor(e)==e}function r(e){return e=Math.log(e)/Math.LN2,Math.pow(2,Math.round(e))}function i(e,i,s,u,a,f,l){var h=/\.dds$/i.test(s),p=t+"/"+s;if(h){var v=THREE.ImageUtils.loadCompressedTexture(p);e[i]=v}else v=document.createElement("canvas"),e[i]=new THREE.Texture(v);e[i].sourceFile=s,u&&(e[i].repeat.set(u[0],u[1]),1!==u[0]&&(e[i].wrapS=THREE.RepeatWrapping),1!==u[1]&&(e[i].wrapT=THREE.RepeatWrapping)),a&&e[i].offset.set(a[0],a[1]),f&&(s={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping},void 0!==s[f[0]]&&(e[i].wrapS=s[f[0]]),void 0!==s[f[1]]&&(e[i].wrapT=s[f[1]])),l&&(e[i].anisotropy=l);if(!h){var m=e[i],e=new Image;e.onload=function(){if(!n(this.width)||!n(this.height)){var e=r(this.width),t=r(this.height);m.image.width=e,m.image.height=t,m.image.getContext("2d").drawImage(this,0,0,e,t)}else m.image=this;m.needsUpdate=!0},e.crossOrigin=o.crossOrigin,e.src=p}}function s(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]}var o=this,u="MeshLambertMaterial",a={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(e.shading){var f=e.shading.toLowerCase();"phong"===f?u="MeshPhongMaterial":"basic"===f&&(u="MeshBasicMaterial")}void 0!==e.blending&&void 0!==THREE[e.blending]&&(a.blending=THREE[e.blending]);if(void 0!==e.transparent||1>e.opacity)a.transparent=e.transparent;return void 0!==e.depthTest&&(a.depthTest=e.depthTest),void 0!==e.depthWrite&&(a.depthWrite=e.depthWrite),void 0!==e.visible&&(a.visible=e.visible),void 0!==e.flipSided&&(a.side=THREE.BackSide),void 0!==e.doubleSided&&(a.side=THREE.DoubleSide),void 0!==e.wireframe&&(a.wireframe=e.wireframe),void 0!==e.vertexColors&&("face"===e.vertexColors?a.vertexColors=THREE.FaceColors:e.vertexColors&&(a.vertexColors=THREE.VertexColors)),e.colorDiffuse?a.color=s(e.colorDiffuse):e.DbgColor&&(a.color=e.DbgColor),e.colorSpecular&&(a.specular=s(e.colorSpecular)),e.colorAmbient&&(a.ambient=s(e.colorAmbient)),e.transparency&&(a.opacity=e.transparency),e.specularCoef&&(a.shininess=e.specularCoef),e.mapDiffuse&&t&&i(a,"map",e.mapDiffuse,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy),e.mapLight&&t&&i(a,"lightMap",e.mapLight,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy),e.mapBump&&t&&i(a,"bumpMap",e.mapBump,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy),e.mapNormal&&t&&i(a,"normalMap",e.mapNormal,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy),e.mapSpecular&&t&&i(a,"specularMap",e.mapSpecular,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy),e.mapBumpScale&&(a.bumpScale=e.mapBumpScale),e.mapNormal?(u=THREE.ShaderLib.normalmap,f=THREE.UniformsUtils.clone(u.uniforms),f.tNormal.value=a.normalMap,e.mapNormalFactor&&f.uNormalScale.value.set(e.mapNormalFactor,e.mapNormalFactor),a.map&&(f.tDiffuse.value=a.map,f.enableDiffuse.value=!0),a.specularMap&&(f.tSpecular.value=a.specularMap,f.enableSpecular.value=!0),a.lightMap&&(f.tAO.value=a.lightMap,f.enableAO.value=!0),f.uDiffuseColor.value.setHex(a.color),f.uSpecularColor.value.setHex(a.specular),f.uAmbientColor.value.setHex(a.ambient),f.uShininess.value=a.shininess,void 0!==a.opacity&&(f.uOpacity.value=a.opacity),u=new THREE.ShaderMaterial({fragmentShader:u.fragmentShader,vertexShader:u.vertexShader,uniforms:f,lights:!0,fog:!0}),a.transparent&&(u.transparent=!0)):u=new THREE[u](a),void 0!==e.DbgName&&(u.name=e.DbgName),u}},THREE.ImageLoader=function(){this.crossOrigin=null},THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,addEventListener:THREE.EventDispatcher.prototype.addEventListener,hasEventListener:THREE.EventDispatcher.prototype.hasEventListener,removeEventListener:THREE.EventDispatcher.prototype.removeEventListener,dispatchEvent:THREE.EventDispatcher.prototype.dispatchEvent,load:function(e,t){var n=this;void 0===t&&(t=new Image),t.addEventListener("load",function(){n.dispatchEvent({type:"load",content:t})},!1),t.addEventListener("error",function(){n.dispatchEvent({type:"error",message:"Couldn't load URL ["+e+"]"})},!1),n.crossOrigin&&(t.crossOrigin=n.crossOrigin),t.src=e}},THREE.JSONLoader=function(e){THREE.Loader.call(this,e),this.withCredentials=!1},THREE.JSONLoader.prototype=Object.create(THREE.Loader.prototype),THREE.JSONLoader.prototype.load=function(e,t,n){n=n&&"string"==typeof n?n:this.extractUrlBase(e),this.onLoadStart(),this.loadAjaxJSON(this,e,t,n)},THREE.JSONLoader.prototype.loadAjaxJSON=function(e,t,n,r,i){var s=new XMLHttpRequest,o=0;s.onreadystatechange=function(){if(s.readyState===s.DONE)if(200===s.status||0===s.status){if(s.responseText){var u=JSON.parse(s.responseText),u=e.parse(u,r);n(u.geometry,u.materials)}else console.warn("THREE.JSONLoader: ["+t+"] seems to be unreachable or file there is empty");e.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load ["+t+"] ["+s.status+"]");else s.readyState===s.LOADING?i&&(0===o&&(o=s.getResponseHeader("Content-Length")),i({total:o,loaded:s.responseText.length})):s.readyState===s.HEADERS_RECEIVED&&void 0!==i&&(o=s.getResponseHeader("Content-Length"))},s.open("GET",t,!0),s.withCredentials=this.withCredentials,s.send(null)},THREE.JSONLoader.prototype.parse=function(e,t){var n=new THREE.Geometry,r=void 0!==e.scale?1/e.scale:1,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b=e.faces;p=e.vertices;var w=e.normals,E=e.colors,S=0;for(i=0;i<e.uvs.length;i++)e.uvs[i].length&&S++;for(i=0;i<S;i++)n.faceUvs[i]=[],n.faceVertexUvs[i]=[];u=0;for(a=p.length;u<a;)f=new THREE.Vector3,f.x=p[u++]*r,f.y=p[u++]*r,f.z=p[u++]*r,n.vertices.push(f);u=0;for(a=b.length;u<a;){p=b[u++],f=p&1,o=p&2,i=p&4,s=p&8,c=p&16,l=p&32,d=p&64,p&=128,f?(v=new THREE.Face4,v.a=b[u++],v.b=b[u++],v.c=b[u++],v.d=b[u++],f=4):(v=new THREE.Face3,v.a=b[u++],v.b=b[u++],v.c=b[u++],f=3),o&&(o=b[u++],v.materialIndex=o),o=n.faces.length;if(i)for(i=0;i<S;i++)m=e.uvs[i],h=b[u++],y=m[2*h],h=m[2*h+1],n.faceUvs[i][o]=new THREE.Vector2(y,h);if(s)for(i=0;i<S;i++){m=e.uvs[i],g=[];for(s=0;s<f;s++)h=b[u++],y=m[2*h],h=m[2*h+1],g[s]=new THREE.Vector2(y,h);n.faceVertexUvs[i][o]=g}c&&(c=3*b[u++],s=new THREE.Vector3,s.x=w[c++],s.y=w[c++],s.z=w[c],v.normal=s);if(l)for(i=0;i<f;i++)c=3*b[u++],s=new THREE.Vector3,s.x=w[c++],s.y=w[c++],s.z=w[c],v.vertexNormals.push(s);d&&(l=b[u++],l=new THREE.Color(E[l]),v.color=l);if(p)for(i=0;i<f;i++)l=b[u++],l=new THREE.Color(E[l]),v.vertexColors.push(l);n.faces.push(v)}if(e.skinWeights){u=0;for(a=e.skinWeights.length;u<a;u+=2)b=e.skinWeights[u],w=e.skinWeights[u+1],n.skinWeights.push(new THREE.Vector4(b,w,0,0))}if(e.skinIndices){u=0;for(a=e.skinIndices.length;u<a;u+=2)b=e.skinIndices[u],w=e.skinIndices[u+1],n.skinIndices.push(new THREE.Vector4(b,w,0,0))}n.bones=e.bones,n.animation=e.animation;if(void 0!==e.morphTargets){u=0;for(a=e.morphTargets.length;u<a;u++){n.morphTargets[u]={},n.morphTargets[u].name=e.morphTargets[u].name,n.morphTargets[u].vertices=[],E=n.morphTargets[u].vertices,S=e.morphTargets[u].vertices,b=0;for(w=S.length;b<w;b+=3)p=new THREE.Vector3,p.x=S[b]*r,p.y=S[b+1]*r,p.z=S[b+2]*r,E.push(p)}}if(void 0!==e.morphColors){u=0;for(a=e.morphColors.length;u<a;u++){n.morphColors[u]={},n.morphColors[u].name=e.morphColors[u].name,n.morphColors[u].colors=[],w=n.morphColors[u].colors,E=e.morphColors[u].colors,r=0;for(b=E.length;r<b;r+=3)S=new THREE.Color(16755200),S.setRGB(E[r],E[r+1],E[r+2]),w.push(S)}}return n.computeCentroids(),n.computeFaceNormals(),void 0===e.materials?{geometry:n}:(r=this.initMaterials(e.materials,t),this.needsTangents(r)&&n.computeTangents(),{geometry:n,materials:r})},THREE.LoadingMonitor=function(){var e=this,t=0,n=0,r=function(){t++,e.dispatchEvent({type:"progress",loaded:t,total:n}),t===n&&e.dispatchEvent({type:"load"})};this.add=function(e){n++,e.addEventListener("load",r,!1)}},THREE.LoadingMonitor.prototype={constructor:THREE.LoadingMonitor,addEventListener:THREE.EventDispatcher.prototype.addEventListener,hasEventListener:THREE.EventDispatcher.prototype.hasEventListener,removeEventListener:THREE.EventDispatcher.prototype.removeEventListener,dispatchEvent:THREE.EventDispatcher.prototype.dispatchEvent},THREE.GeometryLoader=function(){},THREE.GeometryLoader.prototype={constructor:THREE.GeometryLoader,addEventListener:THREE.EventDispatcher.prototype.addEventListener,hasEventListener:THREE.EventDispatcher.prototype.hasEventListener,removeEventListener:THREE.EventDispatcher.prototype.removeEventListener,dispatchEvent:THREE.EventDispatcher.prototype.dispatchEvent,load:function(e){var t=this,n=new XMLHttpRequest;n.addEventListener("load",function(e){e=t.parse(JSON.parse(e.target.responseText)),t.dispatchEvent({type:"load",content:e})},!1),n.addEventListener("progress",function(e){t.dispatchEvent({type:"progress",loaded:e.loaded,total:e.total})},!1),n.addEventListener("error",function(){t.dispatchEvent({type:"error",message:"Couldn't load URL ["+e+"]"})},!1),n.open("GET",e,!0),n.send(null)},parse:function(){}},THREE.MaterialLoader=function(){},THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,addEventListener:THREE.EventDispatcher.prototype.addEventListener,hasEventListener:THREE.EventDispatcher.prototype.hasEventListener,removeEventListener:THREE.EventDispatcher.prototype.removeEventListener,dispatchEvent:THREE.EventDispatcher.prototype.dispatchEvent,load:function(e){var t=this,n=new XMLHttpRequest;n.addEventListener("load",function(e){e=t.parse(JSON.parse(e.target.responseText)),t.dispatchEvent({type:"load",content:e})},!1),n.addEventListener("progress",function(e){t.dispatchEvent({type:"progress",loaded:e.loaded,total:e.total})},!1),n.addEventListener("error",function(){t.dispatchEvent({type:"error",message:"Couldn't load URL ["+e+"]"})},!1),n.open("GET",e,!0),n.send(null)},parse:function(e){var t;switch(e.type){case"MeshBasicMaterial":t=new THREE.MeshBasicMaterial({color:e.color,opacity:e.opacity,transparent:e.transparent,wireframe:e.wireframe});break;case"MeshLambertMaterial":t=new THREE.MeshLambertMaterial({color:e.color,ambient:e.ambient,emissive:e.emissive,opacity:e.opacity,transparent:e.transparent,wireframe:e.wireframe});break;case"MeshPhongMaterial":t=new THREE.MeshPhongMaterial({color:e.color,ambient:e.ambient,emissive:e.emissive,specular:e.specular,shininess:e.shininess,opacity:e.opacity,transparent:e.transparent,wireframe:e.wireframe});break;case"MeshNormalMaterial":t=new THREE.MeshNormalMaterial({opacity:e.opacity,transparent:e.transparent,wireframe:e.wireframe});break;case"MeshDepthMaterial":t=new THREE.MeshDepthMaterial({opacity:e.opacity,transparent:e.transparent,wireframe:e.wireframe})}return t}},THREE.SceneLoader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){},this.callbackSync=function(){},this.callbackProgress=function(){},this.geometryHandlerMap={},this.hierarchyHandlerMap={},this.addGeometryHandler("ascii",THREE.JSONLoader)},THREE.SceneLoader.prototype.constructor=THREE.SceneLoader,THREE.SceneLoader.prototype.load=function(e,t){var n=this,r=new XMLHttpRequest;r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status||0===r.status){var i=JSON.parse(r.responseText);n.parse(i,t,e)}else console.error("THREE.SceneLoader: Couldn't load ["+e+"] ["+r.status+"]")},r.open("GET",e,!0),r.send(null)},THREE.SceneLoader.prototype.addGeometryHandler=function(e,t){this.geometryHandlerMap[e]={loaderClass:t}},THREE.SceneLoader.prototype.addHierarchyHandler=function(e,t){this.hierarchyHandlerMap[e]={loaderClass:t}},THREE.SceneLoader.prototype.parse=function(e,t,n){function r(e,t){return"relativeToHTML"==t?e:c+"/"+e}function i(){s(T.scene,C.objects)}function s(e,t){var n,i,o,a,f,c,v;for(v in t)if(void 0===T.objects[v]){var m=t[v],w=null;if(m.type&&m.type in l.hierarchyHandlerMap){if(void 0===m.loading){i={type:1,url:1,material:1,position:1,rotation:1,scale:1,visible:1,children:1,userData:1,skin:1,morph:1,mirroredLoop:1,duration:1},o={};for(var E in m)E in i||(o[E]=m[E]);p=T.materials[m.material],m.loading=!0,i=l.hierarchyHandlerMap[m.type].loaderObject,i.options?i.load(r(m.url,C.urlBaseType),u(v,e,p,m)):i.load(r(m.url,C.urlBaseType),u(v,e,p,m),o)}}else if(void 0!==m.geometry){if(h=T.geometries[m.geometry]){w=!1,p=T.materials[m.material],w=p instanceof THREE.ShaderMaterial,o=m.position,a=m.rotation,f=m.scale,n=m.matrix,c=m.quaternion,m.material||(p=new THREE.MeshFaceMaterial(T.face_materials[m.geometry])),p instanceof THREE.MeshFaceMaterial&&0===p.materials.length&&(p=new THREE.MeshFaceMaterial(T.face_materials[m.geometry]));if(p instanceof THREE.MeshFaceMaterial)for(i=0;i<p.materials.length;i++)w=w||p.materials[i]instanceof THREE.ShaderMaterial;w&&h.computeTangents(),m.skin?w=new THREE.SkinnedMesh(h,p):m.morph?(w=new THREE.MorphAnimMesh(h,p),void 0!==m.duration&&(w.duration=m.duration),void 0!==m.time&&(w.time=m.time),void 0!==m.mirroredLoop&&(w.mirroredLoop=m.mirroredLoop),p.morphNormals&&h.computeMorphNormals()):w=new THREE.Mesh(h,p),w.name=v,n?(w.matrixAutoUpdate=!1,w.matrix.set(n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8],n[9],n[10],n[11],n[12],n[13],n[14],n[15])):(w.position.set(o[0],o[1],o[2]),c?(w.quaternion.set(c[0],c[1],c[2],c[3]),w.useQuaternion=!0):w.rotation.set(a[0],a[1],a[2]),w.scale.set(f[0],f[1],f[2])),w.visible=m.visible,w.castShadow=m.castShadow,w.receiveShadow=m.receiveShadow,e.add(w),T.objects[v]=w}}else"DirectionalLight"===m.type||"PointLight"===m.type||"AmbientLight"===m.type?(y=void 0!==m.color?m.color:16777215,b=void 0!==m.intensity?m.intensity:1,"DirectionalLight"===m.type?(o=m.direction,g=new THREE.DirectionalLight(y,b),g.position.set(o[0],o[1],o[2]),m.target&&(N.push({object:g,targetName:m.target}),g.target=null)):"PointLight"===m.type?(o=m.position,i=m.distance,g=new THREE.PointLight(y,b,i),g.position.set(o[0],o[1],o[2])):"AmbientLight"===m.type&&(g=new THREE.AmbientLight(y)),e.add(g),g.name=v,T.lights[v]=g,T.objects[v]=g):"PerspectiveCamera"===m.type||"OrthographicCamera"===m.type?(o=m.position,a=m.rotation,c=m.quaternion,"PerspectiveCamera"===m.type?d=new THREE.PerspectiveCamera(m.fov,m.aspect,m.near,m.far):"OrthographicCamera"===m.type&&(d=new THREE.OrthographicCamera(m.left,m.right,m.top,m.bottom,m.near,m.far)),d.name=v,d.position.set(o[0],o[1],o[2]),void 0!==c?(d.quaternion.set(c[0],c[1],c[2],c[3]),d.useQuaternion=!0):void 0!==a&&d.rotation.set(a[0],a[1],a[2]),e.add(d),T.cameras[v]=d,T.objects[v]=d):(o=m.position,a=m.rotation,f=m.scale,c=m.quaternion,w=new THREE.Object3D,w.name=v,w.position.set(o[0],o[1],o[2]),c?(w.quaternion.set(c[0],c[1],c[2],c[3]),w.useQuaternion=!0):w.rotation.set(a[0],a[1],a[2]),w.scale.set(f[0],f[1],f[2]),w.visible=void 0!==m.visible?m.visible:!1,e.add(w),T.objects[v]=w,T.empties[v]=w);if(w){if(void 0!==m.userData)for(var S in m.userData)w.userData[S]=m.userData[S];if(void 0!==m.groups)for(i=0;i<m.groups.length;i++)o=m.groups[i],void 0===T.groups[o]&&(T.groups[o]=[]),T.groups[o].push(v);void 0!==m.children&&s(w,m.children)}}}function o(e){return function(t,n){t.name=e,T.geometries[e]=t,T.face_materials[e]=n,i(),w-=1,l.onLoadComplete(),f()}}function u(e,t,n,r){return function(s){var s=s.content?s.content:s.dae?s.scene:s,o=r.position,u=r.rotation,a=r.quaternion,c=r.scale;s.position.set(o[0],o[1],o[2]),a?(s.quaternion.set(a[0],a[1],a[2],a[3]),s.useQuaternion=!0):s.rotation.set(u[0],u[1],u[2]),s.scale.set(c[0],c[1],c[2]),n&&s.traverse(function(e){e.material=n});var h=void 0!==r.visible?r.visible:!0;s.traverse(function(e){e.visible=h}),t.add(s),s.name=e,T.objects[e]=s,i(),w-=1,l.onLoadComplete(),f()}}function a(e){return function(t,n){t.name=e,T.geometries[e]=t,T.face_materials[e]=n}}function f(){l.callbackProgress({totalModels:S,totalTextures:x,loadedModels:S-w,loadedTextures:x-E},T),l.onLoadProgress();if(0===w&&0===E){for(var e=0;e<N.length;e++){var n=N[e],r=T.objects[n.targetName];r?n.object.target=r:(n.object.target=new THREE.Object3D,T.scene.add(n.object.target)),n.object.target.userData.targetInverse=n.object}t(T)}}var l=this,c=THREE.Loader.prototype.extractUrlBase(n),h,p,d,v,m,g,y,b,w,E,S,x,T,N=[],C=e,k;for(k in this.geometryHandlerMap)e=this.geometryHandlerMap[k].loaderClass,this.geometryHandlerMap[k].loaderObject=new e;for(k in this.hierarchyHandlerMap)e=this.hierarchyHandlerMap[k].loaderClass,this.hierarchyHandlerMap[k].loaderObject=new e;E=w=0,T={scene:new THREE.Scene,geometries:{},face_materials:{},materials:{},textures:{},objects:{},cameras:{},lights:{},fogs:{},empties:{},groups:{}},C.transform&&(k=C.transform.position,e=C.transform.rotation,n=C.transform.scale,k&&T.scene.position.set(k[0],k[1],k[2]),e&&T.scene.rotation.set(e[0],e[1],e[2]),n&&T.scene.scale.set(n[0],n[1],n[2]),k||e||n)&&(T.scene.updateMatrix(),T.scene.updateMatrixWorld()),k=function(e){return function(){E-=e,f(),l.onLoadComplete()}};for(var L in C.fogs)e=C.fogs[L],"linear"===e.type?v=new THREE.Fog(0,e.near,e.far):"exp2"===e.type&&(v=new THREE.FogExp2(0,e.density)),e=e.color,v.color.setRGB(e[0],e[1],e[2]),T.fogs[L]=v;for(var A in C.geometries)v=C.geometries[A],v.type in this.geometryHandlerMap&&(w+=1,l.onLoadStart());for(var O in C.objects)v=C.objects[O],v.type&&v.type in this.hierarchyHandlerMap&&(w+=1,l.onLoadStart());S=w;for(A in C.geometries)if(v=C.geometries[A],"cube"===v.type)h=new THREE.CubeGeometry(v.width,v.height,v.depth,v.widthSegments,v.heightSegments,v.depthSegments),h.name=A,T.geometries[A]=h;else if("plane"===v.type)h=new THREE.PlaneGeometry(v.width,v.height,v.widthSegments,v.heightSegments),h.name=A,T.geometries[A]=h;else if("sphere"===v.type)h=new THREE.SphereGeometry(v.radius,v.widthSegments,v.heightSegments),h.name=A,T.geometries[A]=h;else if("cylinder"===v.type)h=new THREE.CylinderGeometry(v.topRad,v.botRad,v.height,v.radSegs,v.heightSegs),h.name=A,T.geometries[A]=h;else if("torus"===v.type)h=new THREE.TorusGeometry(v.radius,v.tube,v.segmentsR,v.segmentsT),h.name=A,T.geometries[A]=h;else if("icosahedron"===v.type)h=new THREE.IcosahedronGeometry(v.radius,v.subdivisions),h.name=A,T.geometries[A]=h;else if(v.type in this.geometryHandlerMap){O={};for(m in v)"type"!==m&&"url"!==m&&(O[m]=v[m]);this.geometryHandlerMap[v.type].loaderObject.load(r(v.url,C.urlBaseType),o(A),O)}else"embedded"===v.type&&(O=C.embeds[v.id],O.metadata=C.metadata,O&&(O=this.geometryHandlerMap.ascii.loaderObject.parse(O,""),a(A)(O.geometry,O.materials)));for(var M in C.textures)if(A=C.textures[M],A.url instanceof Array){E+=A.url.length;for(m=0;m<A.url.length;m++)l.onLoadStart()}else E+=1,l.onLoadStart();x=E;for(M in C.textures){A=C.textures[M],void 0!==A.mapping&&void 0!==THREE[A.mapping]&&(A.mapping=new THREE[A.mapping]);if(A.url instanceof Array){O=A.url.length,v=[];for(m=0;m<O;m++)v[m]=r(A.url[m],C.urlBaseType);m=(m=/\.dds$/i.test(v[0]))?THREE.ImageUtils.loadCompressedTextureCube(v,A.mapping,k(O)):THREE.ImageUtils.loadTextureCube(v,A.mapping,k(O))}else m=/\.dds$/i.test(A.url),O=r(A.url,C.urlBaseType),v=k(1),m=m?THREE.ImageUtils.loadCompressedTexture(O,A.mapping,v):THREE.ImageUtils.loadTexture(O,A.mapping,v),void 0!==THREE[A.minFilter]&&(m.minFilter=THREE[A.minFilter]),void 0!==THREE[A.magFilter]&&(m.magFilter=THREE[A.magFilter]),A.anisotropy&&(m.anisotropy=A.anisotropy),A.repeat&&(m.repeat.set(A.repeat[0],A.repeat[1]),1!==A.repeat[0]&&(m.wrapS=THREE.RepeatWrapping),1!==A.repeat[1]&&(m.wrapT=THREE.RepeatWrapping)),A.offset&&m.offset.set(A.offset[0],A.offset[1]),A.wrap&&(O={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping},void 0!==O[A.wrap[0]]&&(m.wrapS=O[A.wrap[0]]),void 0!==O[A.wrap[1]]&&(m.wrapT=O[A.wrap[1]]));T.textures[M]=m}var _,D;for(_ in C.materials){M=C.materials[_];for(D in M.parameters)"envMap"===D||"map"===D||"lightMap"===D||"bumpMap"===D?M.parameters[D]=T.textures[M.parameters[D]]:"shading"===D?M.parameters[D]="flat"===M.parameters[D]?THREE.FlatShading:THREE.SmoothShading:"side"===D?M.parameters[D]="double"==M.parameters[D]?THREE.DoubleSide:"back"==M.parameters[D]?THREE.BackSide:THREE.FrontSide:"blending"===D?M.parameters[D]=M.parameters[D]in THREE?THREE[M.parameters[D]]:THREE.NormalBlending:"combine"===D?M.parameters[D]=M.parameters[D]in THREE?THREE[M.parameters[D]]:THREE.MultiplyOperation:"vertexColors"===D?"face"==M.parameters[D]?M.parameters[D]=THREE.FaceColors:M.parameters[D]&&(M.parameters[D]=THREE.VertexColors):"wrapRGB"===D&&(k=M.parameters[D],M.parameters[D]=new THREE.Vector3(k[0],k[1],k[2]));void 0!==M.parameters.opacity&&1>M.parameters.opacity&&(M.parameters.transparent=!0),M.parameters.normalMap?(k=THREE.ShaderLib.normalmap,A=THREE.UniformsUtils.clone(k.uniforms),m=M.parameters.color,O=M.parameters.specular,v=M.parameters.ambient,L=M.parameters.shininess,A.tNormal.value=T.textures[M.parameters.normalMap],M.parameters.normalScale&&A.uNormalScale.value.set(M.parameters.normalScale[0],M.parameters.normalScale[1]),M.parameters.map&&(A.tDiffuse.value=M.parameters.map,A.enableDiffuse.value=!0),M.parameters.envMap&&(A.tCube.value=M.parameters.envMap,A.enableReflection.value=!0,A.uReflectivity.value=M.parameters.reflectivity),M.parameters.lightMap&&(A.tAO.value=M.parameters.lightMap,A.enableAO.value=!0),M.parameters.specularMap&&(A.tSpecular.value=T.textures[M.parameters.specularMap],A.enableSpecular.value=!0),M.parameters.displacementMap&&(A.tDisplacement.value=T.textures[M.parameters.displacementMap],A.enableDisplacement.value=!0,A.uDisplacementBias.value=M.parameters.displacementBias,A.uDisplacementScale.value=M.parameters.displacementScale),A.uDiffuseColor.value.setHex(m),A.uSpecularColor.value.setHex(O),A.uAmbientColor.value.setHex(v),A.uShininess.value=L,M.parameters.opacity&&(A.uOpacity.value=M.parameters.opacity),p=new THREE.ShaderMaterial({fragmentShader:k.fragmentShader,vertexShader:k.vertexShader,uniforms:A,lights:!0,fog:!0})):p=new THREE[M.type](M.parameters),p.name=_,T.materials[_]=p}for(_ in C.materials)if(M=C.materials[_],M.parameters.materials){D=[];for(m=0;m<M.parameters.materials.length;m++)D.push(T.materials[M.parameters.materials[m]]);T.materials[_].materials=D}i(),T.cameras&&C.defaults.camera&&(T.currentCamera=T.cameras[C.defaults.camera]),T.fogs&&C.defaults.fog&&(T.scene.fog=T.fogs[C.defaults.fog]),l.callbackSync(T),f()},THREE.TextureLoader=function(){this.crossOrigin=null},THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,addEventListener:THREE.EventDispatcher.prototype.addEventListener,hasEventListener:THREE.EventDispatcher.prototype.hasEventListener,removeEventListener:THREE.EventDispatcher.prototype.removeEventListener,dispatchEvent:THREE.EventDispatcher.prototype.dispatchEvent,load:function(e){var t=this,n=new Image;n.addEventListener("load",function(){var e=new THREE.Texture(n);e.needsUpdate=!0,t.dispatchEvent({type:"load",content:e})},!1),n.addEventListener("error",function(){t.dispatchEvent({type:"error",message:"Couldn't load URL ["+e+"]"})},!1),t.crossOrigin&&(n.crossOrigin=t.crossOrigin),n.src=e}},THREE.Material=function(){this.id=THREE.MaterialIdCount++,this.name="",this.side=THREE.FrontSide,this.opacity=1,this.transparent=!1,this.blending=THREE.NormalBlending,this.blendSrc=THREE.SrcAlphaFactor,this.blendDst=THREE.OneMinusSrcAlphaFactor,this.blendEquation=THREE.AddEquation,this.depthWrite=this.depthTest=!0,this.polygonOffset=!1,this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0,this.overdraw=!1,this.needsUpdate=this.visible=!0},THREE.Material.prototype={constructor:THREE.Material,addEventListener:THREE.EventDispatcher.prototype.addEventListener,hasEventListener:THREE.EventDispatcher.prototype.hasEventListener,removeEventListener:THREE.EventDispatcher.prototype.removeEventListener,dispatchEvent:THREE.EventDispatcher.prototype.dispatchEvent,setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0===n)console.warn("THREE.Material: '"+t+"' parameter is undefined.");else if(t in this){var r=this[t];r instanceof THREE.Color?r.set(n):r instanceof THREE.Vector3&&n instanceof THREE.Vector3?r.copy(n):this[t]=n}}},clone:function(e){return void 0===e&&(e=new THREE.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.blending=this.blending,e.blendSrc=this.blendSrc,e.blendDst=this.blendDst,e.blendEquation=this.blendEquation,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.MaterialIdCount=0,THREE.LineBasicMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.linewidth=1,this.linejoin=this.linecap="round",this.vertexColors=!1,this.fog=!0,this.setValues(e)},THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineBasicMaterial.prototype.clone=function(){var e=new THREE.LineBasicMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.linecap=this.linecap,e.linejoin=this.linejoin,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.LineDashedMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.scale=this.linewidth=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(e)},THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineDashedMaterial.prototype.clone=function(){var e=new THREE.LineDashedMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.scale=this.scale,e.dashSize=this.dashSize,e.gapSize=this.gapSize,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.MeshBasicMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.envMap=this.specularMap=this.lightMap=this.map=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexColors=THREE.NoColors,this.morphTargets=this.skinning=!1,this.setValues(e)},THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshBasicMaterial.prototype.clone=function(){var e=new THREE.MeshBasicMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e},THREE.MeshLambertMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.envMap=this.specularMap=this.lightMap=this.map=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexColors=THREE.NoColors,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)},THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshLambertMaterial.prototype.clone=function(){var e=new THREE.MeshLambertMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.MeshPhongMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.specular=new THREE.Color(1118481),this.shininess=30,this.metal=!1,this.perPixel=!0,this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.bumpMap=this.lightMap=this.map=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new THREE.Vector2(1,1),this.envMap=this.specularMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinejoin=this.wireframeLinecap="round",this.vertexColors=THREE.NoColors,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)},THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshPhongMaterial.prototype.clone=function(){var e=new THREE.MeshPhongMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.specular.copy(this.specular),e.shininess=this.shininess,e.metal=this.metal,e.perPixel=this.perPixel,e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.bumpMap=this.bumpMap,e.bumpScale=this.bumpScale,e.normalMap=this.normalMap,e.normalScale.copy(this.normalScale),e.specularMap=this.specularMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.MeshDepthMaterial=function(e){THREE.Material.call(this),this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshDepthMaterial.prototype.clone=function(){var e=new THREE.MeshDepthMaterial;return THREE.Material.prototype.clone.call(this,e),e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},THREE.MeshNormalMaterial=function(e){THREE.Material.call(this,e),this.shading=THREE.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshNormalMaterial.prototype.clone=function(){var e=new THREE.MeshNormalMaterial;return THREE.Material.prototype.clone.call(this,e),e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},THREE.MeshFaceMaterial=function(e){this.materials=e instanceof Array?e:[]},THREE.MeshFaceMaterial.prototype.clone=function(){return new THREE.MeshFaceMaterial(this.materials.slice(0))},THREE.ParticleBasicMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=!1,this.fog=!0,this.setValues(e)},THREE.ParticleBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ParticleBasicMaterial.prototype.clone=function(){var e=new THREE.ParticleBasicMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.size=this.size,e.sizeAttenuation=this.sizeAttenuation,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.ParticleCanvasMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.program=function(){},this.setValues(e)},THREE.ParticleCanvasMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ParticleCanvasMaterial.prototype.clone=function(){var e=new THREE.ParticleCanvasMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.program=this.program,e},THREE.ShaderMaterial=function(e){THREE.Material.call(this),this.vertexShader=this.fragmentShader="void main() {}",this.uniforms={},this.defines={},this.attributes=null,this.shading=THREE.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.lights=this.fog=!1,this.vertexColors=THREE.NoColors,this.morphNormals=this.morphTargets=this.skinning=!1,this.setValues(e)},THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ShaderMaterial.prototype.clone=function(){var e=new THREE.ShaderMaterial;return THREE.Material.prototype.clone.call(this,e),e.fragmentShader=this.fragmentShader,e.vertexShader=this.vertexShader,e.uniforms=THREE.UniformsUtils.clone(this.uniforms),e.attributes=this.attributes,e.defines=this.defines,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.fog=this.fog,e.lights=this.lights,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.SpriteMaterial=function(e){THREE.Material.call(this),this.color=new THREE.Color(16777215),this.map=new THREE.Texture,this.useScreenCoordinates=!0,this.depthTest=!this.useScreenCoordinates,this.sizeAttenuation=!this.useScreenCoordinates,this.scaleByViewport=!this.sizeAttenuation,this.alignment=THREE.SpriteAlignment.center.clone(),this.fog=!1,this.uvOffset=new THREE.Vector2(0,0),this.uvScale=new THREE.Vector2(1,1),this.setValues(e),e=e||{},void 0===e.depthTest&&(this.depthTest=!this.useScreenCoordinates),void 0===e.sizeAttenuation&&(this.sizeAttenuation=!this.useScreenCoordinates),void 0===e.scaleByViewport&&(this.scaleByViewport=!this.sizeAttenuation)},THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteMaterial.prototype.clone=function(){var e=new THREE.SpriteMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.useScreenCoordinates=this.useScreenCoordinates,e.sizeAttenuation=this.sizeAttenuation,e.scaleByViewport=this.scaleByViewport,e.alignment.copy(this.alignment),e.uvOffset.copy(this.uvOffset),e.uvScale.copy(this.uvScale),e.fog=this.fog,e},THREE.SpriteAlignment={},THREE.SpriteAlignment.topLeft=new THREE.Vector2(1,-1),THREE.SpriteAlignment.topCenter=new THREE.Vector2(0,-1),THREE.SpriteAlignment.topRight=new THREE.Vector2(-1,-1),THREE.SpriteAlignment.centerLeft=new THREE.Vector2(1,0),THREE.SpriteAlignment.center=new THREE.Vector2(0,0),THREE.SpriteAlignment.centerRight=new THREE.Vector2(-1,0),THREE.SpriteAlignment.bottomLeft=new THREE.Vector2(1,1),THREE.SpriteAlignment.bottomCenter=new THREE.Vector2(0,1),THREE.SpriteAlignment.bottomRight=new THREE.Vector2(-1,1),THREE.Texture=function(e,t,n,r,i,s,o,u,a){this.id=THREE.TextureIdCount++,this.name="",this.image=e,this.mipmaps=[],this.mapping=void 0!==t?t:new THREE.UVMapping,this.wrapS=void 0!==n?n:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==r?r:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==i?i:THREE.LinearFilter,this.minFilter=void 0!==s?s:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==a?a:1,this.format=void 0!==o?o:THREE.RGBAFormat,this.type=void 0!==u?u:THREE.UnsignedByteType,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.needsUpdate=!1,this.onUpdate=null},THREE.Texture.prototype={constructor:THREE.Texture,addEventListener:THREE.EventDispatcher.prototype.addEventListener,hasEventListener:THREE.EventDispatcher.prototype.hasEventListener,removeEventListener:THREE.EventDispatcher.prototype.removeEventListener,dispatchEvent:THREE.EventDispatcher.prototype.dispatchEvent,clone:function(e){return void 0===e&&(e=new THREE.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.TextureIdCount=0,THREE.CompressedTexture=function(e,t,n,r,i,s,o,u,a,f,l){THREE.Texture.call(this,null,s,o,u,a,f,r,i,l),this.image={width:t,height:n},this.mipmaps=e,this.generateMipmaps=!1},THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CompressedTexture.prototype.clone=function(){var e=new THREE.CompressedTexture;return THREE.Texture.prototype.clone.call(this,e),e},THREE.DataTexture=function(e,t,n,r,i,s,o,u,a,f,l){THREE.Texture.call(this,null,s,o,u,a,f,r,i,l),this.image={data:e,width:t,height:n}},THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype),THREE.DataTexture.prototype.clone=function(){var e=new THREE.DataTexture;return THREE.Texture.prototype.clone.call(this,e),e},THREE.Particle=function(e){THREE.Object3D.call(this),this.material=e},THREE.Particle.prototype=Object.create(THREE.Object3D.prototype),THREE.Particle.prototype.clone=function(e){return void 0===e&&(e=new THREE.Particle(this.material)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.ParticleSystem=function(e,t){THREE.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new THREE.ParticleBasicMaterial({color:16777215*Math.random()}),this.sortParticles=!1,this.geometry&&null===this.geometry.boundingSphere&&this.geometry.computeBoundingSphere(),this.frustumCulled=!1},THREE.ParticleSystem.prototype=Object.create(THREE.Object3D.prototype),THREE.ParticleSystem.prototype.clone=function(e){return void 0===e&&(e=new THREE.ParticleSystem(this.geometry,this.material)),e.sortParticles=this.sortParticles,THREE.Object3D.prototype.clone.call(this,e),e},THREE.Line=function(e,t,n){THREE.Object3D.call(this),this.geometry=e,this.material=void 0!==t?t:new THREE.LineBasicMaterial({color:16777215*Math.random()}),this.type=void 0!==n?n:THREE.LineStrip,this.geometry&&(this.geometry.boundingSphere||this.geometry.computeBoundingSphere())},THREE.LineStrip=0,THREE.LinePieces=1,THREE.Line.prototype=Object.create(THREE.Object3D.prototype),THREE.Line.prototype.clone=function(e){return void 0===e&&(e=new THREE.Line(this.geometry,this.material,this.type)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.Mesh=function(e,t){THREE.Object3D.call(this),this.material=this.geometry=null,this.setGeometry(e),this.setMaterial(t)},THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype),THREE.Mesh.prototype.setGeometry=function(e){void 0!==e&&(this.geometry=e,null===this.geometry.boundingSphere&&this.geometry.computeBoundingSphere(),this.updateMorphTargets())},THREE.Mesh.prototype.setMaterial=function(e){this.material=void 0!==e?e:new THREE.MeshBasicMaterial({color:16777215*Math.random(),wireframe:!0})},THREE.Mesh.prototype.updateMorphTargets=function(){if(0<this.geometry.morphTargets.length){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;e<t;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},THREE.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},THREE.Mesh.prototype.clone=function(e){return void 0===e&&(e=new THREE.Mesh(this.geometry,this.material)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.Bone=function(e){THREE.Object3D.call(this),this.skin=e,this.skinMatrix=new THREE.Matrix4},THREE.Bone.prototype=Object.create(THREE.Object3D.prototype),THREE.Bone.prototype.update=function(e,t){this.matrixAutoUpdate&&(t|=this.updateMatrix());if(t||this.matrixWorldNeedsUpdate)e?this.skinMatrix.multiplyMatrices(e,this.matrix):this.skinMatrix.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0;var n,r=this.children.length;for(n=0;n<r;n++)this.children[n].update(this.skinMatrix,t)},THREE.SkinnedMesh=function(e,t,n){THREE.Mesh.call(this,e,t),this.useVertexTexture=void 0!==n?n:!0,this.identityMatrix=new THREE.Matrix4,this.bones=[],this.boneMatrices=[];var r,i,s;if(this.geometry&&void 0!==this.geometry.bones){for(e=0;e<this.geometry.bones.length;e++)n=this.geometry.bones[e],r=n.pos,i=n.rotq,s=n.scl,t=this.addBone(),t.name=n.name,t.position.set(r[0],r[1],r[2]),t.quaternion.set(i[0],i[1],i[2],i[3]),t.useQuaternion=!0,void 0!==s?t.scale.set(s[0],s[1],s[2]):t.scale.set(1,1,1);for(e=0;e<this.bones.length;e++)n=this.geometry.bones[e],t=this.bones[e],-1===n.parent?this.add(t):this.bones[n.parent].add(t);e=this.bones.length,this.useVertexTexture?(this.boneTextureHeight=this.boneTextureWidth=e=256<e?64:64<e?32:16<e?16:8,this.boneMatrices=new Float32Array(4*this.boneTextureWidth*this.boneTextureHeight),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType),this.boneTexture.minFilter=THREE.NearestFilter,this.boneTexture.magFilter=THREE.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1):this.boneMatrices=new Float32Array(16*e),this.pose()}},THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.SkinnedMesh.prototype.addBone=function(e){return void 0===e&&(e=new THREE.Bone(this)),this.bones.push(e),e},THREE.SkinnedMesh.prototype.updateMatrixWorld=function(e){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||e)this.parent?this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1;for(var e=0,t=this.children.length;e<t;e++){var n=this.children[e];n instanceof THREE.Bone?n.update(this.identityMatrix,!1):n.updateMatrixWorld(!0)}if(void 0==this.boneInverses){this.boneInverses=[],e=0;for(t=this.bones.length;e<t;e++)n=new THREE.Matrix4,n.getInverse(this.bones[e].skinMatrix),this.boneInverses.push(n)}e=0;for(t=this.bones.length;e<t;e++)THREE.SkinnedMesh.offsetMatrix.multiplyMatrices(this.bones[e].skinMatrix,this.boneInverses[e]),THREE.SkinnedMesh.offsetMatrix.flattenToArrayOffset(this.boneMatrices,16*e);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)},THREE.SkinnedMesh.prototype.pose=function(){this.updateMatrixWorld(!0);for(var e=0;e<this.geometry.skinIndices.length;e++){var t=this.geometry.skinWeights[e],n=1/t.lengthManhattan();Infinity!==n?t.multiplyScalar(n):t.set(1)}},THREE.SkinnedMesh.prototype.clone=function(e){return void 0===e&&(e=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),THREE.Mesh.prototype.clone.call(this,e),e},THREE.SkinnedMesh.offsetMatrix=new THREE.Matrix4,THREE.MorphAnimMesh=function(e,t){THREE.Mesh.call(this,e,t),this.duration=1e3,this.mirroredLoop=!1,this.currentKeyframe=this.lastKeyframe=this.time=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphAnimMesh.prototype.setFrameRange=function(e,t){this.startKeyframe=e,this.endKeyframe=t,this.length=this.endKeyframe-this.startKeyframe+1},THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},THREE.MorphAnimMesh.prototype.parseAnimations=function(){var e=this.geometry;e.animations||(e.animations={});for(var t,n=e.animations,r=/([a-z]+)(\d+)/,i=0,s=e.morphTargets.length;i<s;i++){var o=e.morphTargets[i].name.match(r);if(o&&1<o.length){o=o[1],n[o]||(n[o]={start:Infinity,end:-Infinity});var u=n[o];i<u.start&&(u.start=i),i>u.end&&(u.end=i),t||(t=o)}}e.firstAnimation=t},THREE.MorphAnimMesh.prototype.setAnimationLabel=function(e,t,n){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[e]={start:t,end:n}},THREE.MorphAnimMesh.prototype.playAnimation=function(e,t){var n=this.geometry.animations[e];n?(this.setFrameRange(n.start,n.end),this.duration=1e3*((n.end-n.start)/t),this.time=0):console.warn("animation["+e+"] undefined")},THREE.MorphAnimMesh.prototype.updateAnimation=function(e){var t=this.duration/this.length;this.time+=this.direction*e;if(this.mirroredLoop){if(this.time>this.duration||0>this.time)this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),0>this.time&&(this.time=0,this.directionBackwards=!1)}else this.time%=this.duration,0>this.time&&(this.time+=this.duration);e=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/t),0,this.length-1),e!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[e]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=e),t=this.time%t/t,this.directionBackwards&&(t=1-t),this.morphTargetInfluences[this.currentKeyframe]=t,this.morphTargetInfluences[this.lastKeyframe]=1-t},THREE.MorphAnimMesh.prototype.clone=function(e){return void 0===e&&(e=new THREE.MorphAnimMesh(this.geometry,this.material)),e.duration=this.duration,e.mirroredLoop=this.mirroredLoop,e.time=this.time,e.lastKeyframe=this.lastKeyframe,e.currentKeyframe=this.currentKeyframe,e.direction=this.direction,e.directionBackwards=this.directionBackwards,THREE.Mesh.prototype.clone.call(this,e),e},THREE.Ribbon=function(e,t){THREE.Object3D.call(this),this.geometry=e,this.material=t},THREE.Ribbon.prototype=Object.create(THREE.Object3D.prototype),THREE.Ribbon.prototype.clone=function(e){return void 0===e&&(e=new THREE.Ribbon(this.geometry,this.material)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.LOD=function(){THREE.Object3D.call(this),this.objects=[]},THREE.LOD.prototype=Object.create(THREE.Object3D.prototype),THREE.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0);for(var t=Math.abs(t),n=0;n<this.objects.length&&!(t<this.objects[n].distance);n++);this.objects.splice(n,0,{distance:t,object:e}),this.add(e)},THREE.LOD.prototype.getObjectForDistance=function(e){for(var t=1,n=this.objects.length;t<n&&!(e<this.objects[t].distance);t++);return this.objects[t-1].object},THREE.LOD.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(n){if(1<this.objects.length){e.getPositionFromMatrix(n.matrixWorld),t.getPositionFromMatrix(this.matrixWorld),n=e.distanceTo(t),this.objects[0].object.visible=!0;for(var r=1,i=this.objects.length;r<i;r++){if(!(n>=this.objects[r].distance))break;this.objects[r-1].object.visible=!1,this.objects[r].object.visible=!0}for(;r<i;r++)this.objects[r].object.visible=!1}}}(),THREE.LOD.prototype.clone=function(){},THREE.Sprite=function(e){THREE.Object3D.call(this),this.material=void 0!==e?e:new THREE.SpriteMaterial,this.rotation3d=this.rotation,this.rotation=0},THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype),THREE.Sprite.prototype.updateMatrix=function(){this.rotation3d.set(0,0,this.rotation),this.quaternion.setFromEuler(this.rotation3d,this.eulerOrder),this.matrix.makeFromPositionQuaternionScale(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},THREE.Sprite.prototype.clone=function(e){return void 0===e&&(e=new THREE.Sprite(this.material)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.Scene=function(){THREE.Object3D.call(this),this.overrideMaterial=this.fog=null,this.autoUpdate=!0,this.matrixAutoUpdate=!1,this.__objects=[],this.__lights=[],this.__objectsAdded=[],this.__objectsRemoved=[]},THREE.Scene.prototype=Object.create(THREE.Object3D.prototype),THREE.Scene.prototype.__addObject=function(e){if(e instanceof THREE.Light)-1===this.__lights.indexOf(e)&&this.__lights.push(e),e.target&&void 0===e.target.parent&&this.add(e.target);else if(!(e instanceof THREE.Camera||e instanceof THREE.Bone)&&-1===this.__objects.indexOf(e)){this.__objects.push(e),this.__objectsAdded.push(e);var t=this.__objectsRemoved.indexOf(e);-1!==t&&this.__objectsRemoved.splice(t,1)}for(t=0;t<e.children.length;t++)this.__addObject(e.children[t])},THREE.Scene.prototype.__removeObject=function(e){if(e instanceof THREE.Light){var t=this.__lights.indexOf(e);-1!==t&&this.__lights.splice(t,1)}else e instanceof THREE.Camera||(t=this.__objects.indexOf(e),-1!==t&&(this.__objects.splice(t,1),this.__objectsRemoved.push(e),t=this.__objectsAdded.indexOf(e),-1!==t&&this.__objectsAdded.splice(t,1)));for(t=0;t<e.children.length;t++)this.__removeObject(e.children[t])},THREE.Fog=function(e,t,n){this.name="",this.color=new THREE.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3},THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)},THREE.FogExp2=function(e,t){this.name="",this.color=new THREE.Color(e),this.density=void 0!==t?t:25e-5},THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)},THREE.CanvasRenderer=function(e){function t(e){x!==e&&(x=w.globalAlpha=e)}function n(e){T!==e&&(e===THREE.NormalBlending?w.globalCompositeOperation="source-over":e===THREE.AdditiveBlending?w.globalCompositeOperation="lighter":e===THREE.SubtractiveBlending&&(w.globalCompositeOperation="darker"),T=e)}function r(e){k!==e&&(k=w.lineWidth=e)}function i(e){L!==e&&(L=w.lineCap=e)}function s(e){A!==e&&(A=w.lineJoin=e)}function o(e){N!==e&&(N=w.strokeStyle=e)}function u(e){C!==e&&(C=w.fillStyle=e)}function a(e,t){if(O!==e||M!==t)w.setLineDash([e,t]),O=e,M=t}console.log("THREE.CanvasRenderer",THREE.REVISION);var f=THREE.Math.smoothstep,e=e||{},l=this,c,h,p,d=new THREE.Projector,v=void 0!==e.canvas?e.canvas:document.createElement("canvas"),m,g,y,b,w=v.getContext("2d"),E=new THREE.Color(0),S=0,x=1,T=0,N=null,C=null,k=null,L=null,A=null,O=null,M=0,_,D,P,H,B=new THREE.RenderableVertex,j=new THREE.RenderableVertex,F,I,q,R,U,z,W,X,V,$,J,K,Q=new THREE.Color,G=new THREE.Color,Y=new THREE.Color,Z=new THREE.Color,et=new THREE.Color,tt=new THREE.Color,nt=new THREE.Color,rt=new THREE.Color,it={},st={},ot,ut,at,ft,lt,ct,ht,pt,dt,vt,mt=new THREE.Box2,gt=new THREE.Box2,yt=new THREE.Box2,bt=new THREE.Color,wt=new THREE.Color,Et=new THREE.Color,St=new THREE.Vector3,xt,Tt,Nt,Ct,kt,Lt,At=16;xt=document.createElement("canvas"),xt.width=xt.height=2,Tt=xt.getContext("2d"),Tt.fillStyle="rgba(0,0,0,1)",Tt.fillRect(0,0,2,2),Nt=Tt.getImageData(0,0,2,2),Ct=Nt.data,kt=document.createElement("canvas"),kt.width=kt.height=At,Lt=kt.getContext("2d"),Lt.translate(-At/2,-At/2),Lt.scale(At,At),At--,void 0===w.setLineDash&&(w.setLineDash=void 0!==w.mozDash?function(e){w.mozDash=null!==e[0]?e:null}:function(){}),this.domElement=v,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==window.devicePixelRatio?window.devicePixelRatio:1,this.sortElements=this.sortObjects=this.autoClear=!0,this.info={render:{vertices:0,faces:0}},this.supportsVertexTextures=function(){},this.setFaceCulling=function(){},this.setSize=function(e,t,n){m=e*this.devicePixelRatio,g=t*this.devicePixelRatio,y=Math.floor(m/2),b=Math.floor(g/2),v.width=m,v.height=g,1!==this.devicePixelRatio&&!1!==n&&(v.style.width=e+"px",v.style.height=t+"px"),mt.set(new THREE.Vector2(-y,-b),new THREE.Vector2(y,b)),gt.set(new THREE.Vector2(-y,-b),new THREE.Vector2(y,b)),x=1,T=0,A=L=k=C=N=null},this.setClearColor=function(e,t){E.set(e),S=void 0!==t?t:1,gt.set(new THREE.Vector2(-y,-b),new THREE.Vector2(y,b))},this.setClearColorHex=function(e,t){console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(e,t)},this.getMaxAnisotropy=function(){return 0},this.clear=function(){w.setTransform(1,0,0,-1,y,b),!1===gt.empty()&&(gt.intersect(mt),gt.expandByScalar(2),1>S&&w.clearRect(gt.min.x|0,gt.min.y|0,gt.max.x-gt.min.x|0,gt.max.y-gt.min.y|0),0<S&&(n(THREE.NormalBlending),t(1),u("rgba("+Math.floor(255*E.r)+","+Math.floor(255*E.g)+","+Math.floor(255*E.b)+","+S+")"),w.fillRect(gt.min.x|0,gt.min.y|0,gt.max.x-gt.min.x|0,gt.max.y-gt.min.y|0)),gt.makeEmpty())},this.render=function(e,v){function m(e,t,n){for(var r=0,i=p.length;r<i;r++){var s=p[r];rt.copy(s.color);if(s instanceof THREE.DirectionalLight){var o=St.getPositionFromMatrix(s.matrixWorld).normalize(),u=t.dot(o);0>=u||(u*=s.intensity,n.add(rt.multiplyScalar(u)))}else s instanceof THREE.PointLight&&(o=St.getPositionFromMatrix(s.matrixWorld),u=t.dot(St.subVectors(o,e).normalize()),0>=u||(u*=0==s.distance?1:1-Math.min(e.distanceTo(o)/s.distance,1),0!=u&&(u*=s.intensity,n.add(rt.multiplyScalar(u)))))}}function g(e,r,i,s,o,u,a,c){l.info.render.vertices+=3,l.info.render.faces++,t(c.opacity),n(c.blending),F=e.positionScreen.x,I=e.positionScreen.y,q=r.positionScreen.x,R=r.positionScreen.y,U=i.positionScreen.x,z=i.positionScreen.y,E(F,I,q,R,U,z),(c instanceof THREE.MeshLambertMaterial||c instanceof THREE.MeshPhongMaterial)&&null===c.map?(tt.copy(c.color),nt.copy(c.emissive),c.vertexColors===THREE.FaceColors&&tt.multiply(a.color),!1===c.wireframe&&c.shading==THREE.SmoothShading&&3==a.vertexNormalsLength?(G.copy(bt),Y.copy(bt),Z.copy(bt),m(a.v1.positionWorld,a.vertexNormalsModel[0],G),m(a.v2.positionWorld,a.vertexNormalsModel[1],Y),m(a.v3.positionWorld,a.vertexNormalsModel[2],Z),G.multiply(tt).add(nt),Y.multiply(tt).add(nt),Z.multiply(tt).add(nt),et.addColors(Y,Z).multiplyScalar(.5),at=k(G,Y,Z,et),C(F,I,q,R,U,z,0,0,1,0,0,1,at)):(Q.copy(bt),m(a.centroidModel,a.normalModel,Q),Q.multiply(tt).add(nt),!0===c.wireframe?x(Q,c.wireframeLinewidth,c.wireframeLinecap,c.wireframeLinejoin):T(Q))):c instanceof THREE.MeshBasicMaterial||c instanceof THREE.MeshLambertMaterial||c instanceof THREE.MeshPhongMaterial?null!==c.map?c.map.mapping instanceof THREE.UVMapping&&(ft=a.uvs[0],N(F,I,q,R,U,z,ft[s].x,ft[s].y,ft[o].x,ft[o].y,ft[u].x,ft[u].y,c.map)):null!==c.envMap?c.envMap.mapping instanceof THREE.SphericalReflectionMapping&&(St.copy(a.vertexNormalsModelView[s]),lt=.5*St.x+.5,ct=.5*St.y+.5,St.copy(a.vertexNormalsModelView[o]),ht=.5*St.x+.5,pt=.5*St.y+.5,St.copy(a.vertexNormalsModelView[u]),dt=.5*St.x+.5,vt=.5*St.y+.5,N(F,I,q,R,U,z,lt,ct,ht,pt,dt,vt,c.envMap)):(Q.copy(c.color),c.vertexColors===THREE.FaceColors&&Q.multiply(a.color),!0===c.wireframe?x(Q,c.wireframeLinewidth,c.wireframeLinecap,c.wireframeLinejoin):T(Q)):c instanceof THREE.MeshDepthMaterial?(ot=v.near,ut=v.far,G.r=G.g=G.b=1-f(e.positionScreen.z*e.positionScreen.w,ot,ut),Y.r=Y.g=Y.b=1-f(r.positionScreen.z*r.positionScreen.w,ot,ut),Z.r=Z.g=Z.b=1-f(i.positionScreen.z*i.positionScreen.w,ot,ut),et.addColors(Y,Z).multiplyScalar(.5),at=k(G,Y,Z,et),C(F,I,q,R,U,z,0,0,1,0,0,1,at)):c instanceof THREE.MeshNormalMaterial&&(c.shading==THREE.FlatShading?(e=a.normalModelView,Q.setRGB(e.x,e.y,e.z).multiplyScalar(.5).addScalar(.5),!0===c.wireframe?x(Q,c.wireframeLinewidth,c.wireframeLinecap,c.wireframeLinejoin):T(Q)):c.shading==THREE.SmoothShading&&(e=a.vertexNormalsModelView[s],G.setRGB(e.x,e.y,e.z).multiplyScalar(.5).addScalar(.5),e=a.vertexNormalsModelView[o],Y.setRGB(e.x,e.y,e.z).multiplyScalar(.5).addScalar(.5),e=a.vertexNormalsModelView[u],Z.setRGB(e.x,e.y,e.z).multiplyScalar(.5).addScalar(.5),et.addColors(Y,Z).multiplyScalar(.5),at=k(G,Y,Z,et),C(F,I,q,R,U,z,0,0,1,0,0,1,at)))}function E(e,t,n,r,i,s){w.beginPath(),w.moveTo(e,t),w.lineTo(n,r),w.lineTo(i,s),w.closePath()}function S(e,t,n,r,i,s,o,u){w.beginPath(),w.moveTo(e,t),w.lineTo(n,r),w.lineTo(i,s),w.lineTo(o,u),w.closePath()}function x(e,t,n,u){r(t),i(n),s(u),o(e.getStyle()),w.stroke(),yt.expandByScalar(2*t)}function T(e){u(e.getStyle()),w.fill()}function N(e,t,n,r,i,s,o,a,f,l,c,h,p){if(!(p instanceof THREE.DataTexture||void 0===p.image||0==p.image.width)){if(!0===p.needsUpdate){var d=p.wrapS==THREE.RepeatWrapping,v=p.wrapT==THREE.RepeatWrapping;it[p.id]=w.createPattern(p.image,!0===d&&!0===v?"repeat":!0===d&&!1===v?"repeat-x":!1===d&&!0===v?"repeat-y":"no-repeat"),p.needsUpdate=!1}void 0===it[p.id]?u("rgba(0,0,0,1)"):u(it[p.id]);var d=p.offset.x/p.repeat.x,v=p.offset.y/p.repeat.y,m=p.image.width*p.repeat.x,g=p.image.height*p.repeat.y,o=(o+d)*m,a=(1-a+v)*g,n=n-e,r=r-t,i=i-e,s=s-t,f=(f+d)*m-o,l=(1-l+v)*g-a,c=(c+d)*m-o,h=(1-h+v)*g-a,d=f*h-c*l;0===d?(void 0===st[p.id]&&(t=document.createElement("canvas"),t.width=p.image.width,t.height=p.image.height,t=t.getContext("2d"),t.drawImage(p.image,0,0),st[p.id]=t.getImageData(0,0,p.image.width,p.image.height).data),t=st[p.id],o=4*(Math.floor(o)+Math.floor(a)*p.image.width),Q.setRGB(t[o]/255,t[o+1]/255,t[o+2]/255),T(Q)):(d=1/d,p=(h*n-l*i)*d,l=(h*r-l*s)*d,n=(f*i-c*n)*d,r=(f*s-c*r)*d,e=e-p*o-n*a,o=t-l*o-r*a,w.save(),w.transform(p,l,n,r,e,o),w.fill(),w.restore())}}function C(e,t,n,r,i,s,o,u,a,f,l,c,h){var p,d;p=h.width-1,d=h.height-1,o*=p,u*=d,n-=e,r-=t,i-=e,s-=t,a=a*p-o,f=f*d-u,l=l*p-o,c=c*d-u,d=1/(a*c-l*f),p=(c*n-f*i)*d,f=(c*r-f*s)*d,n=(a*i-l*n)*d,r=(a*s-l*r)*d,e=e-p*o-n*u,t=t-f*o-r*u,w.save(),w.transform(p,f,n,r,e,t),w.clip(),w.drawImage(h,0,0),w.restore()}function k(e,t,n,r){return Ct[0]=255*e.r|0,Ct[1]=255*e.g|0,Ct[2]=255*e.b|0,Ct[4]=255*t.r|0,Ct[5]=255*t.g|0,Ct[6]=255*t.b|0,Ct[8]=255*n.r|0,Ct[9]=255*n.g|0,Ct[10]=255*n.b|0,Ct[12]=255*r.r|0,Ct[13]=255*r.g|0,Ct[14]=255*r.b|0,Tt.putImageData(Nt,0,0),Lt.drawImage(xt,0,0),kt}function L(e,t){var n=t.x-e.x,r=t.y-e.y,i=n*n+r*r;0!==i&&(i=1/Math.sqrt(i),n*=i,r*=i,t.x+=n,t.y+=r,e.x-=n,e.y-=r)}if(0==v instanceof THREE.Camera)console.error("THREE.CanvasRenderer.render: camera is not an instance of THREE.Camera.");else{!0===this.autoClear&&this.clear(),w.setTransform(1,0,0,-1,y,b),l.info.render.vertices=0,l.info.render.faces=0,c=d.projectScene(e,v,this.sortObjects,this.sortElements),h=c.elements,p=c.lights,bt.setRGB(0,0,0),wt.setRGB(0,0,0),Et.setRGB(0,0,0);for(var A=0,O=p.length;A<O;A++){var M=p[A],At=M.color;M instanceof THREE.AmbientLight?bt.add(At):M instanceof THREE.DirectionalLight?wt.add(At):M instanceof THREE.PointLight&&Et.add(At)}A=0;for(O=h.length;A<O;A++){var Ot=h[A],M=Ot.material;if(void 0!==M&&!1!==M.visible){yt.makeEmpty();if(Ot instanceof THREE.RenderableParticle){_=Ot,_.x*=y,_.y*=b,At=_,t(M.opacity),n(M.blending);var Mt=void 0,_t=void 0,Dt=void 0,Pt=void 0,Ht=void 0,Bt=void 0,jt=void 0;M instanceof THREE.ParticleBasicMaterial?null===M.map?(Dt=Ot.object.scale.x,Pt=Ot.object.scale.y,Dt*=Ot.scale.x*y,Pt*=Ot.scale.y*b,yt.min.set(At.x-Dt,At.y-Pt),yt.max.set(At.x+Dt,At.y+Pt),!1===mt.isIntersectionBox(yt)?yt.makeEmpty():(u(M.color.getStyle()),w.save(),w.translate(At.x,At.y),w.rotate(-Ot.rotation),w.scale(Dt,Pt),w.fillRect(-1,-1,2,2),w.restore())):(Ht=M.map.image,Bt=Ht.width>>1,jt=Ht.height>>1,Dt=Ot.scale.x*y,Pt=Ot.scale.y*b,Mt=Dt*Bt,_t=Pt*jt,yt.min.set(At.x-Mt,At.y-_t),yt.max.set(At.x+Mt,At.y+_t),!1===mt.isIntersectionBox(yt)?yt.makeEmpty():(w.save(),w.translate(At.x,At.y),w.rotate(-Ot.rotation),w.scale(Dt,-Pt),w.translate(-Bt,-jt),w.drawImage(Ht,0,0),w.restore())):M instanceof THREE.ParticleCanvasMaterial&&(Mt=Ot.scale.x*y,_t=Ot.scale.y*b,yt.min.set(At.x-Mt,At.y-_t),yt.max.set(At.x+Mt,At.y+_t),!1===mt.isIntersectionBox(yt)?yt.makeEmpty():(o(M.color.getStyle()),u(M.color.getStyle()),w.save(),w.translate(At.x,At.y),w.rotate(-Ot.rotation),w.scale(Mt,_t),M.program(w),w.restore()))}else if(Ot instanceof THREE.RenderableLine){if(_=Ot.v1,D=Ot.v2,_.positionScreen.x*=y,_.positionScreen.y*=b,D.positionScreen.x*=y,D.positionScreen.y*=b,yt.setFromPoints([_.positionScreen,D.positionScreen]),!0===mt.isIntersectionBox(yt))if(At=_,Mt=D,t(M.opacity),n(M.blending),w.beginPath(),w.moveTo(At.positionScreen.x,At.positionScreen.y),w.lineTo(Mt.positionScreen.x,Mt.positionScreen.y),M instanceof THREE.LineBasicMaterial){r(M.linewidth),i(M.linecap),s(M.linejoin);if(M.vertexColors!==THREE.VertexColors)o(M.color.getStyle());else if(_t=Ot.vertexColors[0].getStyle(),Ot=Ot.vertexColors[1].getStyle(),_t===Ot)o(_t);else{try{var Ft=w.createLinearGradient(At.positionScreen.x,At.positionScreen.y,Mt.positionScreen.x,Mt.positionScreen.y);Ft.addColorStop(0,_t),Ft.addColorStop(1,Ot)}catch(It){Ft=_t}o(Ft)}w.stroke(),yt.expandByScalar(2*M.linewidth)}else M instanceof THREE.LineDashedMaterial&&(r(M.linewidth),i(M.linecap),s(M.linejoin),o(M.color.getStyle()),a(M.dashSize,M.gapSize),w.stroke(),yt.expandByScalar(2*M.linewidth),a(null,null))}else if(Ot instanceof THREE.RenderableFace3){_=Ot.v1,D=Ot.v2,P=Ot.v3;if(-1>_.positionScreen.z||1<_.positionScreen.z)continue;if(-1>D.positionScreen.z||1<D.positionScreen.z)continue;if(-1>P.positionScreen.z||1<P.positionScreen.z)continue;_.positionScreen.x*=y,_.positionScreen.y*=b,D.positionScreen.x*=y,D.positionScreen.y*=b,P.positionScreen.x*=y,P.positionScreen.y*=b,!0===M.overdraw&&(L(_.positionScreen,D.positionScreen),L(D.positionScreen,P.positionScreen),L(P.positionScreen,_.positionScreen)),yt.setFromPoints([_.positionScreen,D.positionScreen,P.positionScreen]),!0===mt.isIntersectionBox(yt)&&g(_,D,P,0,1,2,Ot,M)}else if(Ot instanceof THREE.RenderableFace4){_=Ot.v1,D=Ot.v2,P=Ot.v3,H=Ot.v4;if(-1>_.positionScreen.z||1<_.positionScreen.z)continue;if(-1>D.positionScreen.z||1<D.positionScreen.z)continue;if(-1>P.positionScreen.z||1<P.positionScreen.z)continue;if(-1>H.positionScreen.z||1<H.positionScreen.z)continue;_.positionScreen.x*=y,_.positionScreen.y*=b,D.positionScreen.x*=y,D.positionScreen.y*=b,P.positionScreen.x*=y,P.positionScreen.y*=b,H.positionScreen.x*=y,H.positionScreen.y*=b,B.positionScreen.copy(D.positionScreen),j.positionScreen.copy(H.positionScreen),!0===M.overdraw&&(L(_.positionScreen,D.positionScreen),L(D.positionScreen,H.positionScreen),L(H.positionScreen,_.positionScreen),L(P.positionScreen,B.positionScreen),L(P.positionScreen,j.positionScreen)),yt.setFromPoints([_.positionScreen,D.positionScreen,P.positionScreen,H.positionScreen]),!0===mt.isIntersectionBox(yt)&&(At=_,Mt=D,_t=P,Dt=H,Pt=B,Ht=j,l.info.render.vertices+=4,l.info.render.faces++,t(M.opacity),n(M.blending),void 0!==M.map&&null!==M.map||void 0!==M.envMap&&null!==M.envMap?(g(At,Mt,Dt,0,1,3,Ot,M),g(Pt,_t,Ht,1,2,3,Ot,M)):(F=At.positionScreen.x,I=At.positionScreen.y,q=Mt.positionScreen.x,R=Mt.positionScreen.y,U=_t.positionScreen.x,z=_t.positionScreen.y,W=Dt.positionScreen.x,X=Dt.positionScreen.y,V=Pt.positionScreen.x,$=Pt.positionScreen.y,J=Ht.positionScreen.x,K=Ht.positionScreen.y,M instanceof THREE.MeshLambertMaterial||M instanceof THREE.MeshPhongMaterial?(tt.copy(M.color),nt.copy(M.emissive),M.vertexColors===THREE.FaceColors&&tt.multiply(Ot.color),!1===M.wireframe&&M.shading==THREE.SmoothShading&&4==Ot.vertexNormalsLength?(G.copy(bt),Y.copy(bt),Z.copy(bt),et.copy(bt),m(Ot.v1.positionWorld,Ot.vertexNormalsModel[0],G),m(Ot.v2.positionWorld,Ot.vertexNormalsModel[1],Y),m(Ot.v4.positionWorld,Ot.vertexNormalsModel[3],Z),m(Ot.v3.positionWorld,Ot.vertexNormalsModel[2],et),G.multiply(tt).add(nt),Y.multiply(tt).add(nt),Z.multiply(tt).add(nt),et.multiply(tt).add(nt),at=k(G,Y,Z,et),E(F,I,q,R,W,X),C(F,I,q,R,W,X,0,0,1,0,0,1,at),E(V,$,U,z,J,K),C(V,$,U,z,J,K,1,0,1,1,0,1,at)):(Q.copy(bt),m(Ot.centroidModel,Ot.normalModel,Q),Q.multiply(tt).add(nt),S(F,I,q,R,U,z,W,X),!0===M.wireframe?x(Q,M.wireframeLinewidth,M.wireframeLinecap,M.wireframeLinejoin):T(Q))):M instanceof THREE.MeshBasicMaterial?(Q.copy(M.color),M.vertexColors===THREE.FaceColors&&Q.multiply(Ot.color),S(F,I,q,R,U,z,W,X),!0===M.wireframe?x(Q,M.wireframeLinewidth,M.wireframeLinecap,M.wireframeLinejoin):T(Q)):M instanceof THREE.MeshNormalMaterial?(At=void 0,M.shading==THREE.FlatShading?(At=Ot.normalModelView,Q.setRGB(At.x,At.y,At.z).multiplyScalar(.5).addScalar(.5),S(F,I,q,R,U,z,W,X),!0===M.wireframe?x(Q,M.wireframeLinewidth,M.wireframeLinecap,M.wireframeLinejoin):T(Q)):M.shading==THREE.SmoothShading&&(At=Ot.vertexNormalsModelView[0],G.setRGB(At.x,At.y,At.z).multiplyScalar(.5).addScalar(.5),At=Ot.vertexNormalsModelView[1],Y.setRGB(At.x,At.y,At.z).multiplyScalar(.5).addScalar(.5),At=Ot.vertexNormalsModelView[3],Z.setRGB(At.x,At.y,At.z).multiplyScalar(.5).addScalar(.5),At=Ot.vertexNormalsModelView[2],et.setRGB(At.x,At.y,At.z).multiplyScalar(.5).addScalar(.5),at=k(G,Y,Z,et),E(F,I,q,R,W,X),C(F,I,q,R,W,X,0,0,1,0,0,1,at),E(V,$,U,z,J,K),C(V,$,U,z,J,K,1,0,1,1,0,1,at))):M instanceof THREE.MeshDepthMaterial&&(ot=v.near,ut=v.far,G.r=G.g=G.b=1-f(At.positionScreen.z*At.positionScreen.w,ot,ut),Y.r=Y.g=Y.b=1-f(Mt.positionScreen.z*Mt.positionScreen.w,ot,ut),Z.r=Z.g=Z.b=1-f(Dt.positionScreen.z*Dt.positionScreen.w,ot,ut),et.r=et.g=et.b=1-f(_t.positionScreen.z*_t.positionScreen.w,ot,ut),at=k(G,Y,Z,et),E(F,I,q,R,W,X),C(F,I,q,R,W,X,0,0,1,0,0,1,at),E(V,$,U,z,J,K),C(V,$,U,z,J,K,1,0,1,1,0,1,at))))}gt.union(yt)}}w.setTransform(1,0,0,1,0,0)}}},THREE.ShaderChunk={fog_pars_fragment:"#ifdef USE_FOG\nuniform vec3 fogColor;\n#ifdef FOG_EXP2\nuniform float fogDensity;\n#else\nuniform float fogNear;\nuniform float fogFar;\n#endif\n#endif",fog_fragment:"#ifdef USE_FOG\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n#ifdef FOG_EXP2\nconst float LOG2 = 1.442695;\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n#else\nfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n#endif\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\nuniform float reflectivity;\nuniform samplerCube envMap;\nuniform float flipEnvMap;\nuniform int combine;\n#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\nuniform bool useRefract;\nuniform float refractionRatio;\n#else\nvarying vec3 vReflect;\n#endif\n#endif",envmap_fragment:"#ifdef USE_ENVMAP\nvec3 reflectVec;\n#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\nvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\nif ( useRefract ) {\nreflectVec = refract( cameraToVertex, normal, refractionRatio );\n} else { \nreflectVec = reflect( cameraToVertex, normal );\n}\n#else\nreflectVec = vReflect;\n#endif\n#ifdef DOUBLE_SIDED\nfloat flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\nvec4 cubeColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n#else\nvec4 cubeColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n#endif\n#ifdef GAMMA_INPUT\ncubeColor.xyz *= cubeColor.xyz;\n#endif\nif ( combine == 1 ) {\ngl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularStrength * reflectivity );\n} else if ( combine == 2 ) {\ngl_FragColor.xyz += cubeColor.xyz * specularStrength * reflectivity;\n} else {\ngl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * cubeColor.xyz, specularStrength * reflectivity );\n}\n#endif",envmap_pars_vertex:"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\nvarying vec3 vReflect;\nuniform float refractionRatio;\nuniform bool useRefract;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n#ifdef USE_SKINNING\nvec4 worldPosition = modelMatrix * skinned;\n#endif\n#if defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\nvec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n#endif\n#if ! defined( USE_MORPHTARGETS ) && ! defined( USE_SKINNING )\nvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n#endif\n#endif",envmap_vertex:"#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP )\nvec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;\nworldNormal = normalize( worldNormal );\nvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\nif ( useRefract ) {\nvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n} else {\nvReflect = reflect( cameraToVertex, worldNormal );\n}\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\nuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\ngl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n#endif",map_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\nvarying vec2 vUv;\nuniform vec4 offsetRepeat;\n#endif",map_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\nvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\nuniform sampler2D map;\n#endif",map_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP )\nvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",map_fragment:"#ifdef USE_MAP\nvec4 texelColor = texture2D( map, vUv );\n#ifdef GAMMA_INPUT\ntexelColor.xyz *= texelColor.xyz;\n#endif\ngl_FragColor = gl_FragColor * texelColor;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;\nuniform sampler2D lightMap;\n#endif",lightmap_pars_vertex:"#ifdef USE_LIGHTMAP\nvarying vec2 vUv2;\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\ngl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n#endif",lightmap_vertex:"#ifdef USE_LIGHTMAP\nvUv2 = uv2;\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\nuniform sampler2D bumpMap;\nuniform float bumpScale;\nvec2 dHdxy_fwd() {\nvec2 dSTdx = dFdx( vUv );\nvec2 dSTdy = dFdy( vUv );\nfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\nfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\nfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\nreturn vec2( dBx, dBy );\n}\nvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\nvec3 vSigmaX = dFdx( surf_pos );\nvec3 vSigmaY = dFdy( surf_pos );\nvec3 vN = surf_norm;\nvec3 R1 = cross( vSigmaY, vN );\nvec3 R2 = cross( vN, vSigmaX );\nfloat fDet = dot( vSigmaX, R1 );\nvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\nreturn normalize( abs( fDet ) * surf_norm - vGrad );\n}\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\nuniform sampler2D normalMap;\nuniform vec2 normalScale;\nvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\nvec3 q0 = dFdx( eye_pos.xyz );\nvec3 q1 = dFdy( eye_pos.xyz );\nvec2 st0 = dFdx( vUv.st );\nvec2 st1 = dFdy( vUv.st );\nvec3 S = normalize(  q0 * st1.t - q1 * st0.t );\nvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\nvec3 N = normalize( surf_norm );\nvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\nmapN.xy = normalScale * mapN.xy;\nmat3 tsn = mat3( S, T, N );\nreturn normalize( tsn * mapN );\n}\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\nuniform sampler2D specularMap;\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\nvec4 texelSpecular = texture2D( specularMap, vUv );\nspecularStrength = texelSpecular.r;\n#else\nspecularStrength = 1.0;\n#endif",lights_lambert_pars_vertex:"uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\nuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\nuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\nuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n#endif\n#ifdef WRAP_AROUND\nuniform vec3 wrapRGB;\n#endif",lights_lambert_vertex:"vLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\nvLightBack = vec3( 0.0 );\n#endif\ntransformedNormal = normalize( transformedNormal );\n#if MAX_DIR_LIGHTS > 0\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector = normalize( lDirection.xyz );\nfloat dotProduct = dot( transformedNormal, dirVector );\nvec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n#ifdef DOUBLE_SIDED\nvec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n#ifdef WRAP_AROUND\nvec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n#endif\n#endif\n#ifdef WRAP_AROUND\nvec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\ndirectionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n#ifdef DOUBLE_SIDED\ndirectionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n#endif\n#endif\nvLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n#ifdef DOUBLE_SIDED\nvLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n#endif\n}\n#endif\n#if MAX_POINT_LIGHTS > 0\nfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat lDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\nfloat dotProduct = dot( transformedNormal, lVector );\nvec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n#ifdef DOUBLE_SIDED\nvec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n#ifdef WRAP_AROUND\nvec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n#endif\n#endif\n#ifdef WRAP_AROUND\nvec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\npointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n#ifdef DOUBLE_SIDED\npointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n#endif\n#endif\nvLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;\n#ifdef DOUBLE_SIDED\nvLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;\n#endif\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\nif ( spotEffect > spotLightAngleCos[ i ] ) {\nspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\nfloat lDistance = 1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\nfloat dotProduct = dot( transformedNormal, lVector );\nvec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n#ifdef DOUBLE_SIDED\nvec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n#ifdef WRAP_AROUND\nvec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n#endif\n#endif\n#ifdef WRAP_AROUND\nvec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\nspotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n#ifdef DOUBLE_SIDED\nspotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n#endif\n#endif\nvLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\n#ifdef DOUBLE_SIDED\nvLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\n#endif\n}\n}\n#endif\n#if MAX_HEMI_LIGHTS > 0\nfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\nvec3 lVector = normalize( lDirection.xyz );\nfloat dotProduct = dot( transformedNormal, lVector );\nfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\nfloat hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\nvLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n#ifdef DOUBLE_SIDED\nvLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n#endif\n}\n#endif\nvLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n#ifdef DOUBLE_SIDED\nvLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n#endif",lights_phong_pars_vertex:"#ifndef PHONG_PER_PIXEL\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\nvarying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\nvarying vec3 vWorldPosition;\n#endif",lights_phong_vertex:"#ifndef PHONG_PER_PIXEL\n#if MAX_POINT_LIGHTS > 0\nfor( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat lDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nvPointLight[ i ] = vec4( lVector, lDistance );\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nfor( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz - mvPosition.xyz;\nfloat lDistance = 1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\nvSpotLight[ i ] = vec4( lVector, lDistance );\n}\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\nvWorldPosition = worldPosition.xyz;\n#endif",lights_phong_pars_fragment:"uniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\nuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n#ifdef PHONG_PER_PIXEL\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#else\nvarying vec4 vPointLight[ MAX_POINT_LIGHTS ];\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\nuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\nuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n#ifdef PHONG_PER_PIXEL\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n#else\nvarying vec4 vSpotLight[ MAX_SPOT_LIGHTS ];\n#endif\n#endif\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP )\nvarying vec3 vWorldPosition;\n#endif\n#ifdef WRAP_AROUND\nuniform vec3 wrapRGB;\n#endif\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",lights_phong_fragment:"vec3 normal = normalize( vNormal );\nvec3 viewPosition = normalize( vViewPosition );\n#ifdef DOUBLE_SIDED\nnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n#endif\n#ifdef USE_NORMALMAP\nnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\nnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n#if MAX_POINT_LIGHTS > 0\nvec3 pointDiffuse  = vec3( 0.0 );\nvec3 pointSpecular = vec3( 0.0 );\nfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n#ifdef PHONG_PER_PIXEL\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz + vViewPosition.xyz;\nfloat lDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\n#else\nvec3 lVector = normalize( vPointLight[ i ].xyz );\nfloat lDistance = vPointLight[ i ].w;\n#endif\nfloat dotProduct = dot( normal, lVector );\n#ifdef WRAP_AROUND\nfloat pointDiffuseWeightFull = max( dotProduct, 0.0 );\nfloat pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\nvec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n#else\nfloat pointDiffuseWeight = max( dotProduct, 0.0 );\n#endif\npointDiffuse  += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\nvec3 pointHalfVector = normalize( lVector + viewPosition );\nfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\nfloat pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\nvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, pointHalfVector ), 5.0 );\npointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n#else\npointSpecular += specular * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance;\n#endif\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nvec3 spotDiffuse  = vec3( 0.0 );\nvec3 spotSpecular = vec3( 0.0 );\nfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n#ifdef PHONG_PER_PIXEL\nvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 lVector = lPosition.xyz + vViewPosition.xyz;\nfloat lDistance = 1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nlDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\nlVector = normalize( lVector );\n#else\nvec3 lVector = normalize( vSpotLight[ i ].xyz );\nfloat lDistance = vSpotLight[ i ].w;\n#endif\nfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\nif ( spotEffect > spotLightAngleCos[ i ] ) {\nspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\nfloat dotProduct = dot( normal, lVector );\n#ifdef WRAP_AROUND\nfloat spotDiffuseWeightFull = max( dotProduct, 0.0 );\nfloat spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\nvec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n#else\nfloat spotDiffuseWeight = max( dotProduct, 0.0 );\n#endif\nspotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\nvec3 spotHalfVector = normalize( lVector + viewPosition );\nfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\nfloat spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\nvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, spotHalfVector ), 5.0 );\nspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n#else\nspotSpecular += specular * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * spotEffect;\n#endif\n}\n}\n#endif\n#if MAX_DIR_LIGHTS > 0\nvec3 dirDiffuse  = vec3( 0.0 );\nvec3 dirSpecular = vec3( 0.0 );\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector = normalize( lDirection.xyz );\nfloat dotProduct = dot( normal, dirVector );\n#ifdef WRAP_AROUND\nfloat dirDiffuseWeightFull = max( dotProduct, 0.0 );\nfloat dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\nvec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n#else\nfloat dirDiffuseWeight = max( dotProduct, 0.0 );\n#endif\ndirDiffuse  += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\nvec3 dirHalfVector = normalize( dirVector + viewPosition );\nfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\nfloat dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\nvec3 schlick = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\ndirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n#else\ndirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight;\n#endif\n}\n#endif\n#if MAX_HEMI_LIGHTS > 0\nvec3 hemiDiffuse  = vec3( 0.0 );\nvec3 hemiSpecular = vec3( 0.0 );\nfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\nvec3 lVector = normalize( lDirection.xyz );\nfloat dotProduct = dot( normal, lVector );\nfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\nvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\nhemiDiffuse += diffuse * hemiColor;\nvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\nfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\nfloat hemiSpecularWeightSky = specularStrength * max( pow( hemiDotNormalHalfSky, shininess ), 0.0 );\nvec3 lVectorGround = -lVector;\nvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\nfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\nfloat hemiSpecularWeightGround = specularStrength * max( pow( hemiDotNormalHalfGround, shininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat dotProductGround = dot( normal, lVectorGround );\nfloat specularNormalization = ( shininess + 2.0001 ) / 8.0;\nvec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );\nvec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );\nhemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n#else\nhemiSpecular += specular * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;\n#endif\n}\n#endif\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\ntotalDiffuse += dirDiffuse;\ntotalSpecular += dirSpecular;\n#endif\n#if MAX_HEMI_LIGHTS > 0\ntotalDiffuse += hemiDiffuse;\ntotalSpecular += hemiSpecular;\n#endif\n#if MAX_POINT_LIGHTS > 0\ntotalDiffuse += pointDiffuse;\ntotalSpecular += pointSpecular;\n#endif\n#if MAX_SPOT_LIGHTS > 0\ntotalDiffuse += spotDiffuse;\ntotalSpecular += spotSpecular;\n#endif\n#ifdef METAL\ngl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n#else\ngl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif",color_fragment:"#ifdef USE_COLOR\ngl_FragColor = gl_FragColor * vec4( vColor, opacity );\n#endif",color_pars_vertex:"#ifdef USE_COLOR\nvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n#ifdef GAMMA_INPUT\nvColor = color * color;\n#else\nvColor = color;\n#endif\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n#ifdef BONE_TEXTURE\nuniform sampler2D boneTexture;\nmat4 getBoneMatrix( const in float i ) {\nfloat j = i * 4.0;\nfloat x = mod( j, N_BONE_PIXEL_X );\nfloat y = floor( j / N_BONE_PIXEL_X );\nconst float dx = 1.0 / N_BONE_PIXEL_X;\nconst float dy = 1.0 / N_BONE_PIXEL_Y;\ny = dy * ( y + 0.5 );\nvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\nvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\nvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\nvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\nmat4 bone = mat4( v1, v2, v3, v4 );\nreturn bone;\n}\n#else\nuniform mat4 boneGlobalMatrices[ MAX_BONES ];\nmat4 getBoneMatrix( const in float i ) {\nmat4 bone = boneGlobalMatrices[ int(i) ];\nreturn bone;\n}\n#endif\n#endif",skinbase_vertex:"#ifdef USE_SKINNING\nmat4 boneMatX = getBoneMatrix( skinIndex.x );\nmat4 boneMatY = getBoneMatrix( skinIndex.y );\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n#ifdef USE_MORPHTARGETS\nvec4 skinVertex = vec4( morphed, 1.0 );\n#else\nvec4 skinVertex = vec4( position, 1.0 );\n#endif\nvec4 skinned  = boneMatX * skinVertex * skinWeight.x;\nskinned 	  += boneMatY * skinVertex * skinWeight.y;\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n#ifndef USE_MORPHNORMALS\nuniform float morphTargetInfluences[ 8 ];\n#else\nuniform float morphTargetInfluences[ 4 ];\n#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\nvec3 morphed = vec3( 0.0 );\nmorphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\nmorphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\nmorphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\nmorphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n#ifndef USE_MORPHNORMALS\nmorphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\nmorphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\nmorphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\nmorphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n#endif\nmorphed += position;\n#endif",default_vertex:"vec4 mvPosition;\n#ifdef USE_SKINNING\nmvPosition = modelViewMatrix * skinned;\n#endif\n#if !defined( USE_SKINNING ) && defined( USE_MORPHTARGETS )\nmvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n#endif\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHTARGETS )\nmvPosition = modelViewMatrix * vec4( position, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\nvec3 morphedNormal = vec3( 0.0 );\nmorphedNormal +=  ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\nmorphedNormal +=  ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\nmorphedNormal +=  ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\nmorphedNormal +=  ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\nmorphedNormal += normal;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\nmat4 skinMatrix = skinWeight.x * boneMatX;\nskinMatrix 	+= skinWeight.y * boneMatY;\n#ifdef USE_MORPHNORMALS\nvec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n#else\nvec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n#endif\n#endif",defaultnormal_vertex:"vec3 objectNormal;\n#ifdef USE_SKINNING\nobjectNormal = skinnedNormal.xyz;\n#endif\n#if !defined( USE_SKINNING ) && defined( USE_MORPHNORMALS )\nobjectNormal = morphedNormal;\n#endif\n#if !defined( USE_SKINNING ) && ! defined( USE_MORPHNORMALS )\nobjectNormal = normal;\n#endif\n#ifdef FLIP_SIDED\nobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\nuniform sampler2D shadowMap[ MAX_SHADOWS ];\nuniform vec2 shadowMapSize[ MAX_SHADOWS ];\nuniform float shadowDarkness[ MAX_SHADOWS ];\nuniform float shadowBias[ MAX_SHADOWS ];\nvarying vec4 vShadowCoord[ MAX_SHADOWS ];\nfloat unpackDepth( const in vec4 rgba_depth ) {\nconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\nfloat depth = dot( rgba_depth, bit_shift );\nreturn depth;\n}\n#endif",shadowmap_fragment:"#ifdef USE_SHADOWMAP\n#ifdef SHADOWMAP_DEBUG\nvec3 frustumColors[3];\nfrustumColors[0] = vec3( 1.0, 0.5, 0.0 );\nfrustumColors[1] = vec3( 0.0, 1.0, 0.8 );\nfrustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n#endif\n#ifdef SHADOWMAP_CASCADE\nint inFrustumCount = 0;\n#endif\nfloat fDepth;\nvec3 shadowColor = vec3( 1.0 );\nfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\nvec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\nbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\nbool inFrustum = all( inFrustumVec );\n#ifdef SHADOWMAP_CASCADE\ninFrustumCount += int( inFrustum );\nbvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n#else\nbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n#endif\nbool frustumTest = all( frustumTestVec );\nif ( frustumTest ) {\nshadowCoord.z += shadowBias[ i ];\n#if defined( SHADOWMAP_TYPE_PCF )\nfloat shadow = 0.0;\nconst float shadowDelta = 1.0 / 9.0;\nfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\nfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\nfloat dx0 = -1.25 * xPixelOffset;\nfloat dy0 = -1.25 * yPixelOffset;\nfloat dx1 = 1.25 * xPixelOffset;\nfloat dy1 = 1.25 * yPixelOffset;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nfDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\nif ( fDepth < shadowCoord.z ) shadow += shadowDelta;\nshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\nfloat shadow = 0.0;\nfloat xPixelOffset = 1.0 / shadowMapSize[ i ].x;\nfloat yPixelOffset = 1.0 / shadowMapSize[ i ].y;\nfloat dx0 = -1.0 * xPixelOffset;\nfloat dy0 = -1.0 * yPixelOffset;\nfloat dx1 = 1.0 * xPixelOffset;\nfloat dy1 = 1.0 * yPixelOffset;\nmat3 shadowKernel;\nmat3 depthKernel;\ndepthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\ndepthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\ndepthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\ndepthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\ndepthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\ndepthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\ndepthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\ndepthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\ndepthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\nvec3 shadowZ = vec3( shadowCoord.z );\nshadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\nshadowKernel[0] *= vec3(0.25);\nshadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\nshadowKernel[1] *= vec3(0.25);\nshadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\nshadowKernel[2] *= vec3(0.25);\nvec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\nshadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\nshadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\nvec4 shadowValues;\nshadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\nshadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\nshadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\nshadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\nshadow = dot( shadowValues, vec4( 1.0 ) );\nshadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n#else\nvec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\nfloat fDepth = unpackDepth( rgbaDepth );\nif ( fDepth < shadowCoord.z )\nshadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n#endif\n}\n#ifdef SHADOWMAP_DEBUG\n#ifdef SHADOWMAP_CASCADE\nif ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\n#else\nif ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\n#endif\n#endif\n}\n#ifdef GAMMA_OUTPUT\nshadowColor *= shadowColor;\n#endif\ngl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\nvarying vec4 vShadowCoord[ MAX_SHADOWS ];\nuniform mat4 shadowMatrix[ MAX_SHADOWS ];\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\nfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\nvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n}\n#endif",alphatest_fragment:"#ifdef ALPHATEST\nif ( gl_FragColor.a < ALPHATEST ) discard;\n#endif",linear_to_gamma_fragment:"#ifdef GAMMA_OUTPUT\ngl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n#endif"},THREE.UniformsUtils={merge:function(e){var t,n,r,i={};for(t=0;t<e.length;t++)for(n in r=this.clone(e[t]),r)i[n]=r[n];return i},clone:function(e){var t,n,r,i={};for(t in e)for(n in i[t]={},e[t])r=e[t][n],i[t][n]=r instanceof THREE.Color||r instanceof THREE.Vector2||r instanceof THREE.Vector3||r instanceof THREE.Vector4||r instanceof THREE.Matrix4||r instanceof THREE.Texture?r.clone():r instanceof Array?r.slice():r;return i}},THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},useRefract:{type:"i",value:0},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},combine:{type:"i",value:0},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,"#ifdef USE_ENVMAP",THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,"void main() {\ngl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\nvarying vec3 vLightBack;\n#endif",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\nvarying vec3 vLightBack;\n#endif",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,"void main() {\ngl_FragColor = vec4( vec3 ( 1.0 ), opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,"#ifdef DOUBLE_SIDED\nif ( gl_FrontFacing )\ngl_FragColor.xyz *= vLightFront;\nelse\ngl_FragColor.xyz *= vLightBack;\n#else\ngl_FragColor.xyz *= vLightFront;\n#endif",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define PHONG\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"vNormal = normalize( transformedNormal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,"vViewPosition = -mvPosition.xyz;",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;\nuniform vec3 ambient;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.bumpmap_pars_fragment,THREE.ShaderChunk.normalmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,"void main() {\ngl_FragColor = vec4( vec3 ( 1.0 ), opacity );",THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;\nuniform float scale;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n#ifdef USE_SIZEATTENUATION\ngl_PointSize = size * ( scale / length( mvPosition.xyz ) );\n#else\ngl_PointSize = size;\n#endif\ngl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;\nuniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,"void main() {\ngl_FragColor = vec4( psColor, opacity );",THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;",THREE.ShaderChunk.color_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"vLineDistance = scale * lineDistance;\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n}"].join("\n"),fragmentShader:["uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,"void main() {\nif ( mod( vLineDistance, totalSize ) > dashSize ) {\ndiscard;\n}\ngl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:"void main() {\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform float mNear;\nuniform float mFar;\nuniform float opacity;\nvoid main() {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat color = 1.0 - smoothstep( mNear, mFar, depth );\ngl_FragColor = vec4( vec3( color ), opacity );\n}"},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk.morphtarget_pars_vertex,"void main() {\nvNormal = normalize( normalMatrix * normal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,"}"].join("\n"),fragmentShader:"uniform float opacity;\nvarying vec3 vNormal;\nvoid main() {\ngl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );\n}"},normalmap:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{enableAO:{type:"i",value:0},enableDiffuse:{type:"i",value:0},enableSpecular:{type:"i",value:0},enableReflection:{type:"i",value:0},enableDisplacement:{type:"i",value:0},tDisplacement:{type:"t",value:null},tDiffuse:{type:"t",value:null},tCube:{type:"t",value:null},tNormal:{type:"t",value:null},tSpecular:{type:"t",value:null},tAO:{type:"t",value:null},uNormalScale:{type:"v2",value:new THREE.Vector2(1,1)},uDisplacementBias:{type:"f",value:0},uDisplacementScale:{type:"f",value:1},uDiffuseColor:{type:"c",value:new THREE.Color(16777215)},uSpecularColor:{type:"c",value:new THREE.Color(1118481)},uAmbientColor:{type:"c",value:new THREE.Color(16777215)},uShininess:{type:"f",value:30},uOpacity:{type:"f",value:1},useRefract:{type:"i",value:0},uRefractionRatio:{type:"f",value:.98},uReflectivity:{type:"f",value:.5},uOffset:{type:"v2",value:new THREE.Vector2(0,0)},uRepeat:{type:"v2",value:new THREE.Vector2(1,1)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),fragmentShader:["uniform vec3 uAmbientColor;\nuniform vec3 uDiffuseColor;\nuniform vec3 uSpecularColor;\nuniform float uShininess;\nuniform float uOpacity;\nuniform bool enableDiffuse;\nuniform bool enableSpecular;\nuniform bool enableAO;\nuniform bool enableReflection;\nuniform sampler2D tDiffuse;\nuniform sampler2D tNormal;\nuniform sampler2D tSpecular;\nuniform sampler2D tAO;\nuniform samplerCube tCube;\nuniform vec2 uNormalScale;\nuniform bool useRefract;\nuniform float uRefractionRatio;\nuniform float uReflectivity;\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nuniform vec3 ambientLightColor;\n#if MAX_DIR_LIGHTS > 0\nuniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\nuniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n#endif\n#if MAX_HEMI_LIGHTS > 0\nuniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\nuniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n#endif\n#if MAX_POINT_LIGHTS > 0\nuniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\nuniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\nuniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n#endif\n#if MAX_SPOT_LIGHTS > 0\nuniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\nuniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\nuniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\nuniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\nuniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n#endif\n#ifdef WRAP_AROUND\nuniform vec3 wrapRGB;\n#endif\nvarying vec3 vWorldPosition;\nvarying vec3 vViewPosition;",THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,"void main() {\ngl_FragColor = vec4( vec3( 1.0 ), uOpacity );\nvec3 specularTex = vec3( 1.0 );\nvec3 normalTex = texture2D( tNormal, vUv ).xyz * 2.0 - 1.0;\nnormalTex.xy *= uNormalScale;\nnormalTex = normalize( normalTex );\nif( enableDiffuse ) {\n#ifdef GAMMA_INPUT\nvec4 texelColor = texture2D( tDiffuse, vUv );\ntexelColor.xyz *= texelColor.xyz;\ngl_FragColor = gl_FragColor * texelColor;\n#else\ngl_FragColor = gl_FragColor * texture2D( tDiffuse, vUv );\n#endif\n}\nif( enableAO ) {\n#ifdef GAMMA_INPUT\nvec4 aoColor = texture2D( tAO, vUv );\naoColor.xyz *= aoColor.xyz;\ngl_FragColor.xyz = gl_FragColor.xyz * aoColor.xyz;\n#else\ngl_FragColor.xyz = gl_FragColor.xyz * texture2D( tAO, vUv ).xyz;\n#endif\n}\nif( enableSpecular )\nspecularTex = texture2D( tSpecular, vUv ).xyz;\nmat3 tsb = mat3( normalize( vTangent ), normalize( vBinormal ), normalize( vNormal ) );\nvec3 finalNormal = tsb * normalTex;\n#ifdef FLIP_SIDED\nfinalNormal = -finalNormal;\n#endif\nvec3 normal = normalize( finalNormal );\nvec3 viewPosition = normalize( vViewPosition );\n#if MAX_POINT_LIGHTS > 0\nvec3 pointDiffuse = vec3( 0.0 );\nvec3 pointSpecular = vec3( 0.0 );\nfor ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\nvec3 pointVector = lPosition.xyz + vViewPosition.xyz;\nfloat pointDistance = 1.0;\nif ( pointLightDistance[ i ] > 0.0 )\npointDistance = 1.0 - min( ( length( pointVector ) / pointLightDistance[ i ] ), 1.0 );\npointVector = normalize( pointVector );\n#ifdef WRAP_AROUND\nfloat pointDiffuseWeightFull = max( dot( normal, pointVector ), 0.0 );\nfloat pointDiffuseWeightHalf = max( 0.5 * dot( normal, pointVector ) + 0.5, 0.0 );\nvec3 pointDiffuseWeight = mix( vec3 ( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n#else\nfloat pointDiffuseWeight = max( dot( normal, pointVector ), 0.0 );\n#endif\npointDiffuse += pointDistance * pointLightColor[ i ] * uDiffuseColor * pointDiffuseWeight;\nvec3 pointHalfVector = normalize( pointVector + viewPosition );\nfloat pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\nfloat pointSpecularWeight = specularTex.r * max( pow( pointDotNormalHalf, uShininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( uShininess + 2.0001 ) / 8.0;\nvec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( pointVector, pointHalfVector ), 5.0 );\npointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * pointDistance * specularNormalization;\n#else\npointSpecular += pointDistance * pointLightColor[ i ] * uSpecularColor * pointSpecularWeight * pointDiffuseWeight;\n#endif\n}\n#endif\n#if MAX_SPOT_LIGHTS > 0\nvec3 spotDiffuse = vec3( 0.0 );\nvec3 spotSpecular = vec3( 0.0 );\nfor ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\nvec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\nvec3 spotVector = lPosition.xyz + vViewPosition.xyz;\nfloat spotDistance = 1.0;\nif ( spotLightDistance[ i ] > 0.0 )\nspotDistance = 1.0 - min( ( length( spotVector ) / spotLightDistance[ i ] ), 1.0 );\nspotVector = normalize( spotVector );\nfloat spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\nif ( spotEffect > spotLightAngleCos[ i ] ) {\nspotEffect = max( pow( spotEffect, spotLightExponent[ i ] ), 0.0 );\n#ifdef WRAP_AROUND\nfloat spotDiffuseWeightFull = max( dot( normal, spotVector ), 0.0 );\nfloat spotDiffuseWeightHalf = max( 0.5 * dot( normal, spotVector ) + 0.5, 0.0 );\nvec3 spotDiffuseWeight = mix( vec3 ( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n#else\nfloat spotDiffuseWeight = max( dot( normal, spotVector ), 0.0 );\n#endif\nspotDiffuse += spotDistance * spotLightColor[ i ] * uDiffuseColor * spotDiffuseWeight * spotEffect;\nvec3 spotHalfVector = normalize( spotVector + viewPosition );\nfloat spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\nfloat spotSpecularWeight = specularTex.r * max( pow( spotDotNormalHalf, uShininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( uShininess + 2.0001 ) / 8.0;\nvec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( spotVector, spotHalfVector ), 5.0 );\nspotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * spotDistance * specularNormalization * spotEffect;\n#else\nspotSpecular += spotDistance * spotLightColor[ i ] * uSpecularColor * spotSpecularWeight * spotDiffuseWeight * spotEffect;\n#endif\n}\n}\n#endif\n#if MAX_DIR_LIGHTS > 0\nvec3 dirDiffuse = vec3( 0.0 );\nvec3 dirSpecular = vec3( 0.0 );\nfor( int i = 0; i < MAX_DIR_LIGHTS; i++ ) {\nvec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\nvec3 dirVector = normalize( lDirection.xyz );\n#ifdef WRAP_AROUND\nfloat directionalLightWeightingFull = max( dot( normal, dirVector ), 0.0 );\nfloat directionalLightWeightingHalf = max( 0.5 * dot( normal, dirVector ) + 0.5, 0.0 );\nvec3 dirDiffuseWeight = mix( vec3( directionalLightWeightingFull ), vec3( directionalLightWeightingHalf ), wrapRGB );\n#else\nfloat dirDiffuseWeight = max( dot( normal, dirVector ), 0.0 );\n#endif\ndirDiffuse += directionalLightColor[ i ] * uDiffuseColor * dirDiffuseWeight;\nvec3 dirHalfVector = normalize( dirVector + viewPosition );\nfloat dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\nfloat dirSpecularWeight = specularTex.r * max( pow( dirDotNormalHalf, uShininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat specularNormalization = ( uShininess + 2.0001 ) / 8.0;\nvec3 schlick = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( dirVector, dirHalfVector ), 5.0 );\ndirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n#else\ndirSpecular += directionalLightColor[ i ] * uSpecularColor * dirSpecularWeight * dirDiffuseWeight;\n#endif\n}\n#endif\n#if MAX_HEMI_LIGHTS > 0\nvec3 hemiDiffuse  = vec3( 0.0 );\nvec3 hemiSpecular = vec3( 0.0 );\nfor( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\nvec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\nvec3 lVector = normalize( lDirection.xyz );\nfloat dotProduct = dot( normal, lVector );\nfloat hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\nvec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\nhemiDiffuse += uDiffuseColor * hemiColor;\nvec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\nfloat hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\nfloat hemiSpecularWeightSky = specularTex.r * max( pow( hemiDotNormalHalfSky, uShininess ), 0.0 );\nvec3 lVectorGround = -lVector;\nvec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\nfloat hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\nfloat hemiSpecularWeightGround = specularTex.r * max( pow( hemiDotNormalHalfGround, uShininess ), 0.0 );\n#ifdef PHYSICALLY_BASED_SHADING\nfloat dotProductGround = dot( normal, lVectorGround );\nfloat specularNormalization = ( uShininess + 2.0001 ) / 8.0;\nvec3 schlickSky = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( lVector, hemiHalfVectorSky ), 5.0 );\nvec3 schlickGround = uSpecularColor + vec3( 1.0 - uSpecularColor ) * pow( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 5.0 );\nhemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n#else\nhemiSpecular += uSpecularColor * hemiColor * ( hemiSpecularWeightSky + hemiSpecularWeightGround ) * hemiDiffuseWeight;\n#endif\n}\n#endif\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n#if MAX_DIR_LIGHTS > 0\ntotalDiffuse += dirDiffuse;\ntotalSpecular += dirSpecular;\n#endif\n#if MAX_HEMI_LIGHTS > 0\ntotalDiffuse += hemiDiffuse;\ntotalSpecular += hemiSpecular;\n#endif\n#if MAX_POINT_LIGHTS > 0\ntotalDiffuse += pointDiffuse;\ntotalSpecular += pointSpecular;\n#endif\n#if MAX_SPOT_LIGHTS > 0\ntotalDiffuse += spotDiffuse;\ntotalSpecular += spotSpecular;\n#endif\n#ifdef METAL\ngl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor + totalSpecular );\n#else\ngl_FragColor.xyz = gl_FragColor.xyz * ( totalDiffuse + ambientLightColor * uAmbientColor ) + totalSpecular;\n#endif\nif ( enableReflection ) {\nvec3 vReflect;\nvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\nif ( useRefract ) {\nvReflect = refract( cameraToVertex, normal, uRefractionRatio );\n} else {\nvReflect = reflect( cameraToVertex, normal );\n}\nvec4 cubeColor = textureCube( tCube, vec3( -vReflect.x, vReflect.yz ) );\n#ifdef GAMMA_INPUT\ncubeColor.xyz *= cubeColor.xyz;\n#endif\ngl_FragColor.xyz = mix( gl_FragColor.xyz, cubeColor.xyz, specularTex.r * uReflectivity );\n}",THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n"),vertexShader:["attribute vec4 tangent;\nuniform vec2 uOffset;\nuniform vec2 uRepeat;\nuniform bool enableDisplacement;\n#ifdef VERTEX_TEXTURES\nuniform sampler2D tDisplacement;\nuniform float uDisplacementScale;\nuniform float uDisplacementBias;\n#endif\nvarying vec3 vTangent;\nvarying vec3 vBinormal;\nvarying vec3 vNormal;\nvarying vec2 vUv;\nvarying vec3 vWorldPosition;\nvarying vec3 vViewPosition;",THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,"#ifdef USE_SKINNING\nvNormal = normalize( normalMatrix * skinnedNormal.xyz );\nvec4 skinnedTangent = skinMatrix * vec4( tangent.xyz, 0.0 );\nvTangent = normalize( normalMatrix * skinnedTangent.xyz );\n#else\nvNormal = normalize( normalMatrix * normal );\nvTangent = normalize( normalMatrix * tangent.xyz );\n#endif\nvBinormal = normalize( cross( vNormal, vTangent ) * tangent.w );\nvUv = uv * uRepeat + uOffset;\nvec3 displacedPosition;\n#ifdef VERTEX_TEXTURES\nif ( enableDisplacement ) {\nvec3 dv = texture2D( tDisplacement, uv ).xyz;\nfloat df = uDisplacementScale * dv.x + uDisplacementBias;\ndisplacedPosition = position + normalize( normal ) * df;\n} else {\n#ifdef USE_SKINNING\nvec4 skinVertex = vec4( position, 1.0 );\nvec4 skinned  = boneMatX * skinVertex * skinWeight.x;\nskinned 	  += boneMatY * skinVertex * skinWeight.y;\ndisplacedPosition  = skinned.xyz;\n#else\ndisplacedPosition = position;\n#endif\n}\n#else\n#ifdef USE_SKINNING\nvec4 skinVertex = vec4( position, 1.0 );\nvec4 skinned  = boneMatX * skinVertex * skinWeight.x;\nskinned 	  += boneMatY * skinVertex * skinWeight.y;\ndisplacedPosition  = skinned.xyz;\n#else\ndisplacedPosition = position;\n#endif\n#endif\nvec4 mvPosition = modelViewMatrix * vec4( displacedPosition, 1.0 );\nvec4 worldPosition = modelMatrix * vec4( displacedPosition, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\nvWorldPosition = worldPosition.xyz;\nvViewPosition = -mvPosition.xyz;\n#ifdef USE_SHADOWMAP\nfor( int i = 0; i < MAX_SHADOWS; i ++ ) {\nvShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n}\n#endif\n}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:"varying vec3 vWorldPosition;\nvoid main() {\nvec4 worldPosition = modelMatrix * vec4( position, 1.0 );\nvWorldPosition = worldPosition.xyz;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",fragmentShader:"uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\nvoid main() {\ngl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n}"},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,"}"].join("\n"),fragmentShader:"vec4 pack_depth( const in float depth ) {\nconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\nconst vec4 bit_mask  = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\nvec4 res = fract( depth * bit_shift );\nres -= res.xxyz * bit_mask;\nreturn res;\n}\nvoid main() {\ngl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n}"}},THREE.WebGLRenderer=function(e){function t(e){if(e.__webglCustomAttributesList)for(var t in e.__webglCustomAttributesList)Tt.deleteBuffer(e.__webglCustomAttributesList[t].buffer)}function n(e,t){var n=e.vertices.length,r=t.material;if(r.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var i in r.attributes){var s=r.attributes[i];if(!s.__webglInitialized||s.createUniqueBuffers){s.__webglInitialized=!0;var o=1;"v2"===s.type?o=2:"v3"===s.type?o=3:"v4"===s.type?o=4:"c"===s.type&&(o=3),s.size=o,s.array=new Float32Array(n*o),s.buffer=Tt.createBuffer(),s.buffer.belongsToAttribute=i,s.needsUpdate=!0}e.__webglCustomAttributesList.push(s)}}}function r(e,t){var n=t.geometry,r=e.faces3,u=e.faces4,a=3*r.length+4*u.length,f=1*r.length+2*u.length,u=3*r.length+4*u.length,r=i(t,e),l=o(r),c=s(r),h=r.vertexColors?r.vertexColors:!1;e.__vertexArray=new Float32Array(3*a),c&&(e.__normalArray=new Float32Array(3*a)),n.hasTangents&&(e.__tangentArray=new Float32Array(4*a)),h&&(e.__colorArray=new Float32Array(3*a));if(l){if(0<n.faceUvs.length||0<n.faceVertexUvs.length)e.__uvArray=new Float32Array(2*a);if(1<n.faceUvs.length||1<n.faceVertexUvs.length)e.__uv2Array=new Float32Array(2*a)}t.geometry.skinWeights.length&&t.geometry.skinIndices.length&&(e.__skinIndexArray=new Float32Array(4*a),e.__skinWeightArray=new Float32Array(4*a)),e.__faceArray=new Uint16Array(3*f),e.__lineArray=new Uint16Array(2*u);if(e.numMorphTargets){e.__morphTargetsArrays=[],n=0;for(l=e.numMorphTargets;n<l;n++)e.__morphTargetsArrays.push(new Float32Array(3*a))}if(e.numMorphNormals){e.__morphNormalsArrays=[],n=0;for(l=e.numMorphNormals;n<l;n++)e.__morphNormalsArrays.push(new Float32Array(3*a))}e.__webglFaceCount=3*f,e.__webglLineCount=2*u;if(r.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var p in r.attributes){var f=r.attributes[p],n={},d;for(d in f)n[d]=f[d];if(!n.__webglInitialized||n.createUniqueBuffers)n.__webglInitialized=!0,u=1,"v2"===n.type?u=2:"v3"===n.type?u=3:"v4"===n.type?u=4:"c"===n.type&&(u=3),n.size=u,n.array=new Float32Array(a*u),n.buffer=Tt.createBuffer(),n.buffer.belongsToAttribute=p,f.needsUpdate=!0,n.__original=f;e.__webglCustomAttributesList.push(n)}}e.__inittedArrays=!0}function i(e,t){return e.material instanceof THREE.MeshFaceMaterial?e.material.materials[t.materialIndex]:e.material}function s(e){return e instanceof THREE.MeshBasicMaterial&&!e.envMap||e instanceof THREE.MeshDepthMaterial?!1:e&&void 0!==e.shading&&e.shading===THREE.SmoothShading?THREE.SmoothShading:THREE.FlatShading}function o(e){return e.map||e.lightMap||e.bumpMap||e.normalMap||e.specularMap||e instanceof THREE.ShaderMaterial?!0:!1}function u(e){mt[e]||(Tt.enableVertexAttribArray(e),mt[e]=!0)}function a(){for(var e in mt)mt[e]&&(Tt.disableVertexAttribArray(e),mt[e]=!1)}function f(e,t){return e.z!==t.z?t.z-e.z:e.id-t.id}function l(e,t){return t[0]-e[0]}function c(e,t,n){if(e.length)for(var r=0,i=e.length;r<i;r++)K=X=null,$=J=Z=Y=st=it=et=-1,St=!0,e[r].render(t,n,dt,vt),K=X=null,$=J=Z=Y=st=it=et=-1,St=!0}function h(e,t,n,r,i,s,o,u){var a,f,l,c;t?(f=e.length-1,c=t=-1):(f=0,t=e.length,c=1);for(var h=f;h!==t;h+=c)if(a=e[h],a.render){f=a.object,l=a.buffer;if(u)a=u;else{a=a[n];if(!a)continue;o&&U.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst),U.setDepthTest(a.depthTest),U.setDepthWrite(a.depthWrite),C(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}U.setMaterialFaces(a),l instanceof THREE.BufferGeometry?U.renderBufferDirect(r,i,s,a,l,f):U.renderBuffer(r,i,s,a,l,f)}}function p(e,t,n,r,i,s,o){for(var u,a,f=0,l=e.length;f<l;f++)if(u=e[f],a=u.object,a.visible){if(o)u=o;else{u=u[t];if(!u)continue;s&&U.setBlending(u.blending,u.blendEquation,u.blendSrc,u.blendDst),U.setDepthTest(u.depthTest),U.setDepthWrite(u.depthWrite),C(u.polygonOffset,u.polygonOffsetFactor,u.polygonOffsetUnits)}U.renderImmediateObject(n,r,i,u,a)}}function d(e,t){var i,s,o,u;if(void 0===e.__webglInit&&(e.__webglInit=!0,e._modelViewMatrix=new THREE.Matrix4,e._normalMatrix=new THREE.Matrix3,void 0!==e.geometry&&void 0===e.geometry.__webglInit&&(e.geometry.__webglInit=!0,e.geometry.addEventListener("dispose",Ut)),s=e.geometry,void 0!==s))if(s instanceof THREE.BufferGeometry){var a,f;for(a in s.attributes)f="index"===a?Tt.ELEMENT_ARRAY_BUFFER:Tt.ARRAY_BUFFER,u=s.attributes[a],u.buffer=Tt.createBuffer(),Tt.bindBuffer(f,u.buffer),Tt.bufferData(f,u.array,Tt.STATIC_DRAW)}else if(e instanceof THREE.Mesh){o=e.material;if(void 0===s.geometryGroups){a=s;var l,c,h,p,d;f={};var m=a.morphTargets.length,g=a.morphNormals.length,y=o instanceof THREE.MeshFaceMaterial;a.geometryGroups={},o=0;for(l=a.faces.length;o<l;o++)c=a.faces[o],h=y?c.materialIndex:0,void 0===f[h]&&(f[h]={hash:h,counter:0}),d=f[h].hash+"_"+f[h].counter,void 0===a.geometryGroups[d]&&(a.geometryGroups[d]={faces3:[],faces4:[],materialIndex:h,vertices:0,numMorphTargets:m,numMorphNormals:g}),p=c instanceof THREE.Face3?3:4,65535<a.geometryGroups[d].vertices+p&&(f[h].counter+=1,d=f[h].hash+"_"+f[h].counter,void 0===a.geometryGroups[d]&&(a.geometryGroups[d]={faces3:[],faces4:[],materialIndex:h,vertices:0,numMorphTargets:m,numMorphNormals:g})),c instanceof THREE.Face3?a.geometryGroups[d].faces3.push(o):a.geometryGroups[d].faces4.push(o),a.geometryGroups[d].vertices+=p;a.geometryGroupsList=[];for(u in a.geometryGroups)a.geometryGroups[u].id=Q++,a.geometryGroupsList.push(a.geometryGroups[u])}for(i in s.geometryGroups)if(u=s.geometryGroups[i],!u.__webglVertexBuffer){a=u,a.__webglVertexBuffer=Tt.createBuffer(),a.__webglNormalBuffer=Tt.createBuffer(),a.__webglTangentBuffer=Tt.createBuffer(),a.__webglColorBuffer=Tt.createBuffer(),a.__webglUVBuffer=Tt.createBuffer(),a.__webglUV2Buffer=Tt.createBuffer(),a.__webglSkinIndicesBuffer=Tt.createBuffer(),a.__webglSkinWeightsBuffer=Tt.createBuffer(),a.__webglFaceBuffer=Tt.createBuffer(),a.__webglLineBuffer=Tt.createBuffer(),m=f=void 0;if(a.numMorphTargets){a.__webglMorphTargetsBuffers=[],f=0;for(m=a.numMorphTargets;f<m;f++)a.__webglMorphTargetsBuffers.push(Tt.createBuffer())}if(a.numMorphNormals){a.__webglMorphNormalsBuffers=[],f=0;for(m=a.numMorphNormals;f<m;f++)a.__webglMorphNormalsBuffers.push(Tt.createBuffer())}U.info.memory.geometries++,r(u,e),s.verticesNeedUpdate=!0,s.morphTargetsNeedUpdate=!0,s.elementsNeedUpdate=!0,s.uvsNeedUpdate=!0,s.normalsNeedUpdate=!0,s.tangentsNeedUpdate=!0,s.colorsNeedUpdate=!0}}else e instanceof THREE.Ribbon?s.__webglVertexBuffer||(u=s,u.__webglVertexBuffer=Tt.createBuffer(),u.__webglColorBuffer=Tt.createBuffer(),u.__webglNormalBuffer=Tt.createBuffer(),U.info.memory.geometries++,u=s,a=u.vertices.length,u.__vertexArray=new Float32Array(3*a),u.__colorArray=new Float32Array(3*a),u.__normalArray=new Float32Array(3*a),u.__webglVertexCount=a,n(u,e),s.verticesNeedUpdate=!0,s.colorsNeedUpdate=!0,s.normalsNeedUpdate=!0):e instanceof THREE.Line?s.__webglVertexBuffer||(u=s,u.__webglVertexBuffer=Tt.createBuffer(),u.__webglColorBuffer=Tt.createBuffer(),u.__webglLineDistanceBuffer=Tt.createBuffer(),U.info.memory.geometries++,u=s,a=u.vertices.length,u.__vertexArray=new Float32Array(3*a),u.__colorArray=new Float32Array(3*a),u.__lineDistanceArray=new Float32Array(1*a),u.__webglLineCount=a,n(u,e),s.verticesNeedUpdate=!0,s.colorsNeedUpdate=!0,s.lineDistancesNeedUpdate=!0):e instanceof THREE.ParticleSystem&&!s.__webglVertexBuffer&&(u=s,u.__webglVertexBuffer=Tt.createBuffer(),u.__webglColorBuffer=Tt.createBuffer(),U.info.memory.geometries++,u=s,a=u.vertices.length,u.__vertexArray=new Float32Array(3*a),u.__colorArray=new Float32Array(3*a),u.__sortArray=[],u.__webglParticleCount=a,n(u,e),s.verticesNeedUpdate=!0,s.colorsNeedUpdate=!0);if(void 0===e.__webglActive){if(e instanceof THREE.Mesh){if(s=e.geometry,s instanceof THREE.BufferGeometry)v(t.__webglObjects,s,e);else if(s instanceof THREE.Geometry)for(i in s.geometryGroups)u=s.geometryGroups[i],v(t.__webglObjects,u,e)}else e instanceof THREE.Ribbon||e instanceof THREE.Line||e instanceof THREE.ParticleSystem?(s=e.geometry,v(t.__webglObjects,s,e)):e instanceof THREE.ImmediateRenderObject||e.immediateRenderCallback?t.__webglObjectsImmediate.push({object:e,opaque:null,transparent:null}):e instanceof THREE.Sprite?t.__webglSprites.push(e):e instanceof THREE.LensFlare&&t.__webglFlares.push(e);e.__webglActive=!0}}function v(e,t,n){e.push({buffer:t,object:n,opaque:null,transparent:null})}function m(e){for(var t in e.attributes)if(e.attributes[t].needsUpdate)return!0;return!1}function g(e){for(var t in e.attributes)e.attributes[t].needsUpdate=!1}function y(e,t){e instanceof THREE.Mesh||e instanceof THREE.ParticleSystem||e instanceof THREE.Ribbon||e instanceof THREE.Line?b(t.__webglObjects,e):e instanceof THREE.Sprite?w(t.__webglSprites,e):e instanceof THREE.LensFlare?w(t.__webglFlares,e):(e instanceof THREE.ImmediateRenderObject||e.immediateRenderCallback)&&b(t.__webglObjectsImmediate,e),delete e.__webglActive}function b(e,t){for(var n=e.length-1;0<=n;n--)e[n].object===t&&e.splice(n,1)}function w(e,t){for(var n=e.length-1;0<=n;n--)e[n]===t&&e.splice(n,1)}function E(e,t,n,r,i){G=0,r.needsUpdate&&(r.program&&Vt(r),U.initMaterial(r,t,n,i),r.needsUpdate=!1),r.morphTargets&&!i.__webglMorphTargetInfluences&&(i.__webglMorphTargetInfluences=new Float32Array(U.maxMorphTargets));var s=!1,o=r.program,u=o.uniforms,a=r.uniforms;o!==X&&(Tt.useProgram(o),X=o,s=!0),r.id!==$&&($=r.id,s=!0);if(s||e!==K)Tt.uniformMatrix4fv(u.projectionMatrix,!1,e.projectionMatrix.elements),e!==K&&(K=e);if(r.skinning)if(Ht&&i.useVertexTexture){if(null!==u.boneTexture){var f=S();Tt.uniform1i(u.boneTexture,f),U.setTexture(i.boneTexture,f)}}else null!==u.boneGlobalMatrices&&Tt.uniformMatrix4fv(u.boneGlobalMatrices,!1,i.boneMatrices);if(s){n&&r.fog&&(a.fogColor.value=n.color,n instanceof THREE.Fog?(a.fogNear.value=n.near,a.fogFar.value=n.far):n instanceof THREE.FogExp2&&(a.fogDensity.value=n.density));if(r instanceof THREE.MeshPhongMaterial||r instanceof THREE.MeshLambertMaterial||r.lights){if(St){for(var l,c=f=0,h=0,p,d,v,m=xt,g=m.directional.colors,y=m.directional.positions,b=m.point.colors,w=m.point.positions,E=m.point.distances,N=m.spot.colors,C=m.spot.positions,k=m.spot.distances,L=m.spot.directions,O=m.spot.anglesCos,M=m.spot.exponents,P=m.hemi.skyColors,H=m.hemi.groundColors,B=m.hemi.positions,j=0,F=0,I=0,q=0,R=0,z=0,W=0,V=0,J=l=0,n=v=J=0,s=t.length;n<s;n++)l=t[n],l.onlyShadow||(p=l.color,d=l.intensity,v=l.distance,l instanceof THREE.AmbientLight?l.visible&&(U.gammaInput?(f+=p.r*p.r,c+=p.g*p.g,h+=p.b*p.b):(f+=p.r,c+=p.g,h+=p.b)):l instanceof THREE.DirectionalLight?(R+=1,l.visible&&(Et.getPositionFromMatrix(l.matrixWorld),wt.getPositionFromMatrix(l.target.matrixWorld),Et.sub(wt),Et.normalize(),0===Et.x&&0===Et.y&&0===Et.z||(l=3*j,y[l]=Et.x,y[l+1]=Et.y,y[l+2]=Et.z,U.gammaInput?x(g,l,p,d*d):T(g,l,p,d),j+=1))):l instanceof THREE.PointLight?(z+=1,l.visible&&(J=3*F,U.gammaInput?x(b,J,p,d*d):T(b,J,p,d),wt.getPositionFromMatrix(l.matrixWorld),w[J]=wt.x,w[J+1]=wt.y,w[J+2]=wt.z,E[F]=v,F+=1)):l instanceof THREE.SpotLight?(W+=1,l.visible&&(J=3*I,U.gammaInput?x(N,J,p,d*d):T(N,J,p,d),wt.getPositionFromMatrix(l.matrixWorld),C[J]=wt.x,C[J+1]=wt.y,C[J+2]=wt.z,k[I]=v,Et.copy(wt),wt.getPositionFromMatrix(l.target.matrixWorld),Et.sub(wt),Et.normalize(),L[J]=Et.x,L[J+1]=Et.y,L[J+2]=Et.z,O[I]=Math.cos(l.angle),M[I]=l.exponent,I+=1)):l instanceof THREE.HemisphereLight&&(V+=1,l.visible&&(Et.getPositionFromMatrix(l.matrixWorld),Et.normalize(),0===Et.x&&0===Et.y&&0===Et.z||(v=3*q,B[v]=Et.x,B[v+1]=Et.y,B[v+2]=Et.z,p=l.color,l=l.groundColor,U.gammaInput?(d*=d,x(P,v,p,d),x(H,v,l,d)):(T(P,v,p,d),T(H,v,l,d)),q+=1))));n=3*j;for(s=Math.max(g.length,3*R);n<s;n++)g[n]=0;n=3*F;for(s=Math.max(b.length,3*z);n<s;n++)b[n]=0;n=3*I;for(s=Math.max(N.length,3*W);n<s;n++)N[n]=0;n=3*q;for(s=Math.max(P.length,3*V);n<s;n++)P[n]=0;n=3*q;for(s=Math.max(H.length,3*V);n<s;n++)H[n]=0;m.directional.length=j,m.point.length=F,m.spot.length=I,m.hemi.length=q,m.ambient[0]=f,m.ambient[1]=c,m.ambient[2]=h,St=!1}n=xt,a.ambientLightColor.value=n.ambient,a.directionalLightColor.value=n.directional.colors,a.directionalLightDirection.value=n.directional.positions,a.pointLightColor.value=n.point.colors,a.pointLightPosition.value=n.point.positions,a.pointLightDistance.value=n.point.distances,a.spotLightColor.value=n.spot.colors,a.spotLightPosition.value=n.spot.positions,a.spotLightDistance.value=n.spot.distances,a.spotLightDirection.value=n.spot.directions,a.spotLightAngleCos.value=n.spot.anglesCos,a.spotLightExponent.value=n.spot.exponents,a.hemisphereLightSkyColor.value=n.hemi.skyColors,a.hemisphereLightGroundColor.value=n.hemi.groundColors,a.hemisphereLightDirection.value=n.hemi.positions}if(r instanceof THREE.MeshBasicMaterial||r instanceof THREE.MeshLambertMaterial||r instanceof THREE.MeshPhongMaterial){a.opacity.value=r.opacity,U.gammaInput?a.diffuse.value.copyGammaToLinear(r.color):a.diffuse.value=r.color,a.map.value=r.map,a.lightMap.value=r.lightMap,a.specularMap.value=r.specularMap,r.bumpMap&&(a.bumpMap.value=r.bumpMap,a.bumpScale.value=r.bumpScale),r.normalMap&&(a.normalMap.value=r.normalMap,a.normalScale.value.copy(r.normalScale));var Q;r.map?Q=r.map:r.specularMap?Q=r.specularMap:r.normalMap?Q=r.normalMap:r.bumpMap&&(Q=r.bumpMap),void 0!==Q&&(n=Q.offset,Q=Q.repeat,a.offsetRepeat.value.set(n.x,n.y,Q.x,Q.y)),a.envMap.value=r.envMap,a.flipEnvMap.value=r.envMap instanceof THREE.WebGLRenderTargetCube?1:-1,a.reflectivity.value=r.reflectivity,a.refractionRatio.value=r.refractionRatio,a.combine.value=r.combine,a.useRefract.value=r.envMap&&r.envMap.mapping instanceof THREE.CubeRefractionMapping}r instanceof THREE.LineBasicMaterial?(a.diffuse.value=r.color,a.opacity.value=r.opacity):r instanceof THREE.LineDashedMaterial?(a.diffuse.value=r.color,a.opacity.value=r.opacity,a.dashSize.value=r.dashSize,a.totalSize.value=r.dashSize+r.gapSize,a.scale.value=r.scale):r instanceof THREE.ParticleBasicMaterial?(a.psColor.value=r.color,a.opacity.value=r.opacity,a.size.value=r.size,a.scale.value=D.height/2,a.map.value=r.map):r instanceof THREE.MeshPhongMaterial?(a.shininess.value=r.shininess,U.gammaInput?(a.ambient.value.copyGammaToLinear(r.ambient),a.emissive.value.copyGammaToLinear(r.emissive),a.specular.value.copyGammaToLinear(r.specular)):(a.ambient.value=r.ambient,a.emissive.value=r.emissive,a.specular.value=r.specular),r.wrapAround&&a.wrapRGB.value.copy(r.wrapRGB)):r instanceof THREE.MeshLambertMaterial?(U.gammaInput?(a.ambient.value.copyGammaToLinear(r.ambient),a.emissive.value.copyGammaToLinear(r.emissive)):(a.ambient.value=r.ambient,a.emissive.value=r.emissive),r.wrapAround&&a.wrapRGB.value.copy(r.wrapRGB)):r instanceof THREE.MeshDepthMaterial?(a.mNear.value=e.near,a.mFar.value=e.far,a.opacity.value=r.opacity):r instanceof THREE.MeshNormalMaterial&&(a.opacity.value=r.opacity);if(i.receiveShadow&&!r._shadowPass&&a.shadowMatrix){n=Q=0;for(s=t.length;n<s;n++)if(f=t[n],f.castShadow&&(f instanceof THREE.SpotLight||f instanceof THREE.DirectionalLight&&!f.shadowCascade))a.shadowMap.value[Q]=f.shadowMap,a.shadowMapSize.value[Q]=f.shadowMapSize,a.shadowMatrix.value[Q]=f.shadowMatrix,a.shadowDarkness.value[Q]=f.shadowDarkness,a.shadowBias.value[Q]=f.shadowBias,Q++}t=r.uniformsList,a=0;for(Q=t.length;a<Q;a++)if(s=o.uniforms[t[a][1]])if(n=t[a][0],c=n.type,f=n.value,"i"===c)Tt.uniform1i(s,f);else if("f"===c)Tt.uniform1f(s,f);else if("v2"===c)Tt.uniform2f(s,f.x,f.y);else if("v3"===c)Tt.uniform3f(s,f.x,f.y,f.z);else if("v4"===c)Tt.uniform4f(s,f.x,f.y,f.z,f.w);else if("c"===c)Tt.uniform3f(s,f.r,f.g,f.b);else if("iv1"===c)Tt.uniform1iv(s,f);else if("iv"===c)Tt.uniform3iv(s,f);else if("fv1"===c)Tt.uniform1fv(s,f);else if("fv"===c)Tt.uniform3fv(s,f);else if("v2v"===c){void 0===n._array&&(n._array=new Float32Array(2*f.length)),c=0;for(h=f.length;c<h;c++)m=2*c,n._array[m]=f[c].x,n._array[m+1]=f[c].y;Tt.uniform2fv(s,n._array)}else if("v3v"===c){void 0===n._array&&(n._array=new Float32Array(3*f.length)),c=0;for(h=f.length;c<h;c++)m=3*c,n._array[m]=f[c].x,n._array[m+1]=f[c].y,n._array[m+2]=f[c].z;Tt.uniform3fv(s,n._array)}else if("v4v"===c){void 0===n._array&&(n._array=new Float32Array(4*f.length)),c=0;for(h=f.length;c<h;c++)m=4*c,n._array[m]=f[c].x,n._array[m+1]=f[c].y,n._array[m+2]=f[c].z,n._array[m+3]=f[c].w;Tt.uniform4fv(s,n._array)}else if("m4"===c)void 0===n._array&&(n._array=new Float32Array(16)),f.flattenToArray(n._array),Tt.uniformMatrix4fv(s,!1,n._array);else if("m4v"===c){void 0===n._array&&(n._array=new Float32Array(16*f.length)),c=0;for(h=f.length;c<h;c++)f[c].flattenToArrayOffset(n._array,16*c);Tt.uniformMatrix4fv(s,!1,n._array)}else if("t"===c){if(m=f,f=S(),Tt.uniform1i(s,f),m)if(m.image instanceof Array&&6===m.image.length){if(n=m,s=f,6===n.image.length)if(n.needsUpdate){n.image.__webglTextureCube||(n.image.__webglTextureCube=Tt.createTexture(),U.info.memory.textures++),Tt.activeTexture(Tt.TEXTURE0+s),Tt.bindTexture(Tt.TEXTURE_CUBE_MAP,n.image.__webglTextureCube),Tt.pixelStorei(Tt.UNPACK_FLIP_Y_WEBGL,n.flipY),s=n instanceof THREE.CompressedTexture,f=[];for(c=0;6>c;c++)U.autoScaleCubemaps&&!s?(h=f,m=c,g=n.image[c],b=_t,g.width<=b&&g.height<=b||(w=Math.max(g.width,g.height),y=Math.floor(g.width*b/w),b=Math.floor(g.height*b/w),w=document.createElement("canvas"),w.width=y,w.height=b,w.getContext("2d").drawImage(g,0,0,g.width,g.height,0,0,y,b),g=w),h[m]=g):f[c]=n.image[c];c=f[0],h=0===(c.width&c.width-1)&&0===(c.height&c.height-1),m=_(n.format),g=_(n.type),A(Tt.TEXTURE_CUBE_MAP,n,h);for(c=0;6>c;c++)if(s){b=f[c].mipmaps,w=0;for(E=b.length;w<E;w++)y=b[w],Tt.compressedTexImage2D(Tt.TEXTURE_CUBE_MAP_POSITIVE_X+c,w,m,y.width,y.height,0,y.data)}else Tt.texImage2D(Tt.TEXTURE_CUBE_MAP_POSITIVE_X+c,0,m,m,g,f[c]);n.generateMipmaps&&h&&Tt.generateMipmap(Tt.TEXTURE_CUBE_MAP),n.needsUpdate=!1,n.onUpdate&&n.onUpdate()}else Tt.activeTexture(Tt.TEXTURE0+s),Tt.bindTexture(Tt.TEXTURE_CUBE_MAP,n.image.__webglTextureCube)}else m instanceof THREE.WebGLRenderTargetCube?(n=m,Tt.activeTexture(Tt.TEXTURE0+f),Tt.bindTexture(Tt.TEXTURE_CUBE_MAP,n.__webglTexture)):U.setTexture(m,f)}else if("tv"===c){void 0===n._array&&(n._array=[]),c=0;for(h=n.value.length;c<h;c++)n._array[c]=S();Tt.uniform1iv(s,n._array),c=0;for(h=n.value.length;c<h;c++)m=n.value[c],f=n._array[c],m&&U.setTexture(m,f)}(r instanceof THREE.ShaderMaterial||r instanceof THREE.MeshPhongMaterial||r.envMap)&&null!==u.cameraPosition&&(wt.getPositionFromMatrix(e.matrixWorld),Tt.uniform3f(u.cameraPosition,wt.x,wt.y,wt.z)),(r instanceof THREE.MeshPhongMaterial||r instanceof THREE.MeshLambertMaterial||r instanceof THREE.ShaderMaterial||r.skinning)&&null!==u.viewMatrix&&Tt.uniformMatrix4fv(u.viewMatrix,!1,e.matrixWorldInverse.elements)}return Tt.uniformMatrix4fv(u.modelViewMatrix,!1,i._modelViewMatrix.elements),u.normalMatrix&&Tt.uniformMatrix3fv(u.normalMatrix,!1,i._normalMatrix.elements),null!==u.modelMatrix&&Tt.uniformMatrix4fv(u.modelMatrix,!1,i.matrixWorld.elements),o}function S(){var e=G;return e>=Ot&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+Ot),G+=1,e}function x(e,t,n,r){e[t]=n.r*n.r*r,e[t+1]=n.g*n.g*r,e[t+2]=n.b*n.b*r}function T(e,t,n,r){e[t]=n.r*r,e[t+1]=n.g*r,e[t+2]=n.b*r}function N(e){e!==ft&&(Tt.lineWidth(e),ft=e)}function C(e,t,n){ot!==e&&(e?Tt.enable(Tt.POLYGON_OFFSET_FILL):Tt.disable(Tt.POLYGON_OFFSET_FILL),ot=e),e&&(ut!==t||at!==n)&&(Tt.polygonOffset(t,n),ut=t,at=n)}function k(e){for(var e=e.split("\n"),t=0,n=e.length;t<n;t++)e[t]=t+1+": "+e[t];return e.join("\n")}function L(e,t){var n;return"fragment"===e?n=Tt.createShader(Tt.FRAGMENT_SHADER):"vertex"===e&&(n=Tt.createShader(Tt.VERTEX_SHADER)),Tt.shaderSource(n,t),Tt.compileShader(n),Tt.getShaderParameter(n,Tt.COMPILE_STATUS)?n:(console.error(Tt.getShaderInfoLog(n)),console.error(k(t)),null)}function A(e,t,n){n?(Tt.texParameteri(e,Tt.TEXTURE_WRAP_S,_(t.wrapS)),Tt.texParameteri(e,Tt.TEXTURE_WRAP_T,_(t.wrapT)),Tt.texParameteri(e,Tt.TEXTURE_MAG_FILTER,_(t.magFilter)),Tt.texParameteri(e,Tt.TEXTURE_MIN_FILTER,_(t.minFilter))):(Tt.texParameteri(e,Tt.TEXTURE_WRAP_S,Tt.CLAMP_TO_EDGE),Tt.texParameteri(e,Tt.TEXTURE_WRAP_T,Tt.CLAMP_TO_EDGE),Tt.texParameteri(e,Tt.TEXTURE_MAG_FILTER,M(t.magFilter)),Tt.texParameteri(e,Tt.TEXTURE_MIN_FILTER,M(t.minFilter))),kt&&t.type!==THREE.FloatType&&(1<t.anisotropy||t.__oldAnisotropy)&&(Tt.texParameterf(e,kt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,Dt)),t.__oldAnisotropy=t.anisotropy)}function O(e,t){Tt.bindRenderbuffer(Tt.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(Tt.renderbufferStorage(Tt.RENDERBUFFER,Tt.DEPTH_COMPONENT16,t.width,t.height),Tt.framebufferRenderbuffer(Tt.FRAMEBUFFER,Tt.DEPTH_ATTACHMENT,Tt.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(Tt.renderbufferStorage(Tt.RENDERBUFFER,Tt.DEPTH_STENCIL,t.width,t.height),Tt.framebufferRenderbuffer(Tt.FRAMEBUFFER,Tt.DEPTH_STENCIL_ATTACHMENT,Tt.RENDERBUFFER,e)):Tt.renderbufferStorage(Tt.RENDERBUFFER,Tt.RGBA4,t.width,t.height)}function M(e){return e===THREE.NearestFilter||e===THREE.NearestMipMapNearestFilter||e===THREE.NearestMipMapLinearFilter?Tt.NEAREST:Tt.LINEAR}function _(e){if(e===THREE.RepeatWrapping)return Tt.REPEAT;if(e===THREE.ClampToEdgeWrapping)return Tt.CLAMP_TO_EDGE;if(e===THREE.MirroredRepeatWrapping)return Tt.MIRRORED_REPEAT;if(e===THREE.NearestFilter)return Tt.NEAREST;if(e===THREE.NearestMipMapNearestFilter)return Tt.NEAREST_MIPMAP_NEAREST;if(e===THREE.NearestMipMapLinearFilter)return Tt.NEAREST_MIPMAP_LINEAR;if(e===THREE.LinearFilter)return Tt.LINEAR;if(e===THREE.LinearMipMapNearestFilter)return Tt.LINEAR_MIPMAP_NEAREST;if(e===THREE.LinearMipMapLinearFilter)return Tt.LINEAR_MIPMAP_LINEAR;if(e===THREE.UnsignedByteType)return Tt.UNSIGNED_BYTE;if(e===THREE.UnsignedShort4444Type)return Tt.UNSIGNED_SHORT_4_4_4_4;if(e===THREE.UnsignedShort5551Type)return Tt.UNSIGNED_SHORT_5_5_5_1;if(e===THREE.UnsignedShort565Type)return Tt.UNSIGNED_SHORT_5_6_5;if(e===THREE.ByteType)return Tt.BYTE;if(e===THREE.ShortType)return Tt.SHORT;if(e===THREE.UnsignedShortType)return Tt.UNSIGNED_SHORT;if(e===THREE.IntType)return Tt.INT;if(e===THREE.UnsignedIntType)return Tt.UNSIGNED_INT;if(e===THREE.FloatType)return Tt.FLOAT;if(e===THREE.AlphaFormat)return Tt.ALPHA;if(e===THREE.RGBFormat)return Tt.RGB;if(e===THREE.RGBAFormat)return Tt.RGBA;if(e===THREE.LuminanceFormat)return Tt.LUMINANCE;if(e===THREE.LuminanceAlphaFormat)return Tt.LUMINANCE_ALPHA;if(e===THREE.AddEquation)return Tt.FUNC_ADD;if(e===THREE.SubtractEquation)return Tt.FUNC_SUBTRACT;if(e===THREE.ReverseSubtractEquation)return Tt.FUNC_REVERSE_SUBTRACT;if(e===THREE.ZeroFactor)return Tt.ZERO;if(e===THREE.OneFactor)return Tt.ONE;if(e===THREE.SrcColorFactor)return Tt.SRC_COLOR;if(e===THREE.OneMinusSrcColorFactor)return Tt.ONE_MINUS_SRC_COLOR;if(e===THREE.SrcAlphaFactor)return Tt.SRC_ALPHA;if(e===THREE.OneMinusSrcAlphaFactor)return Tt.ONE_MINUS_SRC_ALPHA;if(e===THREE.DstAlphaFactor)return Tt.DST_ALPHA;if(e===THREE.OneMinusDstAlphaFactor)return Tt.ONE_MINUS_DST_ALPHA;if(e===THREE.DstColorFactor)return Tt.DST_COLOR;if(e===THREE.OneMinusDstColorFactor)return Tt.ONE_MINUS_DST_COLOR;if(e===THREE.SrcAlphaSaturateFactor)return Tt.SRC_ALPHA_SATURATE;if(void 0!==Lt){if(e===THREE.RGB_S3TC_DXT1_Format)return Lt.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT1_Format)return Lt.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT3_Format)return Lt.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===THREE.RGBA_S3TC_DXT5_Format)return Lt.COMPRESSED_RGBA_S3TC_DXT5_EXT}return 0}console.log("THREE.WebGLRenderer",THREE.REVISION);var e=e||{},D=void 0!==e.canvas?e.canvas:document.createElement("canvas"),P=void 0!==e.precision?e.precision:"highp",H=void 0!==e.alpha?e.alpha:!0,B=void 0!==e.premultipliedAlpha?e.premultipliedAlpha:!0,j=void 0!==e.antialias?e.antialias:!1,F=void 0!==e.stencil?e.stencil:!0,I=void 0!==e.preserveDrawingBuffer?e.preserveDrawingBuffer:!1,q=new THREE.Color(0),R=0;void 0!==e.clearColor&&(console.warn("DEPRECATED: clearColor in WebGLRenderer constructor parameters is being removed. Use .setClearColor() instead."),q.setHex(e.clearColor)),void 0!==e.clearAlpha&&(console.warn("DEPRECATED: clearAlpha in WebGLRenderer constructor parameters is being removed. Use .setClearColor() instead."),R=e.clearAlpha),this.domElement=D,this.context=null,this.devicePixelRatio=void 0!==e.devicePixelRatio?e.devicePixelRatio:void 0!==window.devicePixelRatio?window.devicePixelRatio:1,this.autoUpdateObjects=this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0,this.shadowMapEnabled=this.physicallyBasedShading=this.gammaOutput=this.gammaInput=!1,this.shadowMapAutoUpdate=!0,this.shadowMapType=THREE.PCFShadowMap,this.shadowMapCullFace=THREE.CullFaceFront,this.shadowMapCascade=this.shadowMapDebug=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.renderPluginsPre=[],this.renderPluginsPost=[],this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var U=this,z=[],W=0,X=null,V=null,$=-1,J=null,K=null,Q=0,G=0,Y=-1,Z=-1,et=-1,tt=-1,nt=-1,rt=-1,it=-1,st=-1,ot=null,ut=null,at=null,ft=null,lt=0,ct=0,ht=0,pt=0,dt=0,vt=0,mt={},gt=new THREE.Frustum,yt=new THREE.Matrix4,bt=new THREE.Matrix4,wt=new THREE.Vector3,Et=new THREE.Vector3,St=!0,xt={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}},Tt,Nt,Ct,kt,Lt;try{if(!(Tt=D.getContext("experimental-webgl",{alpha:H,premultipliedAlpha:B,antialias:j,stencil:F,preserveDrawingBuffer:I})))throw"Error creating WebGL context."}catch(At){console.error(At)}Nt=Tt.getExtension("OES_texture_float"),Ct=Tt.getExtension("OES_standard_derivatives"),kt=Tt.getExtension("EXT_texture_filter_anisotropic")||Tt.getExtension("MOZ_EXT_texture_filter_anisotropic")||Tt.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),Lt=Tt.getExtension("WEBGL_compressed_texture_s3tc")||Tt.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||Tt.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"),Nt||console.log("THREE.WebGLRenderer: Float textures not supported."),Ct||console.log("THREE.WebGLRenderer: Standard derivatives not supported."),kt||console.log("THREE.WebGLRenderer: Anisotropic texture filtering not supported."),Lt||console.log("THREE.WebGLRenderer: S3TC compressed textures not supported."),void 0===Tt.getShaderPrecisionFormat&&(Tt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),Tt.clearColor(0,0,0,1),Tt.clearDepth(1),Tt.clearStencil(0),Tt.enable(Tt.DEPTH_TEST),Tt.depthFunc(Tt.LEQUAL),Tt.frontFace(Tt.CCW),Tt.cullFace(Tt.BACK),Tt.enable(Tt.CULL_FACE),Tt.enable(Tt.BLEND),Tt.blendEquation(Tt.FUNC_ADD),Tt.blendFunc(Tt.SRC_ALPHA,Tt.ONE_MINUS_SRC_ALPHA),Tt.clearColor(q.r,q.g,q.b,R),this.context=Tt;var Ot=Tt.getParameter(Tt.MAX_TEXTURE_IMAGE_UNITS),Mt=Tt.getParameter(Tt.MAX_VERTEX_TEXTURE_IMAGE_UNITS);Tt.getParameter(Tt.MAX_TEXTURE_SIZE);var _t=Tt.getParameter(Tt.MAX_CUBE_MAP_TEXTURE_SIZE),Dt=kt?Tt.getParameter(kt.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,Pt=0<Mt,Ht=Pt&&Nt;Lt&&Tt.getParameter(Tt.COMPRESSED_TEXTURE_FORMATS);var Bt=Tt.getShaderPrecisionFormat(Tt.VERTEX_SHADER,Tt.HIGH_FLOAT),jt=Tt.getShaderPrecisionFormat(Tt.VERTEX_SHADER,Tt.MEDIUM_FLOAT);Tt.getShaderPrecisionFormat(Tt.VERTEX_SHADER,Tt.LOW_FLOAT);var Ft=Tt.getShaderPrecisionFormat(Tt.FRAGMENT_SHADER,Tt.HIGH_FLOAT),It=Tt.getShaderPrecisionFormat(Tt.FRAGMENT_SHADER,Tt.MEDIUM_FLOAT);Tt.getShaderPrecisionFormat(Tt.FRAGMENT_SHADER,Tt.LOW_FLOAT),Tt.getShaderPrecisionFormat(Tt.VERTEX_SHADER,Tt.HIGH_INT),Tt.getShaderPrecisionFormat(Tt.VERTEX_SHADER,Tt.MEDIUM_INT),Tt.getShaderPrecisionFormat(Tt.VERTEX_SHADER,Tt.LOW_INT),Tt.getShaderPrecisionFormat(Tt.FRAGMENT_SHADER,Tt.HIGH_INT),Tt.getShaderPrecisionFormat(Tt.FRAGMENT_SHADER,Tt.MEDIUM_INT),Tt.getShaderPrecisionFormat(Tt.FRAGMENT_SHADER,Tt.LOW_INT);var qt=0<Bt.precision&&0<Ft.precision,Rt=0<jt.precision&&0<It.precision;"highp"===P&&!qt&&(Rt?(P="mediump",console.warn("WebGLRenderer: highp not supported, using mediump")):(P="lowp",console.warn("WebGLRenderer: highp and mediump not supported, using lowp"))),"mediump"===P&&!Rt&&(P="lowp",console.warn("WebGLRenderer: mediump not supported, using lowp")),this.getContext=function(){return Tt},this.supportsVertexTextures=function(){return Pt},this.supportsFloatTextures=function(){return Nt},this.supportsStandardDerivatives=function(){return Ct},this.supportsCompressedTextureS3TC=function(){return Lt},this.getMaxAnisotropy=function(){return Dt},this.getPrecision=function(){return P},this.setSize=function(e,t,n){D.width=e*this.devicePixelRatio,D.height=t*this.devicePixelRatio,1!==this.devicePixelRatio&&!1!==n&&(D.style.width=e+"px",D.style.height=t+"px"),this.setViewport(0,0,D.width,D.height)},this.setViewport=function(e,t,n,r){lt=void 0!==e?e:0,ct=void 0!==t?t:0,ht=void 0!==n?n:D.width,pt=void 0!==r?r:D.height,Tt.viewport(lt,ct,ht,pt)},this.setScissor=function(e,t,n,r){Tt.scissor(e,t,n,r)},this.enableScissorTest=function(e){e?Tt.enable(Tt.SCISSOR_TEST):Tt.disable(Tt.SCISSOR_TEST)},this.setClearColor=function(e,t){q.set(e),R=void 0!==t?t:1,Tt.clearColor(q.r,q.g,q.b,R)},this.setClearColorHex=function(e,t){console.warn("DEPRECATED: .setClearColorHex() is being removed. Use .setClearColor() instead."),this.setClearColor(e,t)},this.getClearColor=function(){return q},this.getClearAlpha=function(){return R},this.clear=function(e,t,n){var r=0;if(void 0===e||e)r|=Tt.COLOR_BUFFER_BIT;if(void 0===t||t)r|=Tt.DEPTH_BUFFER_BIT;if(void 0===n||n)r|=Tt.STENCIL_BUFFER_BIT;Tt.clear(r)},this.clearTarget=function(e,t,n,r){this.setRenderTarget(e),this.clear(t,n,r)},this.addPostPlugin=function(e){e.init(this),this.renderPluginsPost.push(e)},this.addPrePlugin=function(e){e.init(this),this.renderPluginsPre.push(e)},this.updateShadowMap=function(e,t){X=null,$=J=st=it=et=-1,St=!0,Z=Y=-1,this.shadowMapPlugin.update(e,t)};var Ut=function(e){e=e.target,e.removeEventListener("dispose",Ut),e.__webglInit=void 0,void 0!==e.__webglVertexBuffer&&Tt.deleteBuffer(e.__webglVertexBuffer),void 0!==e.__webglNormalBuffer&&Tt.deleteBuffer(e.__webglNormalBuffer),void 0!==e.__webglTangentBuffer&&Tt.deleteBuffer(e.__webglTangentBuffer),void 0!==e.__webglColorBuffer&&Tt.deleteBuffer(e.__webglColorBuffer),void 0!==e.__webglUVBuffer&&Tt.deleteBuffer(e.__webglUVBuffer),void 0!==e.__webglUV2Buffer&&Tt.deleteBuffer(e.__webglUV2Buffer),void 0!==e.__webglSkinIndicesBuffer&&Tt.deleteBuffer(e.__webglSkinIndicesBuffer),void 0!==e.__webglSkinWeightsBuffer&&Tt.deleteBuffer(e.__webglSkinWeightsBuffer),void 0!==e.__webglFaceBuffer&&Tt.deleteBuffer(e.__webglFaceBuffer),void 0!==e.__webglLineBuffer&&Tt.deleteBuffer(e.__webglLineBuffer),void 0!==e.__webglLineDistanceBuffer&&Tt.deleteBuffer(e.__webglLineDistanceBuffer);if(void 0!==e.geometryGroups)for(var n in e.geometryGroups){var r=e.geometryGroups[n];if(void 0!==r.numMorphTargets)for(var i=0,s=r.numMorphTargets;i<s;i++)Tt.deleteBuffer(r.__webglMorphTargetsBuffers[i]);if(void 0!==r.numMorphNormals){i=0;for(s=r.numMorphNormals;i<s;i++)Tt.deleteBuffer(r.__webglMorphNormalsBuffers[i])}t(r)}t(e),U.info.memory.geometries--},zt=function(e){e=e.target,e.removeEventListener("dispose",zt),e.image&&e.image.__webglTextureCube?Tt.deleteTexture(e.image.__webglTextureCube):e.__webglInit&&(e.__webglInit=!1,Tt.deleteTexture(e.__webglTexture)),U.info.memory.textures--},Wt=function(e){e=e.target,e.removeEventListener("dispose",Wt);if(e&&e.__webglTexture)if(Tt.deleteTexture(e.__webglTexture),e instanceof THREE.WebGLRenderTargetCube)for(var t=0;6>t;t++)Tt.deleteFramebuffer(e.__webglFramebuffer[t]),Tt.deleteRenderbuffer(e.__webglRenderbuffer[t]);else Tt.deleteFramebuffer(e.__webglFramebuffer),Tt.deleteRenderbuffer(e.__webglRenderbuffer);U.info.memory.textures--},Xt=function(e){e=e.target,e.removeEventListener("dispose",Xt),Vt(e)},Vt=function(e){var t=e.program;if(void 0!==t){e.program=void 0;var n,r,i=!1,e=0;for(n=z.length;e<n;e++)if(r=z[e],r.program===t){r.usedTimes--,0===r.usedTimes&&(i=!0);break}if(!0===i){i=[],e=0;for(n=z.length;e<n;e++)r=z[e],r.program!==t&&i.push(r);z=i,Tt.deleteProgram(t),U.info.memory.programs--}}};this.renderBufferImmediate=function(e,t,n){e.hasPositions&&!e.__webglVertexBuffer&&(e.__webglVertexBuffer=Tt.createBuffer()),e.hasNormals&&!e.__webglNormalBuffer&&(e.__webglNormalBuffer=Tt.createBuffer()),e.hasUvs&&!e.__webglUvBuffer&&(e.__webglUvBuffer=Tt.createBuffer()),e.hasColors&&!e.__webglColorBuffer&&(e.__webglColorBuffer=Tt.createBuffer()),e.hasPositions&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,e.__webglVertexBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,e.positionArray,Tt.DYNAMIC_DRAW),Tt.enableVertexAttribArray(t.attributes.position),Tt.vertexAttribPointer(t.attributes.position,3,Tt.FLOAT,!1,0,0));if(e.hasNormals){Tt.bindBuffer(Tt.ARRAY_BUFFER,e.__webglNormalBuffer);if(n.shading===THREE.FlatShading){var r,i,s,o,u,a,f,l,c,h,p,d=3*e.count;for(p=0;p<d;p+=9)h=e.normalArray,r=h[p],i=h[p+1],s=h[p+2],o=h[p+3],a=h[p+4],l=h[p+5],u=h[p+6],f=h[p+7],c=h[p+8],r=(r+o+u)/3,i=(i+a+f)/3,s=(s+l+c)/3,h[p]=r,h[p+1]=i,h[p+2]=s,h[p+3]=r,h[p+4]=i,h[p+5]=s,h[p+6]=r,h[p+7]=i,h[p+8]=s}Tt.bufferData(Tt.ARRAY_BUFFER,e.normalArray,Tt.DYNAMIC_DRAW),Tt.enableVertexAttribArray(t.attributes.normal),Tt.vertexAttribPointer(t.attributes.normal,3,Tt.FLOAT,!1,0,0)}e.hasUvs&&n.map&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,e.__webglUvBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,e.uvArray,Tt.DYNAMIC_DRAW),Tt.enableVertexAttribArray(t.attributes.uv),Tt.vertexAttribPointer(t.attributes.uv,2,Tt.FLOAT,!1,0,0)),e.hasColors&&n.vertexColors!==THREE.NoColors&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,e.__webglColorBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,e.colorArray,Tt.DYNAMIC_DRAW),Tt.enableVertexAttribArray(t.attributes.color),Tt.vertexAttribPointer(t.attributes.color,3,Tt.FLOAT,!1,0,0)),Tt.drawArrays(Tt.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,s){if(!1!==r.visible){var o,f,l;o=E(e,t,n,r,s),e=o.attributes,t=i.attributes,n=!1,o=16777215*i.id+2*o.id+(r.wireframe?1:0),o!==J&&(J=o,n=!0),n&&a();if(s instanceof THREE.Mesh)if(r=t.index){i=i.offsets,1<i.length&&(n=!0);for(var c=0,h=i.length;c<h;c++){var p=i[c].index;if(n){for(f in t)"index"!==f&&(o=e[f],s=t[f],l=s.itemSize,0<=o&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,s.buffer),u(o),Tt.vertexAttribPointer(o,l,Tt.FLOAT,!1,0,4*p*l)));Tt.bindBuffer(Tt.ELEMENT_ARRAY_BUFFER,r.buffer)}Tt.drawElements(Tt.TRIANGLES,i[c].count,Tt.UNSIGNED_SHORT,2*i[c].start),U.info.render.calls++,U.info.render.vertices+=i[c].count,U.info.render.faces+=i[c].count/3}}else{if(n)for(f in t)"index"!==f&&(o=e[f],s=t[f],l=s.itemSize,0<=o&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,s.buffer),u(o),Tt.vertexAttribPointer(o,l,Tt.FLOAT,!1,0,0)));f=i.attributes.position,Tt.drawArrays(Tt.TRIANGLES,0,f.numItems/3),U.info.render.calls++,U.info.render.vertices+=f.numItems/3,U.info.render.faces+=f.numItems/3/3}else if(s instanceof THREE.ParticleSystem){if(n){for(f in t)o=e[f],s=t[f],l=s.itemSize,0<=o&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,s.buffer),u(o),Tt.vertexAttribPointer(o,l,Tt.FLOAT,!1,0,0));f=t.position,Tt.drawArrays(Tt.POINTS,0,f.numItems/3),U.info.render.calls++,U.info.render.points+=f.numItems/3}}else if(s instanceof THREE.Line&&n){for(f in t)o=e[f],s=t[f],l=s.itemSize,0<=o&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,s.buffer),u(o),Tt.vertexAttribPointer(o,l,Tt.FLOAT,!1,0,0));N(r.linewidth),f=t.position,Tt.drawArrays(Tt.LINE_STRIP,0,f.numItems/3),U.info.render.calls++,U.info.render.points+=f.numItems}}},this.renderBuffer=function(e,t,n,r,i,s){if(!1!==r.visible){var o,f,n=E(e,t,n,r,s),e=n.attributes,t=!1,n=16777215*i.id+2*n.id+(r.wireframe?1:0);n!==J&&(J=n,t=!0),t&&a();if(!r.morphTargets&&0<=e.position)t&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglVertexBuffer),u(e.position),Tt.vertexAttribPointer(e.position,3,Tt.FLOAT,!1,0,0));else if(s.morphTargetBase){n=r.program.attributes,-1!==s.morphTargetBase&&0<=n.position?(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglMorphTargetsBuffers[s.morphTargetBase]),u(n.position),Tt.vertexAttribPointer(n.position,3,Tt.FLOAT,!1,0,0)):0<=n.position&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglVertexBuffer),u(n.position),Tt.vertexAttribPointer(n.position,3,Tt.FLOAT,!1,0,0));if(s.morphTargetForcedOrder.length){var c=0;f=s.morphTargetForcedOrder;for(o=s.morphTargetInfluences;c<r.numSupportedMorphTargets&&c<f.length;)0<=n["morphTarget"+c]&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglMorphTargetsBuffers[f[c]]),u(n["morphTarget"+c]),Tt.vertexAttribPointer(n["morphTarget"+c],3,Tt.FLOAT,!1,0,0)),0<=n["morphNormal"+c]&&r.morphNormals&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglMorphNormalsBuffers[f[c]]),u(n["morphNormal"+c]),Tt.vertexAttribPointer(n["morphNormal"+c],3,Tt.FLOAT,!1,0,0)),s.__webglMorphTargetInfluences[c]=o[f[c]],c++}else{f=[],o=s.morphTargetInfluences;var h,p=o.length;for(h=0;h<p;h++)c=o[h],0<c&&f.push([c,h]);f.length>r.numSupportedMorphTargets?(f.sort(l),f.length=r.numSupportedMorphTargets):f.length>r.numSupportedMorphNormals?f.sort(l):0===f.length&&f.push([0,0]);for(c=0;c<r.numSupportedMorphTargets;)f[c]?(h=f[c][1],0<=n["morphTarget"+c]&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglMorphTargetsBuffers[h]),u(n["morphTarget"+c]),Tt.vertexAttribPointer(n["morphTarget"+c],3,Tt.FLOAT,!1,0,0)),0<=n["morphNormal"+c]&&r.morphNormals&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglMorphNormalsBuffers[h]),u(n["morphNormal"+c]),Tt.vertexAttribPointer(n["morphNormal"+c],3,Tt.FLOAT,!1,0,0)),s.__webglMorphTargetInfluences[c]=o[h]):s.__webglMorphTargetInfluences[c]=0,c++}null!==r.program.uniforms.morphTargetInfluences&&Tt.uniform1fv(r.program.uniforms.morphTargetInfluences,s.__webglMorphTargetInfluences)}if(t){if(i.__webglCustomAttributesList){o=0;for(f=i.__webglCustomAttributesList.length;o<f;o++)n=i.__webglCustomAttributesList[o],0<=e[n.buffer.belongsToAttribute]&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,n.buffer),u(e[n.buffer.belongsToAttribute]),Tt.vertexAttribPointer(e[n.buffer.belongsToAttribute],n.size,Tt.FLOAT,!1,0,0))}0<=e.color&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglColorBuffer),u(e.color),Tt.vertexAttribPointer(e.color,3,Tt.FLOAT,!1,0,0)),0<=e.normal&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglNormalBuffer),u(e.normal),Tt.vertexAttribPointer(e.normal,3,Tt.FLOAT,!1,0,0)),0<=e.tangent&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglTangentBuffer),u(e.tangent),Tt.vertexAttribPointer(e.tangent,4,Tt.FLOAT,!1,0,0)),0<=e.uv&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglUVBuffer),u(e.uv),Tt.vertexAttribPointer(e.uv,2,Tt.FLOAT,!1,0,0)),0<=e.uv2&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglUV2Buffer),u(e.uv2),Tt.vertexAttribPointer(e.uv2,2,Tt.FLOAT,!1,0,0)),r.skinning&&0<=e.skinIndex&&0<=e.skinWeight&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglSkinIndicesBuffer),u(e.skinIndex),Tt.vertexAttribPointer(e.skinIndex,4,Tt.FLOAT,!1,0,0),Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglSkinWeightsBuffer),u(e.skinWeight),Tt.vertexAttribPointer(e.skinWeight,4,Tt.FLOAT,!1,0,0)),0<=e.lineDistance&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,i.__webglLineDistanceBuffer),u(e.lineDistance),Tt.vertexAttribPointer(e.lineDistance,1,Tt.FLOAT,!1,0,0))}s instanceof THREE.Mesh?(r.wireframe?(N(r.wireframeLinewidth),t&&Tt.bindBuffer(Tt.ELEMENT_ARRAY_BUFFER,i.__webglLineBuffer),Tt.drawElements(Tt.LINES,i.__webglLineCount,Tt.UNSIGNED_SHORT,0)):(t&&Tt.bindBuffer(Tt.ELEMENT_ARRAY_BUFFER,i.__webglFaceBuffer),Tt.drawElements(Tt.TRIANGLES,i.__webglFaceCount,Tt.UNSIGNED_SHORT,0)),U.info.render.calls++,U.info.render.vertices+=i.__webglFaceCount,U.info.render.faces+=i.__webglFaceCount/3):s instanceof THREE.Line?(s=s.type===THREE.LineStrip?Tt.LINE_STRIP:Tt.LINES,N(r.linewidth),Tt.drawArrays(s,0,i.__webglLineCount),U.info.render.calls++):s instanceof THREE.ParticleSystem?(Tt.drawArrays(Tt.POINTS,0,i.__webglParticleCount),U.info.render.calls++,U.info.render.points+=i.__webglParticleCount):s instanceof THREE.Ribbon&&(Tt.drawArrays(Tt.TRIANGLE_STRIP,0,i.__webglVertexCount),U.info.render.calls++)}},this.render=function(e,t,n,r){if(0==t instanceof THREE.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var i,s,o,u,a=e.__lights,l=e.fog;$=-1,St=!0,!0===e.autoUpdate&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),yt.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),gt.setFromMatrix(yt),this.autoUpdateObjects&&this.initWebGLObjects(e),c(this.renderPluginsPre,e,t),U.info.render.calls=0,U.info.render.vertices=0,U.info.render.faces=0,U.info.render.points=0,this.setRenderTarget(n),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),u=e.__webglObjects,r=0;for(i=u.length;r<i;r++)if(s=u[r],o=s.object,s.id=r,s.render=!1,o.visible&&(!(o instanceof THREE.Mesh||o instanceof THREE.ParticleSystem)||!o.frustumCulled||gt.intersectsObject(o))){var d=o;d._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,d.matrixWorld),d._normalMatrix.getNormalMatrix(d._modelViewMatrix);var d=s,v=d.buffer,m=void 0,g=m=void 0,g=d.object.material;if(g instanceof THREE.MeshFaceMaterial)m=v.materialIndex,m=g.materials[m],m.transparent?(d.transparent=m,d.opaque=null):(d.opaque=m,d.transparent=null);else if(m=g)m.transparent?(d.transparent=m,d.opaque=null):(d.opaque=m,d.transparent=null);s.render=!0,!0===this.sortObjects&&(null!==o.renderDepth?s.z=o.renderDepth:(wt.getPositionFromMatrix(o.matrixWorld),wt.applyProjection(yt),s.z=wt.z))}this.sortObjects&&u.sort(f),u=e.__webglObjectsImmediate,r=0;for(i=u.length;r<i;r++)s=u[r],o=s.object,o.visible&&(o._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,o.matrixWorld),o._normalMatrix.getNormalMatrix(o._modelViewMatrix),o=s.object.material,o.transparent?(s.transparent=o,s.opaque=null):(s.opaque=o,s.transparent=null));e.overrideMaterial?(r=e.overrideMaterial,this.setBlending(r.blending,r.blendEquation,r.blendSrc,r.blendDst),this.setDepthTest(r.depthTest),this.setDepthWrite(r.depthWrite),C(r.polygonOffset,r.polygonOffsetFactor,r.polygonOffsetUnits),h(e.__webglObjects,!1,"",t,a,l,!0,r),p(e.__webglObjectsImmediate,"",t,a,l,!1,r)):(r=null,this.setBlending(THREE.NoBlending),h(e.__webglObjects,!0,"opaque",t,a,l,!1,r),p(e.__webglObjectsImmediate,"opaque",t,a,l,!1,r),h(e.__webglObjects,!1,"transparent",t,a,l,!0,r),p(e.__webglObjectsImmediate,"transparent",t,a,l,!0,r)),c(this.renderPluginsPost,e,t),n&&n.generateMipmaps&&n.minFilter!==THREE.NearestFilter&&n.minFilter!==THREE.LinearFilter&&(n instanceof THREE.WebGLRenderTargetCube?(Tt.bindTexture(Tt.TEXTURE_CUBE_MAP,n.__webglTexture),Tt.generateMipmap(Tt.TEXTURE_CUBE_MAP),Tt.bindTexture(Tt.TEXTURE_CUBE_MAP,null)):(Tt.bindTexture(Tt.TEXTURE_2D,n.__webglTexture),Tt.generateMipmap(Tt.TEXTURE_2D),Tt.bindTexture(Tt.TEXTURE_2D,null))),this.setDepthTest(!0),this.setDepthWrite(!0)}},this.renderImmediateObject=function(e,t,n,r,i){var s=E(e,t,n,r,i);J=-1,U.setMaterialFaces(r),i.immediateRenderCallback?i.immediateRenderCallback(s,Tt,gt):i.render(function(e){U.renderBufferImmediate(e,s,r)})},this.initWebGLObjects=function(e){e.__webglObjects||(e.__webglObjects=[],e.__webglObjectsImmediate=[],e.__webglSprites=[],e.__webglFlares=[]);for(;e.__objectsAdded.length;)d(e.__objectsAdded[0],e),e.__objectsAdded.splice(0,1);for(;e.__objectsRemoved.length;)y(e.__objectsRemoved[0],e),e.__objectsRemoved.splice(0,1);for(var t=0,n=e.__webglObjects.length;t<n;t++){var u=e.__webglObjects[t].object;void 0===u.__webglInit&&(void 0!==u.__webglActive&&y(u,e),d(u,e));var a=u,f=a.geometry,c=void 0,h=void 0,p=void 0;if(f instanceof THREE.BufferGeometry){var v=Tt.DYNAMIC_DRAW,b=!f.dynamic,w=f.attributes,E=void 0,S=void 0;for(E in w)S=w[E],S.needsUpdate&&("index"===E?(Tt.bindBuffer(Tt.ELEMENT_ARRAY_BUFFER,S.buffer),Tt.bufferData(Tt.ELEMENT_ARRAY_BUFFER,S.array,v)):(Tt.bindBuffer(Tt.ARRAY_BUFFER,S.buffer),Tt.bufferData(Tt.ARRAY_BUFFER,S.array,v)),S.needsUpdate=!1),b&&!S.dynamic&&delete S.array}else if(a instanceof THREE.Mesh){for(var x=0,T=f.geometryGroupsList.length;x<T;x++)if(c=f.geometryGroupsList[x],p=i(a,c),f.buffersNeedUpdate&&r(c,a),h=p.attributes&&m(p),f.verticesNeedUpdate||f.morphTargetsNeedUpdate||f.elementsNeedUpdate||f.uvsNeedUpdate||f.normalsNeedUpdate||f.colorsNeedUpdate||f.tangentsNeedUpdate||h){var N=c,C=a,k=Tt.DYNAMIC_DRAW,L=!f.dynamic,A=p;if(N.__inittedArrays){var O=s(A),M=A.vertexColors?A.vertexColors:!1,_=o(A),D=O===THREE.SmoothShading,P=void 0,H=void 0,B=void 0,j=void 0,F=void 0,I=void 0,q=void 0,R=void 0,U=void 0,z=void 0,W=void 0,X=void 0,V=void 0,$=void 0,J=void 0,K=void 0,Q=void 0,G=void 0,Y=void 0,Z=void 0,et=void 0,tt=void 0,nt=void 0,rt=void 0,it=void 0,st=void 0,ot=void 0,ut=void 0,at=void 0,ft=void 0,lt=void 0,ct=void 0,ht=void 0,pt=void 0,dt=void 0,vt=void 0,mt=void 0,gt=void 0,Et=void 0,St=void 0,xt=void 0,Nt=void 0,Ct=void 0,kt=void 0,Lt=void 0,At=void 0,Ot=0,Mt=0,_t=0,Dt=0,Pt=0,Ht=0,Bt=0,jt=0,Ft=0,It=0,qt=0,Rt=0,Ut=void 0,zt=N.__vertexArray,Wt=N.__uvArray,Xt=N.__uv2Array,Vt=N.__normalArray,$t=N.__tangentArray,Jt=N.__colorArray,Kt=N.__skinIndexArray,Qt=N.__skinWeightArray,Gt=N.__morphTargetsArrays,Yt=N.__morphNormalsArrays,Zt=N.__webglCustomAttributesList,en=void 0,tn=N.__faceArray,nn=N.__lineArray,rn=C.geometry,sn=rn.elementsNeedUpdate,on=rn.uvsNeedUpdate,un=rn.normalsNeedUpdate,an=rn.tangentsNeedUpdate,fn=rn.colorsNeedUpdate,ln=rn.morphTargetsNeedUpdate,cn=rn.vertices,hn=N.faces3,pn=N.faces4,dn=rn.faces,vn=rn.faceVertexUvs[0],mn=rn.faceVertexUvs[1],gn=rn.skinIndices,yn=rn.skinWeights,bn=rn.morphTargets,wn=rn.morphNormals;if(rn.verticesNeedUpdate){P=0;for(H=hn.length;P<H;P++)j=dn[hn[P]],X=cn[j.a],V=cn[j.b],$=cn[j.c],zt[Mt]=X.x,zt[Mt+1]=X.y,zt[Mt+2]=X.z,zt[Mt+3]=V.x,zt[Mt+4]=V.y,zt[Mt+5]=V.z,zt[Mt+6]=$.x,zt[Mt+7]=$.y,zt[Mt+8]=$.z,Mt+=9;P=0;for(H=pn.length;P<H;P++)j=dn[pn[P]],X=cn[j.a],V=cn[j.b],$=cn[j.c],J=cn[j.d],zt[Mt]=X.x,zt[Mt+1]=X.y,zt[Mt+2]=X.z,zt[Mt+3]=V.x,zt[Mt+4]=V.y,zt[Mt+5]=V.z,zt[Mt+6]=$.x,zt[Mt+7]=$.y,zt[Mt+8]=$.z,zt[Mt+9]=J.x,zt[Mt+10]=J.y,zt[Mt+11]=J.z,Mt+=12;Tt.bindBuffer(Tt.ARRAY_BUFFER,N.__webglVertexBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,zt,k)}if(ln){xt=0;for(Nt=bn.length;xt<Nt;xt++){P=qt=0;for(H=hn.length;P<H;P++)Lt=hn[P],j=dn[Lt],X=bn[xt].vertices[j.a],V=bn[xt].vertices[j.b],$=bn[xt].vertices[j.c],Ct=Gt[xt],Ct[qt]=X.x,Ct[qt+1]=X.y,Ct[qt+2]=X.z,Ct[qt+3]=V.x,Ct[qt+4]=V.y,Ct[qt+5]=V.z,Ct[qt+6]=$.x,Ct[qt+7]=$.y,Ct[qt+8]=$.z,A.morphNormals&&(D?(At=wn[xt].vertexNormals[Lt],Z=At.a,et=At.b,tt=At.c):tt=et=Z=wn[xt].faceNormals[Lt],kt=Yt[xt],kt[qt]=Z.x,kt[qt+1]=Z.y,kt[qt+2]=Z.z,kt[qt+3]=et.x,kt[qt+4]=et.y,kt[qt+5]=et.z,kt[qt+6]=tt.x,kt[qt+7]=tt.y,kt[qt+8]=tt.z),qt+=9;P=0;for(H=pn.length;P<H;P++)Lt=pn[P],j=dn[Lt],X=bn[xt].vertices[j.a],V=bn[xt].vertices[j.b],$=bn[xt].vertices[j.c],J=bn[xt].vertices[j.d],Ct=Gt[xt],Ct[qt]=X.x,Ct[qt+1]=X.y,Ct[qt+2]=X.z,Ct[qt+3]=V.x,Ct[qt+4]=V.y,Ct[qt+5]=V.z,Ct[qt+6]=$.x,Ct[qt+7]=$.y,Ct[qt+8]=$.z,Ct[qt+9]=J.x,Ct[qt+10]=J.y,Ct[qt+11]=J.z,A.morphNormals&&(D?(At=wn[xt].vertexNormals[Lt],Z=At.a,et=At.b,tt=At.c,nt=At.d):nt=tt=et=Z=wn[xt].faceNormals[Lt],kt=Yt[xt],kt[qt]=Z.x,kt[qt+1]=Z.y,kt[qt+2]=Z.z,kt[qt+3]=et.x,kt[qt+4]=et.y,kt[qt+5]=et.z,kt[qt+6]=tt.x,kt[qt+7]=tt.y,kt[qt+8]=tt.z,kt[qt+9]=nt.x,kt[qt+10]=nt.y,kt[qt+11]=nt.z),qt+=12;Tt.bindBuffer(Tt.ARRAY_BUFFER,N.__webglMorphTargetsBuffers[xt]),Tt.bufferData(Tt.ARRAY_BUFFER,Gt[xt],k),A.morphNormals&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,N.__webglMorphNormalsBuffers[xt]),Tt.bufferData(Tt.ARRAY_BUFFER,Yt[xt],k))}}if(yn.length){P=0;for(H=hn.length;P<H;P++)j=dn[hn[P]],ut=yn[j.a],at=yn[j.b],ft=yn[j.c],Qt[It]=ut.x,Qt[It+1]=ut.y,Qt[It+2]=ut.z,Qt[It+3]=ut.w,Qt[It+4]=at.x,Qt[It+5]=at.y,Qt[It+6]=at.z,Qt[It+7]=at.w,Qt[It+8]=ft.x,Qt[It+9]=ft.y,Qt[It+10]=ft.z,Qt[It+11]=ft.w,ct=gn[j.a],ht=gn[j.b],pt=gn[j.c],Kt[It]=ct.x,Kt[It+1]=ct.y,Kt[It+2]=ct.z,Kt[It+3]=ct.w,Kt[It+4]=ht.x,Kt[It+5]=ht.y,Kt[It+6]=ht.z,Kt[It+7]=ht.w,Kt[It+8]=pt.x,Kt[It+9]=pt.y,Kt[It+10]=pt.z,Kt[It+11]=pt.w,It+=12;P=0;for(H=pn.length;P<H;P++)j=dn[pn[P]],ut=yn[j.a],at=yn[j.b],ft=yn[j.c],lt=yn[j.d],Qt[It]=ut.x,Qt[It+1]=ut.y,Qt[It+2]=ut.z,Qt[It+3]=ut.w,Qt[It+4]=at.x,Qt[It+5]=at.y,Qt[It+6]=at.z,Qt[It+7]=at.w,Qt[It+8]=ft.x,Qt[It+9]=ft.y,Qt[It+10]=ft.z,Qt[It+11]=ft.w,Qt[It+12]=lt.x,Qt[It+13]=lt.y,Qt[It+14]=lt.z,Qt[It+15]=lt.w,ct=gn[j.a],ht=gn[j.b],pt=gn[j.c],dt=gn[j.d],Kt[It]=ct.x,Kt[It+1]=ct.y,Kt[It+2]=ct.z,Kt[It+3]=ct.w,Kt[It+4]=ht.x,Kt[It+5]=ht.y,Kt[It+6]=ht.z,Kt[It+7]=ht.w,Kt[It+8]=pt.x,Kt[It+9]=pt.y,Kt[It+10]=pt.z,Kt[It+11]=pt.w,Kt[It+12]=dt.x,Kt[It+13]=dt.y,Kt[It+14]=dt.z,Kt[It+15]=dt.w,It+=16;0<It&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,N.__webglSkinIndicesBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,Kt,k),Tt.bindBuffer(Tt.ARRAY_BUFFER,N.__webglSkinWeightsBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,Qt,k))}if(fn&&M){P=0;for(H=hn.length;P<H;P++)j=dn[hn[P]],q=j.vertexColors,R=j.color,3===q.length&&M===THREE.VertexColors?(rt=q[0],it=q[1],st=q[2]):st=it=rt=R,Jt[Ft]=rt.r,Jt[Ft+1]=rt.g,Jt[Ft+2]=rt.b,Jt[Ft+3]=it.r,Jt[Ft+4]=it.g,Jt[Ft+5]=it.b,Jt[Ft+6]=st.r,Jt[Ft+7]=st.g,Jt[Ft+8]=st.b,Ft+=9;P=0;for(H=pn.length;P<H;P++)j=dn[pn[P]],q=j.vertexColors,R=j.color,4===q.length&&M===THREE.VertexColors?(rt=q[0],it=q[1],st=q[2],ot=q[3]):ot=st=it=rt=R,Jt[Ft]=rt.r,Jt[Ft+1]=rt.g,Jt[Ft+2]=rt.b,Jt[Ft+3]=it.r,Jt[Ft+4]=it.g,Jt[Ft+5]=it.b,Jt[Ft+6]=st.r,Jt[Ft+7]=st.g,Jt[Ft+8]=st.b,Jt[Ft+9]=ot.r,Jt[Ft+10]=ot.g,Jt[Ft+11]=ot.b,Ft+=12;0<Ft&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,N.__webglColorBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,Jt,k))}if(an&&rn.hasTangents){P=0;for(H=hn.length;P<H;P++)j=dn[hn[P]],U=j.vertexTangents,K=U[0],Q=U[1],G=U[2],$t[Bt]=K.x,$t[Bt+1]=K.y,$t[Bt+2]=K.z,$t[Bt+3]=K.w,$t[Bt+4]=Q.x,$t[Bt+5]=Q.y,$t[Bt+6]=Q.z,$t[Bt+7]=Q.w,$t[Bt+8]=G.x,$t[Bt+9]=G.y,$t[Bt+10]=G.z,$t[Bt+11]=G.w,Bt+=12;P=0;for(H=pn.length;P<H;P++)j=dn[pn[P]],U=j.vertexTangents,K=U[0],Q=U[1],G=U[2],Y=U[3],$t[Bt]=K.x,$t[Bt+1]=K.y,$t[Bt+2]=K.z,$t[Bt+3]=K.w,$t[Bt+4]=Q.x,$t[Bt+5]=Q.y,$t[Bt+6]=Q.z,$t[Bt+7]=Q.w,$t[Bt+8]=G.x,$t[Bt+9]=G.y,$t[Bt+10]=G.z,$t[Bt+11]=G.w,$t[Bt+12]=Y.x,$t[Bt+13]=Y.y,$t[Bt+14]=Y.z,$t[Bt+15]=Y.w,Bt+=16;Tt.bindBuffer(Tt.ARRAY_BUFFER,N.__webglTangentBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,$t,k)}if(un&&O){P=0;for(H=hn.length;P<H;P++)if(j=dn[hn[P]],F=j.vertexNormals,I=j.normal,3===F.length&&D)for(vt=0;3>vt;vt++)gt=F[vt],Vt[Ht]=gt.x,Vt[Ht+1]=gt.y,Vt[Ht+2]=gt.z,Ht+=3;else for(vt=0;3>vt;vt++)Vt[Ht]=I.x,Vt[Ht+1]=I.y,Vt[Ht+2]=I.z,Ht+=3;P=0;for(H=pn.length;P<H;P++)if(j=dn[pn[P]],F=j.vertexNormals,I=j.normal,4===F.length&&D)for(vt=0;4>vt;vt++)gt=F[vt],Vt[Ht]=gt.x,Vt[Ht+1]=gt.y,Vt[Ht+2]=gt.z,Ht+=3;else for(vt=0;4>vt;vt++)Vt[Ht]=I.x,Vt[Ht+1]=I.y,Vt[Ht+2]=I.z,Ht+=3;Tt.bindBuffer(Tt.ARRAY_BUFFER,N.__webglNormalBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,Vt,k)}if(on&&vn&&_){P=0;for(H=hn.length;P<H;P++)if(B=hn[P],z=vn[B],void 0!==z)for(vt=0;3>vt;vt++)Et=z[vt],Wt[_t]=Et.x,Wt[_t+1]=Et.y,_t+=2;P=0;for(H=pn.length;P<H;P++)if(B=pn[P],z=vn[B],void 0!==z)for(vt=0;4>vt;vt++)Et=z[vt],Wt[_t]=Et.x,Wt[_t+1]=Et.y,_t+=2;0<_t&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,N.__webglUVBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,Wt,k))}if(on&&mn&&_){P=0;for(H=hn.length;P<H;P++)if(B=hn[P],W=mn[B],void 0!==W)for(vt=0;3>vt;vt++)St=W[vt],Xt[Dt]=St.x,Xt[Dt+1]=St.y,Dt+=2;P=0;for(H=pn.length;P<H;P++)if(B=pn[P],W=mn[B],void 0!==W)for(vt=0;4>vt;vt++)St=W[vt],Xt[Dt]=St.x,Xt[Dt+1]=St.y,Dt+=2;0<Dt&&(Tt.bindBuffer(Tt.ARRAY_BUFFER,N.__webglUV2Buffer),Tt.bufferData(Tt.ARRAY_BUFFER,Xt,k))}if(sn){P=0;for(H=hn.length;P<H;P++)tn[Pt]=Ot,tn[Pt+1]=Ot+1,tn[Pt+2]=Ot+2,Pt+=3,nn[jt]=Ot,nn[jt+1]=Ot+1,nn[jt+2]=Ot,nn[jt+3]=Ot+2,nn[jt+4]=Ot+1,nn[jt+5]=Ot+2,jt+=6,Ot+=3;P=0;for(H=pn.length;P<H;P++)tn[Pt]=Ot,tn[Pt+1]=Ot+1,tn[Pt+2]=Ot+3,tn[Pt+3]=Ot+1,tn[Pt+4]=Ot+2,tn[Pt+5]=Ot+3,Pt+=6,nn[jt]=Ot,nn[jt+1]=Ot+1,nn[jt+2]=Ot,nn[jt+3]=Ot+3,nn[jt+4]=Ot+1,nn[jt+5]=Ot+2,nn[jt+6]=Ot+2,nn[jt+7]=Ot+3,jt+=8,Ot+=4;Tt.bindBuffer(Tt.ELEMENT_ARRAY_BUFFER,N.__webglFaceBuffer),Tt.bufferData(Tt.ELEMENT_ARRAY_BUFFER,tn,k),Tt.bindBuffer(Tt.ELEMENT_ARRAY_BUFFER,N.__webglLineBuffer),Tt.bufferData(Tt.ELEMENT_ARRAY_BUFFER,nn,k)}if(Zt){vt=0;for(mt=Zt.length;vt<mt;vt++)if(en=Zt[vt],en.__original.needsUpdate){Rt=0;if(1===en.size){if(void 0===en.boundTo||"vertices"===en.boundTo){P=0;for(H=hn.length;P<H;P++)j=dn[hn[P]],en.array[Rt]=en.value[j.a],en.array[Rt+1]=en.value[j.b],en.array[Rt+2]=en.value[j.c],Rt+=3;P=0;for(H=pn.length;P<H;P++)j=dn[pn[P]],en.array[Rt]=en.value[j.a],en.array[Rt+1]=en.value[j.b],en.array[Rt+2]=en.value[j.c],en.array[Rt+3]=en.value[j.d],Rt+=4}else if("faces"===en.boundTo){P=0;for(H=hn.length;P<H;P++)Ut=en.value[hn[P]],en.array[Rt]=Ut,en.array[Rt+1]=Ut,en.array[Rt+2]=Ut,Rt+=3;P=0;for(H=pn.length;P<H;P++)Ut=en.value[pn[P]],en.array[Rt]=Ut,en.array[Rt+1]=Ut,en.array[Rt+2]=Ut,en.array[Rt+3]=Ut,Rt+=4}}else if(2===en.size){if(void 0===en.boundTo||"vertices"===en.boundTo){P=0;for(H=hn.length;P<H;P++)j=dn[hn[P]],X=en.value[j.a],V=en.value[j.b],$=en.value[j.c],en.array[Rt]=X.x,en.array[Rt+1]=X.y,en.array[Rt+2]=V.x,en.array[Rt+3]=V.y,en.array[Rt+4]=$.x,en.array[Rt+5]=$.y,Rt+=6;P=0;for(H=pn.length;P<H;P++)j=dn[pn[P]],X=en.value[j.a],V=en.value[j.b],$=en.value[j.c],J=en.value[j.d],en.array[Rt]=X.x,en.array[Rt+1]=X.y,en.array[Rt+2]=V.x,en.array[Rt+3]=V.y,en.array[Rt+4]=$.x,en.array[Rt+5]=$.y,en.array[Rt+6]=J.x,en.array[Rt+7]=J.y,Rt+=8}else if("faces"===en.boundTo){P=0;for(H=hn.length;P<H;P++)$=V=X=Ut=en.value[hn[P]],en.array[Rt]=X.x,en.array[Rt+1]=X.y,en.array[Rt+2]=V.x,en.array[Rt+3]=V.y,en.array[Rt+4]=$.x,en.array[Rt+5]=$.y,Rt+=6;P=0;for(H=pn.length;P<H;P++)J=$=V=X=Ut=en.value[pn[P]],en.array[Rt]=X.x,en.array[Rt+1]=X.y,en.array[Rt+2]=V.x,en.array[Rt+3]=V.y,en.array[Rt+4]=$.x,en.array[Rt+5]=$.y,en.array[Rt+6]=J.x,en.array[Rt+7]=J.y,Rt+=8}}else if(3===en.size){var En;En="c"===en.type?["r","g","b"]:["x","y","z"];if(void 0===en.boundTo||"vertices"===en.boundTo){P=0;for(H=hn.length;P<H;P++)j=dn[hn[P]],X=en.value[j.a],V=en.value[j.b],$=en.value[j.c],en.array[Rt]=X[En[0]],en.array[Rt+1]=X[En[1]],en.array[Rt+2]=X[En[2]],en.array[Rt+3]=V[En[0]],en.array[Rt+4]=V[En[1]],en.array[Rt+5]=V[En[2]],en.array[Rt+6]=$[En[0]],en.array[Rt+7]=$[En[1]],en.array[Rt+8]=$[En[2]],Rt+=9;P=0;for(H=pn.length;P<H;P++)j=dn[pn[P]],X=en.value[j.a],V=en.value[j.b],$=en.value[j.c],J=en.value[j.d],en.array[Rt]=X[En[0]],en.array[Rt+1]=X[En[1]],en.array[Rt+2]=X[En[2]],en.array[Rt+3]=V[En[0]],en.array[Rt+4]=V[En[1]],en.array[Rt+5]=V[En[2]],en.array[Rt+6]=$[En[0]],en.array[Rt+7]=$[En[1]],en.array[Rt+8]=$[En[2]],en.array[Rt+9]=J[En[0]],en.array[Rt+10]=J[En[1]],en.array[Rt+11]=J[En[2]],Rt+=12}else if("faces"===en.boundTo){P=0;for(H=hn.length;P<H;P++)$=V=X=Ut=en.value[hn[P]],en.array[Rt]=X[En[0]],en.array[Rt+1]=X[En[1]],en.array[Rt+2]=X[En[2]],en.array[Rt+3]=V[En[0]],en.array[Rt+4]=V[En[1]],en.array[Rt+5]=V[En[2]],en.array[Rt+6]=$[En[0]],en.array[Rt+7]=$[En[1]],en.array[Rt+8]=$[En[2]],Rt+=9;P=0;for(H=pn.length;P<H;P++)J=$=V=X=Ut=en.value[pn[P]],en.array[Rt]=X[En[0]],en.array[Rt+1]=X[En[1]],en.array[Rt+2]=X[En[2]],en.array[Rt+3]=V[En[0]],en.array[Rt+4]=V[En[1]],en.array[Rt+5]=V[En[2]],en.array[Rt+6]=$[En[0]],en.array[Rt+7]=$[En[1]],en.array[Rt+8]=$[En[2]],en.array[Rt+9]=J[En[0]],en.array[Rt+10]=J[En[1]],en.array[Rt+11]=J[En[2]],Rt+=12}else if("faceVertices"===en.boundTo){P=0;for(H=hn.length;P<H;P++)Ut=en.value[hn[P]],X=Ut[0],V=Ut[1],$=Ut[2],en.array[Rt]=X[En[0]],en.array[Rt+1]=X[En[1]],en.array[Rt+2]=X[En[2]],en.array[Rt+3]=V[En[0]],en.array[Rt+4]=V[En[1]],en.array[Rt+5]=V[En[2]],en.array[Rt+6]=$[En[0]],en.array[Rt+7]=$[En[1]],en.array[Rt+8]=$[En[2]],Rt+=9;P=0;for(H=pn.length;P<H;P++)Ut=en.value[pn[P]],X=Ut[0],V=Ut[1],$=Ut[2],J=Ut[3],en.array[Rt]=X[En[0]],en.array[Rt+1]=X[En[1]],en.array[Rt+2]=X[En[2]],en.array[Rt+3]=V[En[0]],en.array[Rt+4]=V[En[1]],en.array[Rt+5]=V[En[2]],en.array[Rt+6]=$[En[0]],en.array[Rt+7]=$[En[1]],en.array[Rt+8]=$[En[2]],en.array[Rt+9]=J[En[0]],en.array[Rt+10]=J[En[1]],en.array[Rt+11]=J[En[2]],Rt+=12}}else if(4===en.size)if(void 0===en.boundTo||"vertices"===en.boundTo){P=0;for(H=hn.length;P<H;P++)j=dn[hn[P]],X=en.value[j.a],V=en.value[j.b],$=en.value[j.c],en.array[Rt]=X.x,en.array[Rt+1]=X.y,en.array[Rt+2]=X.z,en.array[Rt+3]=X.w,en.array[Rt+4]=V.x,en.array[Rt+5]=V.y,en.array[Rt+6]=V.z,en.array[Rt+7]=V.w,en.array[Rt+8]=$.x,en.array[Rt+9]=$.y,en.array[Rt+10]=$.z,en.array[Rt+11]=$.w,Rt+=12;P=0;for(H=pn.length;P<H;P++)j=dn[pn[P]],X=en.value[j.a],V=en.value[j.b],$=en.value[j.c],J=en.value[j.d],en.array[Rt]=X.x,en.array[Rt+1]=X.y,en.array[Rt+2]=X.z,en.array[Rt+3]=X.w,en.array[Rt+4]=V.x,en.array[Rt+5]=V.y,en.array[Rt+6]=V.z,en.array[Rt+7]=V.w,en.array[Rt+8]=$.x,en.array[Rt+9]=$.y,en.array[Rt+10]=$.z,en.array[Rt+11]=$.w,en.array[Rt+12]=J.x,en.array[Rt+13]=J.y,en.array[Rt+14]=J.z,en.array[Rt+15]=J.w,Rt+=16}else if("faces"===en.boundTo){P=0;for(H=hn.length;P<H;P++)$=V=X=Ut=en.value[hn[P]],en.array[Rt]=X.x,en.array[Rt+1]=X.y,en.array[Rt+2]=X.z,en.array[Rt+3]=X.w,en.array[Rt+4]=V.x,en.array[Rt+5]=V.y,en.array[Rt+6]=V.z,en.array[Rt+7]=V.w,en.array[Rt+8]=$.x,en.array[Rt+9]=$.y,en.array[Rt+10]=$.z,en.array[Rt+11]=$.w,Rt+=12;P=0;for(H=pn.length;P<H;P++)J=$=V=X=Ut=en.value[pn[P]],en.array[Rt]=X.x,en.array[Rt+1]=X.y,en.array[Rt+2]=X.z,en.array[Rt+3]=X.w,en.array[Rt+4]=V.x,en.array[Rt+5]=V.y,en.array[Rt+6]=V.z,en.array[Rt+7]=V.w,en.array[Rt+8]=$.x,en.array[Rt+9]=$.y,en.array[Rt+10]=$.z,en.array[Rt+11]=$.w,en.array[Rt+12]=J.x,en.array[Rt+13]=J.y,en.array[Rt+14]=J.z,en.array[Rt+15]=J.w,Rt+=16}else if("faceVertices"===en.boundTo){P=0;for(H=hn.length;P<H;P++)Ut=en.value[hn[P]],X=Ut[0],V=Ut[1],$=Ut[2],en.array[Rt]=X.x,en.array[Rt+1]=X.y,en.array[Rt+2]=X.z,en.array[Rt+3]=X.w,en.array[Rt+4]=V.x,en.array[Rt+5]=V.y,en.array[Rt+6]=V.z,en.array[Rt+7]=V.w,en.array[Rt+8]=$.x,en.array[Rt+9]=$.y,en.array[Rt+10]=$.z,en.array[Rt+11]=$.w,Rt+=12;P=0;for(H=pn.length;P<H;P++)Ut=en.value[pn[P]],X=Ut[0],V=Ut[1],$=Ut[2],J=Ut[3],en.array[Rt]=X.x,en.array[Rt+1]=X.y,en.array[Rt+2]=X.z,en.array[Rt+3]=X.w,en.array[Rt+4]=V.x,en.array[Rt+5]=V.y,en.array[Rt+6]=V.z,en.array[Rt+7]=V.w,en.array[Rt+8]=$.x,en.array[Rt+9]=$.y,en.array[Rt+10]=$.z,en.array[Rt+11]=$.w,en.array[Rt+12]=J.x,en.array[Rt+13]=J.y,en.array[Rt+14]=J.z,en.array[Rt+15]=J.w,Rt+=16}Tt.bindBuffer(Tt.ARRAY_BUFFER,en.buffer),Tt.bufferData(Tt.ARRAY_BUFFER,en.array,k)}}L&&(delete N.__inittedArrays,delete N.__colorArray,delete N.__normalArray,delete N.__tangentArray,delete N.__uvArray,delete N.__uv2Array,delete N.__faceArray,delete N.__vertexArray,delete N.__lineArray,delete N.__skinIndexArray,delete N.__skinWeightArray)}}f.verticesNeedUpdate=!1,f.morphTargetsNeedUpdate=!1,f.elementsNeedUpdate=!1,f.uvsNeedUpdate=!1,f.normalsNeedUpdate=!1,f.colorsNeedUpdate=!1,f.tangentsNeedUpdate=!1,f.buffersNeedUpdate=!1,p.attributes&&g(p)}else if(a instanceof THREE.Ribbon){p=i(a,f),h=p.attributes&&m(p);if(f.verticesNeedUpdate||f.colorsNeedUpdate||f.normalsNeedUpdate||h){var Sn=f,xn=Tt.DYNAMIC_DRAW,Tn=void 0,Nn=void 0,Cn=void 0,kn=void 0,Ln=void 0,An=void 0,On=void 0,Mn=void 0,_n=void 0,Dn=void 0,Pn=void 0,Hn=void 0,Bn=void 0,jn=Sn.vertices,Fn=Sn.colors,In=Sn.normals,qn=jn.length,Rn=Fn.length,Un=In.length,zn=Sn.__vertexArray,Wn=Sn.__colorArray,Xn=Sn.__normalArray,Vn=Sn.colorsNeedUpdate,$n=Sn.normalsNeedUpdate,Jn=Sn.__webglCustomAttributesList;if(Sn.verticesNeedUpdate){for(Tn=0;Tn<qn;Tn++)kn=jn[Tn],Ln=3*Tn,zn[Ln]=kn.x,zn[Ln+1]=kn.y,zn[Ln+2]=kn.z;Tt.bindBuffer(Tt.ARRAY_BUFFER,Sn.__webglVertexBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,zn,xn)}if(Vn){for(Nn=0;Nn<Rn;Nn++)An=Fn[Nn],Ln=3*Nn,Wn[Ln]=An.r,Wn[Ln+1]=An.g,Wn[Ln+2]=An.b;Tt.bindBuffer(Tt.ARRAY_BUFFER,Sn.__webglColorBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,Wn,xn)}if($n){for(Cn=0;Cn<Un;Cn++)On=In[Cn],Ln=3*Cn,Xn[Ln]=On.x,Xn[Ln+1]=On.y,Xn[Ln+2]=On.z;Tt.bindBuffer(Tt.ARRAY_BUFFER,Sn.__webglNormalBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,Xn,xn)}if(Jn){Mn=0;for(_n=Jn.length;Mn<_n;Mn++)if(Hn=Jn[Mn],Hn.needsUpdate&&(void 0===Hn.boundTo||"vertices"===Hn.boundTo)){Ln=0,Pn=Hn.value.length;if(1===Hn.size)for(Dn=0;Dn<Pn;Dn++)Hn.array[Dn]=Hn.value[Dn];else if(2===Hn.size)for(Dn=0;Dn<Pn;Dn++)Bn=Hn.value[Dn],Hn.array[Ln]=Bn.x,Hn.array[Ln+1]=Bn.y,Ln+=2;else if(3===Hn.size)if("c"===Hn.type)for(Dn=0;Dn<Pn;Dn++)Bn=Hn.value[Dn],Hn.array[Ln]=Bn.r,Hn.array[Ln+1]=Bn.g,Hn.array[Ln+2]=Bn.b,Ln+=3;else for(Dn=0;Dn<Pn;Dn++)Bn=Hn.value[Dn],Hn.array[Ln]=Bn.x,Hn.array[Ln+1]=Bn.y,Hn.array[Ln+2]=Bn.z,Ln+=3;else if(4===Hn.size)for(Dn=0;Dn<Pn;Dn++)Bn=Hn.value[Dn],Hn.array[Ln]=Bn.x,Hn.array[Ln+1]=Bn.y,Hn.array[Ln+2]=Bn.z,Hn.array[Ln+3]=Bn.w,Ln+=4;Tt.bindBuffer(Tt.ARRAY_BUFFER,Hn.buffer),Tt.bufferData(Tt.ARRAY_BUFFER,Hn.array,xn)}}}f.verticesNeedUpdate=!1,f.colorsNeedUpdate=!1,f.normalsNeedUpdate=!1,p.attributes&&g(p)}else if(a instanceof THREE.Line){p=i(a,f),h=p.attributes&&m(p);if(f.verticesNeedUpdate||f.colorsNeedUpdate||f.lineDistancesNeedUpdate||h){var Kn=f,Qn=Tt.DYNAMIC_DRAW,Gn=void 0,Yn=void 0,Zn=void 0,er=void 0,tr=void 0,nr=void 0,rr=Kn.vertices,ir=Kn.colors,sr=Kn.lineDistances,or=rr.length,ur=ir.length,ar=sr.length,fr=Kn.__vertexArray,lr=Kn.__colorArray,cr=Kn.__lineDistanceArray,hr=Kn.colorsNeedUpdate,pr=Kn.lineDistancesNeedUpdate,dr=Kn.__webglCustomAttributesList,vr=void 0,mr=void 0,gr=void 0,yr=void 0,br=void 0,wr=void 0;if(Kn.verticesNeedUpdate){for(Gn=0;Gn<or;Gn++)er=rr[Gn],tr=3*Gn,fr[tr]=er.x,fr[tr+1]=er.y,fr[tr+2]=er.z;Tt.bindBuffer(Tt.ARRAY_BUFFER,Kn.__webglVertexBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,fr,Qn)}if(hr){for(Yn=0;Yn<ur;Yn++)nr=ir[Yn],tr=3*Yn,lr[tr]=nr.r,lr[tr+1]=nr.g,lr[tr+2]=nr.b;Tt.bindBuffer(Tt.ARRAY_BUFFER,Kn.__webglColorBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,lr,Qn)}if(pr){for(Zn=0;Zn<ar;Zn++)cr[Zn]=sr[Zn];Tt.bindBuffer(Tt.ARRAY_BUFFER,Kn.__webglLineDistanceBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,cr,Qn)}if(dr){vr=0;for(mr=dr.length;vr<mr;vr++)if(wr=dr[vr],wr.needsUpdate&&(void 0===wr.boundTo||"vertices"===wr.boundTo)){tr=0,yr=wr.value.length;if(1===wr.size)for(gr=0;gr<yr;gr++)wr.array[gr]=wr.value[gr];else if(2===wr.size)for(gr=0;gr<yr;gr++)br=wr.value[gr],wr.array[tr]=br.x,wr.array[tr+1]=br.y,tr+=2;else if(3===wr.size)if("c"===wr.type)for(gr=0;gr<yr;gr++)br=wr.value[gr],wr.array[tr]=br.r,wr.array[tr+1]=br.g,wr.array[tr+2]=br.b,tr+=3;else for(gr=0;gr<yr;gr++)br=wr.value[gr],wr.array[tr]=br.x,wr.array[tr+1]=br.y,wr.array[tr+2]=br.z,tr+=3;else if(4===wr.size)for(gr=0;gr<yr;gr++)br=wr.value[gr],wr.array[tr]=br.x,wr.array[tr+1]=br.y,wr.array[tr+2]=br.z,wr.array[tr+3]=br.w,tr+=4;Tt.bindBuffer(Tt.ARRAY_BUFFER,wr.buffer),Tt.bufferData(Tt.ARRAY_BUFFER,wr.array,Qn)}}}f.verticesNeedUpdate=!1,f.colorsNeedUpdate=!1,f.lineDistancesNeedUpdate=!1,p.attributes&&g(p)}else if(a instanceof THREE.ParticleSystem){p=i(a,f),h=p.attributes&&m(p);if(f.verticesNeedUpdate||f.colorsNeedUpdate||a.sortParticles||h){var Er=f,Sr=Tt.DYNAMIC_DRAW,xr=a,Tr=void 0,Nr=void 0,Cr=void 0,kr=void 0,Lr=void 0,Ar=void 0,Or=Er.vertices,Mr=Or.length,_r=Er.colors,Dr=_r.length,Pr=Er.__vertexArray,Hr=Er.__colorArray,Br=Er.__sortArray,jr=Er.verticesNeedUpdate,Fr=Er.colorsNeedUpdate,Ir=Er.__webglCustomAttributesList,qr=void 0,Rr=void 0,Ur=void 0,zr=void 0,Wr=void 0,Xr=void 0;if(xr.sortParticles){bt.copy(yt),bt.multiply(xr.matrixWorld);for(Tr=0;Tr<Mr;Tr++)Cr=Or[Tr],wt.copy(Cr),wt.applyProjection(bt),Br[Tr]=[wt.z,Tr];Br.sort(l);for(Tr=0;Tr<Mr;Tr++)Cr=Or[Br[Tr][1]],kr=3*Tr,Pr[kr]=Cr.x,Pr[kr+1]=Cr.y,Pr[kr+2]=Cr.z;for(Nr=0;Nr<Dr;Nr++)kr=3*Nr,Ar=_r[Br[Nr][1]],Hr[kr]=Ar.r,Hr[kr+1]=Ar.g,Hr[kr+2]=Ar.b;if(Ir){qr=0;for(Rr=Ir.length;qr<Rr;qr++)if(Xr=Ir[qr],void 0===Xr.boundTo||"vertices"===Xr.boundTo)if(kr=0,zr=Xr.value.length,1===Xr.size)for(Ur=0;Ur<zr;Ur++)Lr=Br[Ur][1],Xr.array[Ur]=Xr.value[Lr];else if(2===Xr.size)for(Ur=0;Ur<zr;Ur++)Lr=Br[Ur][1],Wr=Xr.value[Lr],Xr.array[kr]=Wr.x,Xr.array[kr+1]=Wr.y,kr+=2;else if(3===Xr.size)if("c"===Xr.type)for(Ur=0;Ur<zr;Ur++)Lr=Br[Ur][1],Wr=Xr.value[Lr],Xr.array[kr]=Wr.r,Xr.array[kr+1]=Wr.g,Xr.array[kr+2]=Wr.b,kr+=3;else for(Ur=0;Ur<zr;Ur++)Lr=Br[Ur][1],Wr=Xr.value[Lr],Xr.array[kr]=Wr.x,Xr.array[kr+1]=Wr.y,Xr.array[kr+2]=Wr.z,kr+=3;else if(4===Xr.size)for(Ur=0;Ur<zr;Ur++)Lr=Br[Ur][1],Wr=Xr.value[Lr],Xr.array[kr]=Wr.x,Xr.array[kr+1]=Wr.y,Xr.array[kr+2]=Wr.z,Xr.array[kr+3]=Wr.w,kr+=4}}else{if(jr)for(Tr=0;Tr<Mr;Tr++)Cr=Or[Tr],kr=3*Tr,Pr[kr]=Cr.x,Pr[kr+1]=Cr.y,Pr[kr+2]=Cr.z;if(Fr)for(Nr=0;Nr<Dr;Nr++)Ar=_r[Nr],kr=3*Nr,Hr[kr]=Ar.r,Hr[kr+1]=Ar.g,Hr[kr+2]=Ar.b;if(Ir){qr=0;for(Rr=Ir.length;qr<Rr;qr++)if(Xr=Ir[qr],Xr.needsUpdate&&(void 0===Xr.boundTo||"vertices"===Xr.boundTo))if(zr=Xr.value.length,kr=0,1===Xr.size)for(Ur=0;Ur<zr;Ur++)Xr.array[Ur]=Xr.value[Ur];else if(2===Xr.size)for(Ur=0;Ur<zr;Ur++)Wr=Xr.value[Ur],Xr.array[kr]=Wr.x,Xr.array[kr+1]=Wr.y,kr+=2;else if(3===Xr.size)if("c"===Xr.type)for(Ur=0;Ur<zr;Ur++)Wr=Xr.value[Ur],Xr.array[kr]=Wr.r,Xr.array[kr+1]=Wr.g,Xr.array[kr+2]=Wr.b,kr+=3;else for(Ur=0;Ur<zr;Ur++)Wr=Xr.value[Ur],Xr.array[kr]=Wr.x,Xr.array[kr+1]=Wr.y,Xr.array[kr+2]=Wr.z,kr+=3;else if(4===Xr.size)for(Ur=0;Ur<zr;Ur++)Wr=Xr.value[Ur],Xr.array[kr]=Wr.x,Xr.array[kr+1]=Wr.y,Xr.array[kr+2]=Wr.z,Xr.array[kr+3]=Wr.w,kr+=4}}if(jr||xr.sortParticles)Tt.bindBuffer(Tt.ARRAY_BUFFER,Er.__webglVertexBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,Pr,Sr);if(Fr||xr.sortParticles)Tt.bindBuffer(Tt.ARRAY_BUFFER,Er.__webglColorBuffer),Tt.bufferData(Tt.ARRAY_BUFFER,Hr,Sr);if(Ir){qr=0;for(Rr=Ir.length;qr<Rr;qr++)if(Xr=Ir[qr],Xr.needsUpdate||xr.sortParticles)Tt.bindBuffer(Tt.ARRAY_BUFFER,Xr.buffer),Tt.bufferData(Tt.ARRAY_BUFFER,Xr.array,Sr)}}f.verticesNeedUpdate=!1,f.colorsNeedUpdate=!1,p.attributes&&g(p)}}},this.initMaterial=function(e,t,n,r){var i,s,o,u;e.addEventListener("dispose",Xt);var a,f,l,c,h;e instanceof THREE.MeshDepthMaterial?h="depth":e instanceof THREE.MeshNormalMaterial?h="normal":e instanceof THREE.MeshBasicMaterial?h="basic":e instanceof THREE.MeshLambertMaterial?h="lambert":e instanceof THREE.MeshPhongMaterial?h="phong":e instanceof THREE.LineBasicMaterial?h="basic":e instanceof THREE.LineDashedMaterial?h="dashed":e instanceof THREE.ParticleBasicMaterial&&(h="particle_basic");if(h){var p=THREE.ShaderLib[h];e.uniforms=THREE.UniformsUtils.clone(p.uniforms),e.vertexShader=p.vertexShader,e.fragmentShader=p.fragmentShader}var d,v,m;i=o=v=m=p=0;for(s=t.length;i<s;i++)d=t[i],d.onlyShadow||(d instanceof THREE.DirectionalLight&&o++,d instanceof THREE.PointLight&&v++,d instanceof THREE.SpotLight&&m++,d instanceof THREE.HemisphereLight&&p++);i=o,s=v,o=m,u=p,p=d=0;for(m=t.length;p<m;p++)v=t[p],v.castShadow&&(v instanceof THREE.SpotLight&&d++,v instanceof THREE.DirectionalLight&&!v.shadowCascade&&d++);c=d,Ht&&r&&r.useVertexTexture?l=1024:(t=Tt.getParameter(Tt.MAX_VERTEX_UNIFORM_VECTORS),t=Math.floor((t-20)/4),void 0!==r&&r instanceof THREE.SkinnedMesh&&(t=Math.min(r.bones.length,t),t<r.bones.length&&console.warn("WebGLRenderer: too many bones - "+r.bones.length+", this GPU supports just "+t+" (try OpenGL instead of ANGLE)")),l=t);e:{m=e.fragmentShader,v=e.vertexShader,p=e.uniforms,t=e.attributes,d=e.defines;var n={map:!!e.map,envMap:!!e.envMap,lightMap:!!e.lightMap,bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,specularMap:!!e.specularMap,vertexColors:e.vertexColors,fog:n,useFog:e.fog,fogExp:n instanceof THREE.FogExp2,sizeAttenuation:e.sizeAttenuation,skinning:e.skinning,maxBones:l,useVertexTexture:Ht&&r&&r.useVertexTexture,boneTextureWidth:r&&r.boneTextureWidth,boneTextureHeight:r&&r.boneTextureHeight,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:this.maxMorphTargets,maxMorphNormals:this.maxMorphNormals,maxDirLights:i,maxPointLights:s,maxSpotLights:o,maxHemiLights:u,maxShadows:c,shadowMapEnabled:this.shadowMapEnabled&&r.receiveShadow,shadowMapType:this.shadowMapType,shadowMapDebug:this.shadowMapDebug,shadowMapCascade:this.shadowMapCascade,alphaTest:e.alphaTest,metal:e.metal,perPixel:e.perPixel,wrapAround:e.wrapAround,doubleSided:e.side===THREE.DoubleSide,flipSided:e.side===THREE.BackSide},g,y,b,r=[];h?r.push(h):(r.push(m),r.push(v));for(y in d)r.push(y),r.push(d[y]);for(g in n)r.push(g),r.push(n[g]);h=r.join(),g=0;for(y=z.length;g<y;g++)if(r=z[g],r.code===h){r.usedTimes++,f=r.program;break e}g="SHADOWMAP_TYPE_BASIC",n.shadowMapType===THREE.PCFShadowMap?g="SHADOWMAP_TYPE_PCF":n.shadowMapType===THREE.PCFSoftShadowMap&&(g="SHADOWMAP_TYPE_PCF_SOFT"),y=[];for(b in d)r=d[b],!1!==r&&(r="#define "+b+" "+r,y.push(r));r=y.join("\n"),b=Tt.createProgram(),y=["precision "+P+" float;",r,Pt?"#define VERTEX_TEXTURES":"",U.gammaInput?"#define GAMMA_INPUT":"",U.gammaOutput?"#define GAMMA_OUTPUT":"",U.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"","#define MAX_DIR_LIGHTS "+n.maxDirLights,"#define MAX_POINT_LIGHTS "+n.maxPointLights,"#define MAX_SPOT_LIGHTS "+n.maxSpotLights,"#define MAX_HEMI_LIGHTS "+n.maxHemiLights,"#define MAX_SHADOWS "+n.maxShadows,"#define MAX_BONES "+n.maxBones,n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.lightMap?"#define USE_LIGHTMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.vertexColors?"#define USE_COLOR":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.boneTextureWidth?"#define N_BONE_PIXEL_X "+n.boneTextureWidth.toFixed(1):"",n.boneTextureHeight?"#define N_BONE_PIXEL_Y "+n.boneTextureHeight.toFixed(1):"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals?"#define USE_MORPHNORMALS":"",n.perPixel?"#define PHONG_PER_PIXEL":"",n.wrapAround?"#define WRAP_AROUND":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+g:"",n.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",n.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"","uniform mat4 modelMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\nuniform mat3 normalMatrix;\nuniform vec3 cameraPosition;\nattribute vec3 position;\nattribute vec3 normal;\nattribute vec2 uv;\nattribute vec2 uv2;\n#ifdef USE_COLOR\nattribute vec3 color;\n#endif\n#ifdef USE_MORPHTARGETS\nattribute vec3 morphTarget0;\nattribute vec3 morphTarget1;\nattribute vec3 morphTarget2;\nattribute vec3 morphTarget3;\n#ifdef USE_MORPHNORMALS\nattribute vec3 morphNormal0;\nattribute vec3 morphNormal1;\nattribute vec3 morphNormal2;\nattribute vec3 morphNormal3;\n#else\nattribute vec3 morphTarget4;\nattribute vec3 morphTarget5;\nattribute vec3 morphTarget6;\nattribute vec3 morphTarget7;\n#endif\n#endif\n#ifdef USE_SKINNING\nattribute vec4 skinIndex;\nattribute vec4 skinWeight;\n#endif\n"].join("\n"),g=["precision "+P+" float;",n.bumpMap||n.normalMap?"#extension GL_OES_standard_derivatives : enable":"",r,"#define MAX_DIR_LIGHTS "+n.maxDirLights,"#define MAX_POINT_LIGHTS "+n.maxPointLights,"#define MAX_SPOT_LIGHTS "+n.maxSpotLights,"#define MAX_HEMI_LIGHTS "+n.maxHemiLights,"#define MAX_SHADOWS "+n.maxShadows,n.alphaTest?"#define ALPHATEST "+n.alphaTest:"",U.gammaInput?"#define GAMMA_INPUT":"",U.gammaOutput?"#define GAMMA_OUTPUT":"",U.physicallyBasedShading?"#define PHYSICALLY_BASED_SHADING":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.lightMap?"#define USE_LIGHTMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.vertexColors?"#define USE_COLOR":"",n.metal?"#define METAL":"",n.perPixel?"#define PHONG_PER_PIXEL":"",n.wrapAround?"#define WRAP_AROUND":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+g:"",n.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",n.shadowMapCascade?"#define SHADOWMAP_CASCADE":"","uniform mat4 viewMatrix;\nuniform vec3 cameraPosition;\n"].join("\n"),y=L("vertex",y+v),g=L("fragment",g+m),Tt.attachShader(b,y),Tt.attachShader(b,g),Tt.linkProgram(b),Tt.getProgramParameter(b,Tt.LINK_STATUS)||console.error("Could not initialise shader\nVALIDATE_STATUS: "+Tt.getProgramParameter(b,Tt.VALIDATE_STATUS)+", gl error ["+Tt.getError()+"]"),Tt.deleteShader(g),Tt.deleteShader(y),b.uniforms={},b.attributes={};var w;g="viewMatrix modelViewMatrix projectionMatrix normalMatrix modelMatrix cameraPosition morphTargetInfluences".split(" "),n.useVertexTexture?g.push("boneTexture"):g.push("boneGlobalMatrices");for(w in p)g.push(w);w=g,g=0;for(y=w.length;g<y;g++)p=w[g],b.uniforms[p]=Tt.getUniformLocation(b,p);g="position normal uv uv2 tangent color skinIndex skinWeight lineDistance".split(" ");for(w=0;w<n.maxMorphTargets;w++)g.push("morphTarget"+w);for(w=0;w<n.maxMorphNormals;w++)g.push("morphNormal"+w);for(f in t)g.push(f);f=g,w=0;for(t=f.length;w<t;w++)g=f[w],b.attributes[g]=Tt.getAttribLocation(b,g);b.id=W++,z.push({program:b,code:h,usedTimes:1}),U.info.memory.programs=z.length,f=b}e.program=f,w=e.program.attributes;if(e.morphTargets){e.numSupportedMorphTargets=0,t="morphTarget";for(f=0;f<this.maxMorphTargets;f++)b=t+f,0<=w[b]&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0,t="morphNormal";for(f=0;f<this.maxMorphNormals;f++)b=t+f,0<=w[b]&&e.numSupportedMorphNormals++}e.uniformsList=[];for(a in e.uniforms)e.uniformsList.push([e.uniforms[a],a])},this.setFaceCulling=function(e,t){e===THREE.CullFaceNone?Tt.disable(Tt.CULL_FACE):(t===THREE.FrontFaceDirectionCW?Tt.frontFace(Tt.CW):Tt.frontFace(Tt.CCW),e===THREE.CullFaceBack?Tt.cullFace(Tt.BACK):e===THREE.CullFaceFront?Tt.cullFace(Tt.FRONT):Tt.cullFace(Tt.FRONT_AND_BACK),Tt.enable(Tt.CULL_FACE))},this.setMaterialFaces=function(e){var t=e.side===THREE.DoubleSide,e=e.side===THREE.BackSide;Y!==t&&(t?Tt.disable(Tt.CULL_FACE):Tt.enable(Tt.CULL_FACE),Y=t),Z!==e&&(e?Tt.frontFace(Tt.CW):Tt.frontFace(Tt.CCW),Z=e)},this.setDepthTest=function(e){it!==e&&(e?Tt.enable(Tt.DEPTH_TEST):Tt.disable(Tt.DEPTH_TEST),it=e)},this.setDepthWrite=function(e){st!==e&&(Tt.depthMask(e),st=e)},this.setBlending=function(e,t,n,r){e!==et&&(e===THREE.NoBlending?Tt.disable(Tt.BLEND):e===THREE.AdditiveBlending?(Tt.enable(Tt.BLEND),Tt.blendEquation(Tt.FUNC_ADD),Tt.blendFunc(Tt.SRC_ALPHA,Tt.ONE)):e===THREE.SubtractiveBlending?(Tt.enable(Tt.BLEND),Tt.blendEquation(Tt.FUNC_ADD),Tt.blendFunc(Tt.ZERO,Tt.ONE_MINUS_SRC_COLOR)):e===THREE.MultiplyBlending?(Tt.enable(Tt.BLEND),Tt.blendEquation(Tt.FUNC_ADD),Tt.blendFunc(Tt.ZERO,Tt.SRC_COLOR)):e===THREE.CustomBlending?Tt.enable(Tt.BLEND):(Tt.enable(Tt.BLEND),Tt.blendEquationSeparate(Tt.FUNC_ADD,Tt.FUNC_ADD),Tt.blendFuncSeparate(Tt.SRC_ALPHA,Tt.ONE_MINUS_SRC_ALPHA,Tt.ONE,Tt.ONE_MINUS_SRC_ALPHA)),et=e);if(e===THREE.CustomBlending){if(t!==tt&&(Tt.blendEquation(_(t)),tt=t),n!==nt||r!==rt)Tt.blendFunc(_(n),_(r)),nt=n,rt=r}else rt=nt=tt=null},this.setTexture=function(e,t){if(e.needsUpdate){e.__webglInit||(e.__webglInit=!0,e.addEventListener("dispose",zt),e.__webglTexture=Tt.createTexture(),U.info.memory.textures++),Tt.activeTexture(Tt.TEXTURE0+t),Tt.bindTexture(Tt.TEXTURE_2D,e.__webglTexture),Tt.pixelStorei(Tt.UNPACK_FLIP_Y_WEBGL,e.flipY),Tt.pixelStorei(Tt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Tt.pixelStorei(Tt.UNPACK_ALIGNMENT,e.unpackAlignment);var n=e.image,r=0===(n.width&n.width-1)&&0===(n.height&n.height-1),i=_(e.format),s=_(e.type);A(Tt.TEXTURE_2D,e,r);var o=e.mipmaps;if(e instanceof THREE.DataTexture)if(0<o.length&&r){for(var u=0,a=o.length;u<a;u++)n=o[u],Tt.texImage2D(Tt.TEXTURE_2D,u,i,n.width,n.height,0,i,s,n.data);e.generateMipmaps=!1}else Tt.texImage2D(Tt.TEXTURE_2D,0,i,n.width,n.height,0,i,s,n.data);else if(e instanceof THREE.CompressedTexture){u=0;for(a=o.length;u<a;u++)n=o[u],Tt.compressedTexImage2D(Tt.TEXTURE_2D,u,i,n.width,n.height,0,n.data)}else if(0<o.length&&r){u=0;for(a=o.length;u<a;u++)n=o[u],Tt.texImage2D(Tt.TEXTURE_2D,u,i,i,s,n);e.generateMipmaps=!1}else Tt.texImage2D(Tt.TEXTURE_2D,0,i,i,s,e.image);e.generateMipmaps&&r&&Tt.generateMipmap(Tt.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else Tt.activeTexture(Tt.TEXTURE0+t),Tt.bindTexture(Tt.TEXTURE_2D,e.__webglTexture)},this.setRenderTarget=function(e){var t=e instanceof THREE.WebGLRenderTargetCube;if(e&&!e.__webglFramebuffer){void 0===e.depthBuffer&&(e.depthBuffer=!0),void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.addEventListener("dispose",Wt),e.__webglTexture=Tt.createTexture(),U.info.memory.textures++;var n=0===(e.width&e.width-1)&&0===(e.height&e.height-1),r=_(e.format),i=_(e.type);if(t){e.__webglFramebuffer=[],e.__webglRenderbuffer=[],Tt.bindTexture(Tt.TEXTURE_CUBE_MAP,e.__webglTexture),A(Tt.TEXTURE_CUBE_MAP,e,n);for(var s=0;6>s;s++){e.__webglFramebuffer[s]=Tt.createFramebuffer(),e.__webglRenderbuffer[s]=Tt.createRenderbuffer(),Tt.texImage2D(Tt.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,r,e.width,e.height,0,r,i,null);var o=e,u=Tt.TEXTURE_CUBE_MAP_POSITIVE_X+s;Tt.bindFramebuffer(Tt.FRAMEBUFFER,e.__webglFramebuffer[s]),Tt.framebufferTexture2D(Tt.FRAMEBUFFER,Tt.COLOR_ATTACHMENT0,u,o.__webglTexture,0),O(e.__webglRenderbuffer[s],e)}n&&Tt.generateMipmap(Tt.TEXTURE_CUBE_MAP)}else e.__webglFramebuffer=Tt.createFramebuffer(),e.__webglRenderbuffer=e.shareDepthFrom?e.shareDepthFrom.__webglRenderbuffer:Tt.createRenderbuffer(),Tt.bindTexture(Tt.TEXTURE_2D,e.__webglTexture),A(Tt.TEXTURE_2D,e,n),Tt.texImage2D(Tt.TEXTURE_2D,0,r,e.width,e.height,0,r,i,null),r=Tt.TEXTURE_2D,Tt.bindFramebuffer(Tt.FRAMEBUFFER,e.__webglFramebuffer),Tt.framebufferTexture2D(Tt.FRAMEBUFFER,Tt.COLOR_ATTACHMENT0,r,e.__webglTexture,0),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?Tt.framebufferRenderbuffer(Tt.FRAMEBUFFER,Tt.DEPTH_ATTACHMENT,Tt.RENDERBUFFER,e.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&Tt.framebufferRenderbuffer(Tt.FRAMEBUFFER,Tt.DEPTH_STENCIL_ATTACHMENT,Tt.RENDERBUFFER,e.__webglRenderbuffer):O(e.__webglRenderbuffer,e),n&&Tt.generateMipmap(Tt.TEXTURE_2D);t?Tt.bindTexture(Tt.TEXTURE_CUBE_MAP,null):Tt.bindTexture(Tt.TEXTURE_2D,null),Tt.bindRenderbuffer(Tt.RENDERBUFFER,null),Tt.bindFramebuffer(Tt.FRAMEBUFFER,null)}e?(t=t?e.__webglFramebuffer[e.activeCubeFace]:e.__webglFramebuffer,n=e.width,e=e.height,i=r=0):(t=null,n=ht,e=pt,r=lt,i=ct),t!==V&&(Tt.bindFramebuffer(Tt.FRAMEBUFFER,t),Tt.viewport(r,i,n,e),V=t),dt=n,vt=e},this.shadowMapPlugin=new THREE.ShadowMapPlugin,this.addPrePlugin(this.shadowMapPlugin),this.addPostPlugin(new THREE.SpritePlugin),this.addPostPlugin(new THREE.LensFlarePlugin)},THREE.WebGLRenderTarget=function(e,t,n){this.width=e,this.height=t,n=n||{},this.wrapS=void 0!==n.wrapS?n.wrapS:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==n.wrapT?n.wrapT:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==n.magFilter?n.magFilter:THREE.LinearFilter,this.minFilter=void 0!==n.minFilter?n.minFilter:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.format=void 0!==n.format?n.format:THREE.RGBAFormat,this.type=void 0!==n.type?n.type:THREE.UnsignedByteType,this.depthBuffer=void 0!==n.depthBuffer?n.depthBuffer:!0,this.stencilBuffer=void 0!==n.stencilBuffer?n.stencilBuffer:!0,this.generateMipmaps=!0,this.shareDepthFrom=null},THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,addEventListener:THREE.EventDispatcher.prototype.addEventListener,hasEventListener:THREE.EventDispatcher.prototype.hasEventListener,removeEventListener:THREE.EventDispatcher.prototype.removeEventListener,dispatchEvent:THREE.EventDispatcher.prototype.dispatchEvent,clone:function(){var e=new THREE.WebGLRenderTarget(this.width,this.height);return e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.format=this.format,e.type=this.type,e.depthBuffer=this.depthBuffer,e.stencilBuffer=this.stencilBuffer,e.generateMipmaps=this.generateMipmaps,e.shareDepthFrom=this.shareDepthFrom,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.WebGLRenderTargetCube=function(e,t,n){THREE.WebGLRenderTarget.call(this,e,t,n),this.activeCubeFace=0},THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype),THREE.RenderableVertex=function(){this.positionWorld=new THREE.Vector3,this.positionScreen=new THREE.Vector4,this.visible=!0},THREE.RenderableVertex.prototype.copy=function(e){this.positionWorld.copy(e.positionWorld),this.positionScreen.copy(e.positionScreen)},THREE.RenderableFace3=function(){this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.v3=new THREE.RenderableVertex,this.centroidModel=new THREE.Vector3,this.normalModel=new THREE.Vector3,this.normalModelView=new THREE.Vector3,this.vertexNormalsLength=0,this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.vertexNormalsModelView=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.material=this.color=null,this.uvs=[[]],this.z=null},THREE.RenderableFace4=function(){this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.v3=new THREE.RenderableVertex,this.v4=new THREE.RenderableVertex,this.centroidModel=new THREE.Vector3,this.normalModel=new THREE.Vector3,this.normalModelView=new THREE.Vector3,this.vertexNormalsLength=0,this.vertexNormalsModel=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.vertexNormalsModelView=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3],this.material=this.color=null,this.uvs=[[]],this.z=null},THREE.RenderableObject=function(){this.z=this.object=null},THREE.RenderableParticle=function(){this.rotation=this.z=this.y=this.x=this.object=null,this.scale=new THREE.Vector2,this.material=null},THREE.RenderableLine=function(){this.z=null,this.v1=new THREE.RenderableVertex,this.v2=new THREE.RenderableVertex,this.vertexColors=[new THREE.Color,new THREE.Color],this.material=null},THREE.GeometryUtils={merge:function(e,t,n){var r,i,s=e.vertices.length,o=t instanceof THREE.Mesh?t.geometry:t,u=e.vertices,a=o.vertices,f=e.faces,l=o.faces,e=e.faceVertexUvs[0],o=o.faceVertexUvs[0];void 0===n&&(n=0),t instanceof THREE.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,i=(new THREE.Matrix3).getNormalMatrix(r));for(var t=0,c=a.length;t<c;t++){var h=a[t].clone();r&&h.applyMatrix4(r),u.push(h)}t=0;for(c=l.length;t<c;t++){var h=l[t],p,d,v=h.vertexNormals,m=h.vertexColors;h instanceof THREE.Face3?p=new THREE.Face3(h.a+s,h.b+s,h.c+s):h instanceof THREE.Face4&&(p=new THREE.Face4(h.a+s,h.b+s,h.c+s,h.d+s)),p.normal.copy(h.normal),i&&p.normal.applyMatrix3(i).normalize(),u=0;for(a=v.length;u<a;u++)d=v[u].clone(),i&&d.applyMatrix3(i).normalize(),p.vertexNormals.push(d);p.color.copy(h.color),u=0;for(a=m.length;u<a;u++)d=m[u],p.vertexColors.push(d.clone());p.materialIndex=h.materialIndex+n,p.centroid.copy(h.centroid),r&&p.centroid.applyMatrix4(r),f.push(p)}t=0;for(c=o.length;t<c;t++){n=o[t],r=[],u=0;for(a=n.length;u<a;u++)r.push(new THREE.Vector2(n[u].x,n[u].y));e.push(r)}},removeMaterials:function(e,t){for(var n={},r=0,i=t.length;r<i;r++)n[t[r]]=!0;for(var s,o=[],r=0,i=e.faces.length;r<i;r++)s=e.faces[r],s.materialIndex in n||o.push(s);e.faces=o},randomPointInTriangle:function(e,t,n){var r,i,s,o=new THREE.Vector3,u=THREE.GeometryUtils.__v1;return r=THREE.GeometryUtils.random(),i=THREE.GeometryUtils.random(),1<r+i&&(r=1-r,i=1-i),s=1-r-i,o.copy(e),o.multiplyScalar(r),u.copy(t),u.multiplyScalar(i),o.add(u),u.copy(n),u.multiplyScalar(s),o.add(u),o},randomPointInFace:function(e,t,n){var r,i,s;if(e instanceof THREE.Face3)return r=t.vertices[e.a],i=t.vertices[e.b],s=t.vertices[e.c],THREE.GeometryUtils.randomPointInTriangle(r,i,s);if(e instanceof THREE.Face4){r=t.vertices[e.a],i=t.vertices[e.b],s=t.vertices[e.c];var t=t.vertices[e.d],o;return n?e._area1&&e._area2?(n=e._area1,o=e._area2):(n=THREE.GeometryUtils.triangleArea(r,i,t),o=THREE.GeometryUtils.triangleArea(i,s,t),e._area1=n,e._area2=o):(n=THREE.GeometryUtils.triangleArea(r,i,t),o=THREE.GeometryUtils.triangleArea(i,s,t)),THREE.GeometryUtils.random()*(n+o)<n?THREE.GeometryUtils.randomPointInTriangle(r,i,t):THREE.GeometryUtils.randomPointInTriangle(i,s,t)}},randomPointsInGeometry:function(e,t){function n(e){function t(n,r){if(r<n)return n;var i=n+Math.floor((r-n)/2);return f[i]>e?t(n,i-1):f[i]<e?t(i+1,r):i}return t(0,f.length-1)}var r,i,s=e.faces,o=e.vertices,u=s.length,a=0,f=[],l,c,h,p;for(i=0;i<u;i++)r=s[i],r instanceof THREE.Face3?(l=o[r.a],c=o[r.b],h=o[r.c],r._area=THREE.GeometryUtils.triangleArea(l,c,h)):r instanceof THREE.Face4&&(l=o[r.a],c=o[r.b],h=o[r.c],p=o[r.d],r._area1=THREE.GeometryUtils.triangleArea(l,c,p),r._area2=THREE.GeometryUtils.triangleArea(c,h,p),r._area=r._area1+r._area2),a+=r._area,f[i]=a;r=[];for(i=0;i<t;i++)o=THREE.GeometryUtils.random()*a,o=n(o),r[i]=THREE.GeometryUtils.randomPointInFace(s[o],e,!0);return r},triangleArea:function(e,t,n){var r=THREE.GeometryUtils.__v1,i=THREE.GeometryUtils.__v2;return r.subVectors(t,e),i.subVectors(n,e),r.cross(i),.5*r.length()},center:function(e){e.computeBoundingBox();var t=e.boundingBox,n=new THREE.Vector3;return n.addVectors(t.min,t.max),n.multiplyScalar(-0.5),e.applyMatrix((new THREE.Matrix4).makeTranslation(n.x,n.y,n.z)),e.computeBoundingBox(),n},normalizeUVs:function(e){for(var e=e.faceVertexUvs[0],t=0,n=e.length;t<n;t++)for(var r=e[t],i=0,s=r.length;i<s;i++)1!==r[i].x&&(r[i].x-=Math.floor(r[i].x)),1!==r[i].y&&(r[i].y-=Math.floor(r[i].y))},triangulateQuads:function(e){var t,n,r,i,s=[],o=[],u=[];t=0;for(n=e.faceUvs.length;t<n;t++)o[t]=[];t=0;for(n=e.faceVertexUvs.length;t<n;t++)u[t]=[];t=0;for(n=e.faces.length;t<n;t++)if(r=e.faces[t],r instanceof THREE.Face4){i=r.a;var a=r.b,f=r.c,l=r.d,c=new THREE.Face3,h=new THREE.Face3;c.color.copy(r.color),h.color.copy(r.color),c.materialIndex=r.materialIndex,h.materialIndex=r.materialIndex,c.a=i,c.b=a,c.c=l,h.a=a,h.b=f,h.c=l,4===r.vertexColors.length&&(c.vertexColors[0]=r.vertexColors[0].clone(),c.vertexColors[1]=r.vertexColors[1].clone(),c.vertexColors[2]=r.vertexColors[3].clone(),h.vertexColors[0]=r.vertexColors[1].clone(),h.vertexColors[1]=r.vertexColors[2].clone(),h.vertexColors[2]=r.vertexColors[3].clone()),s.push(c,h),r=0;for(i=e.faceVertexUvs.length;r<i;r++)e.faceVertexUvs[r].length&&(c=e.faceVertexUvs[r][t],a=c[1],f=c[2],l=c[3],c=[c[0].clone(),a.clone(),l.clone()],a=[a.clone(),f.clone(),l.clone()],u[r].push(c,a));r=0;for(i=e.faceUvs.length;r<i;r++)e.faceUvs[r].length&&(a=e.faceUvs[r][t],o[r].push(a,a))}else{s.push(r),r=0;for(i=e.faceUvs.length;r<i;r++)o[r].push(e.faceUvs[r][t]);r=0;for(i=e.faceVertexUvs.length;r<i;r++)u[r].push(e.faceVertexUvs[r][t])}e.faces=s,e.faceUvs=o,e.faceVertexUvs=u,e.computeCentroids(),e.computeFaceNormals(),e.computeVertexNormals(),e.hasTangents&&e.computeTangents()},setMaterialIndex:function(e,t,n,r){e=e.faces,r=r||e.length-1;for(n=n||0;n<=r;n++)e[n].materialIndex=t}},THREE.GeometryUtils.random=THREE.Math.random16,THREE.GeometryUtils.__v1=new THREE.Vector3,THREE.GeometryUtils.__v2=new THREE.Vector3,THREE.ImageUtils={crossOrigin:"anonymous",loadTexture:function(e,t,n,r){var i=new Image,s=new THREE.Texture(i,t),t=new THREE.ImageLoader;return t.addEventListener("load",function(e){s.image=e.content,s.needsUpdate=!0,n&&n(s)}),t.addEventListener("error",function(e){r&&r(e.message)}),t.crossOrigin=this.crossOrigin,t.load(e,i),s.sourceFile=e,s},loadCompressedTexture:function(e,t,n,r){var i=new THREE.CompressedTexture;i.mapping=t;var s=new XMLHttpRequest;return s.onload=function(){var e=THREE.ImageUtils.parseDDS(s.response,!0);i.format=e.format,i.mipmaps=e.mipmaps,i.image.width=e.width,i.image.height=e.height,i.generateMipmaps=!1,i.needsUpdate=!0,n&&n(i)},s.onerror=r,s.open("GET",e,!0),s.responseType="arraybuffer",s.send(null),i},loadTextureCube:function(e,t,n,r){var i=[];i.loadCount=0;var s=new THREE.Texture;s.image=i,void 0!==t&&(s.mapping=t),s.flipY=!1;for(var t=0,o=e.length;t<o;++t){var u=new Image;i[t]=u,u.onload=function(){i.loadCount+=1,6===i.loadCount&&(s.needsUpdate=!0,n&&n(s))},u.onerror=r,u.crossOrigin=this.crossOrigin,u.src=e[t]}return s},loadCompressedTextureCube:function(e,t,n,r){var i=[];i.loadCount=0;var s=new THREE.CompressedTexture;s.image=i,void 0!==t&&(s.mapping=t),s.flipY=!1,s.generateMipmaps=!1,t=function(e,t){return function(){var r=THREE.ImageUtils.parseDDS(e.response,!0);t.format=r.format,t.mipmaps=r.mipmaps,t.width=r.width,t.height=r.height,i.loadCount+=1,6===i.loadCount&&(s.format=r.format,s.needsUpdate=!0,n&&n(s))}};if(e instanceof Array)for(var o=0,u=e.length;o<u;++o){var a={};i[o]=a;var f=new XMLHttpRequest;f.onload=t(f,a),f.onerror=r,a=e[o],f.open("GET",a,!0),f.responseType="arraybuffer",f.send(null)}else f=new XMLHttpRequest,f.onload=function(){var e=THREE.ImageUtils.parseDDS(f.response,!0);if(e.isCubemap){for(var t=e.mipmaps.length/e.mipmapCount,r=0;r<t;r++){i[r]={mipmaps:[]};for(var o=0;o<e.mipmapCount;o++)i[r].mipmaps.push(e.mipmaps[r*e.mipmapCount+o]),i[r].format=e.format,i[r].width=e.width,i[r].height=e.height}s.format=e.format,s.needsUpdate=!0,n&&n(s)}},f.onerror=r,f.open("GET",e,!0),f.responseType="arraybuffer",f.send(null);return s},parseDDS:function(e,t){function n(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var r={mipmaps:[],width:0,height:0,format:null,mipmapCount:1},i=n("DXT1"),s=n("DXT3"),o=n("DXT5"),u=new Int32Array(e,0,31);if(542327876!==u[0])return console.error("ImageUtils.parseDDS(): Invalid magic number in DDS header"),r;if(!u[20]&4)return console.error("ImageUtils.parseDDS(): Unsupported format, must contain a FourCC code"),r;var a=u[21];switch(a){case i:i=8,r.format=THREE.RGB_S3TC_DXT1_Format;break;case s:i=16,r.format=THREE.RGBA_S3TC_DXT3_Format;break;case o:i=16,r.format=THREE.RGBA_S3TC_DXT5_Format;break;default:return console.error("ImageUtils.parseDDS(): Unsupported FourCC code: ",String.fromCharCode(a&255,a>>8&255,a>>16&255,a>>24&255)),r}r.mipmapCount=1,u[2]&131072&&!1!==t&&(r.mipmapCount=Math.max(1,u[7])),r.isCubemap=u[28]&512?!0:!1,r.width=u[4],r.height=u[3];for(var u=u[1]+4,s=r.width,o=r.height,a=r.isCubemap?6:1,f=0;f<a;f++){for(var l=0;l<r.mipmapCount;l++){var c=Math.max(4,s)/4*Math.max(4,o)/4*i,h={data:new Uint8Array(e,u,c),width:s,height:o};r.mipmaps.push(h),u+=c,s=Math.max(.5*s,1),o=Math.max(.5*o,1)}s=r.width,o=r.height}return r},getNormalMap:function(e,t){var n=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return[e[0]/t,e[1]/t,e[2]/t]},t=t|1,r=e.width,i=e.height,s=document.createElement("canvas");s.width=r,s.height=i;var o=s.getContext("2d");o.drawImage(e,0,0);for(var u=o.getImageData(0,0,r,i).data,a=o.createImageData(r,i),f=a.data,l=0;l<r;l++)for(var c=0;c<i;c++){var h=0>c-1?0:c-1,p=c+1>i-1?i-1:c+1,d=0>l-1?0:l-1,v=l+1>r-1?r-1:l+1,m=[],g=[0,0,u[4*(c*r+l)]/255*t];m.push([-1,0,u[4*(c*r+d)]/255*t]),m.push([-1,-1,u[4*(h*r+d)]/255*t]),m.push([0,-1,u[4*(h*r+l)]/255*t]),m.push([1,-1,u[4*(h*r+v)]/255*t]),m.push([1,0,u[4*(c*r+v)]/255*t]),m.push([1,1,u[4*(p*r+v)]/255*t]),m.push([0,1,u[4*(p*r+l)]/255*t]),m.push([-1,1,u[4*(p*r+d)]/255*t]),h=[],d=m.length;for(p=0;p<d;p++){var v=m[p],y=m[(p+1)%d],v=[v[0]-g[0],v[1]-g[1],v[2]-g[2]],y=[y[0]-g[0],y[1]-g[1],y[2]-g[2]];h.push(n([v[1]*y[2]-v[2]*y[1],v[2]*y[0]-v[0]*y[2],v[0]*y[1]-v[1]*y[0]]))}m=[0,0,0];for(p=0;p<h.length;p++)m[0]+=h[p][0],m[1]+=h[p][1],m[2]+=h[p][2];m[0]/=h.length,m[1]/=h.length,m[2]/=h.length,g=4*(c*r+l),f[g]=255*((m[0]+1)/2)|0,f[g+1]=255*((m[1]+1)/2)|0,f[g+2]=255*m[2]|0,f[g+3]=255}return o.putImageData(a,0,0),s},generateDataTexture:function(e,t,n){for(var r=e*t,i=new Uint8Array(3*r),s=Math.floor(255*n.r),o=Math.floor(255*n.g),n=Math.floor(255*n.b),u=0;u<r;u++)i[3*u]=s,i[3*u+1]=o,i[3*u+2]=n;return e=new THREE.DataTexture(i,e,t,THREE.RGBFormat),e.needsUpdate=!0,e}},THREE.SceneUtils={createMultiMaterialObject:function(e,t){for(var n=new THREE.Object3D,r=0,i=t.length;r<i;r++)n.add(new THREE.Mesh(e,t[r]));return n},detach:function(e,t,n){e.applyMatrix(t.matrixWorld),t.remove(e),n.add(e)},attach:function(e,t,n){var r=new THREE.Matrix4;r.getInverse(n.matrixWorld),e.applyMatrix(r),t.remove(e),n.add(e)}},THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){return this.faces[this.face][this.weight][this.style]},loadFace:function(e){var t=e.familyName.toLowerCase();return this.faces[t]=this.faces[t]||{},this.faces[t][e.cssFontWeight]=this.faces[t][e.cssFontWeight]||{},this.faces[t][e.cssFontWeight][e.cssFontStyle]=e,this.faces[t][e.cssFontWeight][e.cssFontStyle]=e},drawText:function(e){for(var t=this.getFace(),n=this.size/t.resolution,r=0,i=String(e).split(""),s=i.length,o=[],e=0;e<s;e++){var u=new THREE.Path,u=this.extractGlyphPoints(i[e],t,n,r,u),r=r+u.offset;o.push(u.path)}return{paths:o,offset:r/2}},extractGlyphPoints:function(e,t,n,r,i){var s=[],o,u,a,f,l,c,h,p,d,v,m,g=t.glyphs[e]||t.glyphs["?"];if(g){if(g.o){t=g._cachedOutline||(g._cachedOutline=g.o.split(" ")),f=t.length;for(e=0;e<f;)switch(a=t[e++],a){case"m":a=t[e++]*n+r,l=t[e++]*n,i.moveTo(a,l);break;case"l":a=t[e++]*n+r,l=t[e++]*n,i.lineTo(a,l);break;case"q":a=t[e++]*n+r,l=t[e++]*n,p=t[e++]*n+r,d=t[e++]*n,i.quadraticCurveTo(p,d,a,l);if(o=s[s.length-1]){c=o.x,h=o.y,o=1;for(u=this.divisions;o<=u;o++){var y=o/u;THREE.Shape.Utils.b2(y,c,p,a),THREE.Shape.Utils.b2(y,h,d,l)}}break;case"b":if(a=t[e++]*n+r,l=t[e++]*n,p=t[e++]*n+r,d=t[e++]*-n,v=t[e++]*n+r,m=t[e++]*-n,i.bezierCurveTo(a,l,p,d,v,m),o=s[s.length-1]){c=o.x,h=o.y,o=1;for(u=this.divisions;o<=u;o++)y=o/u,THREE.Shape.Utils.b3(y,c,p,v,a),THREE.Shape.Utils.b3(y,h,d,m,l)}}}return{offset:g.ha*n,path:i}}}},THREE.FontUtils.generateShapes=function(e,t){var t=t||{},n=void 0!==t.curveSegments?t.curveSegments:4,r=void 0!==t.font?t.font:"helvetiker",i=void 0!==t.weight?t.weight:"normal",s=void 0!==t.style?t.style:"normal";THREE.FontUtils.size=void 0!==t.size?t.size:100,THREE.FontUtils.divisions=n,THREE.FontUtils.face=r,THREE.FontUtils.weight=i,THREE.FontUtils.style=s,n=THREE.FontUtils.drawText(e).paths,r=[],i=0;for(s=n.length;i<s;i++)Array.prototype.push.apply(r,n[i].toShapes());return r},function(e){var t=function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n};return e.Triangulate=function(e,n){var r=e.length;if(3>r)return null;var i=[],s=[],o=[],u,a,f;if(0<t(e))for(a=0;a<r;a++)s[a]=a;else for(a=0;a<r;a++)s[a]=r-1-a;var l=2*r;for(a=r-1;2<r;){if(0>=l--){console.log("Warning, unable to triangulate polygon!");break}u=a,r<=u&&(u=0),a=u+1,r<=a&&(a=0),f=a+1,r<=f&&(f=0);var c;e:{var h=c=void 0,p=void 0,d=void 0,v=void 0,m=void 0,g=void 0,y=void 0,w=void 0,h=e[s[u]].x,p=e[s[u]].y,d=e[s[a]].x,v=e[s[a]].y,m=e[s[f]].x,g=e[s[f]].y;if(1e-10>(d-h)*(g-p)-(v-p)*(m-h))c=!1;else{var E=void 0,S=void 0,x=void 0,T=void 0,N=void 0,C=void 0,k=void 0,L=void 0,A=void 0,O=void 0,A=L=k=w=y=void 0,E=m-d,S=g-v,x=h-m,T=p-g,N=d-h,C=v-p;for(c=0;c<r;c++)if(c!==u&&c!==a&&c!==f)if(y=e[s[c]].x,w=e[s[c]].y,k=y-h,L=w-p,A=y-d,O=w-v,y-=m,w-=g,A=E*O-S*A,k=N*L-C*k,L=x*w-T*y,0<=A&&0<=L&&0<=k){c=!1;break e}c=!0}}if(c){i.push([e[s[u]],e[s[a]],e[s[f]]]),o.push([s[u],s[a],s[f]]),u=a;for(f=a+1;f<r;u++,f++)s[u]=s[f];r--,l=2*r}}return n?o:i},e.Triangulate.area=t,e}(THREE.FontUtils),self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace},THREE.typeface_js=self._typeface_js,THREE.Curve=function(){},THREE.Curve.prototype.getPoint=function(){return console.log("Warning, getPoint() not implemented!"),null},THREE.Curve.prototype.getPointAt=function(e){return e=this.getUtoTmapping(e),this.getPoint(e)},THREE.Curve.prototype.getPoints=function(e){e||(e=5);var t,n=[];for(t=0;t<=e;t++)n.push(this.getPoint(t/e));return n},THREE.Curve.prototype.getSpacedPoints=function(e){e||(e=5);var t,n=[];for(t=0;t<=e;t++)n.push(this.getPointAt(t/e));return n},THREE.Curve.prototype.getLength=function(){var e=this.getLengths();return e[e.length-1]},THREE.Curve.prototype.getLengths=function(e){e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200);if(this.cacheArcLengths&&this.cacheArcLengths.length==e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t=[],n,r=this.getPoint(0),i,s=0;t.push(0);for(i=1;i<=e;i++)n=this.getPoint(i/e),s+=n.distanceTo(r),t.push(s),r=n;return this.cacheArcLengths=t},THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},THREE.Curve.prototype.getUtoTmapping=function(e,t){var n=this.getLengths(),r=0,i=n.length,s;s=t?t:e*n[i-1];for(var o=0,u=i-1,a;o<=u;)if(r=Math.floor(o+(u-o)/2),a=n[r]-s,0>a)o=r+1;else{if(!(0<a)){u=r;break}u=r-1}return r=u,n[r]==s?r/(i-1):(o=n[r],n=(r+(s-o)/(n[r+1]-o))/(i-1))},THREE.Curve.prototype.getTangent=function(e){var t=e-1e-4,e=e+1e-4;return 0>t&&(t=0),1<e&&(e=1),t=this.getPoint(t),this.getPoint(e).clone().sub(t).normalize()},THREE.Curve.prototype.getTangentAt=function(e){return e=this.getUtoTmapping(e),this.getTangent(e)},THREE.LineCurve=function(e,t){this.v1=e,this.v2=t},THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},THREE.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},THREE.LineCurve.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},THREE.QuadraticBezierCurve=function(e,t,n){this.v0=e,this.v1=t,this.v2=n},THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.QuadraticBezierCurve.prototype.getPoint=function(e){var t;return t=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),e=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),new THREE.Vector2(t,e)},THREE.QuadraticBezierCurve.prototype.getTangent=function(e){var t;return t=THREE.Curve.Utils.tangentQuadraticBezier(e,this.v0.x,this.v1.x,this.v2.x),e=THREE.Curve.Utils.tangentQuadraticBezier(e,this.v0.y,this.v1.y,this.v2.y),t=new THREE.Vector2(t,e),t.normalize(),t},THREE.CubicBezierCurve=function(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r},THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.CubicBezierCurve.prototype.getPoint=function(e){var t;return t=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new THREE.Vector2(t,e)},THREE.CubicBezierCurve.prototype.getTangent=function(e){var t;return t=THREE.Curve.Utils.tangentCubicBezier(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e=THREE.Curve.Utils.tangentCubicBezier(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t=new THREE.Vector2(t,e),t.normalize(),t},THREE.SplineCurve=function(e){this.points=void 0==e?[]:e},THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.SplineCurve.prototype.getPoint=function(e){var t=new THREE.Vector2,n=[],r=this.points,i;return i=(r.length-1)*e,e=Math.floor(i),i-=e,n[0]=0==e?e:e-1,n[1]=e,n[2]=e>r.length-2?r.length-1:e+1,n[3]=e>r.length-3?r.length-1:e+2,t.x=THREE.Curve.Utils.interpolate(r[n[0]].x,r[n[1]].x,r[n[2]].x,r[n[3]].x,i),t.y=THREE.Curve.Utils.interpolate(r[n[0]].y,r[n[1]].y,r[n[2]].y,r[n[3]].y,i),t},THREE.EllipseCurve=function(e,t,n,r,i,s,o){this.aX=e,this.aY=t,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=s,this.aClockwise=o},THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype),THREE.EllipseCurve.prototype.getPoint=function(e){var t=this.aEndAngle-this.aStartAngle;return this.aClockwise||(e=1-e),t=this.aStartAngle+e*t,e=this.aX+this.xRadius*Math.cos(t),t=this.aY+this.yRadius*Math.sin(t),new THREE.Vector2(e,t)},THREE.ArcCurve=function(e,t,n,r,i,s){THREE.EllipseCurve.call(this,e,t,n,n,r,i,s)},THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype),THREE.Curve.Utils={tangentQuadraticBezier:function(e,t,n,r){return 2*(1-e)*(n-t)+2*e*(r-n)},tangentCubicBezier:function(e,t,n,r,i){return-3*t*(1-e)*(1-e)+3*n*(1-e)*(1-e)-6*e*n*(1-e)+6*e*r*(1-e)-3*e*e*r+3*e*e*i},tangentSpline:function(e){return 6*e*e-6*e+(3*e*e-4*e+1)+(-6*e*e+6*e)+(3*e*e-2*e)},interpolate:function(e,t,n,r,i){var e=.5*(n-e),r=.5*(r-t),s=i*i;return(2*t-2*n+e+r)*i*s+(-3*t+3*n-2*e-r)*s+e*i+t}},THREE.Curve.create=function(e,t){return e.prototype=Object.create(THREE.Curve.prototype),e.prototype.getPoint=t,e},THREE.LineCurve3=THREE.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new THREE.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}),THREE.QuadraticBezierCurve3=THREE.Curve.create(function(e,t,n){this.v0=e,this.v1=t,this.v2=n},function(e){var t,n;return t=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),n=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),e=THREE.Shape.Utils.b2(e,this.v0.z,this.v1.z,this.v2.z),new THREE.Vector3(t,n,e)}),THREE.CubicBezierCurve3=THREE.Curve.create(function(e,t,n,r){this.v0=e,this.v1=t,this.v2=n,this.v3=r},function(e){var t,n;return t=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),n=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e=THREE.Shape.Utils.b3(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z),new THREE.Vector3(t,n,e)}),THREE.SplineCurve3=THREE.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t=new THREE.Vector3,n=[],r=this.points,i,e=(r.length-1)*e;i=Math.floor(e),e-=i,n[0]=0==i?i:i-1,n[1]=i,n[2]=i>r.length-2?r.length-1:i+1,n[3]=i>r.length-3?r.length-1:i+2,i=r[n[0]];var s=r[n[1]],o=r[n[2]],n=r[n[3]];return t.x=THREE.Curve.Utils.interpolate(i.x,s.x,o.x,n.x,e),t.y=THREE.Curve.Utils.interpolate(i.y,s.y,o.y,n.y,e),t.z=THREE.Curve.Utils.interpolate(i.z,s.z,o.z,n.z,e),t}),THREE.ClosedSplineCurve3=THREE.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t=new THREE.Vector3,n=[],r=this.points,i;return i=(r.length-0)*e,e=Math.floor(i),i-=e,e+=0<e?0:(Math.floor(Math.abs(e)/r.length)+1)*r.length,n[0]=(e-1)%r.length,n[1]=e%r.length,n[2]=(e+1)%r.length,n[3]=(e+2)%r.length,t.x=THREE.Curve.Utils.interpolate(r[n[0]].x,r[n[1]].x,r[n[2]].x,r[n[3]].x,i),t.y=THREE.Curve.Utils.interpolate(r[n[0]].y,r[n[1]].y,r[n[2]].y,r[n[3]].y,i),t.z=THREE.Curve.Utils.interpolate(r[n[0]].z,r[n[1]].z,r[n[2]].z,r[n[3]].z,i),t}),THREE.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype),THREE.CurvePath.prototype.add=function(e){this.curves.push(e)},THREE.CurvePath.prototype.checkConnection=function(){},THREE.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new THREE.LineCurve(t,e))},THREE.CurvePath.prototype.getPoint=function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),e=0;e<n.length;){if(n[e]>=t)return t=n[e]-t,e=this.curves[e],t=1-t/e.getLength(),e.getPointAt(t);e++}return null},THREE.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var e=[],t=0,n,r=this.curves.length;for(n=0;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e},THREE.CurvePath.prototype.getBoundingBox=function(){var e=this.getPoints(),t,n,r,i,s,o;t=n=Number.NEGATIVE_INFINITY,i=s=Number.POSITIVE_INFINITY;var u,a,f,l,c=e[0]instanceof THREE.Vector3;l=c?new THREE.Vector3:new THREE.Vector2,a=0;for(f=e.length;a<f;a++)u=e[a],u.x>t?t=u.x:u.x<i&&(i=u.x),u.y>n?n=u.y:u.y<s&&(s=u.y),c&&(u.z>r?r=u.z:u.z<o&&(o=u.z)),l.add(u);return e={minX:i,minY:s,maxX:t,maxY:n,centroid:l.divideScalar(f)},c&&(e.maxZ=r,e.minZ=o),e},THREE.CurvePath.prototype.createPointsGeometry=function(e){return e=this.getPoints(e,!0),this.createGeometry(e)},THREE.CurvePath.prototype.createSpacedPointsGeometry=function(e){return e=this.getSpacedPoints(e,!0),this.createGeometry(e)},THREE.CurvePath.prototype.createGeometry=function(e){for(var t=new THREE.Geometry,n=0;n<e.length;n++)t.vertices.push(new THREE.Vector3(e[n].x,e[n].y,e[n].z||0));return t},THREE.CurvePath.prototype.addWrapPath=function(e){this.bends.push(e)},THREE.CurvePath.prototype.getTransformedPoints=function(e,t){var n=this.getPoints(e),r,i;t||(t=this.bends),r=0;for(i=t.length;r<i;r++)n=this.getWrapPoints(n,t[r]);return n},THREE.CurvePath.prototype.getTransformedSpacedPoints=function(e,t){var n=this.getSpacedPoints(e),r,i;t||(t=this.bends),r=0;for(i=t.length;r<i;r++)n=this.getWrapPoints(n,t[r]);return n},THREE.CurvePath.prototype.getWrapPoints=function(e,t){var n=this.getBoundingBox(),r,i,s,o,u,a;r=0;for(i=e.length;r<i;r++)s=e[r],o=s.x,u=s.y,a=o/n.maxX,a=t.getUtoTmapping(a,o),o=t.getPoint(a),u=t.getNormalVector(a).multiplyScalar(u),s.x=o.x+u.x,s.y=o.y+u.y;return e},THREE.Gyroscope=function(){THREE.Object3D.call(this)},THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype),THREE.Gyroscope.prototype.updateMatrixWorld=function(e){this.matrixAutoUpdate&&this.updateMatrix();if(this.matrixWorldNeedsUpdate||e)this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(this.translationWorld,this.rotationWorld,this.scaleWorld),this.matrix.decompose(this.translationObject,this.rotationObject,this.scaleObject),this.matrixWorld.makeFromPositionQuaternionScale(this.translationWorld,this.rotationObject,this.scaleWorld)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0;for(var t=0,n=this.children.length;t<n;t++)this.children[t].updateMatrixWorld(e)},THREE.Gyroscope.prototype.translationWorld=new THREE.Vector3,THREE.Gyroscope.prototype.translationObject=new THREE.Vector3,THREE.Gyroscope.prototype.rotationWorld=new THREE.Quaternion,THREE.Gyroscope.prototype.rotationObject=new THREE.Quaternion,THREE.Gyroscope.prototype.scaleWorld=new THREE.Vector3,THREE.Gyroscope.prototype.scaleObject=new THREE.Vector3,THREE.Path=function(e){THREE.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},THREE.Path.prototype=Object.create(THREE.CurvePath.prototype),THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},THREE.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y)},THREE.Path.prototype.moveTo=function(e,t){var n=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:n})},THREE.Path.prototype.lineTo=function(e,t){var n=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,r=new THREE.LineCurve(new THREE.Vector2(r[r.length-2],r[r.length-1]),new THREE.Vector2(e,t));this.curves.push(r),this.actions.push({action:THREE.PathActions.LINE_TO,args:n})},THREE.Path.prototype.quadraticCurveTo=function(e,t,n,r){var i=Array.prototype.slice.call(arguments),s=this.actions[this.actions.length-1].args,s=new THREE.QuadraticBezierCurve(new THREE.Vector2(s[s.length-2],s[s.length-1]),new THREE.Vector2(e,t),new THREE.Vector2(n,r));this.curves.push(s),this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:i})},THREE.Path.prototype.bezierCurveTo=function(e,t,n,r,i,s){var o=Array.prototype.slice.call(arguments),u=this.actions[this.actions.length-1].args,u=new THREE.CubicBezierCurve(new THREE.Vector2(u[u.length-2],u[u.length-1]),new THREE.Vector2(e,t),new THREE.Vector2(n,r),new THREE.Vector2(i,s));this.curves.push(u),this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:o})},THREE.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,n=[new THREE.Vector2(n[n.length-2],n[n.length-1])];Array.prototype.push.apply(n,e),n=new THREE.SplineCurve(n),this.curves.push(n),this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:t})},THREE.Path.prototype.arc=function(e,t,n,r,i,s){var o=this.actions[this.actions.length-1].args;this.absarc(e+o[o.length-2],t+o[o.length-1],n,r,i,s)},THREE.Path.prototype.absarc=function(e,t,n,r,i,s){this.absellipse(e,t,n,n,r,i,s)},THREE.Path.prototype.ellipse=function(e,t,n,r,i,s,o){var u=this.actions[this.actions.length-1].args;this.absellipse(e+u[u.length-2],t+u[u.length-1],n,r,i,s,o)},THREE.Path.prototype.absellipse=function(e,t,n,r,i,s,o){var u=Array.prototype.slice.call(arguments),a=new THREE.EllipseCurve(e,t,n,r,i,s,o);this.curves.push(a),a=a.getPoint(o?1:0),u.push(a.x),u.push(a.y),this.actions.push({action:THREE.PathActions.ELLIPSE,args:u})},THREE.Path.prototype.getSpacedPoints=function(e){e||(e=40);for(var t=[],n=0;n<e;n++)t.push(this.getPoint(n/e));return t},THREE.Path.prototype.getPoints=function(e,t){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(e,t);var e=e||12,n=[],r,i,s,o,u,a,f,l,c,h,p,d,v;r=0;for(i=this.actions.length;r<i;r++)switch(s=this.actions[r],o=s.action,s=s.args,o){case THREE.PathActions.MOVE_TO:n.push(new THREE.Vector2(s[0],s[1]));break;case THREE.PathActions.LINE_TO:n.push(new THREE.Vector2(s[0],s[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:u=s[2],a=s[3],c=s[0],h=s[1],0<n.length?(o=n[n.length-1],p=o.x,d=o.y):(o=this.actions[r-1].args,p=o[o.length-2],d=o[o.length-1]);for(s=1;s<=e;s++)v=s/e,o=THREE.Shape.Utils.b2(v,p,c,u),v=THREE.Shape.Utils.b2(v,d,h,a),n.push(new THREE.Vector2(o,v));break;case THREE.PathActions.BEZIER_CURVE_TO:u=s[4],a=s[5],c=s[0],h=s[1],f=s[2],l=s[3],0<n.length?(o=n[n.length-1],p=o.x,d=o.y):(o=this.actions[r-1].args,p=o[o.length-2],d=o[o.length-1]);for(s=1;s<=e;s++)v=s/e,o=THREE.Shape.Utils.b3(v,p,c,f,u),v=THREE.Shape.Utils.b3(v,d,h,l,a),n.push(new THREE.Vector2(o,v));break;case THREE.PathActions.CSPLINE_THRU:o=this.actions[r-1].args,v=[new THREE.Vector2(o[o.length-2],o[o.length-1])],o=e*s[0].length,v=v.concat(s[0]),v=new THREE.SplineCurve(v);for(s=1;s<=o;s++)n.push(v.getPointAt(s/o));break;case THREE.PathActions.ARC:u=s[0],a=s[1],h=s[2],f=s[3],o=s[4],c=!!s[5],p=o-f,d=2*e;for(s=1;s<=d;s++)v=s/d,c||(v=1-v),v=f+v*p,o=u+h*Math.cos(v),v=a+h*Math.sin(v),n.push(new THREE.Vector2(o,v));break;case THREE.PathActions.ELLIPSE:u=s[0],a=s[1],h=s[2],l=s[3],f=s[4],o=s[5],c=!!s[6],p=o-f,d=2*e;for(s=1;s<=d;s++)v=s/d,c||(v=1-v),v=f+v*p,o=u+h*Math.cos(v),v=a+l*Math.sin(v),n.push(new THREE.Vector2(o,v))}return r=n[n.length-1],1e-10>Math.abs(r.x-n[0].x)&&1e-10>Math.abs(r.y-n[0].y)&&n.splice(n.length-1,1),t&&n.push(n[0]),n},THREE.Path.prototype.toShapes=function(){var e,t,n,r,i=[],s=new THREE.Path;e=0;for(t=this.actions.length;e<t;e++)n=this.actions[e],r=n.args,n=n.action,n==THREE.PathActions.MOVE_TO&&0!=s.actions.length&&(i.push(s),s=new THREE.Path),s[n].apply(s,r);0!=s.actions.length&&i.push(s);if(0==i.length)return[];var o;r=[],e=!THREE.Shape.Utils.isClockWise(i[0].getPoints());if(1==i.length)return s=i[0],o=new THREE.Shape,o.actions=s.actions,o.curves=s.curves,r.push(o),r;if(e){o=new THREE.Shape,e=0;for(t=i.length;e<t;e++)s=i[e],THREE.Shape.Utils.isClockWise(s.getPoints())?(o.actions=s.actions,o.curves=s.curves,r.push(o),o=new THREE.Shape):o.holes.push(s)}else{e=0;for(t=i.length;e<t;e++)s=i[e],THREE.Shape.Utils.isClockWise(s.getPoints())?(o&&r.push(o),o=new THREE.Shape,o.actions=s.actions,o.curves=s.curves):o.holes.push(s);r.push(o)}return r},THREE.Shape=function(){THREE.Path.apply(this,arguments),this.holes=[]},THREE.Shape.prototype=Object.create(THREE.Path.prototype),THREE.Shape.prototype.extrude=function(e){return new THREE.ExtrudeGeometry(this,e)},THREE.Shape.prototype.makeGeometry=function(e){return new THREE.ShapeGeometry(this,e)},THREE.Shape.prototype.getPointsHoles=function(e){var t,n=this.holes.length,r=[];for(t=0;t<n;t++)r[t]=this.holes[t].getTransformedPoints(e,this.bends);return r},THREE.Shape.prototype.getSpacedPointsHoles=function(e){var t,n=this.holes.length,r=[];for(t=0;t<n;t++)r[t]=this.holes[t].getTransformedSpacedPoints(e,this.bends);return r},THREE.Shape.prototype.extractAllPoints=function(e){return{shape:this.getTransformedPoints(e),holes:this.getPointsHoles(e)}},THREE.Shape.prototype.extractPoints=function(e){return this.useSpacedPoints?this.extractAllSpacedPoints(e):this.extractAllPoints(e)},THREE.Shape.prototype.extractAllSpacedPoints=function(e){return{shape:this.getTransformedSpacedPoints(e),holes:this.getSpacedPointsHoles(e)}},THREE.Shape.Utils={removeHoles:function(e,t){var n=e.concat(),r=n.concat(),i,s,o,u,a,f,l,c,h,p,d=[];for(a=0;a<t.length;a++){f=t[a],Array.prototype.push.apply(r,f),s=Number.POSITIVE_INFINITY;for(i=0;i<f.length;i++){h=f[i],p=[];for(c=0;c<n.length;c++)l=n[c],l=h.distanceToSquared(l),p.push(l),l<s&&(s=l,o=i,u=c)}i=0<=u-1?u-1:n.length-1,s=0<=o-1?o-1:f.length-1;var v=[f[o],n[u],n[i]];c=THREE.FontUtils.Triangulate.area(v);var m=[f[o],f[s],n[u]];h=THREE.FontUtils.Triangulate.area(m),p=u,l=o,u+=1,o+=-1,0>u&&(u+=n.length),u%=n.length,0>o&&(o+=f.length),o%=f.length,i=0<=u-1?u-1:n.length-1,s=0<=o-1?o-1:f.length-1,v=[f[o],n[u],n[i]],v=THREE.FontUtils.Triangulate.area(v),m=[f[o],f[s],n[u]],m=THREE.FontUtils.Triangulate.area(m),c+h>v+m&&(u=p,o=l,0>u&&(u+=n.length),u%=n.length,0>o&&(o+=f.length),o%=f.length,i=0<=u-1?u-1:n.length-1,s=0<=o-1?o-1:f.length-1),c=n.slice(0,u),h=n.slice(u),p=f.slice(o),l=f.slice(0,o),s=[f[o],f[s],n[u]],d.push([f[o],n[u],n[i]]),d.push(s),n=c.concat(p).concat(l).concat(h)}return{shape:n,isolatedPts:d,allpoints:r}},triangulateShape:function(e,t){var n=THREE.Shape.Utils.removeHoles(e,t),r=n.allpoints,i=n.isolatedPts,n=THREE.FontUtils.Triangulate(n.shape,!1),s,o,u,a,f={};s=0;for(o=r.length;s<o;s++)a=r[s].x+":"+r[s].y,void 0!==f[a]&&console.log("Duplicate point",a),f[a]=s;s=0;for(o=n.length;s<o;s++){u=n[s];for(r=0;3>r;r++)a=u[r].x+":"+u[r].y,a=f[a],void 0!==a&&(u[r]=a)}s=0;for(o=i.length;s<o;s++){u=i[s];for(r=0;3>r;r++)a=u[r].x+":"+u[r].y,a=f[a],void 0!==a&&(u[r]=a)}return n.concat(i)},isClockWise:function(e){return 0>THREE.FontUtils.Triangulate.area(e)},b2p0:function(e,t){var n=1-e;return n*n*t},b2p1:function(e,t){return 2*(1-e)*e*t},b2p2:function(e,t){return e*e*t},b2:function(e,t,n,r){return this.b2p0(e,t)+this.b2p1(e,n)+this.b2p2(e,r)},b3p0:function(e,t){var n=1-e;return n*n*n*t},b3p1:function(e,t){var n=1-e;return 3*n*n*e*t},b3p2:function(e,t){return 3*(1-e)*e*e*t},b3p3:function(e,t){return e*e*e*t},b3:function(e,t,n,r,i){return this.b3p0(e,t)+this.b3p1(e,n)+this.b3p2(e,r)+this.b3p3(e,i)}},THREE.AnimationHandler=function(){var e=[],t={},n={update:function(t){for(var n=0;n<e.length;n++)e[n].update(t)},addToUpdate:function(t){-1===e.indexOf(t)&&e.push(t)},removeFromUpdate:function(t){t=e.indexOf(t),-1!==t&&e.splice(t,1)},add:function(e){void 0!==t[e.name]&&console.log("THREE.AnimationHandler.add: Warning! "+e.name+" already exists in library. Overwriting."),t[e.name]=e;if(!0!==e.initialized){for(var n=0;n<e.hierarchy.length;n++){for(var r=0;r<e.hierarchy[n].keys.length;r++)if(0>e.hierarchy[n].keys[r].time&&(e.hierarchy[n].keys[r].time=0),void 0!==e.hierarchy[n].keys[r].rot&&!(e.hierarchy[n].keys[r].rot instanceof THREE.Quaternion)){var i=e.hierarchy[n].keys[r].rot;e.hierarchy[n].keys[r].rot=new THREE.Quaternion(i[0],i[1],i[2],i[3])}if(e.hierarchy[n].keys.length&&void 0!==e.hierarchy[n].keys[0].morphTargets){i={};for(r=0;r<e.hierarchy[n].keys.length;r++)for(var s=0;s<e.hierarchy[n].keys[r].morphTargets.length;s++){var o=e.hierarchy[n].keys[r].morphTargets[s];i[o]=-1}e.hierarchy[n].usedMorphTargets=i;for(r=0;r<e.hierarchy[n].keys.length;r++){var u={};for(o in i){for(s=0;s<e.hierarchy[n].keys[r].morphTargets.length;s++)if(e.hierarchy[n].keys[r].morphTargets[s]===o){u[o]=e.hierarchy[n].keys[r].morphTargetsInfluences[s];break}s===e.hierarchy[n].keys[r].morphTargets.length&&(u[o]=0)}e.hierarchy[n].keys[r].morphTargetsInfluences=u}}for(r=1;r<e.hierarchy[n].keys.length;r++)e.hierarchy[n].keys[r].time===e.hierarchy[n].keys[r-1].time&&(e.hierarchy[n].keys.splice(r,1),r--);for(r=0;r<e.hierarchy[n].keys.length;r++)e.hierarchy[n].keys[r].index=r}r=parseInt(e.length*e.fps,10),e.JIT={},e.JIT.hierarchy=[];for(n=0;n<e.hierarchy.length;n++)e.JIT.hierarchy.push(Array(r));e.initialized=!0}},get:function(e){if("string"==typeof e)return t[e]?t[e]:(console.log("THREE.AnimationHandler.get: Couldn't find animation "+e),null)},parse:function(e){var t=[];if(e instanceof THREE.SkinnedMesh)for(var n=0;n<e.bones.length;n++)t.push(e.bones[n]);else r(e,t);return t}},r=function(e,t){t.push(e);for(var n=0;n<e.children.length;n++)r(e.children[n],t)};return n.LINEAR=0,n.CATMULLROM=1,n.CATMULLROM_FORWARD=2,n}(),THREE.Animation=function(e,t,n){this.root=e,this.data=THREE.AnimationHandler.get(t),this.hierarchy=THREE.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.loop=this.isPaused=!0,this.interpolationType=void 0!==n?n:THREE.AnimationHandler.LINEAR,this.points=[],this.target=new THREE.Vector3},THREE.Animation.prototype.play=function(e,t){if(!1===this.isPlaying){this.isPlaying=!0,this.loop=void 0!==e?e:!0,this.currentTime=void 0!==t?t:0;var n,r=this.hierarchy.length,i;for(n=0;n<r;n++){i=this.hierarchy[n],this.interpolationType!==THREE.AnimationHandler.CATMULLROM_FORWARD&&(i.useQuaternion=!0),i.matrixAutoUpdate=!0,void 0===i.animationCache&&(i.animationCache={},i.animationCache.prevKey={pos:0,rot:0,scl:0},i.animationCache.nextKey={pos:0,rot:0,scl:0},i.animationCache.originalMatrix=i instanceof THREE.Bone?i.skinMatrix:i.matrix);var s=i.animationCache.prevKey;i=i.animationCache.nextKey,s.pos=this.data.hierarchy[n].keys[0],s.rot=this.data.hierarchy[n].keys[0],s.scl=this.data.hierarchy[n].keys[0],i.pos=this.getNextKeyWith("pos",n,1),i.rot=this.getNextKeyWith("rot",n,1),i.scl=this.getNextKeyWith("scl",n,1)}this.update(0)}this.isPaused=!1,THREE.AnimationHandler.addToUpdate(this)},THREE.Animation.prototype.pause=function(){!0===this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},THREE.Animation.prototype.stop=function(){this.isPaused=this.isPlaying=!1,THREE.AnimationHandler.removeFromUpdate(this)},THREE.Animation.prototype.update=function(e){if(!1!==this.isPlaying){var t=["pos","rot","scl"],n,r,i,s,o,u,a,f,l;l=this.currentTime+=e*this.timeScale,f=this.currentTime%=this.data.length,parseInt(Math.min(f*this.data.fps,this.data.length*this.data.fps),10);for(var c=0,h=this.hierarchy.length;c<h;c++){e=this.hierarchy[c],a=e.animationCache;for(var p=0;3>p;p++){n=t[p],o=a.prevKey[n],u=a.nextKey[n];if(u.time<=l){if(f<l){if(!this.loop){this.stop();return}o=this.data.hierarchy[c].keys[0];for(u=this.getNextKeyWith(n,c,1);u.time<f;)o=u,u=this.getNextKeyWith(n,c,u.index+1)}else do o=u,u=this.getNextKeyWith(n,c,u.index+1);while(u.time<f);a.prevKey[n]=o,a.nextKey[n]=u}e.matrixAutoUpdate=!0,e.matrixWorldNeedsUpdate=!0,r=(f-o.time)/(u.time-o.time),i=o[n],s=u[n];if(0>r||1<r)console.log("THREE.Animation.update: Warning! Scale out of bounds:"+r+" on bone "+c),r=0>r?0:1;if("pos"===n){if(n=e.position,this.interpolationType===THREE.AnimationHandler.LINEAR)n.x=i[0]+(s[0]-i[0])*r,n.y=i[1]+(s[1]-i[1])*r,n.z=i[2]+(s[2]-i[2])*r;else if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD)this.points[0]=this.getPrevKeyWith("pos",c,o.index-1).pos,this.points[1]=i,this.points[2]=s,this.points[3]=this.getNextKeyWith("pos",c,u.index+1).pos,r=.33*r+.33,i=this.interpolateCatmullRom(this.points,r),n.x=i[0],n.y=i[1],n.z=i[2],this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD&&(r=this.interpolateCatmullRom(this.points,1.01*r),this.target.set(r[0],r[1],r[2]),this.target.sub(n),this.target.y=0,this.target.normalize(),r=Math.atan2(this.target.x,this.target.z),e.rotation.set(0,r,0))}else"rot"===n?THREE.Quaternion.slerp(i,s,e.quaternion,r):"scl"===n&&(n=e.scale,n.x=i[0]+(s[0]-i[0])*r,n.y=i[1]+(s[1]-i[1])*r,n.z=i[2]+(s[2]-i[2])*r)}}}},THREE.Animation.prototype.interpolateCatmullRom=function(e,t){var n=[],r=[],i,s,o,u,a,f;return i=(e.length-1)*t,s=Math.floor(i),i-=s,n[0]=0===s?s:s-1,n[1]=s,n[2]=s>e.length-2?s:s+1,n[3]=s>e.length-3?s:s+2,s=e[n[0]],u=e[n[1]],a=e[n[2]],f=e[n[3]],n=i*i,o=i*n,r[0]=this.interpolate(s[0],u[0],a[0],f[0],i,n,o),r[1]=this.interpolate(s[1],u[1],a[1],f[1],i,n,o),r[2]=this.interpolate(s[2],u[2],a[2],f[2],i,n,o),r},THREE.Animation.prototype.interpolate=function(e,t,n,r,i,s,o){return e=.5*(n-e),r=.5*(r-t),(2*(t-n)+e+r)*o+(-3*(t-n)-2*e-r)*s+e*i+t},THREE.Animation.prototype.getNextKeyWith=function(e,t,n){for(var r=this.data.hierarchy[t].keys,n=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?n<r.length-1?n:r.length-1:n%r.length;n<r.length;n++)if(void 0!==r[n][e])return r[n];return this.data.hierarchy[t].keys[0]},THREE.Animation.prototype.getPrevKeyWith=function(e,t,n){for(var r=this.data.hierarchy[t].keys,n=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?0<n?n:0:0<=n?n:n+r.length;0<=n;n--)if(void 0!==r[n][e])return r[n];return this.data.hierarchy[t].keys[r.length-1]},THREE.KeyFrameAnimation=function(e,t,n){this.root=e,this.data=THREE.AnimationHandler.get(t),this.hierarchy=THREE.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.loop=this.isPaused=!0,this.JITCompile=void 0!==n?n:!0,e=0;for(t=this.hierarchy.length;e<t;e++){var n=this.data.hierarchy[e].sids,r=this.hierarchy[e];if(this.data.hierarchy[e].keys.length&&n){for(var i=0;i<n.length;i++){var s=n[i],o=this.getNextKeyWith(s,e,0);o&&o.apply(s)}r.matrixAutoUpdate=!1,this.data.hierarchy[e].node.updateMatrix(),r.matrixWorldNeedsUpdate=!0}}},THREE.KeyFrameAnimation.prototype.play=function(e,t){if(!this.isPlaying){this.isPlaying=!0,this.loop=void 0!==e?e:!0,this.currentTime=void 0!==t?t:0,this.startTimeMs=t,this.startTime=1e7,this.endTime=-this.startTime;var n,r=this.hierarchy.length,i,s;for(n=0;n<r;n++)i=this.hierarchy[n],s=this.data.hierarchy[n],i.useQuaternion=!0,void 0===s.animationCache&&(s.animationCache={},s.animationCache.prevKey=null,s.animationCache.nextKey=null,s.animationCache.originalMatrix=i instanceof THREE.Bone?i.skinMatrix:i.matrix),i=this.data.hierarchy[n].keys,i.length&&(s.animationCache.prevKey=i[0],s.animationCache.nextKey=i[1],this.startTime=Math.min(i[0].time,this.startTime),this.endTime=Math.max(i[i.length-1].time,this.endTime));this.update(0)}this.isPaused=!1,THREE.AnimationHandler.addToUpdate(this)},THREE.KeyFrameAnimation.prototype.pause=function(){this.isPaused?THREE.AnimationHandler.addToUpdate(this):THREE.AnimationHandler.removeFromUpdate(this),this.isPaused=!this.isPaused},THREE.KeyFrameAnimation.prototype.stop=function(){this.isPaused=this.isPlaying=!1,THREE.AnimationHandler.removeFromUpdate(this);for(var e=0;e<this.data.hierarchy.length;e++){var t=this.hierarchy[e],n=this.data.hierarchy[e];if(void 0!==n.animationCache){var r=n.animationCache.originalMatrix;t instanceof THREE.Bone?(r.copy(t.skinMatrix),t.skinMatrix=r):(r.copy(t.matrix),t.matrix=r),delete n.animationCache}}},THREE.KeyFrameAnimation.prototype.update=function(e){if(this.isPlaying){var t,n,r,i,s=this.data.JIT.hierarchy,o,u,a;u=this.currentTime+=e*this.timeScale,o=this.currentTime%=this.data.length,o<this.startTimeMs&&(o=this.currentTime=this.startTimeMs+o),i=parseInt(Math.min(o*this.data.fps,this.data.length*this.data.fps),10);if((a=o<u)&&!this.loop){for(var e=0,f=this.hierarchy.length;e<f;e++){var l=this.data.hierarchy[e].keys,s=this.data.hierarchy[e].sids;r=l.length-1,i=this.hierarchy[e];if(l.length){for(l=0;l<s.length;l++)o=s[l],(u=this.getPrevKeyWith(o,e,r))&&u.apply(o);this.data.hierarchy[e].node.updateMatrix(),i.matrixWorldNeedsUpdate=!0}}this.stop()}else if(!(o<this.startTime)){e=0;for(f=this.hierarchy.length;e<f;e++){r=this.hierarchy[e],t=this.data.hierarchy[e];var l=t.keys,c=t.animationCache;if(this.JITCompile&&void 0!==s[e][i])r instanceof THREE.Bone?(r.skinMatrix=s[e][i],r.matrixWorldNeedsUpdate=!1):(r.matrix=s[e][i],r.matrixWorldNeedsUpdate=!0);else if(l.length){this.JITCompile&&c&&(r instanceof THREE.Bone?r.skinMatrix=c.originalMatrix:r.matrix=c.originalMatrix),t=c.prevKey,n=c.nextKey;if(t&&n){if(n.time<=u){if(a&&this.loop){t=l[0];for(n=l[1];n.time<o;)t=n,n=l[t.index+1]}else if(!a)for(var h=l.length-1;n.time<o&&n.index!==h;)t=n,n=l[t.index+1];c.prevKey=t,c.nextKey=n}n.time>=o?t.interpolate(n,o):t.interpolate(n,n.time)}this.data.hierarchy[e].node.updateMatrix(),r.matrixWorldNeedsUpdate=!0}}if(this.JITCompile&&void 0===s[0][i]){this.hierarchy[0].updateMatrixWorld(!0);for(e=0;e<this.hierarchy.length;e++)s[e][i]=this.hierarchy[e]instanceof THREE.Bone?this.hierarchy[e].skinMatrix.clone():this.hierarchy[e].matrix.clone()}}}},THREE.KeyFrameAnimation.prototype.getNextKeyWith=function(e,t,n){t=this.data.hierarchy[t].keys;for(n%=t.length;n<t.length;n++)if(t[n].hasTarget(e))return t[n];return t[0]},THREE.KeyFrameAnimation.prototype.getPrevKeyWith=function(e,t,n){t=this.data.hierarchy[t].keys;for(n=0<=n?n:n+t.length;0<=n;n--)if(t[n].hasTarget(e))return t[n];return t[t.length-1]},THREE.CubeCamera=function(e,t,n){THREE.Object3D.call(this);var r=new THREE.PerspectiveCamera(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new THREE.Vector3(1,0,0)),this.add(r);var i=new THREE.PerspectiveCamera(90,1,e,t);i.up.set(0,-1,0),i.lookAt(new THREE.Vector3(-1,0,0)),this.add(i);var s=new THREE.PerspectiveCamera(90,1,e,t);s.up.set(0,0,1),s.lookAt(new THREE.Vector3(0,1,0)),this.add(s);var o=new THREE.PerspectiveCamera(90,1,e,t);o.up.set(0,0,-1),o.lookAt(new THREE.Vector3(0,-1,0)),this.add(o);var u=new THREE.PerspectiveCamera(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new THREE.Vector3(0,0,1)),this.add(u);var a=new THREE.PerspectiveCamera(90,1,e,t);a.up.set(0,-1,0),a.lookAt(new THREE.Vector3(0,0,-1)),this.add(a),this.renderTarget=new THREE.WebGLRenderTargetCube(n,n,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter}),this.updateCubeMap=function(e,t){var n=this.renderTarget,l=n.generateMipmaps;n.generateMipmaps=!1,n.activeCubeFace=0,e.render(t,r,n),n.activeCubeFace=1,e.render(t,i,n),n.activeCubeFace=2,e.render(t,s,n),n.activeCubeFace=3,e.render(t,o,n),n.activeCubeFace=4,e.render(t,u,n),n.generateMipmaps=l,n.activeCubeFace=5,e.render(t,a,n)}},THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype),THREE.CombinedCamera=function(e,t,n,r,i,s,o){THREE.Camera.call(this),this.fov=n,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2,this.cameraO=new THREE.OrthographicCamera(e/-2,e/2,t/2,t/-2,s,o),this.cameraP=new THREE.PerspectiveCamera(n,e/t,r,i),this.zoom=1,this.toPerspective()},THREE.CombinedCamera.prototype=Object.create(THREE.Camera.prototype),THREE.CombinedCamera.prototype.toPerspective=function(){this.near=this.cameraP.near,this.far=this.cameraP.far,this.cameraP.fov=this.fov/this.zoom,this.cameraP.updateProjectionMatrix(),this.projectionMatrix=this.cameraP.projectionMatrix,this.inPerspectiveMode=!0,this.inOrthographicMode=!1},THREE.CombinedCamera.prototype.toOrthographic=function(){var e=this.cameraP.aspect,t=(this.cameraP.near+this.cameraP.far)/2,t=Math.tan(this.fov/2)*t,e=2*t*e/2,t=t/this.zoom,e=e/this.zoom;this.cameraO.left=-e,this.cameraO.right=e,this.cameraO.top=t,this.cameraO.bottom=-t,this.cameraO.updateProjectionMatrix(),this.near=this.cameraO.near,this.far=this.cameraO.far,this.projectionMatrix=this.cameraO.projectionMatrix,this.inPerspectiveMode=!1,this.inOrthographicMode=!0},THREE.CombinedCamera.prototype.setSize=function(e,t){this.cameraP.aspect=e/t,this.left=-e/2,this.right=e/2,this.top=t/2,this.bottom=-t/2},THREE.CombinedCamera.prototype.setFov=function(e){this.fov=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},THREE.CombinedCamera.prototype.updateProjectionMatrix=function(){this.inPerspectiveMode?this.toPerspective():(this.toPerspective(),this.toOrthographic())},THREE.CombinedCamera.prototype.setLens=function(e,t){void 0===t&&(t=24);var n=2*THREE.Math.radToDeg(Math.atan(t/(2*e)));return this.setFov(n),n},THREE.CombinedCamera.prototype.setZoom=function(e){this.zoom=e,this.inPerspectiveMode?this.toPerspective():this.toOrthographic()},THREE.CombinedCamera.prototype.toFrontView=function(){this.rotation.x=0,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toBackView=function(){this.rotation.x=0,this.rotation.y=Math.PI,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toLeftView=function(){this.rotation.x=0,this.rotation.y=-Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toRightView=function(){this.rotation.x=0,this.rotation.y=Math.PI/2,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toTopView=function(){this.rotation.x=-Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CombinedCamera.prototype.toBottomView=function(){this.rotation.x=Math.PI/2,this.rotation.y=0,this.rotation.z=0,this.rotationAutoUpdate=!1},THREE.CircleGeometry=function(e,t,n,r){THREE.Geometry.call(this);var e=e||50,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI,t=void 0!==t?Math.max(3,t):8,i,s=[];i=new THREE.Vector3;var o=new THREE.Vector2(.5,.5);this.vertices.push(i),s.push(o);for(i=0;i<=t;i++){var u=new THREE.Vector3,a=n+i/t*r;u.x=e*Math.cos(a),u.y=e*Math.sin(a),this.vertices.push(u),s.push(new THREE.Vector2((u.x/e+1)/2,(u.y/e+1)/2))}n=new THREE.Vector3(0,0,1);for(i=1;i<=t;i++)this.faces.push(new THREE.Face3(i,i+1,0,[n,n,n])),this.faceVertexUvs[0].push([s[i],s[i+1],o]);this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)},THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CubeGeometry=function(e,t,n,r,i,s){function o(e,t,n,r,i,s,o,a){var f,l=u.widthSegments,c=u.heightSegments,p=i/2,d=s/2,v=u.vertices.length;if("x"===e&&"y"===t||"y"===e&&"x"===t)f="z";else if("x"===e&&"z"===t||"z"===e&&"x"===t)f="y",c=u.depthSegments;else if("z"===e&&"y"===t||"y"===e&&"z"===t)f="x",l=u.depthSegments;var m=l+1,g=c+1,y=i/l,b=s/c,w=new THREE.Vector3;w[f]=0<o?1:-1;for(i=0;i<g;i++)for(s=0;s<m;s++){var E=new THREE.Vector3;E[e]=(s*y-p)*n,E[t]=(i*b-d)*r,E[f]=o,u.vertices.push(E)}for(i=0;i<c;i++)for(s=0;s<l;s++)e=new THREE.Face4(s+m*i+v,s+m*(i+1)+v,s+1+m*(i+1)+v,s+1+m*i+v),e.normal.copy(w),e.vertexNormals.push(w.clone(),w.clone(),w.clone(),w.clone()),e.materialIndex=a,u.faces.push(e),u.faceVertexUvs[0].push([new THREE.Vector2(s/l,1-i/c),new THREE.Vector2(s/l,1-(i+1)/c),new THREE.Vector2((s+1)/l,1-(i+1)/c),new THREE.Vector2((s+1)/l,1-i/c)])}THREE.Geometry.call(this);var u=this;this.width=e,this.height=t,this.depth=n,this.widthSegments=r||1,this.heightSegments=i||1,this.depthSegments=s||1,e=this.width/2,t=this.height/2,n=this.depth/2,o("z","y",-1,-1,this.depth,this.height,e,0),o("z","y",1,-1,this.depth,this.height,-e,1),o("x","z",1,1,this.width,this.depth,t,2),o("x","z",1,-1,this.width,this.depth,-t,3),o("x","y",1,-1,this.width,this.height,n,4),o("x","y",-1,-1,this.width,this.height,-n,5),this.computeCentroids(),this.mergeVertices()},THREE.CubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CylinderGeometry=function(e,t,n,r,i,s){THREE.Geometry.call(this),this.radiusTop=e=void 0!==e?e:20,this.radiusBottom=t=void 0!==t?t:20,this.height=n=void 0!==n?n:100,this.radiusSegments=r=r||8,this.heightSegments=i=i||1,this.openEnded=s=void 0!==s?s:!1;var o=n/2,u,a,f=[],l=[];for(a=0;a<=i;a++){var c=[],h=[],p=a/i,d=p*(t-e)+e;for(u=0;u<=r;u++){var v=u/r,m=new THREE.Vector3;m.x=d*Math.sin(2*v*Math.PI),m.y=-p*n+o,m.z=d*Math.cos(2*v*Math.PI),this.vertices.push(m),c.push(this.vertices.length-1),h.push(new THREE.Vector2(v,1-p))}f.push(c),l.push(h)}n=(t-e)/n;for(u=0;u<r;u++){0!==e?(c=this.vertices[f[0][u]].clone(),h=this.vertices[f[0][u+1]].clone()):(c=this.vertices[f[1][u]].clone(),h=this.vertices[f[1][u+1]].clone()),c.setY(Math.sqrt(c.x*c.x+c.z*c.z)*n).normalize(),h.setY(Math.sqrt(h.x*h.x+h.z*h.z)*n).normalize();for(a=0;a<i;a++){var p=f[a][u],d=f[a+1][u],v=f[a+1][u+1],m=f[a][u+1],g=c.clone(),y=c.clone(),b=h.clone(),w=h.clone(),E=l[a][u].clone(),S=l[a+1][u].clone(),x=l[a+1][u+1].clone(),T=l[a][u+1].clone();this.faces.push(new THREE.Face4(p,d,v,m,[g,y,b,w])),this.faceVertexUvs[0].push([E,S,x,T])}}if(!1===s&&0<e){this.vertices.push(new THREE.Vector3(0,o,0));for(u=0;u<r;u++)p=f[0][u],d=f[0][u+1],v=this.vertices.length-1,g=new THREE.Vector3(0,1,0),y=new THREE.Vector3(0,1,0),b=new THREE.Vector3(0,1,0),E=l[0][u].clone(),S=l[0][u+1].clone(),x=new THREE.Vector2(S.u,0),this.faces.push(new THREE.Face3(p,d,v,[g,y,b])),this.faceVertexUvs[0].push([E,S,x])}if(!1===s&&0<t){this.vertices.push(new THREE.Vector3(0,-o,0));for(u=0;u<r;u++)p=f[a][u+1],d=f[a][u],v=this.vertices.length-1,g=new THREE.Vector3(0,-1,0),y=new THREE.Vector3(0,-1,0),b=new THREE.Vector3(0,-1,0),E=l[a][u+1].clone(),S=l[a][u].clone(),x=new THREE.Vector2(S.u,1),this.faces.push(new THREE.Face3(p,d,v,[g,y,b])),this.faceVertexUvs[0].push([E,S,x])}this.computeCentroids(),this.computeFaceNormals()},THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry=function(e,t){"undefined"!=typeof e&&(THREE.Geometry.call(this),e=e instanceof Array?e:[e],this.shapebb=e[e.length-1].getBoundingBox(),this.addShapeList(e,t),this.computeCentroids(),this.computeFaceNormals())},THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var n=e.length,r=0;r<n;r++)this.addShape(e[r],t)},THREE.ExtrudeGeometry.prototype.addShape=function(e,t){function n(e,t,n){return t||console.log("die"),t.clone().multiplyScalar(n).add(e)}function r(e,t,n){var r=THREE.ExtrudeGeometry.__v1,i=THREE.ExtrudeGeometry.__v2,s=THREE.ExtrudeGeometry.__v3,o=THREE.ExtrudeGeometry.__v4,u=THREE.ExtrudeGeometry.__v5,a=THREE.ExtrudeGeometry.__v6;return r.set(e.x-t.x,e.y-t.y),i.set(e.x-n.x,e.y-n.y),r=r.normalize(),i=i.normalize(),s.set(-r.y,r.x),o.set(i.y,-i.x),u.copy(e).add(s),a.copy(e).add(o),u.equals(a)?o.clone():(u.copy(t).add(s),a.copy(n).add(o),s=r.dot(o),o=a.sub(u).dot(o),0===s&&(console.log("Either infinite or no solutions!"),0===o?console.log("Its finite solutions."):console.log("Too bad, no solutions.")),o/=s,0>o?(t=Math.atan2(t.y-e.y,t.x-e.x),e=Math.atan2(n.y-e.y,n.x-e.x),t>e&&(e+=2*Math.PI),n=(t+e)/2,e=-Math.cos(n),n=-Math.sin(n),new THREE.Vector2(e,n)):r.multiplyScalar(o).add(u).sub(e).clone())}function i(n,r){var i,s;for(F=n.length;0<=--F;){i=F,s=F-1,0>s&&(s=n.length-1);for(var o=0,u=p+2*l,o=0;o<u;o++){var a=H*o,f=H*(o+1),c=r+i+a,a=r+s+a,h=r+s+f,f=r+i+f,d=n,v=o,m=u,g=i,w=s,c=c+L,a=a+L,h=h+L,f=f+L;k.faces.push(new THREE.Face4(c,a,h,f,null,null,y)),c=b.generateSideWallUV(k,e,d,t,c,a,h,f,v,m,g,w),k.faceVertexUvs[0].push(c)}}}function s(e,t,n){k.vertices.push(new THREE.Vector3(e,t,n))}function o(n,r,i,s){n+=L,r+=L,i+=L,k.faces.push(new THREE.Face3(n,r,i,null,null,g)),n=s?b.generateBottomUV(k,e,t,n,r,i):b.generateTopUV(k,e,t,n,r,i),k.faceVertexUvs[0].push(n)}var u=void 0!==t.amount?t.amount:100,a=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:a-2,l=void 0!==t.bevelSegments?t.bevelSegments:3,c=void 0!==t.bevelEnabled?t.bevelEnabled:!0,h=void 0!==t.curveSegments?t.curveSegments:12,p=void 0!==t.steps?t.steps:1,d=t.extrudePath,v,m=!1,g=t.material,y=t.extrudeMaterial,b=void 0!==t.UVGenerator?t.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator,w,E,S,x;d&&(v=d.getSpacedPoints(p),m=!0,c=!1,w=void 0!==t.frames?t.frames:new THREE.TubeGeometry.FrenetFrames(d,p,!1),E=new THREE.Vector3,S=new THREE.Vector3,x=new THREE.Vector3),c||(f=a=l=0);var T,N,C,k=this,L=this.vertices.length,h=e.extractPoints(h),A=h.shape,h=h.holes;if(d=!THREE.Shape.Utils.isClockWise(A)){A=A.reverse(),N=0;for(C=h.length;N<C;N++)T=h[N],THREE.Shape.Utils.isClockWise(T)&&(h[N]=T.reverse());d=!1}var O=THREE.Shape.Utils.triangulateShape(A,h),d=A;N=0;for(C=h.length;N<C;N++)T=h[N],A=A.concat(T);var M,_,D,P,H=A.length,B=O.length,j=[],F=0,I=d.length;M=I-1;for(_=F+1;F<I;F++,M++,_++)M===I&&(M=0),_===I&&(_=0),j[F]=r(d[F],d[M],d[_]);var q=[],R,U=j.concat();N=0;for(C=h.length;N<C;N++){T=h[N],R=[],F=0,I=T.length,M=I-1;for(_=F+1;F<I;F++,M++,_++)M===I&&(M=0),_===I&&(_=0),R[F]=r(T[F],T[M],T[_]);q.push(R),U=U.concat(R)}for(M=0;M<l;M++){T=M/l,D=a*(1-T),_=f*Math.sin(T*Math.PI/2),F=0;for(I=d.length;F<I;F++)P=n(d[F],j[F],_),s(P.x,P.y,-D);N=0;for(C=h.length;N<C;N++){T=h[N],R=q[N],F=0;for(I=T.length;F<I;F++)P=n(T[F],R[F],_),s(P.x,P.y,-D)}}_=f;for(F=0;F<H;F++)P=c?n(A[F],U[F],_):A[F],m?(S.copy(w.normals[0]).multiplyScalar(P.x),E.copy(w.binormals[0]).multiplyScalar(P.y),x.copy(v[0]).add(S).add(E),s(x.x,x.y,x.z)):s(P.x,P.y,0);for(T=1;T<=p;T++)for(F=0;F<H;F++)P=c?n(A[F],U[F],_):A[F],m?(S.copy(w.normals[T]).multiplyScalar(P.x),E.copy(w.binormals[T]).multiplyScalar(P.y),x.copy(v[T]).add(S).add(E),s(x.x,x.y,x.z)):s(P.x,P.y,u/p*T);for(M=l-1;0<=M;M--){T=M/l,D=a*(1-T),_=f*Math.sin(T*Math.PI/2),F=0;for(I=d.length;F<I;F++)P=n(d[F],j[F],_),s(P.x,P.y,u+D);N=0;for(C=h.length;N<C;N++){T=h[N],R=q[N],F=0;for(I=T.length;F<I;F++)P=n(T[F],R[F],_),m?s(P.x,P.y+v[p-1].y,v[p-1].x+D):s(P.x,P.y,u+D)}}if(c){a=0*H;for(F=0;F<B;F++)u=O[F],o(u[2]+a,u[1]+a,u[0]+a,!0);a=H*(p+2*l);for(F=0;F<B;F++)u=O[F],o(u[0]+a,u[1]+a,u[2]+a,!1)}else{for(F=0;F<B;F++)u=O[F],o(u[2],u[1],u[0],!0);for(F=0;F<B;F++)u=O[F],o(u[0]+H*p,u[1]+H*p,u[2]+H*p,!1)}u=0,i(d,u),u+=d.length,N=0;for(C=h.length;N<C;N++)T=h[N],i(T,u),u+=T.length},THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,n,r,i,s){return t=e.vertices[i].x,i=e.vertices[i].y,n=e.vertices[s].x,s=e.vertices[s].y,[new THREE.Vector2(e.vertices[r].x,e.vertices[r].y),new THREE.Vector2(t,i),new THREE.Vector2(n,s)]},generateBottomUV:function(e,t,n,r,i,s){return this.generateTopUV(e,t,n,r,i,s)},generateSideWallUV:function(e,t,n,r,i,s,o,u){var t=e.vertices[i].x,n=e.vertices[i].y,i=e.vertices[i].z,r=e.vertices[s].x,a=e.vertices[s].y,s=e.vertices[s].z,f=e.vertices[o].x,l=e.vertices[o].y,o=e.vertices[o].z,c=e.vertices[u].x,h=e.vertices[u].y,e=e.vertices[u].z;return.01>Math.abs(n-a)?[new THREE.Vector2(t,1-i),new THREE.Vector2(r,1-s),new THREE.Vector2(f,1-o),new THREE.Vector2(c,1-e)]:[new THREE.Vector2(n,1-i),new THREE.Vector2(a,1-s),new THREE.Vector2(l,1-o),new THREE.Vector2(h,1-e)]}},THREE.ExtrudeGeometry.__v1=new THREE.Vector2,THREE.ExtrudeGeometry.__v2=new THREE.Vector2,THREE.ExtrudeGeometry.__v3=new THREE.Vector2,THREE.ExtrudeGeometry.__v4=new THREE.Vector2,THREE.ExtrudeGeometry.__v5=new THREE.Vector2,THREE.ExtrudeGeometry.__v6=new THREE.Vector2,THREE.ShapeGeometry=function(e,t){THREE.Geometry.call(this),0==e instanceof Array&&(e=[e]),this.shapebb=e[e.length-1].getBoundingBox(),this.addShapeList(e,t),this.computeCentroids(),this.computeFaceNormals()},THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ShapeGeometry.prototype.addShapeList=function(e,t){for(var n=0,r=e.length;n<r;n++)this.addShape(e[n],t);return this},THREE.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var n=t.material,r=void 0===t.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,i,s,o,u=this.vertices.length;i=e.extractPoints(void 0!==t.curveSegments?t.curveSegments:12);var a=i.shape,f=i.holes;if(!THREE.Shape.Utils.isClockWise(a)){a=a.reverse(),i=0;for(s=f.length;i<s;i++)o=f[i],THREE.Shape.Utils.isClockWise(o)&&(f[i]=o.reverse())}var l=THREE.Shape.Utils.triangulateShape(a,f);i=0;for(s=f.length;i<s;i++)o=f[i],a=a.concat(o);f=a.length,s=l.length;for(i=0;i<f;i++)o=a[i],this.vertices.push(new THREE.Vector3(o.x,o.y,0));for(i=0;i<s;i++)f=l[i],a=f[0]+u,o=f[1]+u,f=f[2]+u,this.faces.push(new THREE.Face3(a,o,f,null,null,n)),this.faceVertexUvs[0].push(r.generateBottomUV(this,e,t,a,o,f))},THREE.LatheGeometry=function(e,t,n,r){THREE.Geometry.call(this);for(var t=t||12,n=n||0,r=r||2*Math.PI,i=1/(e.length-1),s=1/t,o=0,u=t;o<=u;o++)for(var a=n+o*s*r,f=Math.cos(a),l=Math.sin(a),a=0,c=e.length;a<c;a++){var h=e[a],p=new THREE.Vector3;p.x=f*h.x-l*h.y,p.y=l*h.x+f*h.y,p.z=h.z,this.vertices.push(p)}n=e.length,o=0;for(u=t;o<u;o++){a=0;for(c=e.length-1;a<c;a++)r=t=a+n*o,l=t+n,f=t+1+n,this.faces.push(new THREE.Face4(r,l,f,t+1)),f=o*s,t=a*i,r=f+s,l=t+i,this.faceVertexUvs[0].push([new THREE.Vector2(f,t),new THREE.Vector2(r,t),new THREE.Vector2(r,l),new THREE.Vector2(f,l)])}this.mergeVertices(),this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneGeometry=function(e,t,n,r){THREE.Geometry.call(this),this.width=e,this.height=t,this.widthSegments=n||1,this.heightSegments=r||1;for(var n=e/2,i=t/2,r=this.widthSegments,s=this.heightSegments,o=r+1,u=s+1,a=this.width/r,f=this.height/s,l=new THREE.Vector3(0,0,1),e=0;e<u;e++)for(t=0;t<o;t++)this.vertices.push(new THREE.Vector3(t*a-n,-(e*f-i),0));for(e=0;e<s;e++)for(t=0;t<r;t++)n=new THREE.Face4(t+o*e,t+o*(e+1),t+1+o*(e+1),t+1+o*e),n.normal.copy(l),n.vertexNormals.push(l.clone(),l.clone(),l.clone(),l.clone()),this.faces.push(n),this.faceVertexUvs[0].push([new THREE.Vector2(t/r,1-e/s),new THREE.Vector2(t/r,1-(e+1)/s),new THREE.Vector2((t+1)/r,1-(e+1)/s),new THREE.Vector2((t+1)/r,1-e/s)]);this.computeCentroids()},THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.RingGeometry=function(e,t,n,r,i,s){THREE.Geometry.call(this);for(var e=e||0,t=t||50,i=void 0!==i?i:0,s=void 0!==s?s:2*Math.PI,n=void 0!==n?Math.max(3,n):8,r=void 0!==r?Math.max(3,r):8,o=[],u=e,a=(t-e)/r,e=0;e<=r;e++){for(t=0;t<=n;t++){var f=new THREE.Vector3,l=i+t/n*s;f.x=u*Math.cos(l),f.y=u*Math.sin(l),this.vertices.push(f),o.push(new THREE.Vector2((f.x/u+1)/2,-(f.y/u+1)/2+1))}u+=a}i=new THREE.Vector3(0,0,1);for(e=0;e<r;e++){s=e*n;for(t=0;t<=n;t++){var l=t+s,a=l+e,f=l+n+e,c=l+n+1+e;this.faces.push(new THREE.Face3(a,f,c,[i,i,i])),this.faceVertexUvs[0].push([o[a],o[f],o[c]]),a=l+e,f=l+n+1+e,c=l+1+e,this.faces.push(new THREE.Face3(a,f,c,[i,i,i])),this.faceVertexUvs[0].push([o[a],o[f],o[c]])}}this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,u)},THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.SphereGeometry=function(e,t,n,r,i,s,o){THREE.Geometry.call(this),this.radius=e=e||50,this.widthSegments=t=Math.max(3,Math.floor(t)||8),this.heightSegments=n=Math.max(2,Math.floor(n)||6),this.phiStart=r=void 0!==r?r:0,this.phiLength=i=void 0!==i?i:2*Math.PI,this.thetaStart=s=void 0!==s?s:0,this.thetaLength=o=void 0!==o?o:Math.PI;var u,a,f=[],l=[];for(a=0;a<=n;a++){var c=[],h=[];for(u=0;u<=t;u++){var p=u/t,d=a/n,v=new THREE.Vector3;v.x=-e*Math.cos(r+p*i)*Math.sin(s+d*o),v.y=e*Math.cos(s+d*o),v.z=e*Math.sin(r+p*i)*Math.sin(s+d*o),this.vertices.push(v),c.push(this.vertices.length-1),h.push(new THREE.Vector2(p,1-d))}f.push(c),l.push(h)}for(a=0;a<this.heightSegments;a++)for(u=0;u<this.widthSegments;u++){var t=f[a][u+1],n=f[a][u],r=f[a+1][u],i=f[a+1][u+1],s=this.vertices[t].clone().normalize(),o=this.vertices[n].clone().normalize(),c=this.vertices[r].clone().normalize(),h=this.vertices[i].clone().normalize(),p=l[a][u+1].clone(),d=l[a][u].clone(),v=l[a+1][u].clone(),m=l[a+1][u+1].clone();Math.abs(this.vertices[t].y)===this.radius?(this.faces.push(new THREE.Face3(t,r,i,[s,c,h])),this.faceVertexUvs[0].push([p,v,m])):Math.abs(this.vertices[r].y)===this.radius?(this.faces.push(new THREE.Face3(t,n,r,[s,o,c])),this.faceVertexUvs[0].push([p,d,v])):(this.faces.push(new THREE.Face4(t,n,r,i,[s,o,c,h])),this.faceVertexUvs[0].push([p,d,v,m]))}this.computeCentroids(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)},THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TextGeometry=function(e,t){var t=t||{},n=THREE.FontUtils.generateShapes(e,t);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),THREE.ExtrudeGeometry.call(this,n,t)},THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype),THREE.TorusGeometry=function(e,t,n,r,i){THREE.Geometry.call(this),this.radius=e||100,this.tube=t||40,this.radialSegments=n||8,this.tubularSegments=r||6,this.arc=i||2*Math.PI,i=new THREE.Vector3,e=[],t=[];for(n=0;n<=this.radialSegments;n++)for(r=0;r<=this.tubularSegments;r++){var s=r/this.tubularSegments*this.arc,o=2*n/this.radialSegments*Math.PI;i.x=this.radius*Math.cos(s),i.y=this.radius*Math.sin(s);var u=new THREE.Vector3;u.x=(this.radius+this.tube*Math.cos(o))*Math.cos(s),u.y=(this.radius+this.tube*Math.cos(o))*Math.sin(s),u.z=this.tube*Math.sin(o),this.vertices.push(u),e.push(new THREE.Vector2(r/this.tubularSegments,n/this.radialSegments)),t.push(u.clone().sub(i).normalize())}for(n=1;n<=this.radialSegments;n++)for(r=1;r<=this.tubularSegments;r++){var i=(this.tubularSegments+1)*n+r-1,s=(this.tubularSegments+1)*(n-1)+r-1,o=(this.tubularSegments+1)*(n-1)+r,u=(this.tubularSegments+1)*n+r,a=new THREE.Face4(i,s,o,u,[t[i],t[s],t[o],t[u]]);a.normal.add(t[i]),a.normal.add(t[s]),a.normal.add(t[o]),a.normal.add(t[u]),a.normal.normalize(),this.faces.push(a),this.faceVertexUvs[0].push([e[i].clone(),e[s].clone(),e[o].clone(),e[u].clone()])}this.computeCentroids()},THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusKnotGeometry=function(e,t,n,r,i,s,o){function u(e,t,n,r,i,s){var o=Math.cos(e);return Math.cos(t),t=Math.sin(e),e*=n/r,n=Math.cos(e),o*=.5*i*(2+n),t=.5*i*(2+n)*t,i=.5*s*i*Math.sin(e),new THREE.Vector3(o,t,i)}THREE.Geometry.call(this),this.radius=e||100,this.tube=t||40,this.radialSegments=n||64,this.tubularSegments=r||8,this.p=i||2,this.q=s||3,this.heightScale=o||1,this.grid=Array(this.radialSegments),n=new THREE.Vector3,r=new THREE.Vector3,i=new THREE.Vector3;for(e=0;e<this.radialSegments;++e){this.grid[e]=Array(this.tubularSegments);for(t=0;t<this.tubularSegments;++t){var a=2*(e/this.radialSegments)*this.p*Math.PI,o=2*(t/this.tubularSegments)*Math.PI,s=u(a,o,this.q,this.p,this.radius,this.heightScale),a=u(a+.01,o,this.q,this.p,this.radius,this.heightScale);n.subVectors(a,s),r.addVectors(a,s),i.crossVectors(n,r),r.crossVectors(i,n),i.normalize(),r.normalize(),a=-this.tube*Math.cos(o),o=this.tube*Math.sin(o),s.x+=a*r.x+o*i.x,s.y+=a*r.y+o*i.y,s.z+=a*r.z+o*i.z,this.grid[e][t]=this.vertices.push(new THREE.Vector3(s.x,s.y,s.z))-1}}for(e=0;e<this.radialSegments;++e)for(t=0;t<this.tubularSegments;++t){var i=(e+1)%this.radialSegments,s=(t+1)%this.tubularSegments,n=this.grid[e][t],r=this.grid[i][t],i=this.grid[i][s],s=this.grid[e][s],o=new THREE.Vector2(e/this.radialSegments,t/this.tubularSegments),a=new THREE.Vector2((e+1)/this.radialSegments,t/this.tubularSegments),f=new THREE.Vector2((e+1)/this.radialSegments,(t+1)/this.tubularSegments),l=new THREE.Vector2(e/this.radialSegments,(t+1)/this.tubularSegments);this.faces.push(new THREE.Face4(n,r,i,s)),this.faceVertexUvs[0].push([o,a,f,l])}this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry=function(e,t,n,r,i,s){THREE.Geometry.call(this),this.path=e,this.segments=t||64,this.radius=n||1,this.radiusSegments=r||8,this.closed=i||!1,s&&(this.debug=new THREE.Object3D),this.grid=[];var o,u,i=this.segments+1,a,f,l,s=new THREE.Vector3,c,h,p,t=new THREE.TubeGeometry.FrenetFrames(this.path,this.segments,this.closed);c=t.tangents,h=t.normals,p=t.binormals,this.tangents=c,this.normals=h,this.binormals=p;for(t=0;t<i;t++){this.grid[t]=[],r=t/(i-1),l=e.getPointAt(r),r=c[t],o=h[t],u=p[t],this.debug&&(this.debug.add(new THREE.ArrowHelper(r,l,n,255)),this.debug.add(new THREE.ArrowHelper(o,l,n,16711680)),this.debug.add(new THREE.ArrowHelper(u,l,n,65280)));for(r=0;r<this.radiusSegments;r++)a=2*(r/this.radiusSegments)*Math.PI,f=-this.radius*Math.cos(a),a=this.radius*Math.sin(a),s.copy(l),s.x+=f*o.x+a*u.x,s.y+=f*o.y+a*u.y,s.z+=f*o.z+a*u.z,this.grid[t][r]=this.vertices.push(new THREE.Vector3(s.x,s.y,s.z))-1}for(t=0;t<this.segments;t++)for(r=0;r<this.radiusSegments;r++)i=this.closed?(t+1)%this.segments:t+1,s=(r+1)%this.radiusSegments,e=this.grid[t][r],n=this.grid[i][r],i=this.grid[i][s],s=this.grid[t][s],c=new THREE.Vector2(t/this.segments,r/this.radiusSegments),h=new THREE.Vector2((t+1)/this.segments,r/this.radiusSegments),p=new THREE.Vector2((t+1)/this.segments,(r+1)/this.radiusSegments),o=new THREE.Vector2(t/this.segments,(r+1)/this.radiusSegments),this.faces.push(new THREE.Face4(e,n,i,s)),this.faceVertexUvs[0].push([c,h,p,o]);this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry.FrenetFrames=function(e,t,n){new THREE.Vector3;var r=new THREE.Vector3;new THREE.Vector3;var i=[],s=[],o=[],u=new THREE.Vector3,a=new THREE.Matrix4,t=t+1,f,l,c;this.tangents=i,this.normals=s,this.binormals=o;for(f=0;f<t;f++)l=f/(t-1),i[f]=e.getTangentAt(l),i[f].normalize();s[0]=new THREE.Vector3,o[0]=new THREE.Vector3,e=Number.MAX_VALUE,f=Math.abs(i[0].x),l=Math.abs(i[0].y),c=Math.abs(i[0].z),f<=e&&(e=f,r.set(1,0,0)),l<=e&&(e=l,r.set(0,1,0)),c<=e&&r.set(0,0,1),u.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],u),o[0].crossVectors(i[0],s[0]);for(f=1;f<t;f++)s[f]=s[f-1].clone(),o[f]=o[f-1].clone(),u.crossVectors(i[f-1],i[f]),1e-4<u.length()&&(u.normalize(),r=Math.acos(i[f-1].dot(i[f])),s[f].applyMatrix4(a.makeRotationAxis(u,r))),o[f].crossVectors(i[f],s[f]);if(n){r=Math.acos(s[0].dot(s[t-1])),r/=t-1,0<i[0].dot(u.crossVectors(s[0],s[t-1]))&&(r=-r);for(f=1;f<t;f++)s[f].applyMatrix4(a.makeRotationAxis(i[f],r*f)),o[f].crossVectors(i[f],s[f])}},THREE.PolyhedronGeometry=function(e,t,n,r){function i(e){var t=e.normalize().clone();t.index=u.vertices.push(t)-1;var n=Math.atan2(e.z,-e.x)/2/Math.PI+.5,e=Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))/Math.PI+.5;return t.uv=new THREE.Vector2(n,1-e),t}function s(e,t,n){var r=new THREE.Face3(e.index,t.index,n.index,[e.clone(),t.clone(),n.clone()]);r.centroid.add(e).add(t).add(n).divideScalar(3),r.normal.copy(r.centroid).normalize(),u.faces.push(r),r=Math.atan2(r.centroid.z,-r.centroid.x),u.faceVertexUvs[0].push([o(e.uv,e,r),o(t.uv,t,r),o(n.uv,n,r)])}function o(e,t,n){return 0>n&&1===e.x&&(e=new THREE.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new THREE.Vector2(n/2/Math.PI+.5,e.y)),e.clone()}THREE.Geometry.call(this);for(var n=n||1,r=r||0,u=this,a=0,f=e.length;a<f;a++)i(new THREE.Vector3(e[a][0],e[a][1],e[a][2]));for(var l=this.vertices,e=[],a=0,f=t.length;a<f;a++){var c=l[t[a][0]],h=l[t[a][1]],p=l[t[a][2]];e[a]=new THREE.Face3(c.index,h.index,p.index,[c.clone(),h.clone(),p.clone()])}a=0;for(f=e.length;a<f;a++){h=e[a],l=r,t=Math.pow(2,l),Math.pow(4,l);for(var l=i(u.vertices[h.a]),c=i(u.vertices[h.b]),d=i(u.vertices[h.c]),h=[],p=0;p<=t;p++){h[p]=[];for(var v=i(l.clone().lerp(d,p/t)),m=i(c.clone().lerp(d,p/t)),g=t-p,y=0;y<=g;y++)h[p][y]=0==y&&p==t?v:i(v.clone().lerp(m,y/g))}for(p=0;p<t;p++)for(y=0;y<2*(t-p)-1;y++)l=Math.floor(y/2),0==y%2?s(h[p][l+1],h[p+1][l],h[p][l]):s(h[p][l+1],h[p+1][l+1],h[p+1][l])}a=0;for(f=this.faceVertexUvs[0].length;a<f;a++)r=this.faceVertexUvs[0][a],e=r[0].x,t=r[1].x,l=r[2].x,c=Math.max(e,Math.max(t,l)),h=Math.min(e,Math.min(t,l)),.9<c&&.1>h&&(.2>e&&(r[0].x+=1),.2>t&&(r[1].x+=1),.2>l&&(r[2].x+=1));this.mergeVertices(),a=0;for(f=this.vertices.length;a<f;a++)this.vertices[a].multiplyScalar(n);this.computeCentroids(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,n)},THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.IcosahedronGeometry=function(e,t){this.radius=e,this.detail=t;var n=(1+Math.sqrt(5))/2;THREE.PolyhedronGeometry.call(this,[[-1,n,0],[1,n,0],[-1,-n,0],[1,-n,0],[0,-1,n],[0,1,n],[0,-1,-n],[0,1,-n],[n,0,-1],[n,0,1],[-n,0,-1],[-n,0,1]],[[0,11,5],[0,5,1],[0,1,7],[0,7,10],[0,10,11],[1,5,9],[5,11,4],[11,10,2],[10,7,6],[7,1,8],[3,9,4],[3,4,2],[3,2,6],[3,6,8],[3,8,9],[4,9,5],[2,4,11],[6,2,10],[8,6,7],[9,8,1]],e,t)},THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.OctahedronGeometry=function(e,t){THREE.PolyhedronGeometry.call(this,[[1,0,0],[-1,0,0],[0,1,0],[0,-1,0],[0,0,1],[0,0,-1]],[[0,2,4],[0,4,3],[0,3,5],[0,5,2],[1,2,5],[1,5,3],[1,3,4],[1,4,2]],e,t)},THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TetrahedronGeometry=function(e,t){THREE.PolyhedronGeometry.call(this,[[1,1,1],[-1,-1,1],[-1,1,-1],[1,-1,-1]],[[2,1,0],[0,3,2],[1,3,0],[2,3,1]],e,t)},THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ParametricGeometry=function(e,t,n,r){THREE.Geometry.call(this);var i=this.vertices,s=this.faces,o=this.faceVertexUvs[0],r=void 0===r?!1:r,u,a,f,l,c=t+1;for(u=0;u<=n;u++){l=u/n;for(a=0;a<=t;a++)f=a/t,f=e(f,l),i.push(f)}var h,p,d,v;for(u=0;u<n;u++)for(a=0;a<t;a++)e=u*c+a,i=u*c+a+1,l=(u+1)*c+a,f=(u+1)*c+a+1,h=new THREE.Vector2(a/t,u/n),p=new THREE.Vector2((a+1)/t,u/n),d=new THREE.Vector2(a/t,(u+1)/n),v=new THREE.Vector2((a+1)/t,(u+1)/n),r?(s.push(new THREE.Face3(e,i,l)),s.push(new THREE.Face3(i,f,l)),o.push([h,p,d]),o.push([p,v,d])):(s.push(new THREE.Face4(e,i,f,l)),o.push([h,p,v,d]));this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ConvexGeometry=function(e){function t(e){var t=e.length();return new THREE.Vector2(e.x/t,e.y/t)}THREE.Geometry.call(this);for(var n=[[0,1,2],[0,2,1]],r=3;r<e.length;r++){var i=r,s=e[i].clone(),o=s.length();s.x+=o*2e-6*(Math.random()-.5),s.y+=o*2e-6*(Math.random()-.5),s.z+=o*2e-6*(Math.random()-.5);for(var o=[],u=0;u<n.length;){var a=n[u],f=s,l=e[a[0]],c;c=l;var h=e[a[1]],p=e[a[2]],d=new THREE.Vector3,v=new THREE.Vector3;d.subVectors(p,h),v.subVectors(c,h),d.cross(v),d.normalize(),c=d,l=c.dot(l);if(c.dot(f)>=l){for(f=0;3>f;f++){l=[a[f],a[(f+1)%3]],c=!0;for(h=0;h<o.length;h++)if(o[h][0]===l[1]&&o[h][1]===l[0]){o[h]=o[o.length-1],o.pop(),c=!1;break}c&&o.push(l)}n[u]=n[n.length-1],n.pop()}else u++}for(h=0;h<o.length;h++)n.push([o[h][0],o[h][1],i])}i=0,s=Array(e.length);for(r=0;r<n.length;r++){o=n[r];for(u=0;3>u;u++)void 0===s[o[u]]&&(s[o[u]]=i++,this.vertices.push(e[o[u]])),o[u]=s[o[u]]}for(r=0;r<n.length;r++)this.faces.push(new THREE.Face3(n[r][0],n[r][1],n[r][2]));for(r=0;r<this.faces.length;r++)o=this.faces[r],this.faceVertexUvs[0].push([t(this.vertices[o.a]),t(this.vertices[o.b]),t(this.vertices[o.c])]);this.computeCentroids(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.ConvexGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.AxisHelper=function(e){var e=e||1,t=new THREE.Geometry;t.vertices.push(new THREE.Vector3,new THREE.Vector3(e,0,0),new THREE.Vector3,new THREE.Vector3(0,e,0),new THREE.Vector3,new THREE.Vector3(0,0,e)),t.colors.push(new THREE.Color(16711680),new THREE.Color(16755200),new THREE.Color(65280),new THREE.Color(11206400),new THREE.Color(255),new THREE.Color(43775)),e=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors}),THREE.Line.call(this,t,e,THREE.LinePieces)},THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype),THREE.ArrowHelper=function(e,t,n,r){THREE.Object3D.call(this),void 0===r&&(r=16776960),void 0===n&&(n=1),this.position=t,this.useQuaternion=!0,t=new THREE.Geometry,t.vertices.push(new THREE.Vector3(0,0,0)),t.vertices.push(new THREE.Vector3(0,1,0)),this.line=new THREE.Line(t,new THREE.LineBasicMaterial({color:r})),this.line.matrixAutoUpdate=!1,this.add(this.line),t=new THREE.CylinderGeometry(0,.05,.25,5,1),t.applyMatrix((new THREE.Matrix4).makeTranslation(0,.875,0)),this.cone=new THREE.Mesh(t,new THREE.MeshBasicMaterial({color:r})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n)},THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.ArrowHelper.prototype.setDirection=function(){var e=new THREE.Vector3,t;return function(n){.999<n.y?this.quaternion.set(0,0,0,1):-0.999>n.y?this.quaternion.set(1,0,0,0):(e.set(n.z,0,-n.x).normalize(),t=Math.acos(n.y),this.quaternion.setFromAxisAngle(e,t))}}(),THREE.ArrowHelper.prototype.setLength=function(e){this.scale.set(e,e,e)},THREE.ArrowHelper.prototype.setColor=function(e){this.line.material.color.setHex(e),this.cone.material.color.setHex(e)},THREE.BoxHelper=function(e){var e=e||1,t=new THREE.Geometry,e=[new THREE.Vector3(e,e,e),new THREE.Vector3(-e,e,e),new THREE.Vector3(-e,-e,e),new THREE.Vector3(e,-e,e),new THREE.Vector3(e,e,-e),new THREE.Vector3(-e,e,-e),new THREE.Vector3(-e,-e,-e),new THREE.Vector3(e,-e,-e)];t.vertices.push(e[0],e[1],e[1],e[2],e[2],e[3],e[3],e[0],e[4],e[5],e[5],e[6],e[6],e[7],e[7],e[4],e[0],e[4],e[1],e[5],e[2],e[6],e[3],e[7]),this.vertices=e,THREE.Line.call(this,t,new THREE.LineBasicMaterial,THREE.LinePieces)},THREE.BoxHelper.prototype=Object.create(THREE.Line.prototype),THREE.BoxHelper.prototype.update=function(e){var t=e.geometry;null===t.boundingBox&&t.computeBoundingBox();var n=t.boundingBox.min,t=t.boundingBox.max,r=this.vertices;r[0].set(t.x,t.y,t.z),r[1].set(n.x,t.y,t.z),r[2].set(n.x,n.y,t.z),r[3].set(t.x,n.y,t.z),r[4].set(t.x,t.y,n.z),r[5].set(n.x,t.y,n.z),r[6].set(n.x,n.y,n.z),r[7].set(t.x,n.y,n.z),this.geometry.computeBoundingSphere(),this.geometry.verticesNeedUpdate=!0,this.matrixAutoUpdate=!1,this.matrixWorld=e.matrixWorld},THREE.CameraHelper=function(e){function t(e,t,r){n(e,r),n(t,r)}function n(e,t){r.vertices.push(new THREE.Vector3),r.colors.push(new THREE.Color(t)),void 0===s[e]&&(s[e]=[]),s[e].push(r.vertices.length-1)}THREE.Line.call(this);var r=new THREE.Geometry,i=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),s={};t("n1","n2",16755200),t("n2","n4",16755200),t("n4","n3",16755200),t("n3","n1",16755200),t("f1","f2",16755200),t("f2","f4",16755200),t("f4","f3",16755200),t("f3","f1",16755200),t("n1","f1",16755200),t("n2","f2",16755200),t("n3","f3",16755200),t("n4","f4",16755200),t("p","n1",16711680),t("p","n2",16711680),t("p","n3",16711680),t("p","n4",16711680),t("u1","u2",43775),t("u2","u3",43775),t("u3","u1",43775),t("c","t",16777215),t("p","c",3355443),t("cn1","cn2",3355443),t("cn3","cn4",3355443),t("cf1","cf2",3355443),t("cf3","cf4",3355443),THREE.Line.call(this,r,i,THREE.LinePieces),this.camera=e,this.matrixWorld=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=s,this.update()},THREE.CameraHelper.prototype=Object.create(THREE.Line.prototype),THREE.CameraHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Camera,n=new THREE.Projector;return function(){function r(r,s,o,u){e.set(s,o,u),n.unprojectVector(e,t),r=i.pointMap[r];if(void 0!==r){s=0;for(o=r.length;s<o;s++)i.geometry.vertices[r[s]].copy(e)}}var i=this;t.projectionMatrix.copy(this.camera.projectionMatrix),r("c",0,0,-1),r("t",0,0,1),r("n1",-1,-1,-1),r("n2",1,-1,-1),r("n3",-1,1,-1),r("n4",1,1,-1),r("f1",-1,-1,1),r("f2",1,-1,1),r("f3",-1,1,1),r("f4",1,1,1),r("u1",.7,1.1,-1),r("u2",-0.7,1.1,-1),r("u3",0,2,-1),r("cf1",-1,0,1),r("cf2",1,0,1),r("cf3",0,-1,1),r("cf4",0,1,1),r("cn1",-1,0,-1),r("cn2",1,0,-1),r("cn3",0,-1,-1),r("cn4",0,1,-1),this.geometry.verticesNeedUpdate=!0}}(),THREE.DirectionalLightHelper=function(e,t){THREE.Object3D.call(this),this.matrixAutoUpdate=!1,this.light=e;var n=new THREE.SphereGeometry(t,4,2),r=new THREE.MeshBasicMaterial({fog:!1,wireframe:!0});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightSphere=new THREE.Mesh(n,r),this.lightSphere.matrixWorld=this.light.matrixWorld,this.lightSphere.matrixAutoUpdate=!1,this.add(this.lightSphere),n=new THREE.Geometry,n.vertices.push(this.light.position),n.vertices.push(this.light.target.position),n.computeLineDistances(),r=new THREE.LineDashedMaterial({dashSize:4,gapSize:4,opacity:.75,transparent:!0,fog:!1}),r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new THREE.Line(n,r),this.add(this.targetLine)},THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.DirectionalLightHelper.prototype.update=function(){this.lightSphere.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.computeLineDistances(),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.GridHelper=function(e,t){for(var n=new THREE.Geometry,r=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors}),i=new THREE.Color(4473924),s=new THREE.Color(8947848),o=-e;o<=e;o+=t){n.vertices.push(new THREE.Vector3(-e,0,o)),n.vertices.push(new THREE.Vector3(e,0,o)),n.vertices.push(new THREE.Vector3(o,0,-e)),n.vertices.push(new THREE.Vector3(o,0,e));var u=0===o?i:s;n.colors.push(u,u,u,u)}THREE.Line.call(this,n,r,THREE.LinePieces)},THREE.GridHelper.prototype=Object.create(THREE.Line.prototype),THREE.HemisphereLightHelper=function(e,t){THREE.Object3D.call(this),this.light=e;var n=new THREE.SphereGeometry(t,4,2);n.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));for(var r=0;8>r;r++)n.faces[r].materialIndex=4>r?0:1;r=new THREE.MeshBasicMaterial({fog:!1,wireframe:!0}),r.color.copy(e.color).multiplyScalar(e.intensity);var i=new THREE.MeshBasicMaterial({fog:!1,wireframe:!0});i.color.copy(e.groundColor).multiplyScalar(e.intensity),this.lightSphere=new THREE.Mesh(n,new THREE.MeshFaceMaterial([r,i])),this.lightSphere.position=e.position,this.lightSphere.lookAt(new THREE.Vector3),this.add(this.lightSphere)},THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.HemisphereLightHelper.prototype.update=function(){this.lightSphere.lookAt(new THREE.Vector3),this.lightSphere.material.materials[0].color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightSphere.material.materials[1].color.copy(this.light.groundColor).multiplyScalar(this.light.intensity)},THREE.PointLightHelper=function(e,t){THREE.Object3D.call(this),this.matrixAutoUpdate=!1,this.light=e;var n=new THREE.SphereGeometry(t,4,2),r=new THREE.MeshBasicMaterial({fog:!1,wireframe:!0});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightSphere=new THREE.Mesh(n,r),this.lightSphere.matrixWorld=this.light.matrixWorld,this.lightSphere.matrixAutoUpdate=!1,this.add(this.lightSphere)},THREE.PointLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.PointLightHelper.prototype.update=function(){this.lightSphere.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.SpotLightHelper=function(e,t){THREE.Object3D.call(this),this.matrixAutoUpdate=!1,this.light=e;var n=new THREE.SphereGeometry(t,4,2),r=new THREE.MeshBasicMaterial({fog:!1,wireframe:!0});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightSphere=new THREE.Mesh(n,r),this.lightSphere.matrixWorld=this.light.matrixWorld,this.lightSphere.matrixAutoUpdate=!1,this.add(this.lightSphere),n=new THREE.CylinderGeometry(1e-4,1,1,8,1,!0),n.applyMatrix((new THREE.Matrix4).makeTranslation(0,-0.5,0)),n.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2)),r=new THREE.MeshBasicMaterial({fog:!1,wireframe:!0,opacity:.3,transparent:!0}),r.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightCone=new THREE.Mesh(n,r),this.lightCone.position=this.light.position,n=e.distance?e.distance:1e4,r=n*Math.tan(e.angle),this.lightCone.scale.set(r,r,n),this.lightCone.lookAt(this.light.target.position),this.add(this.lightCone)},THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.SpotLightHelper.prototype.update=function(){var e=this.light.distance?this.light.distance:1e4,t=e*Math.tan(this.light.angle);this.lightCone.scale.set(t,t,e),this.lightCone.lookAt(this.light.target.position),this.lightSphere.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightCone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this),this.render=function(){}},THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare=function(e,t,n,r,i){THREE.Object3D.call(this),this.lensFlares=[],this.positionScreen=new THREE.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,n,r,i)},THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare.prototype.add=function(e,t,n,r,i,s){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===s&&(s=1),void 0===i&&(i=new THREE.Color(16777215)),void 0===r&&(r=THREE.NormalBlending),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:e,size:t,distance:n,x:0,y:0,z:0,scale:1,rotation:1,opacity:s,color:i,blending:r})},THREE.LensFlare.prototype.updateLensFlares=function(){var e,t=this.lensFlares.length,n,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;e<t;e++)n=this.lensFlares[e],n.x=this.positionScreen.x+r*n.distance,n.y=this.positionScreen.y+i*n.distance,n.wantedRotation=.25*n.x*Math.PI,n.rotation+=.25*(n.wantedRotation-n.rotation)},THREE.MorphBlendMesh=function(e,t){THREE.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length;this.createAnimation("__default",0,n-1,n/1),this.setAnimationWeight("__default",1)},THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphBlendMesh.prototype.createAnimation=function(e,t,n,r){t={startFrame:t,endFrame:n,length:n-t+1,fps:r,duration:(n-t)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1},this.animationsMap[e]=t,this.animationsList.push(t)},THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t=/([a-z]+)(\d+)/,n,r={},i=this.geometry,s=0,o=i.morphTargets.length;s<o;s++){var u=i.morphTargets[s].name.match(t);if(u&&1<u.length){var a=u[1];r[a]||(r[a]={start:Infinity,end:-Infinity}),u=r[a],s<u.start&&(u.start=s),s>u.end&&(u.end=s),n||(n=a)}}for(a in r)u=r[a],this.createAnimation(a,u.start,u.end,e);this.firstAnimation=n},THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){if(e=this.animationsMap[e])e.direction=1,e.directionBackwards=!1},THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){if(e=this.animationsMap[e])e.direction=-1,e.directionBackwards=!0},THREE.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var n=this.animationsMap[e];n&&(n.fps=t,n.duration=(n.end-n.start)/n.fps)},THREE.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var n=this.animationsMap[e];n&&(n.duration=t,n.fps=(n.end-n.start)/n.duration)},THREE.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var n=this.animationsMap[e];n&&(n.weight=t)},THREE.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var n=this.animationsMap[e];n&&(n.time=t)},THREE.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0;if(e=this.animationsMap[e])t=e.time;return t},THREE.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1;if(e=this.animationsMap[e])t=e.duration;return t},THREE.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("animation["+e+"] undefined")},THREE.MorphBlendMesh.prototype.stopAnimation=function(e){if(e=this.animationsMap[e])e.active=!1},THREE.MorphBlendMesh.prototype.update=function(e){for(var t=0,n=this.animationsList.length;t<n;t++){var r=this.animationsList[t];if(r.active){var i=r.duration/r.length;r.time+=r.direction*e;if(r.mirroredLoop){if(r.time>r.duration||0>r.time)r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),0>r.time&&(r.time=0,r.directionBackwards=!1)}else r.time%=r.duration,0>r.time&&(r.time+=r.duration);var s=r.startFrame+THREE.Math.clamp(Math.floor(r.time/i),0,r.length-1),o=r.weight;s!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*o,this.morphTargetInfluences[s]=0,r.lastFrame=r.currentFrame,r.currentFrame=s),i=r.time%i/i,r.directionBackwards&&(i=1-i),this.morphTargetInfluences[r.currentFrame]=i*o,this.morphTargetInfluences[r.lastFrame]=(1-i)*o}}},THREE.LensFlarePlugin=function(){function e(e,n){var r=t.createProgram(),i=t.createShader(t.FRAGMENT_SHADER),s=t.createShader(t.VERTEX_SHADER),o="precision "+n+" float;\n";return t.shaderSource(i,o+e.fragmentShader),t.shaderSource(s,o+e.vertexShader),t.compileShader(i),t.compileShader(s),t.attachShader(r,i),t.attachShader(r,s),t.linkProgram(r),r}var t,n,r,i,s,o,u,a,f,l,c,h,p;this.init=function(v){t=v.context,n=v,r=v.getPrecision(),i=new Float32Array(16),s=new Uint16Array(6),v=0,i[v++]=-1,i[v++]=-1,i[v++]=0,i[v++]=0,i[v++]=1,i[v++]=-1,i[v++]=1,i[v++]=0,i[v++]=1,i[v++]=1,i[v++]=1,i[v++]=1,i[v++]=-1,i[v++]=1,i[v++]=0,i[v++]=1,v=0,s[v++]=0,s[v++]=1,s[v++]=2,s[v++]=0,s[v++]=2,s[v++]=3,o=t.createBuffer(),u=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.bufferData(t.ELEMENT_ARRAY_BUFFER,s,t.STATIC_DRAW),a=t.createTexture(),f=t.createTexture(),t.bindTexture(t.TEXTURE_2D,a),t.texImage2D(t.TEXTURE_2D,0,t.RGB,16,16,0,t.RGB,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.bindTexture(t.TEXTURE_2D,f),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,16,16,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),0>=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS)?(l=!1,c=e(THREE.ShaderFlares.lensFlare,r)):(l=!0,c=e(THREE.ShaderFlares.lensFlareVertexTexture,r)),h={},p={},h.vertex=t.getAttribLocation(c,"position"),h.uv=t.getAttribLocation(c,"uv"),p.renderType=t.getUniformLocation(c,"renderType"),p.map=t.getUniformLocation(c,"map"),p.occlusionMap=t.getUniformLocation(c,"occlusionMap"),p.opacity=t.getUniformLocation(c,"opacity"),p.color=t.getUniformLocation(c,"color"),p.scale=t.getUniformLocation(c,"scale"),p.rotation=t.getUniformLocation(c,"rotation"),p.screenPosition=t.getUniformLocation(c,"screenPosition")},this.render=function(e,r,i,s){var e=e.__webglFlares,d=e.length;if(d){var v=new THREE.Vector3,y=s/i,w=.5*i,E=.5*s,S=16/s,x=new THREE.Vector2(S*y,S),T=new THREE.Vector3(1,1,0),N=new THREE.Vector2(1,1),C=p,S=h;t.useProgram(c),t.enableVertexAttribArray(h.vertex),t.enableVertexAttribArray(h.uv),t.uniform1i(C.occlusionMap,0),t.uniform1i(C.map,1),t.bindBuffer(t.ARRAY_BUFFER,o),t.vertexAttribPointer(S.vertex,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(S.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.disable(t.CULL_FACE),t.depthMask(!1);var k,L,A,O,M;for(k=0;k<d;k++)if(S=16/s,x.set(S*y,S),O=e[k],v.set(O.matrixWorld.elements[12],O.matrixWorld.elements[13],O.matrixWorld.elements[14]),v.applyMatrix4(r.matrixWorldInverse),v.applyProjection(r.projectionMatrix),T.copy(v),N.x=T.x*w+w,N.y=T.y*E+E,l||0<N.x&&N.x<i&&0<N.y&&N.y<s){t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,a),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGB,N.x-8,N.y-8,16,16,0),t.uniform1i(C.renderType,0),t.uniform2f(C.scale,x.x,x.y),t.uniform3f(C.screenPosition,T.x,T.y,T.z),t.disable(t.BLEND),t.enable(t.DEPTH_TEST),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,f),t.copyTexImage2D(t.TEXTURE_2D,0,t.RGBA,N.x-8,N.y-8,16,16,0),t.uniform1i(C.renderType,1),t.disable(t.DEPTH_TEST),t.activeTexture(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,a),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0),O.positionScreen.copy(T),O.customUpdateCallback?O.customUpdateCallback(O):O.updateLensFlares(),t.uniform1i(C.renderType,2),t.enable(t.BLEND),L=0;for(A=O.lensFlares.length;L<A;L++)M=O.lensFlares[L],.001<M.opacity&&.001<M.scale&&(T.x=M.x,T.y=M.y,T.z=M.z,S=M.size*M.scale/s,x.x=S*y,x.y=S,t.uniform3f(C.screenPosition,T.x,T.y,T.z),t.uniform2f(C.scale,x.x,x.y),t.uniform1f(C.rotation,M.rotation),t.uniform1f(C.opacity,M.opacity),t.uniform3f(C.color,M.color.r,M.color.g,M.color.b),n.setBlending(M.blending,M.blendEquation,M.blendSrc,M.blendDst),n.setTexture(M.texture,1),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0))}t.enable(t.CULL_FACE),t.enable(t.DEPTH_TEST),t.depthMask(!0)}}},THREE.ShadowMapPlugin=function(){var e,t,n,r,i,s,o=new THREE.Frustum,u=new THREE.Matrix4,a=new THREE.Vector3,f=new THREE.Vector3,l=new THREE.Vector3;this.init=function(o){e=o.context,t=o;var o=THREE.ShaderLib.depthRGBA,u=THREE.UniformsUtils.clone(o.uniforms);n=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:u}),r=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:u,morphTargets:!0}),i=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:u,skinning:!0}),s=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:u,morphTargets:!0,skinning:!0}),n._shadowPass=!0,r._shadowPass=!0,i._shadowPass=!0,s._shadowPass=!0},this.render=function(e,n){t.shadowMapEnabled&&t.shadowMapAutoUpdate&&this.update(e,n)},this.update=function(p,v){var y,w,E,S,x,T,N,C,k,L=[];S=0,e.clearColor(1,1,1,1),e.disable(e.BLEND),e.enable(e.CULL_FACE),e.frontFace(e.CCW),t.shadowMapCullFace===THREE.CullFaceFront?e.cullFace(e.FRONT):e.cullFace(e.BACK),t.setDepthTest(!0),y=0;for(w=p.__lights.length;y<w;y++)if(E=p.__lights[y],E.castShadow)if(E instanceof THREE.DirectionalLight&&E.shadowCascade)for(x=0;x<E.shadowCascadeCount;x++){var A;if(E.shadowCascadeArray[x])A=E.shadowCascadeArray[x];else{k=E,N=x,A=new THREE.DirectionalLight,A.isVirtual=!0,A.onlyShadow=!0,A.castShadow=!0,A.shadowCameraNear=k.shadowCameraNear,A.shadowCameraFar=k.shadowCameraFar,A.shadowCameraLeft=k.shadowCameraLeft,A.shadowCameraRight=k.shadowCameraRight,A.shadowCameraBottom=k.shadowCameraBottom,A.shadowCameraTop=k.shadowCameraTop,A.shadowCameraVisible=k.shadowCameraVisible,A.shadowDarkness=k.shadowDarkness,A.shadowBias=k.shadowCascadeBias[N],A.shadowMapWidth=k.shadowCascadeWidth[N],A.shadowMapHeight=k.shadowCascadeHeight[N],A.pointsWorld=[],A.pointsFrustum=[],C=A.pointsWorld,T=A.pointsFrustum;for(var O=0;8>O;O++)C[O]=new THREE.Vector3,T[O]=new THREE.Vector3;C=k.shadowCascadeNearZ[N],k=k.shadowCascadeFarZ[N],T[0].set(-1,-1,C),T[1].set(1,-1,C),T[2].set(-1,1,C),T[3].set(1,1,C),T[4].set(-1,-1,k),T[5].set(1,-1,k),T[6].set(-1,1,k),T[7].set(1,1,k),A.originalCamera=v,T=new THREE.Gyroscope,T.position=E.shadowCascadeOffset,T.add(A),T.add(A.target),v.add(T),E.shadowCascadeArray[x]=A,console.log("Created virtualLight",A)}N=E,C=x,k=N.shadowCascadeArray[C],k.position.copy(N.position),k.target.position.copy(N.target.position),k.lookAt(k.target),k.shadowCameraVisible=N.shadowCameraVisible,k.shadowDarkness=N.shadowDarkness,k.shadowBias=N.shadowCascadeBias[C],T=N.shadowCascadeNearZ[C],N=N.shadowCascadeFarZ[C],k=k.pointsFrustum,k[0].z=T,k[1].z=T,k[2].z=T,k[3].z=T,k[4].z=N,k[5].z=N,k[6].z=N,k[7].z=N,L[S]=A,S++}else L[S]=E,S++;y=0;for(w=L.length;y<w;y++){E=L[y],E.shadowMap||(x=THREE.LinearFilter,t.shadowMapType===THREE.PCFSoftShadowMap&&(x=THREE.NearestFilter),E.shadowMap=new THREE.WebGLRenderTarget(E.shadowMapWidth,E.shadowMapHeight,{minFilter:x,magFilter:x,format:THREE.RGBAFormat}),E.shadowMapSize=new THREE.Vector2(E.shadowMapWidth,E.shadowMapHeight),E.shadowMatrix=new THREE.Matrix4);if(!E.shadowCamera){if(E instanceof THREE.SpotLight)E.shadowCamera=new THREE.PerspectiveCamera(E.shadowCameraFov,E.shadowMapWidth/E.shadowMapHeight,E.shadowCameraNear,E.shadowCameraFar);else{if(!(E instanceof THREE.DirectionalLight)){console.error("Unsupported light type for shadow");continue}E.shadowCamera=new THREE.OrthographicCamera(E.shadowCameraLeft,E.shadowCameraRight,E.shadowCameraTop,E.shadowCameraBottom,E.shadowCameraNear,E.shadowCameraFar)}p.add(E.shadowCamera),!0===p.autoUpdate&&p.updateMatrixWorld()}E.shadowCameraVisible&&!E.cameraHelper&&(E.cameraHelper=new THREE.CameraHelper(E.shadowCamera),E.shadowCamera.add(E.cameraHelper));if(E.isVirtual&&A.originalCamera==v){x=v,S=E.shadowCamera,T=E.pointsFrustum,k=E.pointsWorld,a.set(Infinity,Infinity,Infinity),f.set(-Infinity,-Infinity,-Infinity);for(N=0;8>N;N++)C=k[N],C.copy(T[N]),THREE.ShadowMapPlugin.__projector.unprojectVector(C,x),C.applyMatrix4(S.matrixWorldInverse),C.x<a.x&&(a.x=C.x),C.x>f.x&&(f.x=C.x),C.y<a.y&&(a.y=C.y),C.y>f.y&&(f.y=C.y),C.z<a.z&&(a.z=C.z),C.z>f.z&&(f.z=C.z);S.left=a.x,S.right=f.x,S.top=f.y,S.bottom=a.y,S.updateProjectionMatrix()}S=E.shadowMap,T=E.shadowMatrix,x=E.shadowCamera,x.position.getPositionFromMatrix(E.matrixWorld),l.getPositionFromMatrix(E.target.matrixWorld),x.lookAt(l),x.updateMatrixWorld(),x.matrixWorldInverse.getInverse(x.matrixWorld),E.cameraHelper&&(E.cameraHelper.visible=E.shadowCameraVisible),E.shadowCameraVisible&&E.cameraHelper.update(),T.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),T.multiply(x.projectionMatrix),T.multiply(x.matrixWorldInverse),u.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),o.setFromMatrix(u),t.setRenderTarget(S),t.clear(),k=p.__webglObjects,E=0;for(S=k.length;E<S;E++)if(N=k[E],T=N.object,N.render=!1,T.visible&&T.castShadow&&(!(T instanceof THREE.Mesh||T instanceof THREE.ParticleSystem)||!T.frustumCulled||o.intersectsObject(T)))T._modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,T.matrixWorld),N.render=!0;E=0;for(S=k.length;E<S;E++)N=k[E],N.render&&(T=N.object,N=N.buffer,O=T.material instanceof THREE.MeshFaceMaterial?T.material.materials[0]:T.material,C=0<T.geometry.morphTargets.length&&O.morphTargets,O=T instanceof THREE.SkinnedMesh&&O.skinning,C=T.customDepthMaterial?T.customDepthMaterial:O?C?s:i:C?r:n,N instanceof THREE.BufferGeometry?t.renderBufferDirect(x,p.__lights,null,C,N,T):t.renderBuffer(x,p.__lights,null,C,N,T));k=p.__webglObjectsImmediate,E=0;for(S=k.length;E<S;E++)N=k[E],T=N.object,T.visible&&T.castShadow&&(T._modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,T.matrixWorld),t.renderImmediateObject(x,p.__lights,null,n,T))}y=t.getClearColor(),w=t.getClearAlpha(),e.clearColor(y.r,y.g,y.b,w),e.enable(e.BLEND),t.shadowMapCullFace===THREE.CullFaceFront&&e.cullFace(e.BACK)}},THREE.ShadowMapPlugin.__projector=new THREE.Projector,THREE.SpritePlugin=function(){function e(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var t,n,r,i,s,o,u,a,f,l;this.init=function(e){t=e.context,n=e,r=e.getPrecision(),i=new Float32Array(16),s=new Uint16Array(6),e=0,i[e++]=-1,i[e++]=-1,i[e++]=0,i[e++]=0,i[e++]=1,i[e++]=-1,i[e++]=1,i[e++]=0,i[e++]=1,i[e++]=1,i[e++]=1,i[e++]=1,i[e++]=-1,i[e++]=1,i[e++]=0,i[e++]=1,e=0,s[e++]=0,s[e++]=1,s[e++]=2,s[e++]=0,s[e++]=2,s[e++]=3,o=t.createBuffer(),u=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,o),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.bufferData(t.ELEMENT_ARRAY_BUFFER,s,t.STATIC_DRAW);var e=THREE.ShaderSprite.sprite,p=t.createProgram(),v=t.createShader(t.FRAGMENT_SHADER),y=t.createShader(t.VERTEX_SHADER),w="precision "+r+" float;\n";t.shaderSource(v,w+e.fragmentShader),t.shaderSource(y,w+e.vertexShader),t.compileShader(v),t.compileShader(y),t.attachShader(p,v),t.attachShader(p,y),t.linkProgram(p),a=p,f={},l={},f.position=t.getAttribLocation(a,"position"),f.uv=t.getAttribLocation(a,"uv"),l.uvOffset=t.getUniformLocation(a,"uvOffset"),l.uvScale=t.getUniformLocation(a,"uvScale"),l.rotation=t.getUniformLocation(a,"rotation"),l.scale=t.getUniformLocation(a,"scale"),l.alignment=t.getUniformLocation(a,"alignment"),l.color=t.getUniformLocation(a,"color"),l.map=t.getUniformLocation(a,"map"),l.opacity=t.getUniformLocation(a,"opacity"),l.useScreenCoordinates=t.getUniformLocation(a,"useScreenCoordinates"),l.sizeAttenuation=t.getUniformLocation(a,"sizeAttenuation"),l.screenPosition=t.getUniformLocation(a,"screenPosition"),l.modelViewMatrix=t.getUniformLocation(a,"modelViewMatrix"),l.projectionMatrix=t.getUniformLocation(a,"projectionMatrix"),l.fogType=t.getUniformLocation(a,"fogType"),l.fogDensity=t.getUniformLocation(a,"fogDensity"),l.fogNear=t.getUniformLocation(a,"fogNear"),l.fogFar=t.getUniformLocation(a,"fogFar"),l.fogColor=t.getUniformLocation(a,"fogColor"),l.alphaTest=t.getUniformLocation(a,"alphaTest")},this.render=function(r,i,s,p){var d=r.__webglSprites,v=d.length;if(v){var y=f,w=l,E=p/s,s=.5*s,S=.5*p;t.useProgram(a),t.enableVertexAttribArray(y.position),t.enableVertexAttribArray(y.uv),t.disable(t.CULL_FACE),t.enable(t.BLEND),t.bindBuffer(t.ARRAY_BUFFER,o),t.vertexAttribPointer(y.position,2,t.FLOAT,!1,16,0),t.vertexAttribPointer(y.uv,2,t.FLOAT,!1,16,8),t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,u),t.uniformMatrix4fv(w.projectionMatrix,!1,i.projectionMatrix.elements),t.activeTexture(t.TEXTURE0),t.uniform1i(w.map,0);var x=y=0,T=r.fog;T?(t.uniform3f(w.fogColor,T.color.r,T.color.g,T.color.b),T instanceof THREE.Fog?(t.uniform1f(w.fogNear,T.near),t.uniform1f(w.fogFar,T.far),t.uniform1i(w.fogType,1),x=y=1):T instanceof THREE.FogExp2&&(t.uniform1f(w.fogDensity,T.density),t.uniform1i(w.fogType,2),x=y=2)):(t.uniform1i(w.fogType,0),x=y=0);for(var N,C,k=[],T=0;T<v;T++)N=d[T],C=N.material,N.visible&&0!==C.opacity&&(C.useScreenCoordinates?N.z=-N.position.z:(N._modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,N.matrixWorld),N.z=-N._modelViewMatrix.elements[14]));d.sort(e);for(T=0;T<v;T++)N=d[T],C=N.material,N.visible&&0!==C.opacity&&C.map&&C.map.image&&C.map.image.width&&(t.uniform1f(w.alphaTest,C.alphaTest),!0===C.useScreenCoordinates?(t.uniform1i(w.useScreenCoordinates,1),t.uniform3f(w.screenPosition,(N.position.x*n.devicePixelRatio-s)/s,(S-N.position.y*n.devicePixelRatio)/S,Math.max(0,Math.min(1,N.position.z))),k[0]=n.devicePixelRatio,k[1]=n.devicePixelRatio):(t.uniform1i(w.useScreenCoordinates,0),t.uniform1i(w.sizeAttenuation,C.sizeAttenuation?1:0),t.uniformMatrix4fv(w.modelViewMatrix,!1,N._modelViewMatrix.elements),k[0]=1,k[1]=1),i=r.fog&&C.fog?x:0,y!==i&&(t.uniform1i(w.fogType,i),y=i),i=1/(C.scaleByViewport?p:1),k[0]*=i*E*N.scale.x,k[1]*=i*N.scale.y,t.uniform2f(w.uvScale,C.uvScale.x,C.uvScale.y),t.uniform2f(w.uvOffset,C.uvOffset.x,C.uvOffset.y),t.uniform2f(w.alignment,C.alignment.x,C.alignment.y),t.uniform1f(w.opacity,C.opacity),t.uniform3f(w.color,C.color.r,C.color.g,C.color.b),t.uniform1f(w.rotation,N.rotation),t.uniform2fv(w.scale,k),n.setBlending(C.blending,C.blendEquation,C.blendSrc,C.blendDst),n.setDepthTest(C.depthTest),n.setDepthWrite(C.depthWrite),n.setTexture(C.map,0),t.drawElements(t.TRIANGLES,6,t.UNSIGNED_SHORT,0));t.enable(t.CULL_FACE)}}},THREE.DepthPassPlugin=function(){this.enabled=!1,this.renderTarget=null;var e,t,n,r,i,s,o=new THREE.Frustum,u=new THREE.Matrix4;this.init=function(o){e=o.context,t=o;var o=THREE.ShaderLib.depthRGBA,u=THREE.UniformsUtils.clone(o.uniforms);n=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:u}),r=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:u,morphTargets:!0}),i=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:u,skinning:!0}),s=new THREE.ShaderMaterial({fragmentShader:o.fragmentShader,vertexShader:o.vertexShader,uniforms:u,morphTargets:!0,skinning:!0}),n._shadowPass=!0,r._shadowPass=!0,i._shadowPass=!0,s._shadowPass=!0},this.render=function(e,t){this.enabled&&this.update(e,t)},this.update=function(l,p){var v,m,y,w,E,S;e.clearColor(1,1,1,1),e.disable(e.BLEND),t.setDepthTest(!0),!0===l.autoUpdate&&l.updateMatrixWorld(),p.matrixWorldInverse.getInverse(p.matrixWorld),u.multiplyMatrices(p.projectionMatrix,p.matrixWorldInverse),o.setFromMatrix(u),t.setRenderTarget(this.renderTarget),t.clear(),S=l.__webglObjects,v=0;for(m=S.length;v<m;v++)if(y=S[v],E=y.object,y.render=!1,E.visible&&(!(E instanceof THREE.Mesh||E instanceof THREE.ParticleSystem)||!E.frustumCulled||o.intersectsObject(E)))E._modelViewMatrix.multiplyMatrices(p.matrixWorldInverse,E.matrixWorld),y.render=!0;var x;v=0;for(m=S.length;v<m;v++)if(y=S[v],y.render&&(E=y.object,y=y.buffer,!(E instanceof THREE.ParticleSystem)||E.customDepthMaterial))(x=E.material instanceof THREE.MeshFaceMaterial?E.material.materials[0]:E.material)&&t.setMaterialFaces(E.material),w=0<E.geometry.morphTargets.length&&x.morphTargets,x=E instanceof THREE.SkinnedMesh&&x.skinning,w=E.customDepthMaterial?E.customDepthMaterial:x?w?s:i:w?r:n,y instanceof THREE.BufferGeometry?t.renderBufferDirect(p,l.__lights,null,w,y,E):t.renderBuffer(p,l.__lights,null,w,y,E);S=l.__webglObjectsImmediate,v=0;for(m=S.length;v<m;v++)y=S[v],E=y.object,E.visible&&(E._modelViewMatrix.multiplyMatrices(p.matrixWorldInverse,E.matrixWorld),t.renderImmediateObject(p,l.__lights,null,n,E));v=t.getClearColor(),m=t.getClearAlpha(),e.clearColor(v.r,v.g,v.b,m),e.enable(e.BLEND)}},THREE.ShaderFlares={lensFlareVertexTexture:{vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) ) +\ntexture2D( occlusionMap, vec2( 0.5, 0.1 ) ) +\ntexture2D( occlusionMap, vec2( 0.9, 0.1 ) ) +\ntexture2D( occlusionMap, vec2( 0.9, 0.5 ) ) +\ntexture2D( occlusionMap, vec2( 0.9, 0.9 ) ) +\ntexture2D( occlusionMap, vec2( 0.5, 0.9 ) ) +\ntexture2D( occlusionMap, vec2( 0.1, 0.9 ) ) +\ntexture2D( occlusionMap, vec2( 0.1, 0.5 ) ) +\ntexture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility = (       visibility.r / 9.0 ) *\n( 1.0 - visibility.g / 9.0 ) *\n(       visibility.b / 9.0 ) *\n( 1.0 - visibility.a / 9.0 );\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},lensFlare:{vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif( renderType == 2 ) {\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",fragmentShader:"precision mediump float;\nuniform lowp int renderType;\nuniform sampler2D map;\nuniform sampler2D occlusionMap;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvoid main() {\nif( renderType == 0 ) {\ngl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );\n} else if( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nfloat visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a +\ntexture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a +\ntexture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a +\ntexture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;\nvisibility = ( 1.0 - visibility / 4.0 );\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * visibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"}},THREE.ShaderSprite={sprite:{vertexShader:"uniform int useScreenCoordinates;\nuniform int sizeAttenuation;\nuniform vec3 screenPosition;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 alignment;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position + alignment;\nvec2 rotatedPosition;\nrotatedPosition.x = ( cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y ) * scale.x;\nrotatedPosition.y = ( sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y ) * scale.y;\nvec4 finalPosition;\nif( useScreenCoordinates != 0 ) {\nfinalPosition = vec4( screenPosition.xy + rotatedPosition, screenPosition.z, 1.0 );\n} else {\nfinalPosition = projectionMatrix * modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition * ( sizeAttenuation == 1 ? 1.0 : finalPosition.z );\n}\ngl_Position = finalPosition;\n}",fragmentShader:"uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfloat fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"}},define("threejs",function(e){return function(){var t,n;return t||e.THREE}}(this)),define("video",["settings","threejs"],function(e){var t=function(){var t=window.URL||window.webkitURL;if(!t.createObjectURL)throw new Error("URL.createObjectURL not found.");var n=function(e,t,n){var r=undefined;return navigator.getUserMedia?r=navigator.getUserMedia(e,t,n):navigator.webkitGetUserMedia?r=navigator.webkitGetUserMedia(e,t,n):navigator.mozGetUserMedia?r=navigator.mozGetUserMedia(e,t,n):navigator.msGetUserMedia?r=navigator.msGetUserMedia(e,t,n):n(new Error("No getUserMedia implementation found.")),r},r=!1,i=function(e){var n=document.querySelector("video"),i=t.createObjectURL(e);n.src=i,n.play(),r=!0,s&&s()},s=undefined,o=function(e){s=e,r&&e()},u=function(e){alert("Couldn't access webcam."),console.log(e)},a=document.createElement("video");a.width=640,a.height=480,a.loop=!0,a.volume=0,a.autoplay=!0,a.controls=!0;var f=document.getElementById("subsystem");f.appendChild(a),n({video:!0},i,u);var l=document.createElement("canvas");l.width=a.width,l.height=a.width*3/4;var c=l.getContext("2d");return console.log("mirrorMode:",e.mirrorMode),e.mirrorMode&&c.scale(-1,1),{waitForAuthorization:o,canvas:l,update:function(){e.mirrorMode?c.drawImage(a,-a.width,0):c.drawImage(a,0,0)}}}(),n=function(e){var t=new THREE.Camera,n=new THREE.Scene,r=new THREE.Texture(e),i=new THREE.Mesh(new THREE.PlaneGeometry(2,2,0),new THREE.MeshBasicMaterial({map:r}));return i.material.depthTest=!1,i.material.depthWrite=!1,n.add(i),{update:function(){r.needsUpdate=!0},camera:t,scene:n}},r=n(t.canvas);return{viewReality:r,videoCamera:t,update:function(e){t.update(),r.update()},render:function(e){r.render(e)},canvas:t.canvas}}),define("domReady",[],function(){function u(e){var t;for(t=0;t<e.length;t+=1)e[t](s)}function a(){var e=o;i&&e.length&&(o=[],u(e))}function f(){i||(i=!0,n&&clearInterval(n),a())}function c(e){return i?e(s):o.push(e),c}var e,t,n,r=typeof window!="undefined"&&window.document,i=!r,s=r?document:null,o=[];if(r){if(document.addEventListener)document.addEventListener("DOMContentLoaded",f,!1),window.addEventListener("load",f,!1);else if(window.attachEvent){window.attachEvent("onload",f),t=document.createElement("div");try{e=window.frameElement===null}catch(l){}t.doScroll&&e&&window.external&&(n=setInterval(function(){try{t.doScroll(),f()}catch(e){}},30))}document.readyState==="complete"&&f()}return c.version="2.0.1",c.load=function(e,t,n,r){r.isBuild?n(null):c(n)},c}),define("display3d",["domReady!","./settings","threejs"],function(e,t){var n=document.getElementById("camera"),r=new THREE.WebGLRenderer({canvas:n});r.setSize(t.renderWindowSize.width,t.renderWindowSize.height),r.autoClear=!1;var i=function(){r.context.colorMask(!1,!1,!1,!1),r.context.depthMask(!0)},s=function(){r.context.colorMask(!0,!0,!0,!0)},o=undefined,u=function(e){o=e},a=undefined,f=function(e){a=e},l=undefined,c=function(e){l=e},h=undefined,p=undefined,d=function(e,t){h=e,p=t},v=function(){r.render(p,h),i(),r.render(o,l),s(),r.render(a,l)},m={setCamera:c,setOcclusionScene:u,setScene:f,setVideo:d,render:v},g=function(e){var t=e.pageX-r.domElement.offsetLeft,n=e.pageY+r.domElement.offsetTop,i=t/r.domElement.width*2-1,s=-(n/r.domElement.height)*2+1;return new THREE.Vector3(i,s,1)};return m.toScreenXY=function(e,t){var r=n.width,i=n.height,s=r/2,o=i/2,u=new THREE.Projector,a=u.projectVector(e.clone(),t);return a.x=a.x*s+s,a.y=-(a.y*o)+o,a},m}),window.console||(console={log:function(){}}),ASVector=function(e){e=e||0;if(e.length){this.length=e.length;for(var t=0;t<e.length;t++)this[t]=e[t]}else{this.length=e;for(var t=0;t<e;t++)this[t]=0}},ASVector.prototype={},ASVector.prototype.set=function(e,t){e.length?ASVector.call(this,e):this[e]=t},typeof Float32Array=="undefined"?(FloatVector=ASVector,IntVector=ASVector,UintVector=ASVector):(FloatVector=Float32Array,IntVector=Int32Array,UintVector=Uint32Array),toInt=Math.floor,Object.extend=function(e,t){for(var n in t)try{e[n]=t[n]}catch(r){}return e},toArray=function(e){var t=new Array(e.length);for(var n=0;n<e.length;n++)t[n]=e[n];return t},Klass=function(){var e=function(){this.initialize&&this.initialize.apply(this,arguments)};e.ancestors=toArray(arguments),e.prototype={};for(var t=0;t<arguments.length;t++){var n=arguments[t];n.prototype?Object.extend(e.prototype,n.prototype):Object.extend(e.prototype,n)}return Object.extend(e,e.prototype),e},Object.asCopy=function(e){if(typeof e!="object")return e;if(e instanceof FloatVector){var t=new FloatVector(e.length);for(var n=0;n<t.length;n++)t[n]=e[n];return t}if(e instanceof IntVector){var t=new IntVector(e.length);for(var n=0;n<t.length;n++)t[n]=e[n];return t}if(e instanceof UintVector){var t=new UintVector(e.length);for(var n=0;n<t.length;n++)t[n]=e[n];return t}if(e instanceof Array)return e.map(Object.asCopy);var r={};for(var n in e){var t=e[n];typeof t=="object"&&(t=Object.asCopy(t)),r[n]=t}return r},ASKlass=function(e){var t=function(){var e=this.__copyObjects__;for(var t=0;t<e.length;t++)this[e[t]]=Object.asCopy(this[e[t]]);this.initialize&&this.initialize.apply(this,arguments)};t.ancestors=toArray(arguments).slice(1),t.prototype={};for(var n=1;n<arguments.length;n++){var r=arguments[n];r.prototype?Object.extend(t.prototype,r.prototype):Object.extend(t.prototype,r)}t.prototype.className=e,t.prototype.initialize=t.prototype[e],t.prototype.__copyObjects__=[];for(var n in t.prototype){var i=t.prototype[n];n!="__copyObjects__"&&typeof i=="object"&&t.prototype.__copyObjects__.push(n)}return Object.extend(t,t.prototype),t},BitmapData=Klass({initialize:function(e,t,n,r){this.width=e,this.height=t,this.transparent=n==null?!0:n,this.fill=r==null?4294967295:r,this.data=new UintVector(e*t);for(var i=0;i<this.data.length;i++)this.data[i]=r;this.rect=new Rectangle(0,0,this.width,this.height)},fillRect:function(e,t){var n=this.width,r=Math.clamp(e.y,0,this.height)*n,i=Math.clamp(e.y+e.height,0,this.height)*n,s=Math.clamp(e.x,0,this.width),o=Math.clamp(e.x+e.width,0,this.width),u=this.data;for(var a=r;a<i;a+=n)for(var f=s;f<o;f++)u[a+f]=t},getPixel32:function(e,t){return this.data[t*this.width+e]},setPixel32:function(e,t,n){return this.data[t*this.width+e]=n},getPixel:function(e,t){return this.data[t*this.width+e]&16777215},setPixel:function(e,t,n){return this.data[t*this.width+e]=n|this.data[t*this.width+e]&4278190080},getWidth:function(){return this.width},getHeight:function(){return this.height},copyPixels:function(e,t,n){var r=this.width,i=e.width,s=e.data,o=this.data,u=Math.clamp(n.y,0,this.height)*r,a=Math.clamp(n.y+t.height,0,this.height)*r,f=Math.clamp(n.x,0,this.width),l=Math.clamp(n.x+t.width,0,this.width),c=Math.clamp(t.y,0,e.height)*i,h=Math.clamp(t.y+t.height,0,e.height)*i,p=Math.clamp(t.x,0,e.width),d=Math.clamp(t.x+t.width,0,e.width);for(var v=c,m=u;v<h&&m<a;v+=i,m+=r)for(var g=p,y=f;g<d&&y<l;g++,y++)o[m+y]=s[v+g]},getColorBoundsRect:function(e,t,n){return n?this.getColorBoundsRect_true(e,t):this.getColorBoundsRect_false(e,t)},getColorBoundsRect_true:function(e,t){var n=this.width,r=this.height,i=0,s=0,o=this.width;h=this.height;var u=this.data,a=0,f=0;e:for(var l=0;l<h;l++){f=l*o-1;for(var c=0;c<o;c++){a=(u[++f]&e)-t;if(!a){n=i=c,r=s=l;break e}}}t:for(var l=h-1;l>r;l--){f=l*o-1;for(var c=0;c<o;c++){a=(u[++f]&e)-t;if(!a){c<n&&(n=c),c>i&&(i=c),s=l;break t}}}for(var l=r;l<=s;l++){f=l*o-1;for(var c=0;c<n;c++){a=(u[++f]&e)-t;if(!a){n=c;break}}f=l*o+o;for(var c=o-1;c>i;c--){a=(u[--f]&e)-t;if(!a){i=c;break}}}return new Rectangle(n,r,Math.max(0,i-n),Math.max(0,s-r))},getColorBoundsRect_false:function(e,t){var n=this.width,r=this.height,i=0,s=0,o=this.width;h=this.height;var u=this.data;e:for(var a=0;a<h;a++)for(var f=0;f<o;f++){var l=(u[a*o+f]&e)-t;if(l){n=i=f,r=s=a;break e}}t:for(var a=h-1;a>r;a--)for(var f=0;f<o;f++){var l=(u[a*o+f]&e)-t;if(l){f<n&&(n=f),f>i&&(i=f),s=a;break t}}for(var a=r;a<=s;a++){for(var f=0;f<n;f++){var l=(u[a*o+f]&e)-t;if(l){n=f;break}}for(var f=h-1;f>i;f--){var l=(u[a*o+f]&e)-t;if(l){i=f;break}}}return new Rectangle(n,r,Math.max(0,i-n),Math.max(0,s-r))},putImageData:function(e,t,n,r,i){r=Math.clamp(r,0,e.width),i=Math.clamp(i,0,e.height);var s=this.width,o=this.data,u=e.data,n=Math.clamp(n,0,this.height)*s,a=Math.clamp(n+i,0,this.height)*s,t=Math.clamp(t,0,this.width),f=Math.clamp(t+r,0,this.width);for(var l=n,c=0;l<a;l+=s,c+=e.width*4)for(var h=t,p=0;h<f;h++,p+=4)o[l+h]=u[c+p]<<16|u[c+p+1]<<8|u[c+p+2]|u[c+p+3]<<24},drawCanvas:function(e,t,n,r,i){this.putImageData(e.getContext("2d").getImageData(0,0,r,i),t,n,r,i)},drawOnCanvas:function(e){var t=e.getContext("2d"),n=t.getImageData(0,0,this.width,this.height),r=this.width,i=this.height*r,s=this.data,o=n.data;for(var u=0;u<i;u+=r)for(var a=0;a<r;a++){var f=4*(u+a),l=s[u+a];o[f]=l>>16&255,o[++f]=l>>8&255,o[++f]=l&255,o[++f]=l>>24&255}t.putImageData(n,0,0)},floodFill:function(e,t,n){var r=0,i=0,s=0,o=0,u=0,a=[],f=this.width,l=this.height,c=this.width,h=this.data;u=h[t*c+e];if(u==n||e<0||e>=f||t<0||t>=l)return;a.push([t,e,e,1]),a.push([t+1,e,e,-1]);while(a.length>0){var p=a.pop();t=p[0]+p[3],i=p[1],s=p[2],o=p[3];for(e=i;e>=0&&h[t*c+e]==u;e--)h[t*c+e]=n;if(e<i){r=e+1,r<i&&a.push([t,r,i-1,-o]),e=i+1;for(;e<f&&h[t*c+e]==u;e++)h[t*c+e]=n;a.push([t,r,e-1,o]),e>s+1&&a.push([t,s+1,e-1,-o])}for(e++;e<=s&&h[t*c+e]!=u;e++)null;r=e;while(e<=s){for(;e<f&&h[t*c+e]==u;e++)h[t*c+e]=n;a.push([t,r,e-1,o]),e>s+1&&a.push([t,s+1,e-1,-o]);for(e++;e<=s&&h[t*c+e]!=u;e++)null;r=e}}}}),Rectangle=Klass({initialize:function(e,t,n,r){this.x=e,this.y=t,this.top=t,this.left=e,this.bottom=t+r,this.right=e+n,this.width=n,this.height=r,this.updateCalc()},updateCalc:function(){this.top=this.y,this.left=this.x,this.bottom=this.y+this.height,this.right=this.x+this.width},clone:function(){return new Rectangle(this.x,this.y,this.width,this.height)},inflate:function(e,t){this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this.updateCalc()},isEmpty:function(){return this.width<=0&&this.height<=0}}),NyARException=Klass(Error,{initialize:function(e){Error.call(this,e)},trap:function(e){throw new NyARException("trap:"+e)},notImplement:function(){throw new NyARException("Not Implement!")}}),NyAS3Const_Inherited=Klass({}),NyAS3Utils=Klass({assert:function(e,t){if(!e)throw new Error("NyAS3Utils.assert:"+t!=null?t:"")}}),NyARVec=Klass({clm:null,v:null,initialize:function(e){this.v=new FloatVector(e),this.clm=e},getClm:function(){return this.clm},getArray:function(){return this.v}}),NyARMat=Klass({m:null,__matrixSelfInv_nos:null,clm:null,row:null,initialize:function(e,t){this.m=new Array(e);for(var n=0;n<e;n++){this.m[n]=new FloatVector(t);for(var r=0;r<t;r++)this.m[n][r]=0}this.__matrixSelfInv_nos=new FloatVector(e),this.clm=t,this.row=e;return},getClm:function(){return this.clm},getRow:function(){return this.row},getArray:function(){return this.m},matrixSelfInv:function(){var e=this.m,t=this.row,n=t-1,r,i,s,o,u,a,f=this.__matrixSelfInv_nos,l,c,h;switch(t){case 0:throw new NyARException;case 1:return e[0][0]=1/e[0][0],!0}var p;for(p=0;p<t;p++)f[p]=p;u=0;for(p=0;p<t;p++){r=e[p],l=0;for(var d=p;d<t;d++)l<(c=Math.abs(e[d][0]))&&(l=c,u=d);if(l==0)return!1;a=f[u],f[u]=f[p],f[p]=a,i=e[u];for(o=0;o<t;o++)h=i[o],i[o]=r[o],r[o]=h;h=r[0];for(o=0;o<n;o++)r[o]=r[o+1]/h;r[o]=1/h;for(d=0;d<t;d++)if(d!=p){s=e[d],h=s[0];for(o=0;o<n;o++)s[o]=s[o+1]-h*r[o];s[o]=-h*r[o]}}for(p=0;p<t;p++){for(o=p;o<t;o++)if(f[o]==p)break;f[o]=f[p];for(d=0;d<t;d++)s=e[d],h=s[o],s[o]=s[p],s[p]=h}return!0}}),ArrayUtils=ASKlass("ArrayUtils",{create2dInt:function(e,t){var n=new Array(e);for(var r=0;r<e;r++)n[r]=new IntVector(t);return n},create2dNumber:function(e,t){var n=new Array(e);for(var r=0;r<e;r++)n[r]=new FloatVector(t);return n},copyInt:function(e,t,n,r,i){for(var s=0;s<i;s++)n[r+s]=e[t+s]}}),ArrayUtil=ASKlass("ArrayUtil",{createJaggedArray:function(e){var t=new Array(e),n=toArray(arguments).slice(1);while(e--)t[e]=n.length?this.createJaggedArray.apply(null,n):0;return t},create2d:function(e,t){return this.createJaggedArray(e,t)},create3d:function(e,t,n){return this.createJaggedArray(e,t,n)},copy:function(e,t,n,r,i){for(var s=0;s<i;s++)n[r+s]=e[t+s]}}),FLARException=ASKlass("FLARException",NyARException,{FLARException:function(e){NyARException.initialize.call(this,e||"")},trap:function(e){throw new FLARException("trap:"+e)},notImplement:function(){throw new FLARException("Not Implement!")}}),FLARMat=NyARMat,FLARRgbPixelReader_BitmapData=ASKlass("FLARRgbPixelReader_BitmapData",{_ref_bitmap:null,FLARRgbPixelReader_BitmapData:function(e){this._ref_bitmap=e},getPixel:function(e,t,n){var r=this._ref_bitmap.getPixel(e,t);n[0]=r>>16&255,n[1]=r>>8&255,n[2]=r&255;return},getPixelSet:function(e,t,n,r){var i=this._ref_bitmap,s,o;for(o=0;o<n;o++)s=i.getPixel(e[o],t[o]),r[o*3+0]=s>>16&255,r[o*3+1]=s>>8&255,r[o*3+2]=s&255},setPixel:function(e,t,n){NyARException.notImplement()},setPixels:function(e,t,n,r){NyARException.notImplement()},switchBuffer:function(e){NyARException.notImplement()}}),FLARGrayPixelReader_BitmapData=ASKlass("FLARGrayPixelReader_BitmapData",{_ref_bitmap:null,FLARGrayPixelReader_BitmapData:function(e){this._ref_bitmap=e},getPixel:function(e,t,n,r){NyARException.notImplement();var i=this._ref_bitmap.getWidth(),s=this._ref_bitmap.getBuffer();r[0]=r[1]=r[2]=~s(e+i*t)&255},getPixelSet:function(e,t,n,r){var i=this._ref_bitmap.getWidth(),s=this._ref_bitmap.data;for(var o=0;o<n;o++)r[o]=~s[e[o]+i*t[o]]&255},setPixel:function(e,t,n){NyARException.notImplement()},setPixels:function(e,t,n,r){NyARException.notImplement()},switchBuffer:function(e){NyARException.notImplement()}}),INyARHistogramAnalyzer_Threshold=ASKlass("INyARHistogramAnalyzer_Threshold",{getThreshold:function(e){}}),NyARHistogramAnalyzer_SlidePTile=ASKlass("NyARHistogramAnalyzer_SlidePTile",INyARHistogramAnalyzer_Threshold,{_persentage:0,NyARHistogramAnalyzer_SlidePTile:function(e){NyAS3Utils.assert(0<=e&&e<=50),this._persentage=e},getThreshold:function(e){var t=e.length,n=e.total_of_data,r=e.data,i=n*this._persentage/100,s,o,u;s=i;for(u=0;u<t-2;u++){s-=r[u];if(s<=0)break}s=i;for(o=t-1;o>1;o--){s-=r[o];if(s<=0)break}return(o+u)/2}}),INyARPca2d=ASKlass("INyARPca2d",{pca:function(e,t,n,r,i,s){}}),NyARPca2d_MatrixPCA_O2=ASKlass("NyARPca2d_MatrixPCA_O2",INyARPca2d,{PCA_EPS:1e-6,PCA_MAX_ITER:100,PCA_VZERO:1e-16,PCA_QRM:function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d;f=e.m00,a=e.m01,l=e.m11,c=d=1,h=p=0;var v=0;do{v++;if(v>this.PCA_MAX_ITER)break;n=(f-l)/2,r=a*a,i=Math.sqrt(n*n+r),n<0&&(i=-i),s=f-l+r/(n+i),o=a,Math.abs(s)>=Math.abs(o)?Math.abs(s)>this.PCA_VZERO?(r=-o/s,u=1/Math.sqrt(r*r+1),i=r*u):(u=1,i=0):(r=-s/o,i=1/Math.sqrt(r*r+1),u=r*i),n=f-l,r=(n*i+2*u*a)*i,f-=r,l+=r,a+=i*(u*n-2*i*a),s=c,o=p,c=u*s-i*o,p=i*s+u*o,s=h,o=d,h=u*s-i*o,d=i*s+u*o}while(Math.abs(a)>this.PCA_EPS*(Math.abs(f)+Math.abs(l)));r=f,l>r?(r=l,l=f,f=r,e.m00=p,e.m01=d,e.m10=c,e.m11=h):(e.m00=c,e.m01=h,e.m10=p,e.m11=d),t[0]=f,t[1]=l;return},PCA_PCA:function(e,t,n,r,i,s){var o,u=0,a=0;for(o=0;o<n;o++)u+=e[o],a+=t[o];u/=n,a/=n;var f=Math.sqrt(n),l,c,h;l=c=h=0;for(o=0;o<n;o++){var p=(e[o]-u)/f,d=(t[o]-a)/f;l+=p*p,h+=p*d,c+=d*d}r.m00=l,r.m01=r.m10=h,r.m11=c,this.PCA_QRM(r,i),i[0]<this.PCA_VZERO&&(i[0]=0,r.m00=0,r.m01=0),i[1]<this.PCA_VZERO&&(i[1]=0,r.m10=0,r.m11=0),s[0]=u,s[1]=a;return},pca:function(e,t,n,r,i,s){this.PCA_PCA(e,t,n,r,i,s);var o=i[0]+i[1];i[0]/=o,i[1]/=o;return}}),INyARRgbPixelReader=ASKlass("INyARRgbPixelReader",{getPixel:function(e,t,n){},getPixelSet:function(e,t,n,r){},setPixel:function(e,t,n){},setPixels:function(e,t,n,r){},switchBuffer:function(e){}}),NyARRgbPixelReader_INT1D_X8R8G8B8_32=ASKlass("NyARRgbPixelReader_INT1D_X8R8G8B8_32",INyARRgbPixelReader,{_ref_buf:null,_size:null,NyARRgbPixelReader_INT1D_X8R8G8B8_32:function(e,t){this._ref_buf=e,this._size=t},getPixel:function(e,t,n){var r=this._ref_buf[e+t*this._size.w];n[0]=r>>16&255,n[1]=r>>8&255,n[2]=r&255;return},getPixelSet:function(e,t,n,r){var i=this._size.w,s=this._ref_buf;for(var o=n-1;o>=0;o--){var u=s[e[o]+t[o]*i];r[o*3+0]=u>>16&255,r[o*3+1]=u>>8&255,r[o*3+2]=u&255}return},setPixel:function(e,t,n){this._ref_buf[e+t*this._size.w]=n[0]<<16&255|n[1]<<8&255|n[2]&255},setPixels:function(e,t,n,r){throw new NyARException},switchBuffer:function(e){NyAS3Utils.assert(e.length>=this._size.w*this._size.h),this._ref_buf=e}}),NyARRgbPixelReader_Canvas2D=ASKlass("NyARRgbPixelReader_Canvas2D",INyARRgbPixelReader,{_ref_canvas:null,_data:null,NyARRgbPixelReader_Canvas2D:function(e){this._ref_canvas=e},getData:function(){if(this._ref_canvas.changed||!this._data){var e=this._ref_canvas,t=e.getContext("2d");this._data=t.getImageData(0,0,e.width,e.height),this._ref_canvas.changed=!1}return this._data},getPixel:function(e,t,n){var r=this.getData(),i=r.width,s=r.height,o=r.data;n[0]=o[t*i+e],n[1]=o[t*i+e+1],n[2]=o[t*i+e+2];return},getPixelSet:function(e,t,n,r){var i=this.getData(),s=i.width,o=i.height,u=i.data;for(var a=0;a<n;a++){var f=t[a]*s*4+e[a]*4;r[a*3+0]=u[f+0],r[a*3+1]=u[f+1],r[a*3+2]=u[f+2]}},setPixel:function(e,t,n){NyARException.notImplement()},setPixels:function(e,t,n,r){NyARException.notImplement()},switchBuffer:function(e){NyARException.notImplement()}}),INyARDoubleMatrix=Klass({setValue:function(e){},getValue:function(e){}}),NyARDoubleMatrix22=Klass(INyARDoubleMatrix,{m00:0,m01:0,m10:0,m11:0,setValue:function(e){this.m00=e[0],this.m01=e[1],this.m10=e[3],this.m11=e[4];return},getValue:function(e){e[0]=this.m00,e[1]=this.m01,e[3]=this.m10,e[4]=this.m11;return},inverse:function(e){var t,n,r,i;t=e.m00,n=e.m01,r=e.m10,i=e.m11;var s=t*i-n*r;return s==0?!1:(s=1/s,this.m00=i*s,this.m01=-n*s,this.m10=-r*s,this.m11=t*s,!0)}}),NyARDoubleMatrix33=Klass(INyARDoubleMatrix,{m00:0,m01:0,m02:0,m10:0,m11:0,m12:0,m20:0,m21:0,m22:0,createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARDoubleMatrix33;return t},setValue:function(e){this.m00=e[0],this.m01=e[1],this.m02=e[2],this.m10=e[3],this.m11=e[4],this.m12=e[5],this.m20=e[6],this.m21=e[7],this.m22=e[8];return},setValue_NyARDoubleMatrix33:function(e){this.m00=e.m00,this.m01=e.m01,this.m02=e.m02,this.m10=e.m10,this.m11=e.m11,this.m12=e.m12,this.m20=e.m20,this.m21=e.m21,this.m22=e.m22;return},getValue:function(e){e[0]=this.m00,e[1]=this.m01,e[2]=this.m02,e[3]=this.m10,e[4]=this.m11,e[5]=this.m12,e[6]=this.m20,e[7]=this.m21,e[8]=this.m22;return},inverse:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;t=e.m00,n=e.m01,r=e.m02,i=e.m10,s=e.m11,o=e.m12,u=e.m20,a=e.m21,f=e.m22,l=s*f-o*a,c=a*r-f*n,h=n*o-r*s,p=o*u-i*f,d=f*t-u*r,v=r*i-t*o,m=i*a-s*u,g=u*n-a*t,y=t*s-n*i;var b=t*l+i*c+u*h;return b==0?!1:(b=1/b,this.m00=l*b,this.m01=c*b,this.m02=h*b,this.m10=p*b,this.m11=d*b,this.m12=v*b,this.m20=m*b,this.m21=g*b,this.m22=y*b,!0)},getZXYAngle:function(e){var t=this.m21;t>=1?(e.x=Math.PI/2,e.y=0,e.z=Math.atan2(-this.m10,this.m00)):t<=-1?(e.x=-Math.PI/2,e.y=0,e.z=Math.atan2(-this.m10,this.m00)):(e.x=Math.asin(t),e.z=Math.atan2(-this.m01,this.m11),e.y=Math.atan2(-this.m20,this.m22))},setZXYAngle_NyARDoublePoint3d:function(e){this.setZXYAngle_Number(e.x,e.y,e.z);return},setZXYAngle_Number:function(e,t,n){var r=Math.sin(e),i=Math.cos(e),s=Math.sin(t),o=Math.cos(t),u=Math.sin(n),a=Math.cos(n);this.m00=a*o-u*r*s,this.m01=-u*i,this.m02=a*s+u*r*o,this.m10=u*o+a*r*s,this.m11=a*i,this.m12=u*s-a*r*o,this.m20=-i*s,this.m21=r,this.m22=o*i;return},transformVertex_NyARDoublePoint3d:function(e,t){transformVertex_double(e.x,e.y,e.z,t);return},transformVertex_double:function(e,t,n,r){r.x=this.m00*e+this.m01*t+this.m02*n,r.y=this.m10*e+this.m11*t+this.m12*n,r.z=this.m20*e+this.m21*t+this.m22*n;return}}),NyARDoubleMatrix34=Klass(INyARDoubleMatrix,{m00:0,m01:0,m02:0,m03:0,m10:0,m11:0,m12:0,m13:0,m20:0,m21:0,m22:0,m23:0,setValue:function(e){this.m00=e[0],this.m01=e[1],this.m02=e[2],this.m03=e[3],this.m10=e[4],this.m11=e[5],this.m12=e[6],this.m13=e[7],this.m20=e[8],this.m21=e[9],this.m22=e[10],this.m23=e[11];return},setValue_NyARDoubleMatrix34:function(e){this.m00=e.m00,this.m01=e.m01,this.m02=e.m02,this.m03=e.m03,this.m10=e.m10,this.m11=e.m11,this.m12=e.m12,this.m13=e.m13,this.m20=e.m20,this.m21=e.m21,this.m22=e.m22,this.m23=e.m23;return},getValue:function(e){e[0]=this.m00,e[1]=this.m01,e[2]=this.m02,e[3]=this.m03,e[4]=this.m10,e[5]=this.m11,e[6]=this.m12,e[7]=this.m13,e[8]=this.m20,e[9]=this.m21,e[10]=this.m22,e[11]=this.m23;return}}),NyARDoubleMatrix44=Klass(INyARDoubleMatrix,{m00:0,m01:0,m02:0,m03:0,m10:0,m11:0,m12:0,m13:0,m20:0,m21:0,m22:0,m23:0,m30:0,m31:0,m32:0,m33:0,createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARDoubleMatrix44;return t},setValue:function(e){this.m00=e[0],this.m01=e[1],this.m02=e[2],this.m03=e[3],this.m10=e[4],this.m11=e[5],this.m12=e[6],this.m13=e[7],this.m20=e[8],this.m21=e[9],this.m22=e[10],this.m23=e[11],this.m30=e[12],this.m31=e[13],this.m32=e[14],this.m33=e[15];return},getValue:function(e){e[0]=this.m00,e[1]=this.m01,e[2]=this.m02,e[3]=this.m03,e[4]=this.m10,e[5]=this.m11,e[6]=this.m12,e[7]=this.m13,e[8]=this.m20,e[9]=this.m21,e[10]=this.m22,e[11]=this.m23,e[12]=this.m30,e[13]=this.m31,e[14]=this.m32,e[15]=this.m33;return},inverse:function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F;t=e.m00,n=e.m01,r=e.m02,i=e.m03,s=e.m10,o=e.m11,u=e.m12,a=e.m13,f=e.m20,l=e.m21,c=e.m22,h=e.m23,p=e.m30,d=e.m31,v=e.m32,m=e.m33,D=c*m-h*v,P=h*d-l*m,H=l*v-c*d,B=h*p-f*m,j=f*v-c*p,F=f*d-l*p,g=o*D+u*P+a*H,E=-(u*B+a*j+s*D),N=a*F-s*P+o*B,A=-(s*H-o*j+u*F),D=v*i-m*r,P=m*n-d*i,H=d*r-v*n,B=m*t-p*i,j=p*r-v*t,F=p*n-d*t,y=-(l*D+c*P+h*H),S=c*B+h*j+f*D,C=-(h*F-f*P+l*B),O=f*H-l*j+c*F,D=r*a-i*u,P=i*o-n*a,H=n*u-r*o,B=i*s-t*a,j=t*u-r*s,F=t*o-n*s,b=d*D+v*P+m*H,x=-(v*B+m*j+p*D),k=m*F-p*P+d*B,M=-(p*H-d*j+v*F),D=u*h-a*c,P=a*l-o*h,H=o*c-u*l,B=a*f-s*h,j=s*c-u*f,F=s*l-o*f,w=-(n*D+r*P+i*H),T=r*B+i*j+t*D,L=-(i*F-t*P+n*B),_=t*H-n*j+r*F;var I=t*g+s*y+f*b+p*w;return I==0?!1:(I=1/I,this.m00=g*I,this.m01=y*I,this.m02=b*I,this.m03=w*I,this.m10=E*I,this.m11=S*I,this.m12=x*I,this.m13=T*I,this.m20=N*I,this.m21=C*I,this.m22=k*I,this.m23=L*I,this.m30=A*I,this.m31=O*I,this.m32=M*I,this.m33=_*I,!0)}}),NyARObjectStack=Klass({_items:null,_length:0,initialize:function(e){e=toInt(e),this._items=this.createArray(e),this._length=0;return},createArray:function(e){throw new NyARException},prePush:function(){if(this._length>=this._items.length)return null;var e=this._items[this._length];return this._length++,e},init:function(e){if(e>=this._items.length)throw new NyARException;this._length=e},pop:function(){return NyAS3Utils.assert(this._length>=1),this._length--,this._items[this._length]},pops:function(e){NyAS3Utils.assert(this._length>=e),this._length-=e;return},getArray:function(){return this._items},getItem:function(e){return this._items[e]},getLength:function(){return this._length},clear:function(){this._length=0}}),NyARIntPointStack=Klass(NyARObjectStack,{initialize:function(e){NyARObjectStack.initialize.call(this,e)},createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARIntPoint2d;return t}}),NyARIntRectStack=Klass({_items:null,_length:null,initialize:function(e){this._items=this.createArray(e),this._length=0;return},createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARIntRect;return t},prePush:function(){if(this._length>=this._items.length)return null;var e=this._items[this._length];return this._length++,e},init:function(e){if(e>=this._items.length)throw new NyARException;this._length=e},pop:function(){return NyAS3Utils.assert(this._length>=1),this._length--,this._items[this._length]},pops:function(e){NyAS3Utils.assert(this._length>=e),this._length-=e;return},getArray:function(){return this._items},getItem:function(e){return this._items[e]},getLength:function(){return this._length},clear:function(){this._length=0}}),NyARBufferType=Klass(function(){var e=65536,t=131072,n=196608,r=262144,i=1048576,s=16711680;return{NULL_ALLZERO:1,USER_DEFINE:s,BYTE1D_R8G8B8_24:e|1,BYTE1D_B8G8R8_24:e|2,BYTE1D_B8G8R8X8_32:e|257,BYTE1D_X8R8G8B8_32:e|258,BYTE1D_R5G6B5_16LE:e|513,BYTE1D_R5G6B5_16BE:e|514,WORD1D_R5G6B5_16LE:n|513,WORD1D_R5G6B5_16BE:n|514,INT2D:t|0,INT2D_GRAY_8:t|1,INT2D_BIN_8:t|2,INT1D:r|0,INT1D_GRAY_8:r|1,INT1D_BIN_8:r|2,INT1D_X8R8G8B8_32:r|258,INT1D_X7H9S8V8_32:r|259,OBJECT_Java:i|256,OBJECT_CS:i|512,OBJECT_AS3:i|768,OBJECT_JS:i|1024,OBJECT_Java_BufferedImage:i|256|1,OBJECT_AS3_BitmapData:i|768|1,OBJECT_JS_Canvas:i|1024|1}}()),NyARDoublePoint2d=Klass({x:0,y:0,createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARDoublePoint2d;return t},initialize:function(){switch(arguments.length){case 0:this.x=0,this.y=0;return;case 1:this.x=args[0].x,this.y=args[0].y;return;case 2:this.x=Number(args[0]),this.y=Number(args[1]);return;default:}throw new NyARException},setValue_NyARDoublePoint2d:function(e){this.x=e.x,this.y=e.y;return},setValue_NyARIntPoint2d:function(e){this.x=e.x,this.y=e.y;return},dist:function(){return Math.sqrt(this.x*this.x+this.y+this.y)},sqNorm:function(){return this.x*this.x+this.y+this.y}}),NyARDoublePoint3d=Klass({x:0,y:0,z:0,createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARDoublePoint3d;return t},setValue:function(e){this.x=e.x,this.y=e.y,this.z=e.z;return},dist:function(e){var t,n,r;return t=this.x-e.x,n=this.y-e.y,r=this.z-e.z,Math.sqrt(t*t+n*n+r*r)}}),NyARHistogram=Klass({data:null,length:0,total_of_data:0,initialize:function(e){this.data=new FloatVector(e),this.length=e,this.total_of_data=0},getTotal:function(e,t){NyAS3Utils.assert(e<t&&t<this.length);var n=0,r=this.data;for(var i=e;i<=t;i++)n+=r[i];return n},lowCut:function(e){var t=0;for(var n=0;n<e;n++)t+=this.data[n],this.data[n]=0;this.total_of_data-=t},highCut:function(e){var t=0;for(var n=this.length-1;n>=e;n--)t+=this.data[n],this.data[n]=0;this.total_of_data-=t},getMinSample:function(){var e=this.data,t=this.length-1,n=e[t];for(var r=this.length-2;r>=0;r--)e[r]<n&&(n=e[r],t=r);return t},getMinData:function(){return this.data[this.getMinSample()]},getAverage:function(){var e=0;for(var t=this.length-1;t>=0;t--)e+=this.data[t]*t;return toInt(e/this.total_of_data)}}),NyARIntPoint2d=Klass({x:0,y:0,createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARIntPoint2d;return t},copyArray:function(e,t){for(var n=e.length-1;n>=0;n--)t[n].x=e[n].x,t[n].y=e[n].y;return}}),NyARIntRect=Klass({x:0,y:0,w:0,h:0}),NyARIntSize=Klass({h:0,w:0,initialize:function(){switch(arguments.length){case 0:this.w=0,this.h=0;return;case 1:this.w=arguments[0].w,this.h=arguments[0].h;return;case 2:this.w=toInt(arguments[0]),this.h=toInt(arguments[1]);return;default:}throw new NyARException},isEqualSize_int:function(e,t){return e==this.w&&t==this.h?!0:!1},isEqualSize_NyARIntSize:function(e){return e.w==this.w&&e.h==this.h?!0:!1}}),NyARLinear=Klass({dx:0,dy:0,c:0,createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARLinear;return t},copyFrom:function(e){this.dx=e.dx,this.dy=e.dy,this.c=e.c;return},crossPos:function(e,t,n){var r=t.dy*e.dx-e.dy*t.dx;return r==0?!1:(n.x=(t.dx*e.c-e.dx*t.c)/r,n.y=(e.dy*t.c-t.dy*e.c)/r,!0)}}),IFLdoThFilterImpl=ASKlass("IFLdoThFilterImpl",{doThFilter:function(e,t,n,r){}}),FLARRasterFilter_Threshold=ASKlass("FLARRasterFilter_Threshold",{_threshold:0,_do_threshold_impl:null,FLARRasterFilter_Threshold:function(e){},setThreshold:function(e){this._threshold=e},doFilter:function(e,t){NyAS3Utils.assert(e._width==t._width&&e._height==t._height);var n=t.getBuffer(),r=e.getRgbPixelReader(),i=r.getData().data,s=n.data,o=this._threshold*1e4;for(var u=0,a=0;u<i.length;u+=4,++a){var f=i[u]*2989+i[u+1]*5866+i[u+2]*1145,l=f<=o?4294967295:4278190080;s[a]=l}if(window.DEBUG){var c=document.getElementById("debugCanvas");n.drawOnCanvas(c)}return}}),Point=function(e,t){this.x=e||0,this.y=t||0},doThFilterImpl_BUFFERFORMAT_OBJECT_AS_BitmapData={doThFilter:function(e,t,n){var r=t.getBuffer(),i=e.getBuffer(),s=i.data,o=r.data;for(var u=0;u<s.length;u++){var a=s[u],f=(a>>16&255)*.2989+(a>>8&255)*.5866+(a&255)*.1145,l=f<=n,c=l*4294967295+(1-l)*4278190080;o[j]=c}}},FLARDoublePoint2d=NyARDoublePoint2d,FLARDoublePoint3d=NyARDoublePoint3d,FLARIntSize=NyARIntSize,NyARLabelInfo=ASKlass("NyARLabelInfo",{area:0,clip_r:0,clip_l:0,clip_b:0,clip_t:0,pos_x:0,pos_y:0,NyARLabelInfo:function(){}}),NyARLabelInfoStack=ASKlass("NyARLabelInfoStack",{_items:null,_length:0,NyARLabelInfoStack:function(e){this._items=this.createArray(e),this._length=0;return},createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARLabelInfo;return t},sortByArea:function(){var e=this._length;if(e<1)return;var t=Math.floor(e*13/10),n=this._items;for(;;){var r=0;for(var i=0;i+t<e;i++)if(n[i+t].area>n[i].area){var s=n[i+t];n[i+t]=n[i],n[i]=s,r++}if(t==1){if(r==0)break}else t=Math.floor(t*10/13)}},prePush:function(){if(this._length>=this._items.length)return null;var e=this._items[this._length];return this._length++,e},init:function(e){if(e>=this._items.length)throw new NyARException;this._length=e},pop:function(){return NyAS3Utils.assert(this._length>=1),this._length--,this._items[this._length]},pops:function(e){NyAS3Utils.assert(this._length>=e),this._length-=e;return},getArray:function(){return this._items},getItem:function(e){return this._items[e]},getLength:function(){return this._length},clear:function(){this._length=0}}),NyARLabelOverlapChecker=ASKlass("NyARLabelOverlapChecker",{_labels:null,_length:0,NyARLabelOverlapChecker:function(e){this._labels=this.createArray(e)},createArray:function(e){return new Array(e)},push:function(e){this._labels[this._length]=e,this._length++},check:function(e){var t=this._labels,n=toInt(e.pos_x),r=toInt(e.pos_y);for(var i=this._length-1;i>=0;i--){var s=toInt(t[i].pos_x),o=toInt(t[i].pos_y),u=(n-s)*(n-s)+(r-o)*(r-o);if(u<t[i].area/4)return!1}return!0},setMaxLabels:function(e){e>this._labels.length&&(this._labels=this.createArray(e)),this._length=0}}),NyARLabeling_Rle=ASKlass("NyARLabeling_Rle",{AR_AREA_MAX:1e5,AR_AREA_MIN:70,_rlestack:null,_rle1:null,_rle2:null,_max_area:0,_min_area:0,NyARLabeling_Rle:function(e,t){this._rlestack=new RleInfoStack(e*t*2048/76800+32),this._rle1=RleElement.createArray(e/2+1),this._rle2=RleElement.createArray(e/2+1),this.setAreaRange(this.AR_AREA_MAX,this.AR_AREA_MIN);return},setAreaRange:function(e,t){this._max_area=e,this._min_area=t;return},toRLE:function(e,t,n,r,i){var s=0,o=0,u=1,a=2,f=3,l=-1,c=t,h=t+n-1;while(c<h){if(e[c]!=4294967295){c++;continue}l=c-t,r[s+o]=l,l++,c++;while(c<h){if(e[c]!=4294967295){r[s+u]=l,s+=f,c++,l=-1;break}l++,c++}}return e[c]!=4294967295?l>=0&&(r[s+u]=l,s+=f):(l>=0?r[s+u]=l+1:(r[s+o]=n-1,r[s+u]=n),s+=f),s/f},addFragment:function(e,t,n,r,i){var s=0,o=1,u=2,a=3,f=e[t+s],l=e[t+o],c=l-f;e[t+u]=n;var h=i.prePush();h.entry_x=f,h.area=c,h.clip_l=f,h.clip_r=l-1,h.clip_t=r,h.clip_b=r,h.pos_x=c*(2*f+(c-1))/2,h.pos_y=r*c;return},labeling_NyARBinRaster:function(e,t,n,r){return NyAS3Utils.assert(e.isEqualBufferType(NyARBufferType.INT1D_BIN_8)),this.imple_labeling(e,0,t,n,r)},labeling_NyARGrayscaleRaster:function(e,t,n,r,i){return NyAS3Utils.assert(e.isEqualBufferType(NyARBufferType.INT1D_GRAY_8)),this.imple_labeling(e,t,n,r,i)},labeling:function(e,t){return this.imple_labeling(e,0,0,e.getHeight(),t)},imple_labeling:function(e,t,n,r,i){var s=this._rlestack;s.clear();var o=this._rle1,u=this._rle2,a=0,f=0,l=e.getWidth(),c=e.getBuffer().data,h=0,p=0,d=0,v=1,m=2,g=3;a=this.toRLE(c,n,l,o,t);var y;for(y=0;y<a;y++)this.addFragment(o,y*g,h,n,s),h++,p++;var b=s.getArray();for(var w=n+1;w<r;w++){f=this.toRLE(c,w*l,l,u,t);var E=0;e:for(y=0;y<f;y++){var S=-1;t:while(E<a){if(u[y*g+d]-o[E*g+v]>0){E++;continue}if(o[E*g+d]-u[y*g+v]>0){this.addFragment(u,y*g,h,w,s),h++,p++;continue e}S=o[E*g+m];var x=b[S];u[y*g+m]=S;var T=u[y*g+d],N=u[y*g+v],C=N-T;x.area+=C,x.clip_l=T<x.clip_l?T:x.clip_l,x.clip_r=N>x.clip_r?N-1:x.clip_r,x.clip_b=w,x.pos_x+=C*(2*T+(C-1))/2,x.pos_y+=w*C,E++;while(E<a){if(u[y*g+d]-o[E*g+v]>0)break t;if(o[E*g+d]-u[y*g+v]>0){E--;continue e}var k=o[E*g+m],L=b[k];if(S!=k){p--;var A;for(A=E;A<a;A++)o[A*g+m]==k&&(o[A*g+m]=S);for(A=0;A<y;A++)u[A*g+m]==k&&(u[A*g+m]=S);x.area+=L.area,x.pos_x+=L.pos_x,x.pos_y+=L.pos_y,x.clip_t>L.clip_t?(x.clip_t=L.clip_t,x.entry_x=L.entry_x):x.clip_t<L.clip_t||x.entry_x>L.entry_x&&(x.entry_x=L.entry_x),x.clip_l>L.clip_l&&(x.clip_l=L.clip_l),x.clip_r<L.clip_r&&(x.clip_r=L.clip_r),L.area=0}E++}E--;break}S<0&&(this.addFragment(u,y*g,h,w,s),h++,p++)}var O=o;o=u,a=f,u=O}i.init(p);var M=i.getArray(),_=this._max_area,D=this._min_area,P=0;for(y=h-1;y>=0;y--){var H=b[y].area;if(H<D||H>_)continue;var B=b[y],j=M[P];j.area=H,j.clip_b=B.clip_b,j.clip_r=B.clip_r,j.clip_t=B.clip_t,j.clip_l=B.clip_l,j.entry_x=B.entry_x,j.pos_x=B.pos_x/B.area,j.pos_y=B.pos_y/B.area,P++}return i.pops(p-P),P}}),RleInfo=ASKlass("RleInfo",{entry_x:0,area:0,clip_r:0,clip_l:0,clip_b:0,clip_t:0,pos_x:0,pos_y:0}),RleInfoStack=ASKlass("RleInfoStack",NyARObjectStack,{RleInfoStack:function(e){NyARObjectStack.initialize.call(this,e);return},createArray:function(e){var t=new Array(toInt(e));for(var n=0;n<e;n++)t[n]=new RleInfo;return t}}),RleElement=ASKlass("RleElement",{l:0,r:0,fid:0,createArray:function(e){return new IntVector(toInt(e)*3);var t}}),NyARRleLabelFragmentInfo=ASKlass("NyARRleLabelFragmentInfo",NyARLabelInfo,{entry_x:0}),NyARRleLabelFragmentInfoStack=ASKlass("NyARRleLabelFragmentInfoStack",NyARLabelInfoStack,{NyARRleLabelFragmentInfoStack:function(e){NyARLabelInfoStack.initialize.call(this,e);return},createArray:function(e){var t=new Array(toInt(e));for(var n=0;n<e;n++)t[n]=new NyARRleLabelFragmentInfo;return t}}),FLARLabeling=ASKlass("FLARLabeling",{AR_AREA_MAX:1e5,AR_AREA_MIN:70,ZERO_POINT:new Point,ONE_POINT:new Point(1,1),hSearch:null,hLineRect:null,_tmp_bmp:null,areaMax:0,areaMin:0,FLARLabeling:function(e,t){this._tmp_bmp=new BitmapData(e,t,!1,0),this.hSearch=new BitmapData(e,1,!1,0),this.hLineRect=new Rectangle(0,0,1,1),this.setAreaRange(this.AR_AREA_MAX,this.AR_AREA_MIN);return},setAreaRange:function(e,t){this.areaMax=e,this.areaMin=t},labeling:function(e,t){var n=this._tmp_bmp;n.fillRect(n.rect,0);var r=n.rect.clone();r.inflate(-1,-1),n.copyPixels(e.getBuffer(),r,this.ONE_POINT);var i=n.getColorBoundsRect(16777215,16777215,!0),s=this.hLineRect;s.y=0,s.width=n.width;var o=this.hSearch,u,a,f=0,l;t.clear();while(!i.isEmpty()){s.y=i.top,o.copyPixels(n,s,this.ZERO_POINT),u=o.getColorBoundsRect(16777215,16777215,!0),n.floodFill(u.x,s.y,++f),a=n.getColorBoundsRect(16777215,f,!0),l=t.prePush();var c=a.width*a.height;if(c<=this.areaMax&&c>=this.areaMin){l.area=c,l.clip_l=a.left,l.clip_r=a.right-1,l.clip_t=a.top,l.clip_b=a.bottom-1,l.pos_x=(a.left+a.right-1)*.5,l.pos_y=(a.top+a.bottom-1)*.5,l.entry_x=this.getTopClipTangentX(n,f,l);if(l.entry_x==-1)return-1}else t.pop();i=n.getColorBoundsRect(16777215,16777215,!0)}return t.getLength()},getTopClipTangentX:function(e,t,n){var r,i=n.clip_r,s;for(s=n.clip_l;s<=i;s++){r=e.getPixel(s,n.clip_t);if(r>0&&r==t)return s}return-1}}),INyARCameraDistortionFactor=ASKlass("INyARCameraDistortionFactor",{ideal2Observ:function(e,t){},ideal2ObservBatch:function(e,t,n){},observ2Ideal:function(e,t,n){},observ2IdealBatch:function(e,t,n,r,i,s){}}),NyARCameraDistortionFactor=ASKlass("NyARCameraDistortionFactor",INyARCameraDistortionFactor,{PD_LOOP:3,_f0:0,_f1:0,_f2:0,_f3:0,copyFrom:function(e){this._f0=e._f0,this._f1=e._f1,this._f2=e._f2,this._f3=e._f3;return},setValue:function(e){this._f0=e[0],this._f1=e[1],this._f2=e[2],this._f3=e[3];return},getValue:function(e){e[0]=this._f0,e[1]=this._f1,e[2]=this._f2,e[3]=this._f3;return},changeScale:function(e){this._f0=this._f0*e,this._f1=this._f1*e,this._f2=this._f2/(e*e);return},ideal2Observ:function(e,t){var n=(e.x-this._f0)*this._f3,r=(e.y-this._f1)*this._f3;if(n==0&&r==0)t.x=this._f0,t.y=this._f1;else{var i=1-this._f2/1e8*(n*n+r*r);t.x=n*i+this._f0,t.y=r*i+this._f1}return},ideal2ObservBatch:function(e,t,n){var r,i,s=this._f0,o=this._f1,u=this._f3,a=this._f2/1e8;for(var f=0;f<n;f++){r=(e[f].x-s)*u,i=(e[f].y-o)*u;if(r==0&&i==0)t[f].x=s,t[f].y=o;else{var l=1-a*(r*r+i*i);t[f].x=r*l+s,t[f].y=i*l+o}}return},observ2Ideal:function(e,t,n){var r,i,s,o,u,a,f,l,c=this._f0,h=this._f1;a=e-c,f=t-h,s=this._f2/1e8,r=a*a+f*f,o=i=Math.sqrt(r);for(var p=1;;p++){if(i==0){a=0,f=0;break}l=s*r,u=i-((1-l)*i-o)/(1-3*l),a=a*u/i,f=f*u/i;if(p==this.PD_LOOP)break;r=a*a+f*f,i=Math.sqrt(r)}n.x=a/this._f3+c,n.y=f/this._f3+h;return},observ2IdealBatch:function(e,t,n,r,i,s){var o,u,a,f,l,c,h,p=this._f0,d=this._f1,v=this._f3,m=this._f2/1e8;for(var g=0;g<r;g++){l=e[n+g]-p,c=t[n+g]-d,o=l*l+c*c,a=u=Math.sqrt(o);for(var y=1;;y++){if(u==0){l=0,c=0;break}h=m*o,f=u-((1-h)*u-a)/(1-3*h),l=l*f/u,c=c*f/u;if(y==PD_LOOP)break;o=l*l+c*c,u=Math.sqrt(o)}i[g]=l/v+p,s[g]=c/v+d}return}}),NyARObserv2IdealMap=ASKlass("NyARObserv2IdealMap",{_stride:0,_mapx:null,_mapy:null,NyARObserv2IdealMap:function(e,t){var n=new NyARDoublePoint2d;this._mapx=new FloatVector(t.w*t.h),this._mapy=new FloatVector(t.w*t.h),this._stride=t.w;var r=t.h*t.w-1;for(var i=t.h-1;i>=0;i--)for(var s=t.w-1;s>=0;s--)e.observ2Ideal(s,i,n),this._mapx[r]=n.x,this._mapy[r]=n.y,r--;return},observ2Ideal:function(e,t,n){var r=e+t*this._stride;n.x=this._mapx[r],n.y=this._mapy[r];return},observ2IdealBatch:function(e,t,n,r,i,s,o){var u,a=o,f=this._mapx,l=this._mapy,c=this._stride;for(var h=0;h<r;h++)u=e[n+h]+t[n+h]*c,i[a]=f[u],s[a]=l[u],a++;return}}),NyARPerspectiveProjectionMatrix=ASKlass("NyARPerspectiveProjectionMatrix",NyARDoubleMatrix34,{dot:function(e,t,n,r,i,s){return e*r+t*i+n*s},norm:function(e,t,n){return Math.sqrt(e*e+t*t+n*n)},decompMat:function(e,t){var n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;this.m23>=0?(u=this.m00,a=this.m01,f=this.m02,l=this.m03,c=this.m10,h=this.m11,p=this.m12,d=this.m13,v=this.m20,m=this.m21,g=this.m22,y=this.m23):(u=-this.m00,a=-this.m01,f=-this.m02,l=-this.m03,c=-this.m10,h=-this.m11,p=-this.m12,d=-this.m13,v=-this.m20,m=-this.m21,g=-this.m22,y=-this.m23);var b=e.getArray(),w=t.getArray();for(n=0;n<3;n++)for(r=0;r<4;r++)b[n][r]=0;b[2][2]=this.norm(v,m,g),w[2][0]=v/b[2][2],w[2][1]=m/b[2][2],w[2][2]=g/b[2][2],w[2][3]=y/b[2][2],b[1][2]=this.dot(w[2][0],w[2][1],w[2][2],c,h,p),i=c-b[1][2]*w[2][0],s=h-b[1][2]*w[2][1],o=p-b[1][2]*w[2][2],b[1][1]=this.norm(i,s,o),w[1][0]=i/b[1][1],w[1][1]=s/b[1][1],w[1][2]=o/b[1][1],b[0][2]=this.dot(w[2][0],w[2][1],w[2][2],u,a,f),b[0][1]=this.dot(w[1][0],w[1][1],w[1][2],u,a,f),i=u-b[0][1]*w[1][0]-b[0][2]*w[2][0],s=a-b[0][1]*w[1][1]-b[0][2]*w[2][1],o=f-b[0][1]*w[1][2]-b[0][2]*w[2][2],b[0][0]=this.norm(i,s,o),w[0][0]=i/b[0][0],w[0][1]=s/b[0][0],w[0][2]=o/b[0][0],w[1][3]=(d-b[1][2]*w[2][3])/b[1][1],w[0][3]=(l-b[0][1]*w[1][3]-b[0][2]*w[2][3])/b[0][0];for(n=0;n<3;n++)for(r=0;r<3;r++)b[n][r]/=b[2][2];return},changeScale:function(e){this.m00=this.m00*e,this.m10=this.m10*e,this.m01=this.m01*e,this.m11=this.m11*e,this.m02=this.m02*e,this.m12=this.m12*e,this.m03=this.m03*e,this.m13=this.m13*e;return},projectionConvert_NyARDoublePoint3d:function(e,t){var n=e.z*this.m22;t.x=(e.x*this.m00+e.y*this.m01+e.z*this.m02)/n,t.y=(e.y*this.m11+e.z*this.m12)/n;return},projectionConvert_Number:function(e,t,n,r){var i=n*this.m22;r.x=(e*this.m00+t*this.m01+n*this.m02)/i,r.y=(t*this.m11+n*this.m12)/i;return}}),NyARParam=ASKlass("NyARParam",{_screen_size:new NyARIntSize,SIZE_OF_PARAM_SET:136,_dist:new NyARCameraDistortionFactor,_projection_matrix:new NyARPerspectiveProjectionMatrix,getScreenSize:function(){return this._screen_size},getPerspectiveProjectionMatrix:function(){return this._projection_matrix},getDistortionFactor:function(){return this._dist},copyCameraMatrix:function(e,t,n){var r=new FLARMat(3,4),i=new FLARMat(3,4),s=ArrayUtil.createJaggedArray(3,3),o=ArrayUtil.createJaggedArray(4,4),u=0,a=0,f=this.getScreenSize(),l=f.w,c=f.h;this.getPerspectiveProjectionMatrix().decompMat(i,r);var h=i.getArray(),p=r.getArray();for(u=0;u<4;u++)h[1][u]=(c-1)*h[2][u]-h[1][u];for(u=0;u<3;u++)for(a=0;a<3;a++)s[u][a]=h[u][a]/h[2][2];o[0][0]=2*s[0][0]/(l-1),o[0][1]=2*s[0][1]/(l-1),o[0][2]=-(2*s[0][2]/(l-1)-1),o[0][3]=0,o[1][0]=0,o[1][1]=-(2*s[1][1]/(c-1)),o[1][2]=-(2*s[1][2]/(c-1)-1),o[1][3]=0,o[2][0]=0,o[2][1]=0,o[2][2]=-(n+t)/(t-n),o[2][3]=2*n*t/(t-n),o[3][0]=0,o[3][1]=0,o[3][2]=1,o[3][3]=0;for(u=0;u<4;u++){for(a=0;a<3;a++)e[a*4+u]=o[u][0]*p[0][a]+o[u][1]*p[1][a]+o[u][2]*p[2][a];e[u+12]=o[u][0]*p[0][3]+o[u][1]*p[1][3]+o[u][2]*p[2][3]+o[u][3]}},setValue:function(e,t){this._dist.setValue(e),this._projection_matrix.setValue(t);return},changeScreenSize:function(e,t){var n=e/this._screen_size.w;this._dist.changeScale(n),this._projection_matrix.changeScale(n),this._screen_size.w=e,this._screen_size.h=t;return},loadARParam:function(e){var t=new FloatVector(12);e.endian=Endian.BIG_ENDIAN,this._screen_size.w=e.readInt(),this._screen_size.h=e.readInt();var n;for(n=0;n<12;n++)t[n]=e.readDouble();this._projection_matrix.setValue(t);for(n=0;n<4;n++)t[n]=e.readDouble();this._dist.setValue(t);return}}),FLARParam=ASKlass("FLARParam",NyARParam,{FLARParam:function(e,t){e=e||640,t=t||480,this._screen_size.w=e,this._screen_size.h=t;var n=e/t/(4/3),r=new FloatVector([e/2,1.1*t/2,26.2,1.0127565206658486]),i=new FloatVector([n*700.9514702992245,0,e/2-.5,0,0,726.0941816535367,t/2-.5,0,0,0,1,0]);this.setValue(r,i)}}),INyARRaster=ASKlass("INyARRaster",{getWidth:function(){},getHeight:function(){},getSize:function(){},getBuffer:function(){},getBufferType:function(){},isEqualBufferType:function(e){},hasBuffer:function(){},wrapBuffer:function(e){}}),NyARRaster_BasicClass=ASKlass("NyARRaster_BasicClass",INyARRaster,{_size:null,_buffer_type:0,NyARRaster_BasicClass:function(){switch(arguments.length){case 1:arguments[0]==NyAS3Const_Inherited;break;case 3:this.overload_NyARRaster_BasicClass(toInt(arguments[0]),toInt(arguments[1]),toInt(arguments[2]));break;default:throw new NyARException}},overload_NyARRaster_BasicClass:function(e,t,n){this._size=new NyARIntSize(e,t),this._buffer_type=n},getWidth:function(){return this._size.w},getHeight:function(){return this._size.h},getSize:function(){return this._size},getBufferType:function(){return this._buffer_type},isEqualBufferType:function(e){return this._buffer_type==e},getBuffer:function(){throw new NyARException},hasBuffer:function(){throw new NyARException},wrapBuffer:function(e){throw new NyARException}}),NyARBinRaster=ASKlass("NyARBinRaster",NyARRaster_BasicClass,{_buf:null,_is_attached_buffer:null,NyARBinRaster:function(){NyARRaster_BasicClass.initialize.call(this,NyAS3Const_Inherited);switch(arguments.length){case 1:arguments[0]==NyAS3Const_Inherited;break;case 2:this.override_NyARBinRaster2(toInt(arguments[0]),toInt(arguments[1]));break;case 3:this.override_NyARBinRaster3(toInt(arguments[0]),toInt(arguments[1]),Boolean(arguments[2]));break;case 4:this.override_NyARBinRaster4(toInt(arguments[0]),toInt(arguments[1]),toInt(arguments[2]),Boolean(arguments[3]));break;default:throw new NyARException}},override_NyARBinRaster4:function(e,t,n,r){NyARRaster_BasicClass.overload_NyARRaster_BasicClass.call(this,e,t,n);if(!this.initInstance(this._size,n,r))throw new NyARException},override_NyARBinRaster3:function(e,t,n){NyARRaster_BasicClass.overload_NyARRaster_BasicClass.call(this,e,t,NyARBufferType.INT1D_BIN_8);if(!this.initInstance(this._size,NyARBufferType.INT1D_BIN_8,n))throw new NyARException},override_NyARBinRaster2:function(e,t){NyARRaster_BasicClass.overload_NyARRaster_BasicClass.call(this,e,t,NyARBufferType.INT1D_BIN_8);if(!this.initInstance(this._size,NyARBufferType.INT1D_BIN_8,!0))throw new NyARException},initInstance:function(e,t,n){switch(t){case NyARBufferType.INT1D_BIN_8:this._buf=n?new IntVector(e.w*e.h):null;break;default:return!1}return this._is_attached_buffer=n,!0},getBuffer:function(){return this._buf},hasBuffer:function(){return this._buf!=null},wrapBuffer:function(e){NyAS3Utils.assert(!this._is_attached_buffer),this._buf=e}}),NyARGrayscaleRaster=ASKlass("NyARGrayscaleRaster",NyARRaster_BasicClass,{_buf:null,_is_attached_buffer:null,NyARGrayscaleRaster:function(){NyARRaster_BasicClass.initialize.call(this,NyAS3Const_Inherited);switch(arguments.length){case 1:arguments[0]==NyAS3Const_Inherited;break;case 2:this.overload_NyARGrayscaleRaster2(toInt(arguments[0]),toInt(arguments[1]));break;case 3:this.overload_NyARGrayscaleRaster3(toInt(arguments[0]),toInt(arguments[1]),Boolean(arguments[2]));break;case 4:this.overload_NyARGrayscaleRaster4(toInt(arguments[0]),toInt(arguments[1]),toInt(arguments[2]),Boolean(arguments[3]));break;default:throw new NyARException}},overload_NyARGrayscaleRaster2:function(e,t){NyARRaster_BasicClass.overload_NyARRaster_BasicClass.call(this,e,t,NyARBufferType.INT1D_GRAY_8);if(!this.initInstance(this._size,NyARBufferType.INT1D_GRAY_8,!0))throw new NyARException},overload_NyARGrayscaleRaster3:function(e,t,n){NyARRaster_BasicClass.overload_NyARRaster_BasicClass.call(this,e,t,NyARBufferType.INT1D_GRAY_8);if(!this.initInstance(this._size,NyARBufferType.INT1D_GRAY_8,n))throw new NyARException},overload_NyARGrayscaleRaster4:function(e,t,n,r){NyARRaster_BasicClass.overload_NyARRaster_BasicClass.call(this,e,t,n);if(!this.initInstance(this._size,n,r))throw new NyARException},initInstance:function(e,t,n){switch(t){case NyARBufferType.INT1D_GRAY_8:this._buf=n?new IntVector(e.w*e.h):null;break;default:return!1}return this._is_attached_buffer=n,!0},getBuffer:function(){return this._buf},hasBuffer:function(){return this._buf!=null},wrapBuffer:function(e){NyAS3Utils.assert(!this._is_attached_buffer),this._buf=e}}),NyARRaster=ASKlass("NyARRaster",NyARRaster_BasicClass,{_buf:null,_buf_type:0,_is_attached_buffer:null,NyARRaster:function(){NyARRaster_BasicClass.initialize.call(this,NyAS3Const_Inherited);switch(arguments.length){case 1:arguments[0]==NyAS3Const_Inherited;break;case 3:this.overload_NyARRaster3(toInt(arguments[0]),toInt(arguments[1]),toInt(arguments[2]));break;case 4:this.overload_NyARRaster4(toInt(arguments[0]),toInt(arguments[1]),toInt(arguments[2]),Boolean(arguments[3]));break;default:throw new NyARException}},overload_NyARRaster4:function(e,t,n,r){NyARRaster_BasicClass.overload_NyARRaster_BasicClass.call(this,e,t,n);if(!this.initInstance(this._size,n,r))throw new NyARException;return},overload_NyARRaster3:function(e,t,n){NyARRaster_BasicClass.overload_NyARRaster_BasicClass.call(this,e,t,n);if(!this.initInstance(this._size,n,!0))throw new NyARException;return},initInstance:function(e,t,n){switch(t){case NyARBufferType.INT1D_X8R8G8B8_32:this._buf=n?new IntVector(e.w*e.h):null;break;default:return!1}return this._is_attached_buffer=n,!0},getBuffer:function(){return this._buf},hasBuffer:function(){return this._buf!=null},wrapBuffer:function(e){NyAS3Utils.assert(!this._is_attached_buffer),this._buf=e}}),INyARRgbRaster=ASKlass("INyARRgbRaster",INyARRaster,{getRgbPixelReader:function(){}}),NyARRgbRaster_BasicClass=ASKlass("NyARRgbRaster_BasicClass",INyARRgbRaster,{_size:null,_buffer_type:0,NyARRgbRaster_BasicClass:function(){switch(arguments.length){case 1:arguments[0]==NyAS3Const_Inherited;break;case 3:this.overload_NyARRgbRaster_BasicClass(toInt(arguments[0]),toInt(arguments[1]),toInt(arguments[2]));break;default:throw new NyARException}},overload_NyARRgbRaster_BasicClass:function(e,t,n){this._size=new NyARIntSize(e,t),this._buffer_type=n},getWidth:function(){return this._size.w},getHeight:function(){return this._size.h},getSize:function(){return this._size},getBufferType:function(){return this._buffer_type},isEqualBufferType:function(e){return this._buffer_type==e},getRgbPixelReader:function(){throw new NyARException},getBuffer:function(){throw new NyARException},hasBuffer:function(){throw new NyARException},wrapBuffer:function(e){throw new NyARException}}),NyARRgbRaster=ASKlass("NyARRgbRaster",NyARRgbRaster_BasicClass,{_buf:null,_reader:null,_is_attached_buffer:null,NyARRgbRaster:function(){NyARRgbRaster_BasicClass.initialize.call(this,NyAS3Const_Inherited);switch(arguments.length){case 1:arguments[0]==NyAS3Const_Inherited;break;case 3:this.overload_NyARRgbRaster3(toInt(arguments[0]),toInt(arguments[1]),toInt(arguments[2]));break;case 4:this.overload_NyARRgbRaster4(toInt(arguments[0]),toInt(arguments[1]),toInt(arguments[2]),Boolean(arguments[3]));break;default:throw new NyARException}},overload_NyARRgbRaster4:function(e,t,n,r){NyARRgbRaster_BasicClass.overload_NyARRgbRaster_BasicClass.call(this,e,t,n);if(!this.initInstance(this._size,n,r))throw new NyARException},overload_NyARRgbRaster3:function(e,t,n){NyARRgbRaster_BasicClass.overload_NyARRgbRaster_BasicClass.call(this,e,t,n);if(!this.initInstance(this._size,n,!0))throw new NyARException},initInstance:function(e,t,n){switch(t){case NyARBufferType.INT1D_X8R8G8B8_32:this._buf=n?new IntVector(e.w*e.h):null,this._reader=new NyARRgbPixelReader_INT1D_X8R8G8B8_32(this._buf||new IntVector(1),e);break;case NyARBufferType.BYTE1D_B8G8R8X8_32:case NyARBufferType.BYTE1D_R8G8B8_24:default:return!1}return this._is_attached_buffer=n,!0},getRgbPixelReader:function(){return this._reader},getBuffer:function(){return this._buf},hasBuffer:function(){return this._buf!=null},wrapBuffer:function(e){NyAS3Utils.assert(!this._is_attached_buffer),this._buf=e,this._reader.switchBuffer(e)}}),NyARRgbRaster_Canvas2D=ASKlass("NyARRgbRaster_Canvas2D",NyARRgbRaster_BasicClass,{_canvas:null,_rgb_reader:null,NyARRgbRaster_Canvas2D:function(e){NyARRgbRaster_BasicClass.initialize.call(this,e.width,e.height,NyARBufferType.OBJECT_JS_Canvas),this._canvas=e,this._rgb_reader=new NyARRgbPixelReader_Canvas2D(this._canvas)},getRgbPixelReader:function(){return this._rgb_reader},getBuffer:function(){return this._canvas},hasBuffer:function(){return this._bitmapData!=null}}),FLARCanvas=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},FLARBinRaster=ASKlass("FLARBinRaster",NyARBinRaster,{FLARBinRaster:function(e,t){NyARBinRaster.initialize.call(this,e,t,NyARBufferType.OBJECT_AS3_BitmapData,!0),this._gray_reader=new FLARGrayPixelReader_BitmapData(this._buf)},initInstance:function(e,t,n){return this._buf=n?new BitmapData(e.w,e.h,0):null,!0},getGrayPixelReader:function(){return this._gray_reader}}),FLARRgbRaster_BitmapData=ASKlass("FLARRgbRaster_BitmapData",NyARRgbRaster_BasicClass,{_bitmapData:null,_rgb_reader:null,FLARRgbRaster_BitmapData:function(e){NyARRgbRaster_BasicClass.initialize.call(this,e.width,e.height,NyARBufferType.OBJECT_AS3_BitmapData),this._bitmapData=e,this._rgb_reader=new FLARRgbPixelReader_BitmapData(this._bitmapData)},getRgbPixelReader:function(){return this._rgb_reader},getBuffer:function(){return this._bitmapData},hasBuffer:function(){return this._bitmapData!=null}}),NyARMatchPattDeviationBlackWhiteData=ASKlass("NyARMatchPattDeviationBlackWhiteData",{_data:null,_pow:0,_number_of_pixels:0,refData:function(){return this._data},getPow:function(){return this._pow},NyARMatchPattDeviationBlackWhiteData:function(e,t){this._number_of_pixels=t*e,this._data=new IntVector(this._number_of_pixels);return},setRaster:function(e){var t,n,r,i=this._data,s=e.getBuffer(),o=this._number_of_pixels;n=0;for(t=o-1;t>=0;t--)r=s[t],n+=(r>>16&255)+(r>>8&255)+(r&255);n=(o*255*3-n)/(3*o);var u=0,a;for(t=o-1;t>=0;t--)r=s[t],a=(765-(r&255)-(r>>8&255)-(r>>16&255))/3-n,i[t]=a,u+=a*a;var f=Math.sqrt(u);this._pow=f!=0?f:1e-7;return}}),NyARMatchPattDeviationColorData=ASKlass("NyARMatchPattDeviationColorData",{_data:null,_pow:0,_number_of_pixels:0,_optimize_for_mod:0,refData:function(){return this._data},getPow:function(){return this._pow},NyARMatchPattDeviationColorData:function(e,t){this._number_of_pixels=t*e,this._data=new IntVector(this._number_of_pixels*3),this._optimize_for_mod=this._number_of_pixels-this._number_of_pixels%8;return},setRaster:function(e){NyAS3Utils.assert(e.isEqualBufferType(NyARBufferType.INT1D_X8R8G8B8_32)),NyAS3Utils.assert(e.getSize().isEqualSize_NyARIntSize(e.getSize()));var t=e.getBuffer(),n,r,i,s=this._data,o=this._number_of_pixels,u=this._optimize_for_mod;r=0;for(n=o-1;n>=u;n--)i=t[n],r+=(i>>16&255)+(i>>8&255)+(i&255);for(;n>=0;)i=t[n],r+=(i>>16&255)+(i>>8&255)+(i&255),n--,i=t[n],r+=(i>>16&255)+(i>>8&255)+(i&255),n--,i=t[n],r+=(i>>16&255)+(i>>8&255)+(i&255),n--,i=t[n],r+=(i>>16&255)+(i>>8&255)+(i&255),n--,i=t[n],r+=(i>>16&255)+(i>>8&255)+(i&255),n--,i=t[n],r+=(i>>16&255)+(i>>8&255)+(i&255),n--,i=t[n],r+=(i>>16&255)+(i>>8&255)+(i&255),n--,i=t[n],r+=(i>>16&255)+(i>>8&255)+(i&255),n--;r=o*255*3-r,r=255-r/(o*3);var a=0,f,l=o*3-1;for(n=o-1;n>=u;n--)i=t[n],f=r-(i&255),s[l--]=f,a+=f*f,f=r-(i>>8&255),s[l--]=f,a+=f*f,f=r-(i>>16&255),s[l--]=f,a+=f*f;for(;n>=0;)i=t[n],n--,f=r-(i&255),s[l--]=f,a+=f*f,f=r-(i>>8&255),s[l--]=f,a+=f*f,f=r-(i>>16&255),s[l--]=f,a+=f*f,i=t[n],n--,f=r-(i&255),s[l--]=f,a+=f*f,f=r-(i>>8&255),s[l--]=f,a+=f*f,f=r-(i>>16&255),s[l--]=f,a+=f*f,i=t[n],n--,f=r-(i&255),s[l--]=f,a+=f*f,f=r-(i>>8&255),s[l--]=f,a+=f*f,f=r-(i>>16&255),s[l--]=f,a+=f*f,i=t[n],n--,f=r-(i&255),s[l--]=f,a+=f*f,f=r-(i>>8&255),s[l--]=f,a+=f*f,f=r-(i>>16&255),s[l--]=f,a+=f*f,i=t[n],n--,f=r-(i&255),s[l--]=f,a+=f*f,f=r-(i>>8&255),s[l--]=f,a+=f*f,f=r-(i>>16&255),s[l--]=f,a+=f*f,i=t[n],n--,f=r-(i&255),s[l--]=f,a+=f*f,f=r-(i>>8&255),s[l--]=f,a+=f*f,f=r-(i>>16&255),s[l--]=f,a+=f*f,i=t[n],n--,f=r-(i&255),s[l--]=f,a+=f*f,f=r-(i>>8&255),s[l--]=f,a+=f*f,f=r-(i>>16&255),s[l--]=f,a+=f*f,i=t[n],n--,f=r-(i&255),s[l--]=f,a+=f*f,f=r-(i>>8&255),s[l--]=f,a+=f*f,f=r-(i>>16&255),s[l--]=f,a+=f*f;var c=Math.sqrt(a);this._pow=c!=0?c:1e-7;return}}),NyARMatchPattResult=ASKlass("NyARMatchPattResult",{DIRECTION_UNKNOWN:-1,confidence:0,direction:0}),NyARCode=ASKlass("NyARCode",{_color_pat:new Array(4),_bw_pat:new Array(4),_width:0,_height:0,NyARCode:function(e,t){this._width=e,this._height=t;for(var n=0;n<4;n++)this._color_pat[n]=new NyARMatchPattDeviationColorData(e,t),this._bw_pat[n]=new NyARMatchPattDeviationBlackWhiteData(e,t);return},getColorData:function(e){return this._color_pat[e]},getBlackWhiteData:function(e){return this._bw_pat[e]},getWidth:function(){return this._width},getHeight:function(){return this._height},loadARPattFromFile:function(e){NyARCodeFileReader.loadFromARToolKitFormFile(e,this);return},setRaster:function(e){NyAS3Utils.assert(e.length!=4);for(var t=0;t<4;t++)this._color_pat[t].setRaster(e[t]);return}}),NyARCodeFileReader=ASKlass("NyARCodeFileReader",{loadFromARToolKitFormFile:function(e,t){var n=t.getWidth(),r=t.getHeight(),i=new NyARRaster(n,r,NyARBufferType.INT1D_X8R8G8B8_32),s=e.match(/\d+/g),o=i.getBuffer();for(var u=0;u<4;u++)this.readBlock(s,n,r,o),t.getColorData(u).setRaster(i),t.getBlackWhiteData(u).setRaster(i);i=null;return},readBlock:function(e,t,n,r){var i=t*n,s;for(s=0;s<3;s++)for(var o=0;o<i;o++){var u=parseInt(e.shift());if(isNaN(u))throw new NyARException("syntax error in pattern file.");r[o]=r[o]<<8|255&toInt(u)}for(s=0;s<i;s++)r[s]=r[s]<<16&16711680|r[s]&65280|r[s]>>16&255;return}}),FLARCode=ASKlass("FLARCode",NyARCode,{markerPercentWidth:50,markerPercentHeight:50,FLARCode:function(e,t,n,r){NyARCode.initialize.call(this,e,t),this.markerPercentWidth=n==null?50:n,this.markerPercentHeight=r==null?50:r},loadARPatt:function(e){NyARCode.loadARPattFromFile.call(this,e);return}}),INyARMatchPatt=ASKlass("INyARMatchPatt",{setARCode:function(e){}}),NyARMatchPatt_Color_WITHOUT_PCA=ASKlass("NyARMatchPatt_Color_WITHOUT_PCA",INyARMatchPatt,{_code_patt:null,_optimize_for_mod:0,_rgbpixels:0,NyARMatchPatt_Color_WITHOUT_PCA:function(){switch(arguments.length){case 1:var e=arguments[0],t=e.getWidth(),n=e.getHeight();this._rgbpixels=t*n*3,this._optimize_for_mod=this._rgbpixels-this._rgbpixels%16,this.setARCode(e);return;case 2:var r=toInt(arguments[0]),i=toInt(arguments[1]);this._rgbpixels=i*r*3,this._optimize_for_mod=this._rgbpixels-this._rgbpixels%16;return;default:}throw new NyARException},setARCode:function(e){this._code_patt=e;return},evaluate:function(e,t){NyAS3Utils.assert(this._code_patt!=null);var n=e.refData(),r,i=Number.MIN_VALUE,s=NyARMatchPattResult.DIRECTION_UNKNOWN,o=this._optimize_for_mod;for(var u=0;u<4;u++){r=0;var a=this._code_patt.getColorData(u),f=a.refData(),l;for(l=this._rgbpixels-1;l>=o;l--)r+=n[l]*f[l];for(;l>=0;)r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--,r+=n[l]*f[l],l--;var c=r/a.getPow();c>i&&(i=c,s=u)}return t.direction=s,t.confidence=i/e.getPow(),!0}}),NyARRasterAnalyzer_Histogram=ASKlass("NyARRasterAnalyzer_Histogram",{_histImpl:null,_vertical_skip:0,NyARRasterAnalyzer_Histogram:function(e,t){if(!this.initInstance(e,t))throw new NyARException},initInstance:function(e,t){switch(e){case NyARBufferType.INT1D_GRAY_8:this._histImpl=new NyARRasterThresholdAnalyzer_Histogram_INT1D_GRAY_8;break;case NyARBufferType.INT1D_X8R8G8B8_32:this._histImpl=new NyARRasterThresholdAnalyzer_Histogram_INT1D_X8R8G8B8_32;break;default:return!1}return this._vertical_skip=t,!0},setVerticalInterval:function(e){this._vertical_skip=e;return},analyzeRaster:function(e,t){var n=e.getSize();NyAS3Utils.assert(n.w*n.h<1073741824),NyAS3Utils.assert(t.length==256);var r=t.data;for(var i=t.length-1;i>=0;i--)r[i]=0;return t.total_of_data=n.w*n.h/this._vertical_skip,this._histImpl.createHistogram(e,n,r,this._vertical_skip)}}),ICreateHistogramImpl=ASKlass("ICreateHistogramImpl",{createHistogram:function(e,t,n,r){}}),NyARRasterThresholdAnalyzer_Histogram_INT1D_GRAY_8=ASKlass("NyARRasterThresholdAnalyzer_Histogram_INT1D_GRAY_8",ICreateHistogramImpl,{createHistogram:function(e,t,n,r){NyAS3Utils.assert(e.isEqualBufferType(NyARBufferType.INT1D_GRAY_8));var i=IntVector(e.getBuffer());for(var s=t.h-1;s>=0;s-=r){var o=s*t.w;for(var u=t.w-1;u>=0;u--)n[i[o]]++,o++}return t.w*t.h}}),NyARRasterThresholdAnalyzer_Histogram_INT1D_X8R8G8B8_32=ASKlass("NyARRasterThresholdAnalyzer_Histogram_INT1D_X8R8G8B8_32",ICreateHistogramImpl,{createHistogram:function(e,t,n,r){NyAS3Utils.assert(e.isEqualBufferType(NyARBufferType.INT1D_X8R8G8B8_32));var i=e.getBuffer();for(var s=t.h-1;s>=0;s-=r){var o=s*t.w;for(var u=t.w-1;u>=0;u--){var a=i[o];n[((a&255)+(a&255)+(a&255))/3]++,o++}}return t.w*t.h}}),INyARRasterThresholdAnalyzer=ASKlass("INyARRasterThresholdAnalyzer",{analyzeRaster:function(e){}}),NyARRasterThresholdAnalyzer_SlidePTile=ASKlass("NyARRasterThresholdAnalyzer_SlidePTile",INyARRasterThresholdAnalyzer,{_raster_analyzer:null,_sptile:null,_histgram:null,NyARRasterThresholdAnalyzer_SlidePTile:function(e,t,n){NyAS3Utils.assert(0<=e&&e<=50);if(!this.initInstance(t,n))throw new NyARException;this._sptile=new NyARHistogramAnalyzer_SlidePTile(e),this._histgram=new NyARHistogram(256)},initInstance:function(e,t){return this._raster_analyzer=new NyARRasterAnalyzer_Histogram(e,t),!0},setVerticalInterval:function(e){this._raster_analyzer.setVerticalInterval(e);return},analyzeRaster:function(e){return this._raster_analyzer.analyzeRaster(e,this._histgram),this._sptile.getThreshold(this._histgram)}}),FLARRasterAnalyzer_Histogram=ASKlass("FLARRasterAnalyzer_Histogram",NyARRasterAnalyzer_Histogram,{FLARRasterAnalyzer_Histogram:function(e){NyARRasterAnalyzer_Histogram.initialize.call(this,NyARBufferType.OBJECT_AS3_BitmapData,e)},initInstance:function(e,t){return e!=NyARBufferType.OBJECT_AS3_BitmapData?!1:(this._vertical_skip=t,!0)},analyzeRaster:function(e,t){var n=e.getSize();NyAS3Utils.assert(n.w*n.h<1073741824),NyAS3Utils.assert(t.length==256);var r=t.data;for(var i=t.length-1;i>=0;i--)r[i]=0;return t.total_of_data=n.w*n.h/this._vertical_skip,this.createHistgram_AS3_BitmapData(e,n,r,this._vertical_skip)},createHistgram_AS3_BitmapData:function(e,t,n,r){NyAS3Utils.assert(e.isEqualBufferType(NyARBufferType.OBJECT_AS3_BitmapData));var i=e.getBuffer();for(var s=t.h-1;s>=0;s-=r){var o=s*t.w;for(var u=t.w-1;u>=0;u--){var a=i.getPixel(u,s);n[toInt(((a>>8&255)+(a>>16&255)+(a&255))/3)]++,o++}}return t.w*t.h}}),FLARRasterThresholdAnalyzer_SlidePTile=ASKlass("FLARRasterThresholdAnalyzer_SlidePTile",NyARRasterThresholdAnalyzer_SlidePTile,{FLARRasterThresholdAnalyzer_SlidePTile:function(e,t){NyARRasterThresholdAnalyzer_SlidePTile.initialize.call(this,e,NyARBufferType.OBJECT_AS3_BitmapData,t)},initInstance:function(e,t){return e!=NyARBufferType.OBJECT_AS3_BitmapData?!1:(this._raster_analyzer=new FLARRasterAnalyzer_Histogram(t),!0)}}),INyARRasterFilter=ASKlass("INyARRasterFilter",{doFilter:function(e,t){}}),INyARRasterFilter_Gs2Bin=ASKlass("INyARRasterFilter_Gs2Bin",{doFilter:function(e,t){}}),INyARRasterFilter_Rgb2Gs=ASKlass("INyARRasterFilter_Rgb2Gs",{doFilter:function(e,t){}}),INyARRasterFilter_Rgb2Bin=ASKlass("INyARRasterFilter_Rgb2Bin",{doFilter:function(e,t){}}),NyARRasterFilter_ARToolkitThreshold=ASKlass("NyARRasterFilter_ARToolkitThreshold",INyARRasterFilter_Rgb2Bin,{_threshold:0,_do_threshold_impl:null,NyARRasterFilter_ARToolkitThreshold:function(e,t){this._threshold=e;switch(t){case NyARBufferType.INT1D_X8R8G8B8_32:this._do_threshold_impl=new doThFilterImpl_BUFFERFORMAT_INT1D_X8R8G8B8_32;break;default:throw new NyARException}},setThreshold:function(e){this._threshold=e},doFilter:function(e,t){NyAS3Utils.assert(t.isEqualBufferType(NyARBufferType.INT1D_BIN_8)),NyAS3Utils.assert(e.getSize().isEqualSize_NyARIntSize(t.getSize())==1),this._do_threshold_impl.doThFilter(e,t,t.getSize(),this._threshold);return}}),IdoThFilterImpl=ASKlass("IdoThFilterImpl",{doThFilter:function(e,t,n,r){}}),doThFilterImpl_BUFFERFORMAT_INT1D_X8R8G8B8_32=ASKlass("doThFilterImpl_BUFFERFORMAT_INT1D_X8R8G8B8_32",IdoThFilterImpl,{doThFilter:function(e,t,n,r){NyAS3Utils.assert(t.isEqualBufferType(NyARBufferType.INT1D_BIN_8));var i=IntVector(t.getBuffer()),s=IntVector(e.getBuffer()),o=r*3,u,a,f=n.h*n.w,l=f-f%8;for(a=f-1;a>=l;a--)u=s[a],i[a]=(u>>16&255)+(u>>8&255)+(u&255)<=o?0:1;for(;a>=0;)u=s[a],i[a]=(u>>16&255)+(u>>8&255)+(u&255)<=o?0:1,a--,u=s[a],i[a]=(u>>16&255)+(u>>8&255)+(u&255)<=o?0:1,a--,u=s[a],i[a]=(u>>16&255)+(u>>8&255)+(u&255)<=o?0:1,a--,u=s[a],i[a]=(u>>16&255)+(u>>8&255)+(u&255)<=o?0:1,a--,u=s[a],i[a]=(u>>16&255)+(u>>8&255)+(u&255)<=o?0:1,a--,u=s[a],i[a]=(u>>16&255)+(u>>8&255)+(u&255)<=o?0:1,a--,u=s[a],i[a]=(u>>16&255)+(u>>8&255)+(u&255)<=o?0:1,a--,u=s[a],i[a]=(u>>16&255)+(u>>8&255)+(u&255)<=o?0:1,a--}}),NyARContourPickup=ASKlass("NyARContourPickup",{_getContour_xdir:new IntVector([0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1]),_getContour_ydir:new IntVector([-1,-1,0,1,1,1,0,-1,-1,-1,0,1,1,1,0]),getContour_NyARBinRaster:function(e,t,n,r,i,s){return this.impl_getContour(e,0,t,n,r,i,s)},getContour_NyARGrayscaleRaster:function(e,t,n,r,i,s,o){return this.impl_getContour(e,t,n,r,i,s,o)},impl_getContour:function(e,t,n,r,i,s,o){var u=this._getContour_xdir,a=this._getContour_ydir,f=e.getBuffer(),l=e.getWidth(),c=e.getHeight(),h=1;s[0]=n,o[0]=r;var p=5,d=n,v=r;for(;;){p=(p+5)%8;if(d>=1&&d<l-1&&v>=1&&v<c-1)for(;;){if(f[(v+a[p])*l+(d+u[p])]<=t)break;p++;if(f[(v+a[p])*l+(d+u[p])]<=t)break;p++;if(f[(v+a[p])*l+(d+u[p])]<=t)break;p++;if(f[(v+a[p])*l+(d+u[p])]<=t)break;p++;if(f[(v+a[p])*l+(d+u[p])]<=t)break;p++;if(f[(v+a[p])*l+(d+u[p])]<=t)break;p++;if(f[(v+a[p])*l+(d+u[p])]<=t)break;p++;if(f[(v+a[p])*l+(d+u[p])]<=t)break;throw new NyARException}else{var m;for(m=0;m<8;m++){var g=d+u[p],y=v+a[p];if(g>=0&&g<l&&y>=0&&y<c&&f[y*l+g]<=t)break;p++}if(m==8)throw new NyARException}p%=8,d+=u[p],v+=a[p],s[h]=d,o[h]=v;if(d==n&&v==r){h++;break}h++;if(h==i)return h}return h}}),NyARCoord2Linear=ASKlass("NyARCoord2Linear",{_xpos:null,_ypos:null,_pca:null,__getSquareLine_evec:new NyARDoubleMatrix22,__getSquareLine_mean:new FloatVector(2),__getSquareLine_ev:new FloatVector(2),_dist_factor:null,NyARCoord2Linear:function(e,t){this._dist_factor=new NyARObserv2IdealMap(t,e),this._pca=new NyARPca2d_MatrixPCA_O2,this._xpos=new FloatVector(e.w+e.h),this._ypos=new FloatVector(e.w+e.h);return},coord2Line:function(e,t,n,r,i,s){var o,u,a,f;t>=e?(f=(t-e+1)*.05+.5,u=Math.floor(e+f),a=Math.floor(t-f)):(f=(t+i-e+1)%i*.05+.5,u=Math.floor(e+f)%i,a=Math.floor(t+i-f)%i),u<=a?(o=a-u+1,this._dist_factor.observ2IdealBatch(n,r,u,o,this._xpos,this._ypos,0)):(o=a+1+i-u,this._dist_factor.observ2IdealBatch(n,r,u,i-u,this._xpos,this._ypos,0),this._dist_factor.observ2IdealBatch(n,r,0,a+1,this._xpos,this._ypos,i-u));if(o<2)return!1;var l=this.__getSquareLine_evec,c=this.__getSquareLine_mean;return this._pca.pca(this._xpos,this._ypos,o,l,this.__getSquareLine_ev,c),s.dy=l.m01,s.dx=-l.m00,s.c=-(s.dy*c[0]+s.dx*c[1]),!0}}),NyARVertexCounter=ASKlass("NyARVertexCounter",{vertex:new IntVector(10),number_of_vertex:0,thresh:0,x_coord:null,y_coord:null,getVertex:function(e,t,n,r,i,s){return this.number_of_vertex=0,this.thresh=s,this.x_coord=e,this.y_coord=t,this.get_vertex(r,i,n)},get_vertex:function(e,t,n){var r,i,s=0,o=this.x_coord,u=this.y_coord,a=u[t]-u[e],f=o[e]-o[t],l=o[t]*u[e]-u[t]*o[e],c=0;if(e<t)for(r=e+1;r<t;r++)i=a*o[r]+f*u[r]+l,i*i>c&&(c=i*i,s=r);else{for(r=e+1;r<n;r++)i=a*o[r]+f*u[r]+l,i*i>c&&(c=i*i,s=r);for(r=0;r<t;r++)i=a*o[r]+f*u[r]+l,i*i>c&&(c=i*i,s=r)}if(c/(a*a+f*f)>this.thresh){if(!this.get_vertex(e,s,n))return!1;if(this.number_of_vertex>5)return!1;this.vertex[this.number_of_vertex]=s,this.number_of_vertex++;if(!this.get_vertex(s,t,n))return!1}return!0}}),NyARCoord2SquareVertexIndexes=ASKlass("NyARCoord2SquareVertexIndexes",{VERTEX_FACTOR:1,__getSquareVertex_wv1:new NyARVertexCounter,__getSquareVertex_wv2:new NyARVertexCounter,NyARCoord2SquareVertexIndexes:function(){return},getVertexIndexes:function(e,t,n,r,i){var s=this.__getSquareVertex_wv1,o=this.__getSquareVertex_wv2,u=this.getFarPoint(e,t,n,0),a=(u+n)%n,f=this.getFarPoint(e,t,n,u),l=r/.75*.01*this.VERTEX_FACTOR;i[0]=u;if(!s.getVertex(e,t,n,u,f,l))return!1;if(!o.getVertex(e,t,n,f,a,l))return!1;var c;if(s.number_of_vertex==1&&o.number_of_vertex==1)i[1]=s.vertex[0],i[2]=f,i[3]=o.vertex[0];else if(s.number_of_vertex>1&&o.number_of_vertex==0){f>=u?c=(f-u)/2+u:c=((f+n-u)/2+u)%n;if(!s.getVertex(e,t,n,u,c,l))return!1;if(!o.getVertex(e,t,n,c,f,l))return!1;if(s.number_of_vertex!=1||o.number_of_vertex!=1)return!1;i[1]=s.vertex[0],i[2]=o.vertex[0],i[3]=f}else{if(!(s.number_of_vertex==0&&o.number_of_vertex>1))return!1;f<=a?c=(f+a)/2:c=(f+n+a)/2%n;if(!s.getVertex(e,t,n,f,c,l))return!1;if(!o.getVertex(e,t,n,c,a,l))return!1;if(s.number_of_vertex!=1||o.number_of_vertex!=1)return!1;i[1]=f,i[2]=s.vertex[0],i[3]=o.vertex[0]}return!0},getFarPoint:function(e,t,n,r){var i=e[r],s=t[r],o=0,u,a,f,l=0,c;for(c=r+1;c<n;c++)a=e[c]-i,f=t[c]-s,u=a*a+f*f,u>o&&(o=u,l=c);for(c=0;c<r;c++)a=e[c]-i,f=t[c]-s,u=a*a+f*f,u>o&&(o=u,l=c);return l}}),NyARSquare=ASKlass("NyARSquare",{line:NyARLinear.createArray(4),sqvertex:NyARDoublePoint2d.createArray(4),getCenter2d:function(e){e.x=(this.sqvertex[0].x+this.sqvertex[1].x+this.sqvertex[2].x+this.sqvertex[3].x)/4,e.y=(this.sqvertex[0].y+this.sqvertex[1].y+this.sqvertex[2].y+this.sqvertex[3].y)/4;return}}),NyARSquareContourDetector=ASKlass("NyARSquareContourDetector",{detectMarkerCB:function(e,t){NyARException.trap("getRgbPixelReader not implemented.")}}),NyARSquareContourDetector_IDetectMarkerCallback=ASKlass("NyARSquareContourDetector_IDetectMarkerCallback",{onSquareDetect:function(e,t,n,r,i){}}),RleLabelOverlapChecker=ASKlass("RleLabelOverlapChecker",NyARLabelOverlapChecker,{RleLabelOverlapChecker:function(e){NyARLabelOverlapChecker.initialize.call(this,e)},createArray:function(e){return new Array(e)}}),NyARSquareContourDetector_Rle=ASKlass("NyARSquareContourDetector_Rle",NyARSquareContourDetector,{AR_AREA_MAX:1e5,AR_AREA_MIN:70,_width:0,_height:0,_labeling:null,_overlap_checker:new RleLabelOverlapChecker(32),_cpickup:new NyARContourPickup,_stack:null,_coord2vertex:new NyARCoord2SquareVertexIndexes,_max_coord:0,_xcoord:null,_ycoord:null,NyARSquareContourDetector_Rle:function(e){this._width=e.w,this._height=e.h,this._labeling=new NyARLabeling_Rle(this._width,this._height),this._labeling.setAreaRange(this.AR_AREA_MAX,this.AR_AREA_MIN),this._stack=new NyARRleLabelFragmentInfoStack(e.w*e.h*2048/76800+32);var t=(this._width+this._height)*2;this._max_coord=t,this._xcoord=new IntVector(t),this._ycoord=new IntVector(t);return},__detectMarker_mkvertex:new IntVector(4),detectMarkerCB:function(e,t){var n=this._stack,r=this._overlap_checker,i=this._labeling.labeling_NyARBinRaster(e,0,e.getHeight(),n);if(i<1)return;n.sortByArea();var s=n.getArray(),o=this._width,u=this._height,a=this._xcoord,f=this._ycoord,l=this._max_coord,c=this.__detectMarker_mkvertex;r.setMaxLabels(i);for(var h=0;h<i;h++){var p=s[h],d=p.area;if(p.clip_l==0||p.clip_r==o-1)continue;if(p.clip_t==0||p.clip_b==u-1)continue;if(!r.check(p))continue;var v=_cpickup.getContour_NyARBinRaster(e,p.entry_x,p.clip_t,l,a,f);if(v==l)continue;if(!this._coord2vertex.getVertexIndexes(a,f,v,d,c))continue;t.onSquareDetect(this,a,f,v,c),r.push(p)}return}}),NyARSquareStack=ASKlass("NyARSquareStack",NyARObjectStack,{NyARSquareStack:function(e){NyARObjectStack.initialize.call(this,e)},createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARSquare;return t}}),FLARSquare=NyARSquare,Cxdir=new IntVector([0,1,1,1,0,-1,-1,-1]),Cydir=new IntVector([-1,-1,0,1,1,1,0,-1]),FLContourPickup=ASKlass("FLContourPickup",NyARContourPickup,{FLContourPickup:function(){},getContour_FLARBinRaster:function(e,t,n,r,i,s){var o=this._getContour_xdir,u=this._getContour_ydir,a=e.getBuffer(),f=e.getWidth(),l=e.getHeight(),c=1;i[0]=t,s[0]=n;var h=5,p=t,d=n;for(;;){h=(h+5)%8;if(p>=1&&p<f-1&&d>=1&&d<l-1)for(;;){if(a.getPixel(p+o[h],d+u[h])>0)break;h++;if(a.getPixel(p+o[h],d+u[h])>0)break;h++;if(a.getPixel(p+o[h],d+u[h])>0)break;h++;if(a.getPixel(p+o[h],d+u[h])>0)break;h++;if(a.getPixel(p+o[h],d+u[h])>0)break;h++;if(a.getPixel(p+o[h],d+u[h])>0)break;h++;if(a.getPixel(p+o[h],d+u[h])>0)break;h++;if(a.getPixel(p+o[h],d+u[h])>0)break;return-1}else{var v;for(v=0;v<8;v++){var m=p+o[h],g=d+u[h];if(m>=0&&m<f&&g>=0&&g<l&&a.getPixel(g,m)>0)break;h++}if(v==8)return-1}h%=8,p+=o[h],d+=u[h],i[c]=p,s[c]=d;if(p==t&&d==n){c++;break}c++;if(c==r)return c}return c}}),FLARSquareContourDetector=ASKlass("FLARSquareContourDetector",NyARSquareContourDetector,{AR_AREA_MAX:1e5,AR_AREA_MIN:70,_width:0,_height:0,_labeling:null,_overlap_checker:new NyARLabelOverlapChecker(32),_cpickup:new FLContourPickup,_stack:null,_coord2vertex:new NyARCoord2SquareVertexIndexes,_max_coord:0,_xcoord:null,_ycoord:null,FLARSquareContourDetector:function(e){this._width=e.w,this._height=e.h,this._labeling=new NyARLabeling_Rle(this._width,this._height),this._stack=new NyARRleLabelFragmentInfoStack(e.w*e.h*2048/76800+32);var t=(this._width+this._height)*2;this._max_coord=t,this._xcoord=new IntVector(t),this._ycoord=new IntVector(t);return},setAreaRange:function(e,t){this._labeling.setAreaRange(e,t)},__detectMarker_mkvertex:new IntVector(4),detectMarkerCB:function(e,t){var n=this._stack,r=this._overlap_checker,i=this._labeling.labeling(e,n);if(i<1)return;n.sortByArea();var s=n.getArray(),o=this._width,u=this._height,a=this._xcoord,f=this._ycoord,l=this._max_coord,c=this.__detectMarker_mkvertex;r.setMaxLabels(i);for(var h=0;h<i;h++){var p=s[h],d=p.area;if(p.clip_l==0||p.clip_r==o-1)continue;if(p.clip_t==0||p.clip_b==u-1)continue;if(!r.check(p))continue;if(window.DEBUG){var v=document.getElementById("debugCanvas").getContext("2d");v.strokeStyle="red",v.strokeRect(p.clip_l,p.clip_t,p.clip_r-p.clip_l,p.clip_b-p.clip_t),v.fillStyle="red",v.fillRect(p.entry_x-1,p.clip_t-1,3,3),v.fillStyle="cyan",v.fillRect(p.pos_x-1,p.pos_y-1,3,3)}var m=this._cpickup.getContour_FLARBinRaster(e,p.entry_x,p.clip_t,l,a,f);if(m==-1)return-1;if(m==l)continue;var g=this._coord2vertex.getVertexIndexes(a,f,m,d,c);if(!g)continue;t.onSquareDetect(this,a,f,m,c),r.push(p)}return}}),INyARTransMat=Klass({transMat:function(e,t,n){},transMatContinue:function(e,t,n){}}),NyARRectOffset=ASKlass("NyARRectOffset",{vertex:NyARDoublePoint3d.createArray(4),createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARRectOffset;return t},setSquare:function(e){var t=e/2,n;n=this.vertex[0],n.x=-t,n.y=t,n.z=0,n=this.vertex[1],n.x=t,n.y=t,n.z=0,n=this.vertex[2],n.x=t,n.y=-t,n.z=0,n=this.vertex[3],n.x=-t,n.y=-t,n.z=0;return}}),NyARTransMat=ASKlass("NyARTransMat",INyARTransMat,{_projection_mat_ref:null,_rotmatrix:null,_transsolver:null,_mat_optimize:null,_ref_dist_factor:null,NyARTransMat:function(e){var t=e.getDistortionFactor(),n=e.getPerspectiveProjectionMatrix();this._transsolver=new NyARTransportVectorSolver(n,4),this._rotmatrix=new NyARRotMatrix(n),this._mat_optimize=new NyARPartialDifferentiationOptimize(n),this._ref_dist_factor=t,this._projection_mat_ref=n,this.__transMat_vertex_2d=NyARDoublePoint2d.createArray(4),this.__transMat_vertex_3d=NyARDoublePoint3d.createArray(4),this.__transMat_trans=new NyARDoublePoint3d,this.__rot=new NyARDoubleMatrix33},makeErrThreshold:function(e){var t,n,r,i;return t=e[0].x-e[2].x,n=e[0].y-e[2].y,r=t*t+n*n,t=e[1].x-e[3].x,n=e[1].y-e[3].y,i=t*t+n*n,Math.sqrt(r>i?r:i)/200},transMat:function(e,t,n){var r=this.__transMat_trans,i=this.makeErrThreshold(e.sqvertex),s=this.__transMat_vertex_2d,o=this.__transMat_vertex_3d;this._ref_dist_factor.ideal2ObservBatch(e.sqvertex,s,4),this._transsolver.set2dVertex(s,4),this._rotmatrix.initRotBySquare(e.line,e.sqvertex),this._rotmatrix.getPoint3dBatch(t.vertex,o,4),this._transsolver.solveTransportVector(o,r),n.error=this.optimize(this._rotmatrix,r,this._transsolver,t.vertex,s,i),this.updateMatrixValue(this._rotmatrix,r,n);return},transMatContinue:function(e,t,n){var r=this.__transMat_trans;if(!n.has_value){this.transMat(e,t,n);return}var i=this.makeErrThreshold(e.sqvertex),s=this.__transMat_vertex_2d,o=this.__transMat_vertex_3d;this._ref_dist_factor.ideal2ObservBatch(e.sqvertex,s,4),this._transsolver.set2dVertex(s,4),this._rotmatrix.initRotByPrevResult(n),this._rotmatrix.getPoint3dBatch(t.vertex,o,4),this._transsolver.solveTransportVector(o,r);var u=this.errRate(this._rotmatrix,r,t.vertex,s,4,o),a=this.__rot;if(u<n.error+i){a.setValue_NyARDoubleMatrix33(this._rotmatrix);for(var f=0;f<5;f++){this._mat_optimize.modifyMatrix(a,r,t.vertex,s,4);var l=this.errRate(a,r,t.vertex,s,4,o);if(u-l<i/2)break;this._transsolver.solveTransportVector(o,r),this._rotmatrix.setValue_NyARDoubleMatrix33(a),u=l}this.updateMatrixValue(this._rotmatrix,r,n)}else this._rotmatrix.initRotBySquare(e.line,e.sqvertex),this._rotmatrix.getPoint3dBatch(t.vertex,o,4),this._transsolver.solveTransportVector(o,r),u=this.optimize(this._rotmatrix,r,this._transsolver,t.vertex,s,i),this.updateMatrixValue(this._rotmatrix,r,n);n.error=u;return},optimize:function(e,t,n,r,i,s){var o=this.__transMat_vertex_3d,u=this.errRate(e,t,r,i,4,o),a=this.__rot;a.setValue_NyARDoubleMatrix33(e);for(var f=0;f<5;f++){this._mat_optimize.modifyMatrix(a,t,r,i,4);var l=this.errRate(a,t,r,i,4,o);if(u-l<s)break;n.solveTransportVector(o,t),e.setValue_NyARDoubleMatrix33(a),u=l}return u},errRate:function(e,t,n,r,i,s){var o=this._projection_mat_ref,u=o.m00,a=o.m01,f=o.m02,l=o.m11,c=o.m12,h=0;for(var p=0;p<i;p++){var d,v,m;s[p].x=d=e.m00*n[p].x+e.m01*n[p].y+e.m02*n[p].z,s[p].y=v=e.m10*n[p].x+e.m11*n[p].y+e.m12*n[p].z,s[p].z=m=e.m20*n[p].x+e.m21*n[p].y+e.m22*n[p].z,d+=t.x,v+=t.y,m+=t.z;var g=d*u+v*a+m*f,y=v*l+m*c,b=m,w=r[p].x-g/b,E=r[p].y-y/b;h+=w*w+E*E}return h/i},updateMatrixValue:function(e,t,n){n.m00=e.m00,n.m01=e.m01,n.m02=e.m02,n.m03=t.x,n.m10=e.m10,n.m11=e.m11,n.m12=e.m12,n.m13=t.y,n.m20=e.m20,n.m21=e.m21,n.m22=e.m22,n.m23=t.z,n.has_value=!0;return}}),NyARTransMatResult=ASKlass("NyARTransMatResult",NyARDoubleMatrix34,{error:0,has_value:!1,getZXYAngle:function(e){var t=this.m21;t>=1?(e.x=Math.PI/2,e.y=0,e.z=Math.atan2(-this.m10,this.m00)):t<=-1?(e.x=-Math.PI/2,e.y=0,e.z=Math.atan2(-this.m10,this.m00)):(e.x=Math.asin(t),e.z=Math.atan2(-this.m01,this.m11),e.y=Math.atan2(-this.m20,this.m22))},transformVertex_Number:function(e,t,n,r){r.x=this.m00*e+this.m01*t+this.m02*n+this.m03,r.y=this.m10*e+this.m11*t+this.m12*n+this.m13,r.z=this.m20*e+this.m21*t+this.m22*n+this.m23;return},transformVertex_NyARDoublePoint3d:function(e,t){this.transformVertex_Number(e.x,e.y,e.z,t)}}),NyARPartialDifferentiationOptimize=ASKlass("NyARPartialDifferentiationOptimize",{_projection_mat_ref:null,NyARPartialDifferentiationOptimize:function(e){this._projection_mat_ref=e,this.__angles_in=TSinCosValue.createArray(3),this.__ang=new NyARDoublePoint3d,this.__sin_table=new FloatVector(4);return},sincos2Rotation_ZXY:function(e,t){var n=e[0].sin_val,r=e[0].cos_val,i=e[1].sin_val,s=e[1].cos_val,o=e[2].sin_val,u=e[2].cos_val;t.m00=u*s-o*n*i,t.m01=-o*r,t.m02=u*i+o*n*s,t.m10=o*s+u*n*i,t.m11=u*r,t.m12=o*i-u*n*s,t.m20=-r*i,t.m21=n,t.m22=s*r},rotation2Sincos_ZXY:function(e,t,n){var r,i,s,o=e.m21;o>=1?(r=Math.PI/2,i=0,s=Math.atan2(-e.m10,e.m00)):o<=-1?(r=-Math.PI/2,i=0,s=Math.atan2(-e.m10,e.m00)):(r=Math.asin(o),i=Math.atan2(-e.m20,e.m22),s=Math.atan2(-e.m01,e.m11)),n.x=r,n.y=i,n.z=s,t[0].sin_val=Math.sin(r),t[0].cos_val=Math.cos(r),t[1].sin_val=Math.sin(i),t[1].cos_val=Math.cos(i),t[2].sin_val=Math.sin(s),t[2].cos_val=Math.cos(s);return},optimizeParamX:function(e,t,n,r,i,s,o){var u=this._projection_mat_ref,a=e.sin_val,f=e.cos_val,l=t.sin_val,c=t.cos_val,h,p,d,v,m,g;h=p=d=v=m=g=0;for(var y=0;y<s;y++){var b,w,E;b=r[y].x,w=r[y].y,E=r[y].z;var S=u.m00,x=u.m01,T=u.m02,N=u.m11,C=u.m12,k=S*(-l*a*b+l*f*E)+x*(c*a*b-c*f*E)+T*w,L=S*-l*w+x*c*w+T*(-a*b+f*E),A=S*(n.x+c*f*b+c*a*E)+x*(n.y+l*f*b+l*a*E)+T*n.z,O=N*(c*a*b-c*f*E)+C*w,M=N*c*w+C*(-a*b+f*E),_=N*(n.y+l*f*b+l*a*E)+C*n.z,D=w,P=-a*b+f*E,H=n.z,B=i[y].x,j=i[y].y,F,I,q,R,U,z;F=B*D-k,I=B*P-L,q=B*H-A,R=j*D-O,U=j*P-M,z=j*H-_,h+=R*U+F*I,m+=R*R+F*F,p+=R*z+F*q,v+=U*U+I*I,d+=U*z+I*q,g+=z*z+q*q}return h*=2,p*=2,d*=2,this.getMinimumErrorAngleFromParam(h,p,d,v,m,g,o)},optimizeParamY:function(e,t,n,r,i,s,o){var u=this._projection_mat_ref,a=e.sin_val,f=e.cos_val,l=t.sin_val,c=t.cos_val,h,p,d,v,m,g;h=p=d=v=m=g=0;for(var y=0;y<s;y++){var b,w,E;b=r[y].x,w=r[y].y,E=r[y].z;var S=u.m00,x=u.m01,T=u.m02,N=u.m11,C=u.m12,k=S*(-l*a*b+c*E)+x*(c*a*b+l*E)+T*-f*b,L=x*(l*b-c*a*E)+S*(c*b+l*a*E)+T*f*E,A=S*(n.x+ -l*f*w)+x*(n.y+c*f*w)+T*(n.z+a*w),O=N*(c*a*b+l*E)+C*-f*b,M=N*(l*b-c*a*E)+C*f*E,_=N*(n.y+c*f*w)+C*(n.z+a*w),D=-f*b,P=f*E,H=n.z+a*w,B=i[y].x,j=i[y].y,F,I,q,R,U,z;F=B*D-k,I=B*P-L,q=B*H-A,R=j*D-O,U=j*P-M,z=j*H-_,h+=R*U+F*I,m+=R*R+F*F,p+=R*z+F*q,v+=U*U+I*I,d+=U*z+I*q,g+=z*z+q*q}return h*=2,p*=2,d*=2,this.getMinimumErrorAngleFromParam(h,p,d,v,m,g,o)},optimizeParamZ:function(e,t,n,r,i,s,o){var u=this._projection_mat_ref,a=e.sin_val,f=e.cos_val,l=t.sin_val,c=t.cos_val,h,p,d,v,m,g;h=p=d=v=m=g=0;for(var y=0;y<s;y++){var b,w,E;b=r[y].x,w=r[y].y,E=r[y].z;var S=u.m00,x=u.m01,T=u.m02,N=u.m11,C=u.m12,k=S*(-a*l*b-f*w+a*c*E)+x*(b*c+l*E),L=x*(a*b*l+f*w-a*E*c)+S*(c*b+l*E),A=S*n.x+x*n.y+T*-f*l*b+T*a*w+T*(c*f*E+n.z),O=N*(b*c+l*E),M=N*(a*b*l+f*w-a*E*c),_=N*n.y+C*-f*l*b+C*(a*w+c*f*E+n.z),D=0,P=0,H=-f*l*b+a*w+c*f*E+n.z,B=i[y].x,j=i[y].y,F,I,q,R,U,z;F=B*D-k,I=B*P-L,q=B*H-A,R=j*D-O,U=j*P-M,z=j*H-_,h+=R*U+F*I,m+=R*R+F*F,p+=R*z+F*q,v+=U*U+I*I,d+=U*z+I*q,g+=z*z+q*q}return h*=2,p*=2,d*=2,this.getMinimumErrorAngleFromParam(h,p,d,v,m,g,o)},modifyMatrix:function(e,t,n,r,i){var s=this.__angles_in,o=this.__ang;this.rotation2Sincos_ZXY(e,s,o),o.x+=this.optimizeParamX(s[1],s[2],t,n,r,i,o.x),o.y+=this.optimizeParamY(s[0],s[2],t,n,r,i,o.y),o.z+=this.optimizeParamZ(s[0],s[1],t,n,r,i,o.z),e.setZXYAngle_Number(o.x,o.y,o.z);return},getMinimumErrorAngleFromParam:function(e,t,n,r,i,s,o){var u=this.__sin_table,a=(i-r)/e,f=t/e,l=-n/e,c=NyAREquationSolver.solve4Equation(-4*a*a-4,4*l-4*f*a,4*a*a-(l*l-4)-f*f,4*f*a-2*l,f*f-1,u),h=Number.MAX_VALUE,p=Number.MAX_VALUE,d=Number.MAX_VALUE,v=Number.MAX_VALUE;for(var m=0;m<c;m++){var g=u[m],y=Math.sqrt(1-g*g),b=2*y*g*a+g*(l-g)+y*(y+f),w=2*-y*g*a+g*(l-g)+ -y*(-y+f);b=b<0?-b:b,w=w<0?-w:w,y=b<w?y:-y;var E=Math.atan2(g,y),S=i*g*g+(e*y+t)*g+r*y*y+n*y+s;d>S?(v=d,p=h,d=S,h=E):v>S&&(v=S,p=E)}var x;x=h-o,x>Math.PI?x=h-Math.PI*2-o:x<-Math.PI&&(x=h+Math.PI*2-o);var T;return T=p-o,T>Math.PI?T=p-Math.PI*2-o:T<-Math.PI&&(T=p+Math.PI*2-o),Math.abs(T)<Math.abs(x)?T:x}}),TSinCosValue=ASKlass("TSinCosValue",{cos_val:0,sin_val:0,createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new TSinCosValue;return t}}),NyARRotMatrix=ASKlass("NyARRotMatrix",NyARDoubleMatrix33,{NyARRotMatrix:function(e){this.__initRot_vec1=new NyARRotVector(e),this.__initRot_vec2=new NyARRotVector(e);return},__initRot_vec1:null,__initRot_vec2:null,initRotByPrevResult:function(e){this.m00=e.m00,this.m01=e.m01,this.m02=e.m02,this.m10=e.m10,this.m11=e.m11,this.m12=e.m12,this.m20=e.m20,this.m21=e.m21,this.m22=e.m22;return},initRotBySquare:function(e,t){var n=this.__initRot_vec1,r=this.__initRot_vec2;n.exteriorProductFromLinear(e[0],e[2]),n.checkVectorByVertex(t[0],t[1]),r.exteriorProductFromLinear(e[1],e[3]),r.checkVectorByVertex(t[3],t[0]),NyARRotVector.checkRotation(n,r),this.m00=n.v1,this.m10=n.v2,this.m20=n.v3,this.m01=r.v1,this.m11=r.v2,this.m21=r.v3;var i=n.v2*r.v3-n.v3*r.v2,s=n.v3*r.v1-n.v1*r.v3,o=n.v1*r.v2-n.v2*r.v1,u=Math.sqrt(i*i+s*s+o*o);this.m02=i/u,this.m12=s/u,this.m22=o/u;return},getPoint3d:function(e,t){var n=e.x,r=e.y,i=e.z;t.x=this.m00*n+this.m01*r+this.m02*i,t.y=this.m10*n+this.m11*r+this.m12*i,t.z=this.m20*n+this.m21*r+this.m22*i;return},getPoint3dBatch:function(e,t,n){for(var r=n-1;r>=0;r--){var i=t[r],s=e[r],o=s.x,u=s.y,a=s.z;i.x=this.m00*o+this.m01*u+this.m02*a,i.y=this.m10*o+this.m11*u+this.m12*a,i.z=this.m20*o+this.m21*u+this.m22*a}return}}),NyARRotVector=ASKlass("NyARRotVector",{v1:0,v2:0,v3:0,_projection_mat_ref:null,_inv_cpara_array_ref:null,NyARRotVector:function(e){var t=new NyARMat(3,3),n=t.getArray();n[0][0]=e.m00,n[0][1]=e.m01,n[0][2]=e.m02,n[1][0]=e.m10,n[1][1]=e.m11,n[1][2]=e.m12,n[2][0]=e.m20,n[2][1]=e.m21,n[2][2]=e.m22,t.matrixSelfInv(),this._projection_mat_ref=e,this._inv_cpara_array_ref=t.getArray()},exteriorProductFromLinear:function(e,t){var n=this._projection_mat_ref,r=e.dy*t.dx-t.dy*e.dx,i=e.dx*t.c-t.dx*e.c,s=e.c*t.dy-t.c*e.dy,o=r*(n.m01*n.m12-n.m02*n.m11)+i*n.m11-s*n.m01,u=-r*n.m00*n.m12+s*n.m00,a=r*n.m00*n.m11,f=Math.sqrt(o*o+u*u+a*a);this.v1=o/f,this.v2=u/f,this.v3=a/f;return},checkVectorByVertex:function(e,t){var n,r=this._inv_cpara_array_ref,i=r[0][0]*e.x*10+r[0][1]*e.y*10+r[0][2]*10,s=r[1][0]*e.x*10+r[1][1]*e.y*10+r[1][2]*10,o=r[2][0]*e.x*10+r[2][1]*e.y*10+r[2][2]*10,u=i+this.v1,a=s+this.v2,f=o+this.v3,l=this._projection_mat_ref;n=l.m20*i+l.m21*s+l.m22*o;if(n==0)throw new NyARException;var c=(l.m00*i+l.m01*s+l.m02*o)/n,h=(l.m10*i+l.m11*s+l.m12*o)/n;n=l.m20*u+l.m21*a+l.m22*f;if(n==0)throw new NyARException;var p=(l.m00*u+l.m01*a+l.m02*f)/n,d=(l.m10*u+l.m11*a+l.m12*f)/n,v=(t.x-e.x)*(p-c)+(t.y-e.y)*(d-h);v<0&&(this.v1=-this.v1,this.v2=-this.v2,this.v3=-this.v3)},checkRotation:function(e,t){var n,r,i=e.v1,s=e.v2,o=e.v3,u=t.v1,a=t.v2,f=t.v3,l=s*f-o*a,c=o*u-i*f,h=i*a-s*u;n=Math.sqrt(l*l+c*c+h*h);if(n==0)throw new NyARException;l/=n,c/=n,h/=n;var p=i*u+s*a+o*f;p<0&&(p=-p);var d=(Math.sqrt(p+1)+Math.sqrt(1-p))*.5;c*i-s*l!=0?r=0:h*i-o*l!=0?(n=s,s=o,o=n,n=c,c=h,h=n,r=1):(n=i,i=o,o=n,n=l,l=h,h=n,r=2);if(c*i-s*l==0)throw new NyARException;var v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P;v=(s*h-c*o)/(c*i-s*l),m=c*d/(c*i-s*l),g=(i*h-l*o)/(l*s-i*c),y=l*d/(l*s-i*c),b=v*v+g*g+1,w=v*m+g*y,E=m*m+y*y-1,S=w*w-b*E;if(S<0)throw new NyARException;N=(-w+Math.sqrt(S))/b,x=v*N+m,T=g*N+y,L=(-w-Math.sqrt(S))/b,C=v*L+m,k=g*L+y,r==1&&(n=T,T=N,N=n,n=k,k=L,L=n,n=s,s=o,o=n,n=c,c=h,h=n,r=0),r==2&&(n=x,x=N,N=n,n=C,C=L,L=n,n=i,i=o,o=n,n=l,l=h,h=n,r=0),c*u-a*l!=0?r=0:h*u-f*l!=0?(n=a,a=f,f=n,n=c,c=h,h=n,r=1):(n=u,u=f,f=n,n=l,l=h,h=n,r=2);if(c*u-a*l==0)throw new NyARException;v=(a*h-c*f)/(c*u-a*l),m=c*d/(c*u-a*l),g=(u*h-l*f)/(l*a-u*c),y=l*d/(l*a-u*c),b=v*v+g*g+1,w=v*m+g*y,E=m*m+y*y-1,S=w*w-b*E;if(S<0)throw new NyARException;M=(-w+Math.sqrt(S))/b,A=v*M+m,O=g*M+y,P=(-w-Math.sqrt(S))/b,_=v*P+m,D=g*P+y,r==1&&(n=O,O=M,M=n,n=D,D=P,P=n,n=a,a=f,f=n,n=c,c=h,h=n,r=0),r==2&&(n=A,A=M,M=n,n=_,_=P,P=n,n=u,u=f,f=n,n=l,l=h,h=n,r=0);var H=x*A+T*O+N*M;H<0&&(H=-H);var B=x*_+T*D+N*P;B<0&&(B=-B);var j=C*A+k*O+L*M;j<0&&(j=-j);var F=C*_+k*D+L*P;F<0&&(F=-F),H<B?H<j?H<F?(e.v1=x,e.v2=T,e.v3=N,t.v1=A,t.v2=O,t.v3=M):(e.v1=C,e.v2=k,e.v3=L,t.v1=_,t.v2=D,t.v3=P):j<F?(e.v1=C,e.v2=k,e.v3=L,t.v1=A,t.v2=O,t.v3=M):(e.v1=C,e.v2=k,e.v3=L,t.v1=_,t.v2=D,t.v3=P):B<j?B<F?(e.v1=x,e.v2=T,e.v3=N,t.v1=_,t.v2=D,t.v3=P):(e.v1=C,e.v2=k,e.v3=L,t.v1=_,t.v2=D,t.v3=P):j<F?(e.v1=C,e.v2=k,e.v3=L,t.v1=A,t.v2=O,t.v3=M):(e.v1=C,e.v2=k,e.v3=L,t.v1=_,t.v2=D,t.v3=P);return}}),INyARTransportVectorSolver=ASKlass("INyARTransportVectorSolver",{set2dVertex:function(e,t){},solveTransportVector:function(e,t){}}),NyARTransportVectorSolver=ASKlass("NyARTransportVectorSolver",INyARTransportVectorSolver,{_cx:null,_cy:null,_projection_mat:null,_nmber_of_vertex:0,NyARTransportVectorSolver:function(e,t){this._projection_mat=e,this._cx=new FloatVector(t),this._cy=new FloatVector(t);return},_a00:0,_a01_10:0,_a02_20:0,_a11:0,_a12_21:0,_a22:0,set2dVertex:function(e,t){var n=this._cx,r=this._cy,i,s=this._projection_mat.m00,o=this._projection_mat.m01,u=this._projection_mat.m11,a=this._projection_mat.m12,f=this._projection_mat.m02,l,c,h,p;this._a00=t*s*s,this._a01_10=t*s*o,this._a11=t*(o*o+u*u),i=0,l=c=0;for(var d=0;d<t;d++)h=f-(n[d]=e[d].x),p=a-(r[d]=e[d].y),l+=h,c+=p,i+=h*h+p*p;this._a02_20=l*s,this._a12_21=o*l+u*c,this._a22=i,this._nmber_of_vertex=t;return},solveTransportVector:function(e,t){var n=this._nmber_of_vertex,r=this._projection_mat.m00,i=this._projection_mat.m01,s=this._projection_mat.m02,o=this._projection_mat.m11,u=this._projection_mat.m12,a=this._cx,f=this._cy,l,c,h;l=c=h=0;for(var p=0;p<n;p++){var d=e[p].z*a[p]-r*e[p].x-i*e[p].y-s*e[p].z,v=e[p].z*f[p]-o*e[p].y-u*e[p].z;l+=d,c+=v,h+=a[p]*d+f[p]*v}h=s*l+u*c-h,c=i*l+o*c,l=r*l;var m=this._a00,g=this._a01_10,y=this._a02_20,b=this._a11,w=this._a12_21,E=this._a22,S=E*c-w*h,x=w*c-b*h,T=g*h-y*c,N=w*w-b*E,C=y*w-g*E,k=y*b-g*w,L=m*N-g*C+y*k;t.x=(g*S-y*x+l*N)/L,t.y=-(m*S+y*T+l*C)/L,t.z=(m*x+g*T+l*k)/L;return}}),FLARTransMatResult=NyARTransMatResult,NyARMath=Klass({sqNorm_NyARDoublePoint2d:function(e,t){var n,r;return n=t.x-e.x,r=t.y-e.y,n*n+r*r},sqNorm_Number:function(e,t,n,r){var i,s;return i=n-e,s=r-t,i*i+s*s},sqNorm_NyARDoublePoint3d:function(e,t){var n,r,i;return n=t.x-e.x,r=t.y-e.y,i=t.z-e.z,n*n+r*r+i*i},cubeRoot:function(e){var t=Math.pow(Math.abs(e),1/3);return e>=0?t:-t}}),NyAREquationSolver=Klass({solve2Equation_3:function(e,t,n,r){return NyAS3Utils.assert(e!=0),this.solve2Equation_2b(t/e,n/e,r,0)},solve2Equation_2a:function(e,t,n){return this.solve2Equation_2b(e,t,n,0)},solve2Equation_2b:function(e,t,n,r){var i=e*e-4*t;return i<0?0:i==0?(n[r+0]=-e/2,1):(i=Math.sqrt(i),n[r+0]=(-e+i)/2,n[r+1]=(-e-i)/2,2)},solve3Equation_4:function(e,t,n,r,i){return NyAS3Utils.assert(e!=0),this.solve3Equation_3(t/e,n/e,r/e,i)},solve3Equation_3:function(e,t,n,r){var i,s,o,u;s=e/3,o=s*s-t/3,u=(s*(t-2*s*s)-n)/2;if((i=u*u-o*o*o)==0)return u=NyARMath.cubeRoot(u),r[0]=2*u-s,r[1]=-u-s,2;if(i>0){var a=NyARMath.cubeRoot(u+(u>0?1:-1)*Math.sqrt(i)),f=o/a;return r[0]=a+f-s,1}i=2*Math.sqrt(o);var l=Math.acos(u/(o*i/2));return r[0]=i*Math.cos(l/3)-s,r[1]=i*Math.cos((l+2*Math.PI)/3)-s,r[2]=i*Math.cos((l+4*Math.PI)/3)-s,3},solve4Equation:function(e,t,n,r,i,s){NyAS3Utils.assert(e!=0);var o,u,a,f,l;o=t/e,u=n/e,a=r/e,f=i/e,l=o/4;var c,h,p,d=l*l;c=u-6*d,h=a+l*(-2*u+8*d),p=f+l*(-a+u*l)-3*d*d;if(h!=0){var b=this.solve3Equation_1(2*c,-4*p+c*c,-h*h);if(b<0)return 0;var w=Math.sqrt(b),E,S;E=this.solve2Equation_2b(-w,(c+b)/2+w*h/(2*b),s,0);switch(E){case 0:break;case 1:s[0]=s[0]-l;break;case 2:s[0]=s[0]-l,s[1]=s[1]-l;break;default:throw new NyARException}S=this.solve2Equation_2b(w,(c+b)/2-w*h/(2*b),s,E);switch(S){case 0:break;case 1:s[E+0]=s[E+0]-l;break;case 2:s[E+0]=s[E+0]-l,s[E+1]=s[E+1]-l;break;default:throw new NyARException}return E+S}var v,m,g=this.solve2Equation_2b(c,p,s,0);switch(g){case 0:return 0;case 1:v=s[0];if(v<0)return 0;if(v==0)return s[0]=0-l,1;return v=Math.sqrt(v),s[0]=v-l,s[1]=-v-l,2;case 2:v=s[0],m=s[1];var y=0;return v>0&&(v=Math.sqrt(v),s[0]=v-l,s[1]=-v-l,y+=2),m>0&&(m=Math.sqrt(m),s[y+0]=m-l,s[y+1]=-m-l,y+=2),y;default:throw new NyARException}},solve3Equation_1:function(e,t,n){var r,i,s,o;i=e/3,s=i*i-t/3,o=(i*(t-2*i*i)-n)/2;if((r=o*o-s*s*s)==0)return o=NyARMath.cubeRoot(o),2*o-i;if(r>0){var u=NyARMath.cubeRoot(o+(o>0?1:-1)*Math.sqrt(r)),a=s/u;return u+a-i}r=2*Math.sqrt(s);var f=Math.acos(o/(s*r/2));return r*Math.cos(f/3)-i}}),NyARPerspectiveParamGenerator_O1=Klass({_local_x:0,_local_y:0,_width:0,_height:0,initialize:function(e,t,n,r){this._height=r,this._width=n,this._local_x=e,this._local_y=t;return},getParam:function(e,t){var n=this._local_x,r=this._local_y,i=n+this._width,s=r+this._height,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W,X,V,$,J,K,Q,G,Y,Z,et,tt,nt;j=e[0].x,F=e[1].x,I=e[2].x,q=e[3].x,u=-n*j,a=-r*j,f=-i*F,l=-r*F,c=-i*I,h=-s*I,p=-n*q,d=-s*q,M=c*d-h*p,P=h*n-i*d,H=i*p-c*n,_=s*(h-d),D=s*(p-c),B=s*(i-n),b=-f*P-l*H-i*M,v=f*_+l*D+r*M,x=l*B-i*_+r*P,k=-i*D-f*B+r*H,M=p*a-d*u,_=d*r-s*a,D=s*u-p*r,P=n*(d-a),H=n*(u-p),B=n*(r-s),m=-s*M-c*_-h*D,w=c*P+h*H+i*M,T=-h*B-s*P+i*_,L=-s*H+c*B+i*D,M=u*l-a*f,P=a*i-n*l,H=n*f-u*i,_=r*(a-l),D=r*(f-u),B=r*(n-i),E=-p*P-d*H-n*M,g=p*_+d*D+s*M,N=d*B-n*_+s*P,A=-n*D-p*B+s*H,M=f*h-l*c,_=l*s-r*h,D=r*c-f*s,P=i*(l-h),H=i*(c-f),B=i*(s-r),y=-r*M-u*_-a*D,S=u*P+a*H+n*M,C=-a*B-r*P+n*_,O=-r*H+u*B+n*D,o=n*(v+y)+i*(m+g),o==0&&(o=1e-4),o=1/o,R=(v*j+m*F+g*I+y*q)*o,U=(v+m+g+y)*o,z=(b*j+w*F+E*I+S*q)*o,W=(b+w+E+S)*o,X=(x*j+T*F+N*I+C*q)*o,V=(x+T+N+C)*o,$=(k*j+L*F+A*I+O*q)*o,J=(k+L+A+O)*o,j=e[0].y,F=e[1].y,I=e[2].y,q=e[3].y,u=-n*j,a=-r*j,f=-i*F,l=-r*F,c=-i*I,h=-s*I,p=-n*q,d=-s*q,M=c*d-h*p,P=h*n-i*d,H=i*p-c*n,_=s*(h-d),D=s*(p-c),B=s*(i-n),b=-f*P-l*H-i*M,v=f*_+l*D+r*M,x=l*B-i*_+r*P,k=-i*D-f*B+r*H,M=p*a-d*u,_=d*r-s*a,D=s*u-p*r,P=n*(d-a),H=n*(u-p),B=n*(r-s),m=-s*M-c*_-h*D,w=c*P+h*H+i*M,T=-h*B-s*P+i*_,L=-s*H+c*B+i*D,M=u*l-a*f,P=a*i-n*l,H=n*f-u*i,_=r*(a-l),D=r*(f-u),B=r*(n-i),E=-p*P-d*H-n*M,g=p*_+d*D+s*M,N=d*B-n*_+s*P,A=-n*D-p*B+s*H,M=f*h-l*c,_=l*s-r*h,D=r*c-f*s,P=i*(l-h),H=i*(c-f),B=i*(s-r),y=-r*M-u*_-a*D,S=u*P+a*H+n*M,C=-a*B-r*P+n*_,O=-r*H+u*B+n*D,o=n*(v+y)+i*(m+g),o==0&&(o=1e-4),o=1/o,K=(v*j+m*F+g*I+y*q)*o,Q=(v+m+g+y)*o,G=(b*j+w*F+E*I+S*q)*o,Y=(b+w+E+S)*o,Z=(x*j+T*F+N*I+C*q)*o,et=(x+T+N+C)*o,tt=(k*j+L*F+A*I+O*q)*o,nt=(k+L+A+O)*o,o=V*-nt- -et*J,o==0&&(o=1e-4),o=1/o;var rt,it;return t[2]=rt=-nt*o*(X-Z)+et*o*($-tt),t[5]=it=-J*o*(X-Z)+V*o*($-tt),t[6]=X-rt*V,t[7]=$-rt*J,t[0]=R-rt*U,t[1]=z-rt*W,t[3]=K-it*Q,t[4]=G-it*Y,!0}}),NyIdMarkerParam=ASKlass("NyIdMarkerParam",{direction:0,threshold:0}),NyIdMarkerPattern=ASKlass("NyIdMarkerPattern",{model:0,ctrl_domain:0,ctrl_mask:0,check:0,data:new IntVector(32)}),TThreshold=ASKlass("TThreshold",{th_h:0,th_l:0,th:0,lt_x:0,lt_y:0,rb_x:0,rb_y:0}),THighAndLow=ASKlass("THighAndLow",{h:0,l:0}),_bit_table_3=new IntVector([25,26,27,28,29,30,31,48,9,10,11,12,13,32,47,24,1,2,3,14,33,46,23,8,0,4,15,34,45,22,7,6,5,16,35,44,21,20,19,18,17,36,43,42,41,40,39,38,37]),_bit_table_2=new IntVector([9,10,11,12,13,24,1,2,3,14,23,8,0,4,15,22,7,6,5,16,21,20,19,18,17]),MarkerPattEncoder=ASKlass("MarkerPattEncoder",{_bit_table_2:_bit_table_2,_bit_table_3:_bit_table_3,_bit_tables:[_bit_table_2,_bit_table_3,null,null,null,null,null],_bit_table:null,_bits:new IntVector(16),_work:new IntVector(16),_model:0,setBitByBitIndex:function(e,t){NyAS3Utils.assert(t==0||t==1);var n=this._bit_table[e];if(n==0)this._bits[0]=t;else{var r=toInt((n-1)/8)+1,i=(n-1)%8;this._bits[r]=this._bits[r]&~(1<<i)|t<<i}return},setBit:function(e,t){NyAS3Utils.assert(t==0||t==1);if(e==0)this._bits[0]=t;else{var n=toInt((e-1)/8)+1,r=(e-1)%8;this._bits[n]=this._bits[n]&~(1<<r)|t<<r}return},getBit:function(e){if(e==0)return this._bits[0];var t=toInt((e-1)/8)+1,n=(e-1)%8;return this._bits[t]>>n&1},getModel:function(){return this._model},getControlValue:function(e,t){var n;switch(e){case 2:return n=(t[2]&14)>>1,n>=5?n-1:n;case 3:return n=(t[4]&62)>>1,n>=21?n-1:n;case 4:case 5:case 6:case 7:default:}return-1},getCheckValue:function(e,t){var n;switch(e){case 2:return n=(t[2]&224)>>5,n>5?n-1:n;case 3:return n=(t[4]&128)>>7|(t[5]&15)<<1,n>21?n-1:n;case 4:case 5:case 6:case 7:default:}return-1},initEncoder:function(e){return e>3||e<2?!1:(this._bit_table=this._bit_tables[e-2],this._model=e,!0)},getDirection:function(){var e,t,n,r,i;switch(this._model){case 2:t=this._bits[2]&31,n=(this._bits[2]&240)>>4|(this._bits[3]&1)<<4,r=this._bits[3]&31,e=(this._bits[3]&240)>>4|(this._bits[2]&1)<<4,i=10;break;case 3:t=this._bits[4]&127,n=(this._bits[4]&192)>>6|(this._bits[5]&31)<<2,r=(this._bits[5]&240)>>4|(this._bits[6]&7)<<4,e=(this._bits[6]&252)>>2|(this._bits[4]&1)<<6,i=42;break;default:return-3}if(t==i){if(n==i)return r!=i&&e!=i?2:-2;if(e==i)return r!=i&&n!=i?3:-2}else if(r==i){if(n==i)return t!=i&&e!=i?1:-2;if(e==i)return t!=i&&n!=i?0:-2}return-1},encode:function(e){var t=this.getDirection();if(t<0)return-1;this.getRotatedBits(t,e.data);var n=this._model;e.model=n;var r=this.getControlValue(n,e.data);return e.check=this.getCheckValue(n,e.data),e.ctrl_mask=r%5,e.ctrl_domain=toInt(r/5),e.ctrl_domain!=0||e.ctrl_mask!=0?-1:t},getRotatedBits:function(e,t){var n=e*2,r=8-n,i;t[0]=this._bits[0],i=this._bits[1],t[1]=(i<<n|i>>r)&255,n=e*4,r=16-n,i=this._bits[2]|this._bits[3]<<8,i=i<<n|i>>r,t[2]=i&255,t[3]=i>>8&255;if(this._model<2)return;n=e*6,r=24-n,i=this._bits[4]|this._bits[5]<<8|this._bits[6]<<16,i=i<<n|i>>r,t[4]=i&255,t[5]=i>>8&255,t[6]=i>>16&255;if(this._model<3)return;return},shiftLeft:function(e,t,n,r){var i,s=this._work,o=r%8;for(i=n-1;i>=1;i--)s[i]=e[i+t]<<o|255&e[i+t-1]>>8-o;s[0]=e[t]<<o|255&e[t+n-1]>>8-o;var u=toInt(r/8)%n;for(i=n-1;i>=0;i--)e[(u+i)%n+t]=255&s[i];return}}),INyIdMarkerData=ASKlass("INyIdMarkerData",{isEqual:function(e){},copyFrom:function(e){}}),NyIdMarkerPickup=ASKlass("NyIdMarkerPickup",{_perspective_reader:null,__pickFromRaster_th:new TThreshold,__pickFromRaster_encoder:new MarkerPattEncoder,NyIdMarkerPickup:function(){this._perspective_reader=new PerspectivePixelReader;return},init:function(){this._perspective_reader.newFrame()},pickFromRaster:function(e,t,n,r){if(!this._perspective_reader.setSourceSquare(t))return window.DEBUG&&console.log("NyIdMarkerPickup.pickFromRaster: could not setSourceSquare"),!1;var i=e.getGrayPixelReader(),s=e.getSize(),o=this.__pickFromRaster_th,u=this.__pickFromRaster_encoder;this._perspective_reader.detectThresholdValue(i,s,o);if(!this._perspective_reader.readDataBits(i,s,o,u))return window.DEBUG&&console.log("NyIdMarkerPickup.pickFromRaster: could not readDataBits"),!1;var a=u.encode(n);return a<0?(window.DEBUG&&console.log("NyIdMarkerPickup.pickFromRaster: could not encode"),!1):(r.direction=a,r.threshold=o.th,!0)}}),PerspectivePixelReader=ASKlass("PerspectivePixelReader",{_param_gen:new NyARPerspectiveParamGenerator_O1(1,1,100,100),_cparam:new FloatVector(8),PerspectivePixelReader:function(){return},maxPreviousFrameAge:1,newFrame:function(){for(var e in this.previousFrames){var t=this.previousFrames[e];t.age++,t.age>this.maxPreviousFrameAge&&delete this.previousFrames[e]}},setSourceSquare:function(e){var t=0,n=0;for(var r=0;r<4;r++)t+=e[r].x,n+=e[r].y;t/=4,n/=4;var i=toInt(t/10),s=toInt(n/10);return this.centerPoint[0]=i,this.centerPoint[1]=s,this._param_gen.getParam(e,this._cparam)},rectPixels:function(e,t,n,r,i,s,o,u,a,f){var l=this._cparam,c=this._ref_x,h=this._ref_y,p=this._pixcel_temp,d=t.w,v=t.h,m=a,g=l[6],y=l[0],b=l[3];for(var w=0;w<u;w++){var E=1+w*s+r,S=l[1]*E+l[2],x=l[4]*E+l[5],T=l[7]*E+1,N=0,C;for(C=0;C<o;C++){var k=1+C*i+n,L=g*k+T,A=toInt((y*k+S)/L),O=toInt((b*k+x)/L);if(A<0||O<0||A>=d||O>=v)return!1;c[N]=A,h[N]=O,N++}e.getPixelSet(c,h,o,p);for(C=0;C<o;C++){var M=C;f[m]=p[M],m++}}return!0},checkFreqWidth:function(e,t){var n=e[1]-e[0],r=t*2-1;for(var i=1;i<r;i++){var s=e[i+1]-e[i],o=s*100/n;if(o>150||o<50)return!1;n=s}return!0},getMaxFreq:function(e,t,n){var r=-1,i=0,s;for(s=0;s<this.MAX_FREQ;s++)i<e[s]&&(r=s,i=e[s]);if(r==-1)return-1;var o=(r-1)*r;for(s=0;s<r*2;s++)n[s]=t[o+s]*this.FRQ_STEP/i;return r},FRQ_EDGE:10,FRQ_STEP:2,FRQ_POINTS:45,MIN_FREQ:3,MAX_FREQ:10,FREQ_SAMPLE_NUM:4,MAX_DATA_BITS:19,_ref_x:new IntVector(108),_ref_y:new IntVector(108),_pixcel_temp:new IntVector(108),_freq_count_table:new IntVector(10),_freq_table:new IntVector(190),getRowFrequency:function(e,t,n,r,i,s){var o,u=this._freq_count_table,a=this._freq_table,f=this._cparam,l=this._ref_x,c=this._ref_y,h=this._pixcel_temp;for(o=0;o<10;o++)u[o]=0;for(o=0;o<110;o++)a[o]=0;var p=t.w,d=t.h,v=f[0],m=f[3],g=f[6],y;window.DEBUG&&(y=document.getElementById("debugCanvas").getContext("2d"),y.fillStyle="orange");for(o=0;o<this.FREQ_SAMPLE_NUM;o++){var b,w=1+n+o,E=f[1]*w+f[2],S=f[4]*w+f[5],x=f[7]*w+1,T=0;for(b=0;b<this.FRQ_POINTS;b++){var N=1+b*this.FRQ_STEP+this.FRQ_EDGE,C=g*N+x,k=toInt((v*N+E)/C),L=toInt((m*N+S)/C);if(k<0||L<0||k>=p||L>=d)return-1;l[T]=k,c[T]=L,T++}e.getPixelSet(l,c,this.FRQ_POINTS,h);if(window.DEBUG)for(var A=0;A<this.FRQ_POINTS;A++)y.fillRect(l[A],c[A],1,1);var O=this.getFreqInfo(h,r,i,s);if(O<this.MIN_FREQ||O>this.MAX_FREQ)continue;if(!this.checkFreqWidth(s,O))continue;u[O]++;var M=(O-1)*O;for(b=0;b<O*2;b++)a[M+b]+=s[b]}return this.getMaxFreq(u,a,s)},getColFrequency:function(e,t,n,r,i,s){var o,u=this._cparam,a=this._ref_x,f=this._ref_y,l=this._pixcel_temp,c=this._freq_count_table;for(o=0;o<10;o++)c[o]=0;var h=this._freq_table;for(o=0;o<110;o++)h[o]=0;var p=t.w,d=t.h,v=u[7],m=u[4],g=u[1],y;window.DEBUG&&(y=document.getElementById("debugCanvas").getContext("2d"),y.fillStyle="green");for(o=0;o<this.FREQ_SAMPLE_NUM;o++){var b,w=1+o+n,E=u[6]*w,S=u[0]*w+u[2],x=u[3]*w+u[5],T=0;for(b=0;b<this.FRQ_POINTS;b++){var N=1+b*this.FRQ_STEP+this.FRQ_EDGE,C=E+v*N+1,k=toInt((S+g*N)/C),L=toInt((x+m*N)/C);if(k<0||L<0||k>=p||L>=d)return-1;a[T]=k,f[T]=L,T++}e.getPixelSet(a,f,this.FRQ_POINTS,l);if(window.DEBUG)for(var A=0;A<this.FRQ_POINTS;A++)y.fillRect(a[A],f[A],1,1);var O=this.getFreqInfo(l,r,i,s);if(O<this.MIN_FREQ||O>this.MAX_FREQ)continue;if(!this.checkFreqWidth(s,O))continue;c[O]++;var M=(O-1)*O;for(b=0;b<O*2;b++)h[M+b]+=s[b]}return this.getMaxFreq(c,h,s)},getFreqInfo:function(e,t,n,r){var i=0,s=0,o=0,u,a;while(i<this.FRQ_POINTS){while(i<this.FRQ_POINTS){u=i,a=e[u];if(a>t){r[s+o]=i,s++;break}i++}i++;while(i<this.FRQ_POINTS){u=i,a=e[u];if(a<=n){r[s+o]=i,o++;break}i++}i++}return s==o?s:-1},THRESHOLD_EDGE:10,THRESHOLD_STEP:2,THRESHOLD_WIDTH:10,THRESHOLD_PIXEL:5,THRESHOLD_SAMPLE:25,THRESHOLD_SAMPLE_LT:10,THRESHOLD_SAMPLE_RB:80,getPtailHighAndLow:function(e,t){var n,r,i,s,o,u,a,f;n=r=i=s=o=u=a=f=e[0];for(var l=e.length-1;l>=1;l--){var c=e[l];s<c&&(i<c?r<c?n<c?(s=i,i=r,r=n,n=c):(s=i,i=r,r=c):(s=i,i=c):s=c),f>c&&(a>c?u>c?o>c?(f=a,a=u,u=o,o=c):(f=a,a=u,u=c):(f=a,a=c):f=c)}t.l=(f+a+u+o)/4,t.h=(s+i+r+n)/4;return},__detectThresholdValue_hl:new THighAndLow,__detectThresholdValue_tpt:new NyARIntPoint2d,_th_pixels:new IntVector(100),detectThresholdValue:function(e,t,n){var r=this._th_pixels;this.rectPixels(e,t,this.THRESHOLD_SAMPLE_LT,this.THRESHOLD_SAMPLE_LT,this.THRESHOLD_STEP,this.THRESHOLD_STEP,this.THRESHOLD_PIXEL,this.THRESHOLD_PIXEL,0,r),this.rectPixels(e,t,this.THRESHOLD_SAMPLE_LT,this.THRESHOLD_SAMPLE_RB,this.THRESHOLD_STEP,this.THRESHOLD_STEP,this.THRESHOLD_PIXEL,this.THRESHOLD_PIXEL,this.THRESHOLD_SAMPLE,r),this.rectPixels(e,t,this.THRESHOLD_SAMPLE_RB,this.THRESHOLD_SAMPLE_LT,this.THRESHOLD_STEP,this.THRESHOLD_STEP,this.THRESHOLD_PIXEL,this.THRESHOLD_PIXEL,this.THRESHOLD_SAMPLE*2,r),this.rectPixels(e,t,this.THRESHOLD_SAMPLE_RB,this.THRESHOLD_SAMPLE_RB,this.THRESHOLD_STEP,this.THRESHOLD_STEP,this.THRESHOLD_PIXEL,this.THRESHOLD_PIXEL,this.THRESHOLD_SAMPLE*3,r);var i=this.__detectThresholdValue_hl;this.getPtailHighAndLow(r,i);var s=(i.h+i.l)/2,o=(i.h-i.l)/5;n.th=s,n.th_h=s+o,n.th_l=s-o;var u,a,f,l,c,h,p,d,v=this.__detectThresholdValue_tpt;this.getHighPixelCenter(0,r,this.THRESHOLD_PIXEL,this.THRESHOLD_PIXEL,s,v)?(u=v.x*this.THRESHOLD_STEP,a=v.y*this.THRESHOLD_STEP):(u=11,a=11),this.getHighPixelCenter(this.THRESHOLD_SAMPLE*1,r,this.THRESHOLD_PIXEL,this.THRESHOLD_PIXEL,s,v)?(f=v.x*this.THRESHOLD_STEP,l=v.y*this.THRESHOLD_STEP):(f=11,l=-1),this.getHighPixelCenter(this.THRESHOLD_SAMPLE*2,r,this.THRESHOLD_PIXEL,this.THRESHOLD_PIXEL,s,v)?(c=v.x*this.THRESHOLD_STEP,h=v.y*this.THRESHOLD_STEP):(c=-1,h=11),this.getHighPixelCenter(this.THRESHOLD_SAMPLE*3,r,this.THRESHOLD_PIXEL,this.THRESHOLD_PIXEL,s,v)?(p=v.x*this.THRESHOLD_STEP,d=v.y*this.THRESHOLD_STEP):(p=-1,d=-1),n.lt_x=(u+f)/2+this.THRESHOLD_SAMPLE_LT-1,n.rb_x=(c+p)/2+this.THRESHOLD_SAMPLE_RB+1,n.lt_y=(a+h)/2+this.THRESHOLD_SAMPLE_LT-1,n.rb_y=(l+d)/2+this.THRESHOLD_SAMPLE_RB+1;return},getHighPixelCenter:function(e,t,n,r,i,s){var o=e,u=0,a=0,f=0;for(var l=0;l<r;l++)for(var c=0;c<n;c++)t[o++]>i&&(u+=c,a+=l,f++);return f>0?(u/=f,a/=f,s.x=u,s.y=a,!0):!1},__detectDataBitsIndex_freq_index1:new IntVector(45),__detectDataBitsIndex_freq_index2:new IntVector(45),detectDataBitsIndex:function(e,t,n,r,i){var s,o=this.__detectDataBitsIndex_freq_index1,u=this.__detectDataBitsIndex_freq_index2,a=n.rb_y-n.lt_y,f=this.getRowFrequency(e,t,n.lt_y,n.th_h,n.th_l,o),l=this.getRowFrequency(e,t,n.rb_y,n.th_h,n.th_l,u);if(f<0&&l<0||f==l)return window.DEBUG&&console.log("bad row frq",f,l),-1;var c,h,p;f>l?(c=f,p=o):(c=l,p=u);for(s=0;s<c+c-1;s++)r[s*2]=(p[s+1]-p[s])*2/5+p[s]+this.FRQ_EDGE,r[s*2+1]=(p[s+1]-p[s])*3/5+p[s]+this.FRQ_EDGE;var d=n.rb_x-n.lt_x,v=this.getColFrequency(e,t,n.lt_x,n.th_h,n.th_l,o),m=this.getColFrequency(e,t,n.rb_x,n.th_h,n.th_l,u);if(v<0&&m<0||v==m)return window.DEBUG&&console.log("bad col frq",v,m),-1;v>m?(h=v,p=o):(h=m,p=u);if(h!=c)return window.DEBUG&&console.log("freq mismatch",h,c),-1;for(s=0;s<h+h-1;s++){var g=p[s],y=p[s+1]-g;i[s*2]=y*2/5+g+this.FRQ_EDGE,i[s*2+1]=y*3/5+g+this.FRQ_EDGE}return h>this.MAX_FREQ?(window.DEBUG&&console.log("too high freq",h),-1):h},__readDataBits_index_bit_x:new FloatVector(38),__readDataBits_index_bit_y:new FloatVector(38),previousFrames:{},centerPoint:new IntVector(2),getPreviousFrameSize:function(e,t){var n=this.centerPoint[0],r=this.centerPoint[1],i=this.previousFrames,s=i[n+":"+r]||i[n-1+":"+r]||i[n+1+":"+r]||i[n+":"+(r-1)]||i[n-1+":"+(r-1)]||i[n+1+":"+(r-1)]||i[n+":"+(r+1)]||i[n-1+":"+(r+1)]||i[n+1+":"+(r+1)];return s?(e.set(s.index_x),t.set(s.index_y),s.size):-1},setPreviousFrameSize:function(e,t,n){var r=this.previousFrames[this.centerPoint[0]+":"+this.centerPoint[1]];if(!r){r={age:0,size:e,index_x:new FloatVector(t),index_y:new FloatVector(n)},this.previousFrames[this.centerPoint[0]+":"+this.centerPoint[1]]=r;return}r.age=0,r.size=e,r.index_x.set(t),r.index_y.set(n)},readDataBits:function(e,t,n,r){var i=this.__readDataBits_index_bit_x,s=this.__readDataBits_index_bit_y,o=this.detectDataBitsIndex(e,t,n,i,s);o<0&&(o=this.getPreviousFrameSize(i,s));var u=o+o-1;if(o<0)return window.DEBUG&&console.log("readDataBits: size < 0"),!1;if(!r.initEncoder(o-1))return window.DEBUG&&console.log("readDataBits: initEncoder"),!1;var a=this._cparam,f=this._ref_x,l=this._ref_y,c=this._pixcel_temp,h=a[0],p=a[1],d=a[3],v=a[6],m=n.th,g=0;for(var y=0;y<u;y++){var b,w=1+s[y*2+0],E=1+s[y*2+1],S=p*w+a[2],x=a[4]*w+a[5],T=a[7]*w+1,N=p*E+a[2],C=a[4]*E+a[5],k=a[7]*E+1,L=0;for(b=0;b<u;b++){var A,O=1+i[b*2+0],M=1+i[b*2+1],_=v*O,D=h*O,P=d*O,H=v*M,B=h*M,j=d*M;A=_+T,f[L]=toInt((D+S)/A),l[L]=toInt((P+x)/A),L++,A=_+k,f[L]=toInt((D+N)/A),l[L]=toInt((P+C)/A),L++,A=H+T,f[L]=toInt((B+S)/A),l[L]=toInt((j+x)/A),L++,A=H+k,f[L]=toInt((B+N)/A),l[L]=toInt((j+C)/A),L++}e.getPixelSet(f,l,u*4,c);for(b=0;b<u;b++){var F=b*4,I=(c[F+0]+c[F+1]+c[F+2]+c[F+3])/4;r.setBitByBitIndex(g,I>m?0:1),g++}}return this.setPreviousFrameSize(o,i,s),!0},setSquare:function(e){return this._param_gen.getParam(e,this._cparam)?!0:!1}}),MarkerPattDecoder=ASKlass("MarkerPattDecoder",{decode:function(e,t,n){}}),INyIdMarkerDataEncoder=ASKlass("INyIdMarkerDataEncoder",{encode:function(e,t){},createDataInstance:function(){}}),NyIdMarkerDataEncoder_RawBit=ASKlass("NyIdMarkerDataEncoder_RawBit",INyIdMarkerDataEncoder,{_DOMAIN_ID:0,_mod_data:new IntVector([7,31,127,511,2047,4095]),encode:function(e,t){var n=t;if(e.ctrl_domain!=this._DOMAIN_ID)return!1;var r=e.model*2-1,i=r*r/8+1,s=0;for(var o=0;o<i;o++)n.packet[o]=e.data[o],s+=e.data[o];return s%=this._mod_data[e.model-2],e.check!=s?!1:(n.length=i,!0)},createDataInstance:function(){return new NyIdMarkerData_RawBit}}),NyIdMarkerData_RawBit=ASKlass("NyIdMarkerData_RawBit",INyIdMarkerData,{packet:new IntVector(22),length:0,isEqual:function(e){var t=e;if(t.length!=this.length)return!1;for(var n=t.length-1;n>=0;n--)if(t.packet[n]!=this.packet[n])return!1;return!0},copyFrom:function(e){var t=e;ArrayUtils.copyInt(t.packet,0,this.packet,0,t.length),this.length=t.length;return}}),INyARColorPatt=ASKlass("INyARColorPatt",INyARRgbRaster,{pickFromRaster:function(e,t){}}),NyARColorPatt_Perspective=ASKlass("NyARColorPatt_Perspective",INyARColorPatt,{_patdata:null,_pickup_lt:new NyARIntPoint2d,_resolution:0,_size:null,_perspective_gen:null,_pixelreader:null,LOCAL_LT:1,BUFFER_FORMAT:NyARBufferType.INT1D_X8R8G8B8_32,initializeInstance:function(e,t,n){NyAS3Utils.assert(e>2&&t>2),this._resolution=n,this._size=new NyARIntSize(e,t),this._patdata=new IntVector(t*e),this._pixelreader=new NyARRgbPixelReader_INT1D_X8R8G8B8_32(this._patdata,this._size);return},NyARColorPatt_Perspective:function(e,t,n,r){r==null&&(r=-1),r==-1?(this.initializeInstance(e,t,n),this.setEdgeSize(0,0,n)):(this.initializeInstance(e,t,n),this.setEdgeSizeByPercent(r,r,n));return},setEdgeSize:function(e,t,n){NyAS3Utils.assert(e>=0),NyAS3Utils.assert(t>=0),this._perspective_gen=new NyARPerspectiveParamGenerator_O1(this.LOCAL_LT,this.LOCAL_LT,(e*2+this._size.w)*n,(t*2+this._size.h)*n),this._pickup_lt.x=e*n+this.LOCAL_LT,this._pickup_lt.y=t*n+this.LOCAL_LT;return},setEdgeSizeByPercent:function(e,t,n){NyAS3Utils.assert(e>=0),NyAS3Utils.assert(t>=0),this.setEdgeSize(this._size.w*e/50,this._size.h*t/50,n);return},getWidth:function(){return this._size.w},getHeight:function(){return this._size.h},getSize:function(){return this._size},getRgbPixelReader:function(){return this._pixelreader},getBuffer:function(){return this._patdata},hasBuffer:function(){return this._patdata!=null},wrapBuffer:function(e){NyARException.notImplement()},getBufferType:function(){return BUFFER_FORMAT},isEqualBufferType:function(e){return BUFFER_FORMAT==e},__pickFromRaster_rgb_tmp:new IntVector(3),__pickFromRaster_cpara:new FloatVector(8),pickFromRaster:function(e,t){var n=this.__pickFromRaster_cpara;if(!this._perspective_gen.getParam(t,n))return!1;var r=this._resolution,i=e.getWidth(),s=e.getHeight(),o=r*r,u=this.__pickFromRaster_rgb_tmp,a=e.getRgbPixelReader(),f=0;for(var l=0;l<this._size.h*r;l+=r)for(var c=0;c<this._size.w*r;c+=r){var h,p,d;h=p=d=0;for(var v=l;v<l+r;v++){var m=this._pickup_lt.y+v;for(var g=c;g<c+r;g++){var y=this._pickup_lt.x+g,b=n[6]*y+n[7]*m+1,w=toInt((n[0]*y+n[1]*m+n[2])/b),E=toInt((n[3]*y+n[4]*m+n[5])/b);w<0&&(w=0),w>=i&&(w=i-1),E<0&&(E=0),E>=s&&(E=s-1),a.getPixel(w,E,u),h+=u[0],p+=u[1],d+=u[2]}}h/=o,p/=o,d/=o,this._patdata[f]=(h&255)<<16|(p&255)<<8|d&255,f++}return!0}}),NyARColorPatt_Perspective_O2=ASKlass("NyARColorPatt_Perspective_O2",NyARColorPatt_Perspective,{_pickup:null,NyARColorPatt_Perspective_O2:function(e,t,n,r){NyARColorPatt_Perspective.initialize.call(this,e,t,n,r);switch(n){case 1:this._pickup=new NyARPickFromRaster_1(this._pickup_lt,this._size);break;case 2:this._pickup=new NyARPickFromRaster_2x(this._pickup_lt,this._size);break;case 4:this._pickup=new NyARPickFromRaster_4x(this._pickup_lt,this._size);break;default:this._pickup=new NyARPickFromRaster_N(this._pickup_lt,n,this._size)}return},pickFromRaster:function(e,t){var n=this.__pickFromRaster_cpara;return this._perspective_gen.getParam(t,n)?(this._pickup.pickFromRaster(n,e,this._patdata),!0):!1}}),IpickFromRaster_Impl=ASKlass("IpickFromRaster_Impl",{pickFromRaster:function(e,t,n){}}),NyARPickFromRaster_1=ASKlass("NyARPickFromRaster_1",IpickFromRaster_Impl,{_size_ref:null,_lt_ref:null,NyARPickFromRaster_1:function(e,t){this._lt_ref=e,this._size_ref=t,this._rgb_temp=new IntVector(t.w*3),this._rgb_px=new IntVector(t.w),this._rgb_py=new IntVector(t.w);return},_rgb_temp:null,_rgb_px:null,_rgb_py:null,pickFromRaster:function(e,t,n){var r,i,s,o,u=t.getWidth(),a=t.getHeight(),f=this._size_ref.w,l=this._rgb_temp,c=this._rgb_px,h=this._rgb_py,p=e[0],d=e[3],v=e[6],m=e[1],g=e[4],y=e[7],b=this._lt_ref.y,w=this._lt_ref.x,E=t.getRgbPixelReader(),S=0,x,T,N=m*b+e[2]+p*w,C=g*b+e[5]+d*w,k=y*b+1+v*w;for(var L=this._size_ref.h-1;L>=0;L--){i=1/k,r=-v/(k*(k+v)),x=N,T=C;var A;for(A=f-1;A>=0;A--){s=c[A]=toInt(x*i),o=h[A]=toInt(T*i);if(s<0||s>=u||o<0||o>=a)s<0?c[A]=0:s>=u&&(c[A]=u-1),o<0?h[A]=0:o>=a&&(h[A]=a-1);x+=p,T+=d,i+=r}N+=m,C+=g,k+=y,E.getPixelSet(c,h,f,l);for(A=f-1;A>=0;A--){var O=A*3;n[S]=l[O]<<16|l[O+1]<<8|l[O+2]&255,S++}}return}}),NyARPickFromRaster_2x=ASKlass("NyARPickFromRaster_2x",IpickFromRaster_Impl,{_size_ref:null,_lt_ref:null,NyARPickFromRaster_2x:function(e,t){this._lt_ref=e,this._size_ref=t,this._rgb_temp=new IntVector(t.w*4*3),this._rgb_px=new IntVector(t.w*4),this._rgb_py=new IntVector(t.w*4);return},_rgb_temp:null,_rgb_px:null,_rgb_py:null,pickFromRaster:function(e,t,n){var r,i,s,o,u,a,f=t.getWidth(),l=t.getHeight(),c=this._size_ref.w,h=this._rgb_temp,p=this._rgb_px,d=this._rgb_py,v=e[0],m=e[3],g=e[6],y=e[1],b=e[4],w=e[7],E=this._lt_ref.y,S=this._lt_ref.x,x=t.getRgbPixelReader(),T=0,N,C,k=y*E+e[2]+v*S,L=b*E+e[5]+m*S,A=w*E+1+g*S,O,M,_=k+y,D=L+b,P=A+w,H=y+y,B=w+w,j=b+b;for(var F=this._size_ref.h-1;F>=0;F--){N=k,C=L,O=_,M=D,i=1/A,r=-g/(A*(A+g)),o=1/P,s=-g/(P*(P+g));var I=c*2*2-1,q;for(q=c*2-1;q>=0;q--){u=p[I]=toInt(N*i),a=d[I]=toInt(C*i);if(u<0||u>=f||a<0||a>=l)u<0?p[I]=0:u>=f&&(p[I]=f-1),a<0?d[I]=0:a>=l&&(d[I]=l-1);N+=v,C+=m,i+=r,I--,u=p[I]=toInt(O*o),a=d[I]=toInt(M*o);if(u<0||u>=f||a<0||a>=l)u<0?p[I]=0:u>=f&&(p[I]=f-1),a<0?d[I]=0:a>=l&&(d[I]=l-1);O+=v,M+=m,o+=s,I--}A+=B,P+=B,k+=H,L+=j,_+=H,D+=j,x.getPixelSet(p,d,c*4,h);for(q=c-1;q>=0;q--){var R=q*12,U=(h[R+0]+h[R+3]+h[R+6]+h[R+9])/4,z=(h[R+1]+h[R+4]+h[R+7]+h[R+10])/4,W=(h[R+2]+h[R+5]+h[R+8]+h[R+11])/4;n[T]=U<<16|z<<8|W&255,T++}}return}}),NyARPickFromRaster_4x=ASKlass("NyARPickFromRaster_4x",IpickFromRaster_Impl,{_size_ref:null,_lt_ref:null,NyARPickFromRaster_4x:function(e,t){this._lt_ref=e,this._size_ref=t,this._rgb_temp=new IntVector(48),this._rgb_px=new IntVector(16),this._rgb_py=new IntVector(16);return},_rgb_temp:null,_rgb_px:null,_rgb_py:null,pickFromRaster:function(e,t,n){var r,i,s,o,u,a,f,l=this._rgb_px,c=this._rgb_py,h,p,d,v=t.getWidth(),m=t.getHeight(),g=this._rgb_temp,y=e[0],b=e[3],w=e[6],E=e[1],S=e[2],x=e[4],T=e[5],N=e[7],C=this._lt_ref.x,k=t.getRgbPixelReader(),L=0,A=this._lt_ref.y;for(var O=this._size_ref.h-1;O>=0;O--,A+=4){var M=E*A+S,_=x*A+T,D=N*A+1,P=M+E,H=P+E,B=H+E,j=_+x,F=j+x,I=F+x,q=C;for(var R=this._size_ref.w-1;R>=0;R--,q+=4){u=w*q,a=y*q,f=b*q,u+=D,o=1/u,s=-N/((u+N)*u),r=l[0]=toInt((a+M)*o),i=c[0]=toInt((f+_)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[0]=0:r>=v&&(l[0]=v-1),i<0?c[0]=0:i>=m&&(c[0]=m-1);o+=s,r=l[4]=toInt((a+P)*o),i=c[4]=toInt((f+j)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[4]=0:r>=v&&(l[4]=v-1),i<0?c[4]=0:i>=m&&(c[4]=m-1);o+=s,r=l[8]=toInt((a+H)*o),i=c[8]=toInt((f+F)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[8]=0:r>=v&&(l[8]=v-1),i<0?c[8]=0:i>=m&&(c[8]=m-1);o+=s,r=l[12]=toInt((a+B)*o),i=c[12]=toInt((f+I)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[12]=0:r>=v&&(l[12]=v-1),i<0?c[12]=0:i>=m&&(c[12]=m-1);u+=w,a+=y,f+=b,o=1/u,s=-N/((u+N)*u),r=l[1]=toInt((a+M)*o),i=c[1]=toInt((f+_)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[1]=0:r>=v&&(l[1]=v-1),i<0?c[1]=0:i>=m&&(c[1]=m-1);o+=s,r=l[5]=toInt((a+P)*o),i=c[5]=toInt((f+j)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[5]=0:r>=v&&(l[5]=v-1),i<0?c[5]=0:i>=m&&(c[5]=m-1);o+=s,r=l[9]=toInt((a+H)*o),i=c[9]=toInt((f+F)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[9]=0:r>=v&&(l[9]=v-1),i<0?c[9]=0:i>=m&&(c[9]=m-1);o+=s,r=l[13]=toInt((a+B)*o),i=c[13]=toInt((f+I)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[13]=0:r>=v&&(l[13]=v-1),i<0?c[13]=0:i>=m&&(c[13]=m-1);u+=w,a+=y,f+=b,o=1/u,s=-N/((u+N)*u),r=l[2]=toInt((a+M)*o),i=c[2]=toInt((f+_)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[2]=0:r>=v&&(l[2]=v-1),i<0?c[2]=0:i>=m&&(c[2]=m-1);o+=s,r=l[6]=toInt((a+P)*o),i=c[6]=toInt((f+j)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[6]=0:r>=v&&(l[6]=v-1),i<0?c[6]=0:i>=m&&(c[6]=m-1);o+=s,r=l[10]=toInt((a+H)*o),i=c[10]=toInt((f+F)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[10]=0:r>=v&&(l[10]=v-1),i<0?c[10]=0:i>=m&&(c[10]=m-1);o+=s,r=l[14]=toInt((a+B)*o),i=c[14]=toInt((f+I)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[14]=0:r>=v&&(l[14]=v-1),i<0?c[14]=0:i>=m&&(c[14]=m-1);u+=w,a+=y,f+=b,o=1/u,s=-N/((u+N)*u),r=l[3]=toInt((a+M)*o),i=c[3]=toInt((f+_)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[3]=0:r>=v&&(l[3]=v-1),i<0?c[3]=0:i>=m&&(c[3]=m-1);o+=s,r=l[7]=toInt((a+P)*o),i=c[7]=toInt((f+j)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[7]=0:r>=v&&(l[7]=v-1),i<0?c[7]=0:i>=m&&(c[7]=m-1);o+=s,r=l[11]=toInt((a+H)*o),i=c[11]=toInt((f+F)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[11]=0:r>=v&&(l[11]=v-1),i<0?c[11]=0:i>=m&&(c[11]=m-1);o+=s,r=l[15]=toInt((a+B)*o),i=c[15]=toInt((f+I)*o);if(r<0||r>=v||i<0||i>=m)r<0?l[15]=0:r>=v&&(l[15]=v-1),i<0?c[15]=0:i>=m&&(c[15]=m-1);k.getPixelSet(l,c,16,g),h=(g[0]+g[3]+g[6]+g[9]+g[12]+g[15]+g[18]+g[21]+g[24]+g[27]+g[30]+g[33]+g[36]+g[39]+g[42]+g[45])/16,p=(g[1]+g[4]+g[7]+g[10]+g[13]+g[16]+g[19]+g[22]+g[25]+g[28]+g[31]+g[34]+g[37]+g[40]+g[43]+g[46])/16,d=(g[2]+g[5]+g[8]+g[11]+g[14]+g[17]+g[20]+g[23]+g[26]+g[29]+g[32]+g[35]+g[38]+g[41]+g[44]+g[47])/16,n[L]=(h&255)<<16|(p&255)<<8|d&255,L++}}return}}),NyARPickFromRaster_N=ASKlass("NyARPickFromRaster_N",IpickFromRaster_Impl,{_resolution:0,_size_ref:null,_lt_ref:null,NyARPickFromRaster_N:function(e,t,n){this._lt_ref=e,this._resolution=t,this._size_ref=n,this._rgb_temp=new IntVector(t*t*3),this._rgb_px=new IntVector(t*t),this._rgb_py=new IntVector(t*t),this._cp1cy_cp2=new FloatVector(t),this._cp4cy_cp5=new FloatVector(t),this._cp7cy_1=new FloatVector(t);return},_rgb_temp:null,_rgb_px:null,_rgb_py:null,_cp1cy_cp2:null,_cp4cy_cp5:null,_cp7cy_1:null,pickFromRaster:function(e,t,n){var r,i,s,o,u,a,f,l,c=this._resolution,h=c*c,p=t.getWidth(),d=t.getHeight(),v=this._rgb_temp,m=this._rgb_px,g=this._rgb_py,y=this._cp1cy_cp2,b=this._cp4cy_cp5,w=this._cp7cy_1,E=e[0],S=e[3],x=e[6],T=e[1],N=e[2],C=e[4],k=e[5],L=e[7],A=this._lt_ref.y,O=this._lt_ref.x,M=t.getRgbPixelReader(),_=0;for(var D=0;D<this._size_ref.h*c;D+=c){u=A+D,y[0]=T*u+N,b[0]=C*u+k,w[0]=L*u+1;for(i=1;i<c;i++)y[i]=y[i-1]+T,b[i]=b[i-1]+C,w[i]=w[i-1]+L;for(var P=0;P<this._size_ref.w*c;P+=c){var H=0;u=O+P;for(i=c-1;i>=0;i--){var B=E*u+y[i],j=x*u+w[i],F=S*u+b[i],I=1/j,q=-x/(j*(j+x)),R=B*I,U=F*I,z=B*q+E*(I+q),W=F*q+S*(I+q);for(r=c-1;r>=0;r--){s=m[H]=toInt(R),o=g[H]=toInt(U);if(s<0||s>=p||o<0||o>=d)s<0?m[H]=0:s>=p&&(m[H]=p-1),o<0?g[H]=0:o>=d&&(g[H]=d-1);H++,R+=z,U+=W}}M.getPixelSet(m,g,h,v),a=f=l=0;for(var X=h*3-1;X>0;)l+=v[X--],f+=v[X--],a+=v[X--];a/=h,f/=h,l/=h,n[_]=(a&255)<<16|(f&255)<<8|l&255,_++}}return}}),FLSingleARMarkerProcesser=ASKlass("FLSingleARMarkerProcesser",{tag:null,_lost_delay_count:0,_lost_delay:5,_square_detect:null,_transmat:null,_offset:null,_threshold:110,_bin_raster:null,_tobin_filter:null,_current_arcode_index:-1,_threshold_detect:null,FLSingleARMarkerProcesser:function(){return},_initialized:!1,initInstance:function(e){NyAS3Utils.assert(this._initialized==0);var t=e.getScreenSize();this._square_detect=new FLARSquareContourDetector(t),this._transmat=new NyARTransMat(e),this._tobin_filter=new FLARRasterFilter_Threshold(110),this._bin_raster=new FLARBinRaster(t.w,t.h),this._threshold_detect=new FLARRasterThresholdAnalyzer_SlidePTile(15,4),this._initialized=!0,this._detectmarker_cb=new FLARDetectSquareCB_1(e),this._offset=new NyARRectOffset;return},setARCodeTable:function(e,t,n){this._current_arcode_index!=-1&&this.reset(!0),this._detectmarker_cb.setNyARCodeTable(e,t),this._offset.setSquare(n);return},reset:function(e){this._current_arcode_index!=-1&&e==0&&this.onLeaveHandler(),this._current_arcode_index=-1;return},_detectmarker_cb:null,detectMarker:function(e){NyAS3Utils.assert(this._bin_raster.getSize().isEqualSize_int(e.getSize().w,e.getSize().h)),this._tobin_filter.setThreshold(this._threshold),this._tobin_filter.doFilter(e,this._bin_raster),this._detectmarker_cb.init(e,this._current_arcode_index),this._square_detect.detectMarkerCB(this._bin_raster,this._detectmarker_cb);var t=updateStatus(this._detectmarker_cb.square,this._detectmarker_cb.code_index);if(!t){var n=this._threshold_detect.analyzeRaster(e);this._threshold=(this._threshold+n)/2}return},setConfidenceThreshold:function(e,t){this._detectmarker_cb.cf_threshold_exist=t,this._detectmarker_cb.cf_threshold_new=e},__NyARSquare_result:new FLARTransMatResult,updateStatus:function(e,t){var n=this.__NyARSquare_result;if(this._current_arcode_index<0)return t<0?!1:(this._current_arcode_index=t,this.onEnterHandler(t),this._transmat.transMat(e,this._offset,n),this.onUpdateHandler(e,n),this._lost_delay_count=0,!0);if(t<0)return this._lost_delay_count++,this._lost_delay<this._lost_delay_count&&(this._current_arcode_index=-1,this.onLeaveHandler()),!1;if(t==this._current_arcode_index)return this._transmat.transMat(e,this._offset,n),this.onUpdateHandler(e,n),this._lost_delay_count=0,!0;throw new NyARException},onEnterHandler:function(e){throw new NyARException("onEnterHandler not implemented.")},onLeaveHandler:function(){throw new NyARException("onLeaveHandler not implemented.")},onUpdateHandler:function(e,t){throw new NyARException("onUpdateHandler not implemented.")}}),FLARDetectSquareCB_1=ASKlass("DetectSquareCB",{square:new FLARSquare,confidence:0,code_index:-1,cf_threshold_new:.5,cf_threshold_exist:.3,_ref_raster:null,_inst_patt:null,_deviation_data:null,_match_patt:null,__detectMarkerLite_mr:new NyARMatchPattResult,_coordline:null,DetectSquareCB:function(e){this._match_patt=null,this._coordline=new NyARCoord2Linear(e.getScreenSize(),e.getDistortionFactor());return},setNyARCodeTable:function(e,t){this._deviation_data=new NyARMatchPattDeviationColorData(t,t),this._inst_patt=new NyARColorPatt_Perspective_O2(t,t,4,25),this._match_patt=new Array(e.length);for(var n=0;n<e.length;n++)this._match_patt[n]=new NyARMatchPatt_Color_WITHOUT_PCA(e[n])},__tmp_vertex:NyARIntPoint2d.createArray(4),_target_id:0,init:function(e,t){this._ref_raster=e,this._target_id=t,this.code_index=-1,this.confidence=Number.MIN_VALUE},onSquareDetect:function(e,t,n,r,i){if(this._match_patt==null)return;var s=this.__tmp_vertex;s[0].x=t[i[0]],s[0].y=n[i[0]],s[1].x=t[i[1]],s[1].y=n[i[1]],s[2].x=t[i[2]],s[2].y=n[i[2]],s[3].x=t[i[3]],s[3].y=n[i[3]];if(!this._inst_patt.pickFromRaster(this._ref_raster,s))return;this._deviation_data.setRaster(this._inst_patt);var o=this.__detectMarkerLite_mr,u=0,a=0,f=0,l;for(l=0;l<this._match_patt.length;l++){this._match_patt[l].evaluate(this._deviation_data,o);var c=o.confidence;f<c&&(u=l,f=c,a=o.direction)}if(this._target_id==-1){if(f<this.cf_threshold_new)return;if(this.confidence>f)return;this.code_index=u}else{if(u!=this._target_id)return;if(f<this.cf_threshold_exist)return;if(this.confidence>f)return;this.code_index=this._target_id}this.confidence=f;var h=this.square;for(l=0;l<4;l++){var p=(l+4-a)%4;this._coordline.coord2Line(i[p],i[(p+1)%4],t,n,r,h.line[l])}for(l=0;l<4;l++)if(!NyARLinear.crossPos(h.line[l],h.line[(l+3)%4],h.sqvertex[l]))throw new NyARException}}),FLSingleNyIdMarkerProcesser=ASKlass("FLSingleNyIdMarkerProcesser",{tag:null,_lost_delay_count:0,_lost_delay:5,_square_detect:null,_transmat:null,_offset:null,_is_active:null,_current_threshold:110,_bin_raster:null,_tobin_filter:null,_callback:null,_data_current:null,FLSingleNyIdMarkerProcesser:function(){return},_initialized:!1,initInstance:function(e,t,n){NyAS3Utils.assert(this._initialized==0);var r=e.getScreenSize();this._square_detect=new FLARSquareContourDetector(r),this._transmat=new NyARTransMat(e),this._callback=new FLARDetectSquareCB_2(e,t),this._bin_raster=new FLARBinRaster(r.w,r.h),this._data_current=t.createDataInstance(),this._tobin_filter=new FLARRasterFilter_Threshold(110),this._threshold_detect=new FLARRasterThresholdAnalyzer_SlidePTile(15,4),this._initialized=!0,this._is_active=!1,this._offset=new NyARRectOffset,this._offset.setSquare(n);return},setMarkerWidth:function(e){this._offset.setSquare(e);return},reset:function(e){e==0&&this._is_active&&this.onLeaveHandler(),this._is_active=!1;return},detectMarker:function(e){if(!this._bin_raster.getSize().isEqualSize_int(e.getSize().w,e.getSize().h))throw new NyARException;this._tobin_filter.setThreshold(this._current_threshold),this._tobin_filter.doFilter(e,this._bin_raster),this._callback.init(e,this._is_active?this._data_current:null),this._square_detect.detectMarkerCB(this._bin_raster,this._callback);var t=updateStatus(this._callback.square,this._callback.marker_data);if(t)this._current_threshold=(this._current_threshold+this._callback.threshold)/2;else{var n=this._threshold_detect.analyzeRaster(e);this._current_threshold=(this._current_threshold+n)/2}return},_threshold_detect:null,__NyARSquare_result:new FLARTransMatResult,updateStatus:function(e,t){var n=!1,r=this.__NyARSquare_result;if(!this._is_active)t==null?this._is_active=!1:(this._data_current.copyFrom(t),this.onEnterHandler(this._data_current),this._transmat.transMat(e,this._offset,r),this.onUpdateHandler(e,r),this._lost_delay_count=0,this._is_active=!0,n=!0);else if(t==null)this._lost_delay_count++,this._lost_delay<this._lost_delay_count&&(this.onLeaveHandler(),this._is_active=!1);else{if(!this._data_current.isEqual(t))throw new NyARException;this._transmat.transMatContinue(e,this._offset,r),this.onUpdateHandler(e,r),this._lost_delay_count=0,n=!0}return n},onEnterHandler:function(e){throw new NyARException("onEnterHandler not implemented.")},onLeaveHandler:function(){throw new NyARException("onLeaveHandler not implemented.")},onUpdateHandler:function(e,t){throw new NyARException("onUpdateHandler not implemented.")}}),FLARDetectSquareCB_2=ASKlass("DetectSquareCB",{square:new FLARSquare,marker_data:null,threshold:0,_ref_raster:null,_current_data:null,_id_pickup:new NyIdMarkerPickup,_coordline:null,_encoder:null,_data_temp:null,_prev_data:null,DetectSquareCB:function(e,t){this._coordline=new NyARCoord2Linear(e.getScreenSize(),e.getDistortionFactor()),this._data_temp=t.createDataInstance(),this._current_data=t.createDataInstance(),this._encoder=t;return},__tmp_vertex:NyARIntPoint2d.createArray(4),init:function(e,t){this.marker_data=null,this._prev_data=t,this._ref_raster=e},_marker_param:new NyIdMarkerParam,_marker_data:new NyIdMarkerPattern,onSquareDetect:function(e,t,n,r,i){if(this.marker_data!=null)return;var s=this.__tmp_vertex;s[0].x=t[i[0]],s[0].y=n[i[0]],s[1].x=t[i[1]],s[1].y=n[i[1]],s[2].x=t[i[2]],s[2].y=n[i[2]],s[3].x=t[i[3]],s[3].y=n[i[3]];var o=this._marker_param,u=this._marker_data;if(!this._id_pickup.pickFromRaster(this._ref_raster,s,u,o))return;if(!this._encoder.encode(u,this._data_temp))return;if(this._prev_data==null)this._current_data.copyFrom(this._data_temp);else if(!this._prev_data.isEqual(this._data_temp))return;var a=this.square,f;for(f=0;f<4;f++){var l=(f+4-o.direction)%4;this._coordline.coord2Line(i[l],i[(l+1)%4],t,n,r,a.line[f])}for(f=0;f<4;f++)if(!NyARLinear.crossPos(a.line[f],a.line[(f+3)%4],a.sqvertex[f]))throw new NyARException;this.threshold=o.threshold,this.marker_data=this._current_data}}),NyARCustomSingleDetectMarker=ASKlass("NyARCustomSingleDetectMarker",{_is_continue:!1,_square_detect:null,_transmat:null,_bin_raster:null,_tobin_filter:null,_detect_cb:null,_offset:null,NyARCustomSingleDetectMarker:function(){return},initInstance:function(e,t,n,r,i,s,o){var u=i.getScreenSize();this._square_detect=t,this._transmat=n,this._tobin_filter=r,this._bin_raster=new NyARBinRaster(u.w,u.h),this._detect_cb=new DetectSquareCB_3(e,s,i),this._offset=new NyARRectOffset,this._offset.setSquare(o);return},detectMarkerLiteB:function(e){if(!this._bin_raster.getSize().isEqualSize_NyARIntSize(e.getSize()))throw new NyARException;return this._tobin_filter.doFilter(e,this._bin_raster),this._detect_cb.init(e),this._square_detect.detectMarkerCB(this._bin_raster,_detect_cb),this._detect_cb.confidence==0?!1:!0},getTransmationMatrix:function(e){this._is_continue?this._transmat.transMatContinue(this._detect_cb.square,this._offset,e):this._transmat.transMat(this._detect_cb.square,this._offset,e);return},refSquare:function(){return this._detect_cb.square},getConfidence:function(){return this._detect_cb.confidence},setContinueMode:function(e){this._is_continue=e}}),DetectSquareCB_3=ASKlass("DetectSquareCB",NyARSquareContourDetector_IDetectMarkerCallback,{confidence:0,square:new NyARSquare,_ref_raster:null,_inst_patt:null,_deviation_data:null,_match_patt:null,__detectMarkerLite_mr:new NyARMatchPattResult,_coordline:null,DetectSquareCB:function(e,t,n){this._inst_patt=e,this._deviation_data=new NyARMatchPattDeviationColorData(t.getWidth(),t.getHeight()),this._coordline=new NyARCoord2Linear(n.getScreenSize(),n.getDistortionFactor()),this._match_patt=new NyARMatchPatt_Color_WITHOUT_PCA(t);return},__tmp_vertex:NyARIntPoint2d.createArray(4),onSquareDetect:function(e,t,n,r,i){var s,o=this.__detectMarkerLite_mr,u=this.__tmp_vertex;u[0].x=t[i[0]],u[0].y=n[i[0]],u[1].x=t[i[1]],u[1].y=n[i[1]],u[2].x=t[i[2]],u[2].y=n[i[2]],u[3].x=t[i[3]],u[3].y=n[i[3]];if(!this._inst_patt.pickFromRaster(this._ref_raster,u))return;this._deviation_data.setRaster(this._inst_patt);if(!this._match_patt.evaluate(this._deviation_data,o))return;if(this.confidence>o.confidence)return;var a=this.square;this.confidence=o.confidence;for(s=0;s<4;s++){var f=(s+4-o.direction)%4;this._coordline.coord2Line(i[f],i[(f+1)%4],t,n,r,a.line[s])}for(s=0;s<4;s++)if(!NyARLinear.crossPos(a.line[s],a.line[(s+3)%4],a.sqvertex[s]))throw new NyARException},init:function(e){this.confidence=0,this._ref_raster=e}}),NyARDetectMarker=ASKlass("NyARDetectMarker",{_detect_cb:null,AR_SQUARE_MAX:300,_is_continue:!1,_square_detect:null,_transmat:null,_offset:null,NyARDetectMarker:function(e,t,n,r,i){this.initInstance(e,t,n,r,i);return},initInstance:function(e,t,n,r,i){var s=e.getScreenSize(),o=t[0].getWidth(),u=t[0].getHeight();this._detect_cb=new NyARDetectSquareCB(new NyARColorPatt_Perspective_O2(o,u,4,25),t,r,e),this._transmat=new NyARTransMat(e),this._square_detect=new NyARSquareContourDetector_Rle(e.getScreenSize()),this._tobin_filter=new NyARRasterFilter_ARToolkitThreshold(100,i),this._offset=NyARRectOffset.createArray(r);for(var a=0;a<r;a++)this._offset[a].setSquare(n[a]);this._bin_raster=new NyARBinRaster(s.w,s.h);return},_bin_raster:null,_tobin_filter:null,detectMarkerLite:function(e,t){if(!this._bin_raster.getSize().isEqualSize_NyARIntSize(e.getSize()))throw new NyARException;return NyARRasterFilter_ARToolkitThreshold(this._tobin_filter).setThreshold(t),this._tobin_filter.doFilter(e,this._bin_raster),this._detect_cb.init(e),this._square_detect.detectMarkerCB(this._bin_raster,this._detect_cb),this._detect_cb.result_stack.getLength()},getTransmationMatrix:function(e,t){var n=this._detect_cb.result_stack.getItem(e);_is_continue?_transmat.transMatContinue(n.square,this._offset[n.arcode_id],t):_transmat.transMat(n.square,this._offset[n.arcode_id],t);return},getConfidence:function(e){return this._detect_cb.result_stack.getItem(e).confidence},getARCodeIndex:function(e){return this._detect_cb.result_stack.getItem(e).arcode_id},setContinueMode:function(e){this._is_continue=e}}),NyARDetectMarkerResult=ASKlass("NyARDetectMarkerResult",{arcode_id:0,confidence:0,square:new NyARSquare}),NyARDetectMarkerResultStack=ASKlass("NyARDetectMarkerResultStack ",NyARObjectStack,{NyARDetectMarkerResultStack:function(e){NyARObjectStack.initialize.call(this,e)},createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new NyARDetectMarkerResult;return t}}),NyARDetectSquareCB=ASKlass("NyARDetectSquareCB ",NyARSquareContourDetector_IDetectMarkerCallback,{result_stack:new NyARDetectMarkerResultStack(NyARDetectMarker.AR_SQUARE_MAX),_ref_raster:null,_inst_patt:null,_deviation_data:null,_match_patt:null,__detectMarkerLite_mr:new NyARMatchPattResult,_coordline:null,NyARDetectSquareCB:function(e,t,n,r){var i=t[0].getWidth(),s=t[0].getHeight();this._inst_patt=e,this._coordline=new NyARCoord2Linear(r.getScreenSize(),r.getDistortionFactor()),this._deviation_data=new NyARMatchPattDeviationColorData(i,s),this._match_patt=new Array(n),this._match_patt[0]=new NyARMatchPatt_Color_WITHOUT_PCA(t[0]);for(var o=1;o<n;o++){if(i!=t[o].getWidth()||s!=t[o].getHeight())throw new NyARException;this._match_patt[o]=new NyARMatchPatt_Color_WITHOUT_PCA(t[o])}return},__tmp_vertex:NyARIntPoint2d.createArray(4),onSquareDetect:function(e,t,n,r,i){var s=this.__detectMarkerLite_mr,o=this.__tmp_vertex;o[0].x=t[i[0]],o[0].y=n[i[0]],o[1].x=t[i[1]],o[1].y=n[i[1]],o[2].x=t[i[2]],o[2].y=n[i[2]],o[3].x=t[i[3]],o[3].y=n[i[3]];if(!this._inst_patt.pickFromRaster(this._ref_raster,o))return;this._deviation_data.setRaster(this._inst_patt);var u,a,f;this._match_patt[0].evaluate(this._deviation_data,s),u=0,a=s.direction,f=s.confidence;var l;for(l=1;l<this._match_patt.length;l++){this._match_patt[l].evaluate(this._deviation_data,s);if(f>s.confidence)continue;u=l,a=s.direction,f=s.confidence}var c=this.result_stack.prePush();c.arcode_id=u,c.confidence=f;var h=c.square;for(l=0;l<4;l++){var p=(l+4-a)%4;this._coordline.coord2Line(i[p],i[(p+1)%4],t,n,r,h.line[l])}for(l=0;l<4;l++)if(!NyARLinear.crossPos(h.line[l],h.line[(l+3)%4],h.sqvertex[l]))throw new NyARException},init:function(e){this._ref_raster=e,this.result_stack.clear()}}),NyARSingleDetectMarker=ASKlass("NyARSingleDetectMarker",NyARCustomSingleDetectMarker,{PF_ARTOOLKIT_COMPATIBLE:1,PF_NYARTOOLKIT:2,PF_NYARTOOLKIT_ARTOOLKIT_FITTING:100,PF_TEST2:201,NyARSingleDetectMarker:function(e,t,n,r,i){i==null&&(i=this.PF_NYARTOOLKIT),NyARCustomSingleDetectMarker.initialize.call(this),this.initInstance2(e,t,n,r,i);return},initInstance2:function(e,t,n,r,i){var s=new NyARRasterFilter_ARToolkitThreshold(100,r),o,u,a;switch(i){case this.PF_NYARTOOLKIT:o=new NyARColorPatt_Perspective_O2(t.getWidth(),t.getHeight(),4,25),u=new NyARSquareContourDetector_Rle(e.getScreenSize()),a=new NyARTransMat(e);break;default:throw new NyARException}NyARCustomSingleDetectMarker.initInstance.call(this,o,u,a,s,e,t,n)},detectMarkerLite:function(e,t){return NyARRasterFilter_ARToolkitThreshold(this._tobin_filter).setThreshold(t),NyARCustomSingleDetectMarker.detectMarkerLiteB.call(this,e)}}),FLARDetectMarkerResult=ASKlass("FLARDetectMarkerResult",{arcode_id:0,confidence:0,direction:0,square:new NyARSquare}),FLARDetectMarkerResultStack=ASKlass("FLARDetectMarkerResultStack",NyARObjectStack,{FLARDetectMarkerResultStack:function(e){NyARObjectStack.initialize.call(this,e)},createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new FLARDetectMarkerResult;return t}}),FLARMultiMarkerDetector=ASKlass("FLARMultiMarkerDetector",{_detect_cb:null,AR_SQUARE_MAX:300,_is_continue:!1,_square_detect:null,_transmat:null,_offset:null,_flarcode:null,FLARMultiMarkerDetector:function(e,t,n,r){this.initInstance(e,t,n,r);return},initInstance:function(e,t,n,r){var i=e.getScreenSize(),s=t[0].getWidth(),o=t[0].getHeight(),u=(100-t[0].markerPercentWidth)/2,a=(100-t[0].markerPercentHeight)/2,f=new NyARColorPatt_Perspective_O2(s,o,4,u);f.setEdgeSizeByPercent(u,a,4),this._detect_cb=new MultiDetectSquareCB(f,t,r,e),this._transmat=new NyARTransMat(e),this._square_detect=new FLARSquareContourDetector(e.getScreenSize()),this._tobin_filter=new FLARRasterFilter_Threshold(100),this._offset=NyARRectOffset.createArray(r);for(var l=0;l<r;l++)this._offset[l].setSquare(n[l]);this._bin_raster=new FLARBinRaster(i.w,i.h);return},_bin_raster:null,_tobin_filter:null,detectMarkerLite:function(e,t){if(!this._bin_raster.getSize().isEqualSize_NyARIntSize(e.getSize()))throw new NyARException;if(t!=-1)FLARRasterFilter_Threshold(this._tobin_filter).setThreshold(t),this._tobin_filter.doFilter(e,this._bin_raster);else{var n=e.getBuffer(),r=this._bin_raster.getBuffer();r.copyPixels(n,n.rect,new Point)}return this._detect_cb.init(e),this._square_detect.detectMarkerCB(this._bin_raster,this._detect_cb),this._detect_cb.result_stack.getLength()},getTransformMatrix:function(e,t){var n=this._detect_cb.result_stack.getItem(e);_is_continue?_transmat.transMatContinue(n.square,this._offset[n.arcode_id],t):_transmat.transMat(n.square,this._offset[n.arcode_id],t);return},getConfidence:function(e){return this._detect_cb.result_stack.getItem(e).confidence},getARCodeIndex:function(e){return this._detect_cb.result_stack.getItem(e).arcode_id},getDirection:function(e){return this._detect_cb.result_stack.getItem(e).direction},getSquare:function(e){return this._detect_cb.result_stack.getItem(e).square},setContinueMode:function(e){this._is_continue=e},setAreaRange:function(e,t){e==null&&(e=1e5),t==null&&(t=70),e<0&&(e=FLARLabeling.AR_AREA_MAX),t<0&&(t=FLARLabeling.AR_AREA_MIN);if(e<t){var n=e;e=t,t=n}this._square_detect.setAreaRange(e,t)},thresholdedBitmapData:function(){try{return this._bin_raster.getBuffer()}catch(e){return null}return null}}),FLARSingleMarkerDetector=ASKlass("FLARSingleMarkerDetector",{_is_continue:!1,_square_detect:null,_transmat:null,_bin_raster:null,_tobin_filter:null,_detect_cb:null,_offset:null,FLARSingleMarkerDetector:function(e,t,n){var r=new FLARRasterFilter_Threshold(100),i,s,o,u=(100-t.markerPercentWidth)/2,a=(100-t.markerPercentHeight)/2;i=new NyARColorPatt_Perspective_O2(t.getWidth(),t.getHeight(),4,u),i.setEdgeSizeByPercent(u,a,4),s=new FLARSquareContourDetector(e.getScreenSize()),o=new NyARTransMat(e),this.initInstance(i,s,o,r,e,t,n);return},initInstance:function(e,t,n,r,i,s,o){var u=i.getScreenSize();this._square_detect=t,this._transmat=n,this._tobin_filter=r,this._bin_raster=new FLARBinRaster(u.w,u.h),this._detect_cb=new SingleDetectSquareCB(e,s,i),this._offset=new NyARRectOffset,this._offset.setSquare(o);return},detectMarkerLite:function(e,t){FLARRasterFilter_Threshold(this._tobin_filter).setThreshold(t);if(!this._bin_raster.getSize().isEqualSize_NyARIntSize(e.getSize()))throw new FLARException;return this._tobin_filter.doFilter(e,this._bin_raster),this._detect_cb.init(e),this._square_detect.detectMarkerCB(this._bin_raster,this._detect_cb),this._detect_cb.confidence==0?!1:!0},getTransformMatrix:function(e){this._is_continue?this._transmat.transMatContinue(this._detect_cb.square,this._offset,e):this._transmat.transMat(this._detect_cb.square,this._offset,e);return},getConfidence:function(){return this._detect_cb.confidence},getDirection:function(){return this._detect_cb.direction},getSquare:function(){return this._detect_cb.square},setContinueMode:function(e){this._is_continue=e},setAreaRange:function(e,t){e==null&&(e=1e5),t==null&&(t=70),e<0&&(e=FLARLabeling.AR_AREA_MAX),t<0&&(t=FLARLabeling.AR_AREA_MIN);if(e<t){var n=e;e=t,t=n}this._square_detect.setAreaRange(e,t)},thresholdedBitmapData:function(){try{return this._bin_raster.getBuffer()}catch(e){return null}return null}}),MultiDetectSquareCB=ASKlass("MultiDetectSquareCB",{result_stack:new FLARDetectMarkerResultStack(NyARDetectMarker.AR_SQUARE_MAX),_ref_raster:null,_inst_patt:null,_deviation_data:null,_match_patt:null,__detectMarkerLite_mr:new NyARMatchPattResult,_coordline:null,MultiDetectSquareCB:function(e,t,n,r){var i=t[0].getWidth(),s=t[0].getHeight();this._inst_patt=e,this._coordline=new NyARCoord2Linear(r.getScreenSize(),r.getDistortionFactor()),this._deviation_data=new NyARMatchPattDeviationColorData(i,s),this._match_patt=new Array(n),this._match_patt[0]=new NyARMatchPatt_Color_WITHOUT_PCA(t[0]);for(var o=1;o<n;o++){if(i!=t[o].getWidth()||s!=t[o].getHeight())throw new NyARException;this._match_patt[o]=new NyARMatchPatt_Color_WITHOUT_PCA(t[o])}return},__tmp_vertex:NyARIntPoint2d.createArray(4),onSquareDetect:function(e,t,n,r,i){var s=this.__detectMarkerLite_mr,o=this.__tmp_vertex;o[0].x=t[i[0]],o[0].y=n[i[0]],o[1].x=t[i[1]],o[1].y=n[i[1]],o[2].x=t[i[2]],o[2].y=n[i[2]],o[3].x=t[i[3]],o[3].y=n[i[3]];if(!this._inst_patt.pickFromRaster(this._ref_raster,o))return;this._deviation_data.setRaster(this._inst_patt);var u,a,f;this._match_patt[0].evaluate(this._deviation_data,s),u=0,a=s.direction,f=s.confidence;var l;for(l=1;l<this._match_patt.length;l++){this._match_patt[l].evaluate(this._deviation_data,s);if(f>s.confidence)continue;u=l,a=s.direction,f=s.confidence}var c=this.result_stack.prePush();c.arcode_id=u,c.confidence=f,c.direction=a;var h=c.square;for(l=0;l<4;l++){var p=(l+4-a)%4;this._coordline.coord2Line(i[p],i[(p+1)%4],t,n,r,h.line[l])}for(l=0;l<4;l++)if(!NyARLinear.crossPos(h.line[l],h.line[(l+3)%4],h.sqvertex[l]))throw new NyARException},init:function(e){this._ref_raster=e,this.result_stack.clear()}}),SingleDetectSquareCB=ASKlass("SingleDetectSquareCB",{confidence:0,square:new NyARSquare,direction:0,_ref_raster:null,_inst_patt:null,_deviation_data:null,_match_patt:null,__detectMarkerLite_mr:new NyARMatchPattResult,_coordline:null,SingleDetectSquareCB:function(e,t,n){this._inst_patt=e,this._deviation_data=new NyARMatchPattDeviationColorData(t.getWidth(),t.getHeight()),this._coordline=new NyARCoord2Linear(n.getScreenSize(),n.getDistortionFactor()),this._match_patt=new NyARMatchPatt_Color_WITHOUT_PCA(t);return},__tmp_vertex:NyARIntPoint2d.createArray(4),onSquareDetect:function(e,t,n,r,i){var s,o=this.__detectMarkerLite_mr,u=this.__tmp_vertex;u[0].x=t[i[0]],u[0].y=n[i[0]],u[1].x=t[i[1]],u[1].y=n[i[1]],u[2].x=t[i[2]],u[2].y=n[i[2]],u[3].x=t[i[3]],u[3].y=n[i[3]];if(!this._inst_patt.pickFromRaster(this._ref_raster,u))return;this._deviation_data.setRaster(this._inst_patt);if(!this._match_patt.evaluate(this._deviation_data,o))return;if(this.confidence>o.confidence)return;var a=this.square;this.confidence=o.confidence,this.direction=o.direction;for(s=0;s<4;s++){var f=(s+4-o.direction)%4;this._coordline.coord2Line(i[f],i[(f+1)%4],t,n,r,a.line[s])}for(s=0;s<4;s++)if(!NyARLinear.crossPos(a.line[s],a.line[(s+3)%4],a.sqvertex[s]))throw new NyARException},init:function(e){this.confidence=0,this._ref_raster=e}}),FLARIdMarkerData=ASKlass("FLARIdMarkerData",{_packet:new IntVector(22),_model:0,_controlDomain:0,_controlMask:0,_check:0,_dataDot:0,packetLength:0,FLARIdMarkerData:function(){},isEqual:function(e){if(e!=null&&e instanceof FLARIdMarkerData){var t=e;if(t.packetLength!=this.packetLength||t._check!=this._check||t._controlDomain!=this._controlDomain||t._controlMask!=this._controlMask||t._dataDot!=this._dataDot||t._model!=this._model)return!1;for(var n=t.packetLength-1;n>=0;n--)if(t._packet[n]!=this._packet[n])return!1;return!0}return!1},copyFrom:function(e){var t=e;if(t==null)return;this._check=t._check,this._controlDomain=t._controlDomain,this._controlMask=t._controlMask,this._dataDot=t._dataDot,this._model=t._model,this.packetLength=t.packetLength;for(var n=t.packetLength-1;n>=0;n--)this._packet[n]=t._packet[n];return},setModel:function(e){this._model=e},setControlDomain:function(e){this._controlDomain=e},setControlMask:function(e){this._controlMask=e},setCheck:function(e){this._check=e},setPacketData:function(e,t){if(!(e<this.packetLength))throw"packet index over "+e+" >= "+this.packetLength;this._packet[e]=t},setDataDotLength:function(e){this._dataDot=e},setPacketLength:function(e){this.packetLength=e},dataDotLength:function(){return this._dataDot},model:function(){return this._model},controlDomain:function(){return this._controlDomain},controlMask:function(){return this._controlMask},check:function(){return this._check},getPacketData:function(e){if(this.packetLength<=e)throw new ArgumentError("packet index over");return this._packet[e]}}),FLARDetectIdMarkerResult=ASKlass("FLARDetectIdMarkerResult",{arcode_id:0,direction:0,markerdata:new FLARIdMarkerData,square:new NyARSquare}),FLARDetectIdMarkerResultStack=ASKlass("FLARDetectIdMarkerResultStack",NyARObjectStack,{FLARDetectIdMarkerResultStack:function(e){NyARObjectStack.initialize.call(this,e)},createArray:function(e){var t=new Array(e);for(var n=0;n<e;n++)t[n]=new FLARDetectIdMarkerResult;return t}}),FLARMultiIdMarkerDetectCB=ASKlass("FLARMultiIdMarkerDetectCB",{result_stack:new FLARDetectIdMarkerResultStack(NyARDetectMarker.AR_SQUARE_MAX),square:new FLARSquare,marker_data:null,threshold:0,direction:0,_ref_raster:null,_current_data:null,_data_temp:null,_prev_data:null,_id_pickup:new NyIdMarkerPickup,_coordline:null,_encoder:null,__tmp_vertex:NyARIntPoint2d.createArray(4),_marker_param:new NyIdMarkerParam,_maker_pattern:new NyIdMarkerPattern,FLARMultiIdMarkerDetectCB:function(e,t){this._coordline=new NyARCoord2Linear(e.getScreenSize(),e.getDistortionFactor()),this._data_temp=t.createDataInstance(),this._current_data=t.createDataInstance(),this._encoder=t;return},init:function(e){this.marker_data=null,this.result_stack.clear(),this._id_pickup.init(),this._ref_raster=e},_previous_verts:{},onSquareDetect:function(e,t,n,r,i){var s=this.__tmp_vertex;s[0].x=t[i[0]],s[0].y=n[i[0]],s[1].x=t[i[1]],s[1].y=n[i[1]],s[2].x=t[i[2]],s[2].y=n[i[2]],s[3].x=t[i[3]],s[3].y=n[i[3]];var o=this._marker_param,u=this._maker_pattern,a;if(window.DEBUG){a=document.getElementById("debugCanvas").getContext("2d"),a.fillStyle="blue";for(var f=0;f<4;f++)a.fillRect(s[f].x-2,s[f].y-2,5,5)}var l=0,c=0;for(var f=0;f<4;f++)l+=s[f].x,c+=s[f].y;l/=4,c/=4;var h=this._id_pickup.pickFromRaster(this._ref_raster,s,u,o);if(!h){window.DEBUG&&(a.fillStyle="#ff0000",a.fillText("No pick",l+3,c));return}var p=this._encoder.encode(u,this._data_temp);if(!p)return;this._current_data.copyFrom(this._data_temp),this.marker_data=this._current_data,this.threshold=o.threshold,this.direction=o.direction;var d=this.result_stack.prePush();d.direction=this.direction,d.markerdata.copyFrom(this.marker_data),d.arcode_id=this.getId(d.markerdata),window.DEBUG&&(a.fillStyle="#00ffff",a.fillText(d.arcode_id,l+3,c));var v=d.square,f;for(f=0;f<4;f++){var m=(f+4-o.direction)%4;this._coordline.coord2Line(i[m],i[(m+1)%4],t,n,r,v.line[f])}for(f=0;f<4;f++)if(!NyARLinear.crossPos(v.line[f],v.line[(f+3)%4],v.sqvertex[f]))throw new NyARException},getId:function(e){var t;if(e.packetLength>4)t=-1;else{t=0;for(var n=0;n<e.packetLength;n++)t=t<<8|e.getPacketData(n)}return t}}),FLARMultiIdMarkerDetector=ASKlass("FLARMultiIdMarkerDetector",{_is_continue:!1,_square_detect:null,_offset:null,_current_threshold:110,_bin_raster:null,_tobin_filter:null,_callback:null,_data_current:null,_threshold_detect:null,_transmat:null,FLARMultiIdMarkerDetector:function(e,t){var n=e.getScreenSize(),r=new FLARIdMarkerDataEncoder_RawBit;this._square_detect=new FLARSquareContourDetector(n),this._callback=new FLARMultiIdMarkerDetectCB(e,r),this._transmat=new NyARTransMat(e),this._bin_raster=new FLARBinRaster(n.w,n.h),this._data_current=r.createDataInstance(),this._tobin_filter=new FLARRasterFilter_Threshold(110),this._threshold_detect=new FLARRasterThresholdAnalyzer_SlidePTile(15,4),this._offset=new NyARRectOffset,this._offset.setSquare(t);return},detectMarkerLite:function(e,t){if(!this._bin_raster.getSize().isEqualSize_int(e.getSize().w,e.getSize().h))throw new FLARException;return this._tobin_filter.setThreshold(t),this._tobin_filter.doFilter(e,this._bin_raster),this._callback.init(this._bin_raster),this._square_detect.detectMarkerCB(this._bin_raster,this._callback),this._callback.result_stack.getLength()},getTransformMatrix:function(e,t){var n=this._callback.result_stack.getItem(e);this._is_continue?this._transmat.transMatContinue(n.square,this._offset,t):this._transmat.transMat(n.square,this._offset,t);return},getIdMarkerData:function(e){var t=new FLARIdMarkerData;return t.copyFrom(this._callback.result_stack.getItem(e).markerdata),t},getARCodeIndex:function(e){return this._callback.result_stack.getItem(e).arcode_id},getDirection:function(e){return this._callback.result_stack.getItem(e).direction},getSquare:function(e){return this._callback.result_stack.getItem(e).square},setContinueMode:function(e){this._is_continue=e},thresholdedBitmapData:function(){try{return this._bin_raster.getBuffer()}catch(e){return null}return null}}),FLARSingleIdMarkerDetectCB=ASKlass("FLARSingleIdMarkerDetectCB",{square:new FLARSquare,marker_data:null,threshold:0,direction:0,_ref_raster:null,_current_data:null,_data_temp:null,_prev_data:null,_id_pickup:new NyIdMarkerPickup,_coordline:null,_encoder:null,__tmp_vertex:NyARIntPoint2d.createArray(4),_marker_param:new NyIdMarkerParam,_maker_pattern:new NyIdMarkerPattern,FLARSingleIdMarkerDetectCB:function(e,t){this._coordline=new NyARCoord2Linear(e.getScreenSize(),e.getDistortionFactor()),this._data_temp=t.createDataInstance(),this._current_data=t.createDataInstance(),this._encoder=t;return},init:function(e,t){this.marker_data=null,this._prev_data=t,this._ref_raster=e},onSquareDetect:function(e,t,n,r,i){if(this.marker_data!=null)return;var s=this.__tmp_vertex;s[0].x=t[i[0]],s[0].y=n[i[0]],s[1].x=t[i[1]],s[1].y=n[i[1]],s[2].x=t[i[2]],s[2].y=n[i[2]],s[3].x=t[i[3]],s[3].y=n[i[3]];var o=this._marker_param,u=this._maker_pattern,a=this._id_pickup.pickFromRaster(this._ref_raster,s,u,o);if(window.DEBUG){var f=document.getElementById("debugCanvas").getContext("2d");f.fillStyle="blue";for(var l=0;l<4;l++)f.fillRect(s[l].x-2,s[l].y-2,5,5)}if(!a)return;this.direction=o.direction;if(!this._encoder.encode(u,this._data_temp))return;if(this._prev_data==null)this._current_data.copyFrom(this._data_temp);else if(!this._prev_data.isEqual(this._data_temp))return;var c=this.square,l;for(l=0;l<4;l++){var h=(l+4-o.direction)%4;this._coordline.coord2Line(i[h],i[(h+1)%4],t,n,r,c.line[l])}for(l=0;l<4;l++)if(!NyARLinear.crossPos(c.line[l],c.line[(l+3)%4],c.sqvertex[l]))throw new NyARException;this.threshold=o.threshold,this.marker_data=this._current_data}}),FLARSingleIdMarkerDetector=ASKlass("FLARSingleIdMarkerDetector",{_is_continue:!1,_square_detect:null,_offset:null,_is_active:null,_current_threshold:110,_bin_raster:null,_tobin_filter:null,_callback:null,_data_current:null,_threshold_detect:null,_transmat:null,FLARSingleIdMarkerDetector:function(e,t){var n=e.getScreenSize(),r=new FLARIdMarkerDataEncoder_RawBit;this._square_detect=new FLARSquareContourDetector(n),this._callback=new FLARSingleIdMarkerDetectCB(e,r),this._transmat=new NyARTransMat(e),this._bin_raster=new FLARBinRaster(n.w,n.h),this._data_current=r.createDataInstance(),this._tobin_filter=new FLARRasterFilter_Threshold(110),this._threshold_detect=new FLARRasterThresholdAnalyzer_SlidePTile(15,4),this._offset=new NyARRectOffset,this._offset.setSquare(t);return},detectMarkerLite:function(e,t){if(!this._bin_raster.getSize().isEqualSize_int(e.getSize().w,e.getSize().h))throw new FLARException;return this._tobin_filter.setThreshold(t),this._tobin_filter.doFilter(e,this._bin_raster),this._callback.init(this._bin_raster,this._is_active?this._data_current:null),this._square_detect.detectMarkerCB(this._bin_raster,this._callback),this._callback.marker_data==null?(this._is_active=!1,!1):(this._is_active=!0,this._data_current.copyFrom(this._callback.marker_data),!0)},getIdMarkerData:function(){var e=new FLARIdMarkerData;return e.copyFrom(this._callback.marker_data),e},getDirection:function(){return this._callback.direction},getTransformMatrix:function(e){this._is_continue?this._transmat.transMatContinue(this._callback.square,this._offset,e):this._transmat.transMat(this._callback.square,this._offset,e);return},setContinueMode:function(e){this._is_continue=e}}),FLARIdMarkerDataEncoder_RawBit=ASKlass("FLARIdMarkerDataEncoder_RawBit",{_DOMAIN_ID:0,_mod_data:new IntVector([7,31,127,511,2047,4095]),encode:function(e,t){var n=t;if(n==null)throw new FLARException('type of o_dest must be "FLARIdMarkerData"');if(e.ctrl_domain!=this._DOMAIN_ID)return!1;n.setCheck(e.check),n.setControlDomain(e.ctrl_domain),n.setControlMask(e.ctrl_mask),n.setModel(e.model);var r=toInt(e.model*2-1);n.setDataDotLength(r);var i=toInt(r*r/8)+1;n.setPacketLength(i);var s=0;for(var o=0;o<i;o++)n.setPacketData(o,e.data[o]),s+=e.data[o];return s%=this._mod_data[e.model-2],e.check!=s?!1:!0},createDataInstance:function(){return new FLARIdMarkerData}}),SingleARMarkerProcesser=ASKlass("SingleARMarkerProcesser",{tag:null,_lost_delay_count:0,_lost_delay:5,_square_detect:null,_transmat:null,_offset:null,_threshold:110,_bin_raster:null,_tobin_filter:null,_current_arcode_index:-1,_threshold_detect:null,SingleARMarkerProcesser:function(){return},_initialized:!1,initInstance:function(e,t){NyAS3Utils.assert(this._initialized==0);var n=e.getScreenSize();this._square_detect=new NyARSquareContourDetector_Rle(n),this._transmat=new NyARTransMat(e),this._tobin_filter=new NyARRasterFilter_ARToolkitThreshold(110,t),this._bin_raster=new NyARBinRaster(n.w,n.h),this._threshold_detect=new NyARRasterThresholdAnalyzer_SlidePTile(15,t,4),this._initialized=!0,this._detectmarker_cb=new DetectSquareCB_1(e),this._offset=new NyARRectOffset;return},setARCodeTable:function(e,t,n){this._current_arcode_index!=-1&&this.reset(!0),this._detectmarker_cb.setNyARCodeTable(e,t),this._offset.setSquare(n);return},reset:function(e){this._current_arcode_index!=-1&&e==0&&this.onLeaveHandler(),this._current_arcode_index=-1;return},_detectmarker_cb:null,detectMarker:function(e){NyAS3Utils.assert(this._bin_raster.getSize().isEqualSize_int(e.getSize().w,e.getSize().h)),this._tobin_filter.setThreshold(this._threshold),this._tobin_filter.doFilter(e,this._bin_raster),this._detectmarker_cb.init(e,this._current_arcode_index),this._square_detect.detectMarkerCB(this._bin_raster,this._detectmarker_cb);var t=updateStatus(this._detectmarker_cb.square,this._detectmarker_cb.code_index);if(!t){var n=this._threshold_detect.analyzeRaster(e);this._threshold=(this._threshold+n)/2}return},setConfidenceThreshold:function(e,t){this._detectmarker_cb.cf_threshold_exist=t,this._detectmarker_cb.cf_threshold_new=e},__NyARSquare_result:new NyARTransMatResult,updateStatus:function(e,t){var n=this.__NyARSquare_result;if(this._current_arcode_index<0)return t<0?!1:(this._current_arcode_index=t,this.onEnterHandler(t),this._transmat.transMat(e,this._offset,n),this.onUpdateHandler(e,n),this._lost_delay_count=0,!0);if(t<0)return this._lost_delay_count++,this._lost_delay<this._lost_delay_count&&(this._current_arcode_index=-1,this.onLeaveHandler()),!1;if(t==this._current_arcode_index)return this._transmat.transMatContinue(e,this._offset,n),this.onUpdateHandler(e,n),this._lost_delay_count=0,!0;throw new NyARException},onEnterHandler:function(e){throw new NyARException("onEnterHandler not implemented.")},onLeaveHandler:function(){throw new NyARException("onLeaveHandler not implemented.")},onUpdateHandler:function(e,t){throw new NyARException("onUpdateHandler not implemented.")}}),DetectSquareCB_1=ASKlass("DetectSquareCB",NyARSquareContourDetector_IDetectMarkerCallback,{square:new NyARSquare,confidence:0,code_index:-1,cf_threshold_new:.5,cf_threshold_exist:.3,_ref_raster:null,_inst_patt:null,_deviation_data:null,_match_patt:null,__detectMarkerLite_mr:new NyARMatchPattResult,_coordline:null,DetectSquareCB:function(e){this._match_patt=null,this._coordline=new NyARCoord2Linear(e.getScreenSize(),e.getDistortionFactor());return},setNyARCodeTable:function(e,t){this._deviation_data=new NyARMatchPattDeviationColorData(t,t),this._inst_patt=new NyARColorPatt_Perspective_O2(t,t,4,25),this._match_patt=new Array(e.length);for(var n=0;n<e.length;n++)this._match_patt[n]=new NyARMatchPatt_Color_WITHOUT_PCA(e[n])},__tmp_vertex:NyARIntPoint2d.createArray(4),_target_id:0,init:function(e,t){this._ref_raster=e,this._target_id=t,this.code_index=-1,this.confidence=Number.MIN_VALUE},onSquareDetect:function(e,t,n,r,i){if(this._match_patt==null)return;var s=this.__tmp_vertex;s[0].x=t[i[0]],s[0].y=n[i[0]],s[1].x=t[i[1]],s[1].y=n[i[1]],s[2].x=t[i[2]],s[2].y=n[i[2]],s[3].x=t[i[3]],s[3].y=n[i[3]];if(!this._inst_patt.pickFromRaster(this._ref_raster,s))return;this._deviation_data.setRaster(this._inst_patt);var o=this.__detectMarkerLite_mr,u=0,a=0,f=0,l;for(l=0;l<this._match_patt.length;l++){this._match_patt[l].evaluate(this._deviation_data,o);var c=o.confidence;f<c&&(u=l,f=c,a=o.direction)}if(this._target_id==-1){if(f<this.cf_threshold_new)return;if(this.confidence>f)return;this.code_index=u}else{if(u!=this._target_id)return;if(f<this.cf_threshold_exist)return;if(this.confidence>f)return;this.code_index=this._target_id}this.confidence=f;var h=this.square;for(l=0;l<4;l++){var p=(l+4-a)%4;this._coordline.coord2Line(i[p],i[(p+1)%4],t,n,r,h.line[l])}for(l=0;l<4;l++)if(!NyARLinear.crossPos(h.line[l],h.line[(l+3)%4],h.sqvertex[l]))throw new NyARException}}),SingleNyIdMarkerProcesser=ASKlass("SingleNyIdMarkerProcesser",{tag:null,_lost_delay_count:0,_lost_delay:5,_square_detect:null,_transmat:null,_offset:null,_is_active:null,_current_threshold:110,_bin_raster:null,_tobin_filter:null,_callback:null,_data_current:null,SingleNyIdMarkerProcesser:function(){return},_initialized:!1,initInstance:function(e,t,n,r){NyAS3Utils.assert(this._initialized==0);var i=e.getScreenSize();this._square_detect=new NyARSquareContourDetector_Rle(i),this._transmat=new NyARTransMat(e),this._callback=new DetectSquareCB_2(e,t),this._bin_raster=new NyARBinRaster(i.w,i.h),this._data_current=t.createDataInstance(),this._tobin_filter=new NyARRasterFilter_ARToolkitThreshold(110,r),this._threshold_detect=new NyARRasterThresholdAnalyzer_SlidePTile(15,r,4),this._initialized=!0,this._is_active=!1,this._offset=new NyARRectOffset,this._offset.setSquare(n);return},setMarkerWidth:function(e){this._offset.setSquare(e);return},reset:function(e){e==0&&this._is_active&&this.onLeaveHandler(),this._is_active=!1;return},detectMarker:function(e){if(!this._bin_raster.getSize().isEqualSize_int(e.getSize().w,e.getSize().h))throw new NyARException;this._tobin_filter.setThreshold(this._current_threshold),this._tobin_filter.doFilter(e,this._bin_raster),this._callback.init(e,this._is_active?this._data_current:null),this._square_detect.detectMarkerCB(this._bin_raster,this._callback);var t=updateStatus(this._callback.square,this._callback.marker_data);if(t)this._current_threshold=(this._current_threshold+this._callback.threshold)/2;else{var n=this._threshold_detect.analyzeRaster(e);this._current_threshold=(this._current_threshold+n)/2}return},_threshold_detect:null,__NyARSquare_result:new NyARTransMatResult,updateStatus:function(e,t){var n=!1,r=this.__NyARSquare_result;if(!this._is_active)t==null?this._is_active=!1:(this._data_current.copyFrom(t),this.onEnterHandler(this._data_current),this._transmat.transMat(e,this._offset,r),this.onUpdateHandler(e,r),this._lost_delay_count=0,this._is_active=!0,n=!0);else if(t==null)this._lost_delay_count++,this._lost_delay<this._lost_delay_count&&(this.onLeaveHandler(),this._is_active=!1);else{if(!this._data_current.isEqual(t))throw new NyARException;this._transmat.transMatContinue(e,this._offset,r),this.onUpdateHandler(e,r),this._lost_delay_count=0,n=!0}return n},onEnterHandler:function(e){throw new NyARException("onEnterHandler not implemented.")},onLeaveHandler:function(){throw new NyARException("onLeaveHandler not implemented.")},onUpdateHandler:function(e,t){throw new NyARException("onUpdateHandler not implemented.")}}),DetectSquareCB_2=ASKlass("DetectSquareCB",NyARSquareContourDetector_IDetectMarkerCallback,{square:new NyARSquare,marker_data:null,threshold:0,_ref_raster:null,_current_data:null,_id_pickup:new NyIdMarkerPickup,_coordline:null,_encoder:null,_data_temp:null,_prev_data:null,DetectSquareCB:function(e,t){this._coordline=new NyARCoord2Linear(e.getScreenSize(),e.getDistortionFactor()),this._data_temp=t.createDataInstance(),this._current_data=t.createDataInstance(),this._encoder=t;return},__tmp_vertex:NyARIntPoint2d.createArray(4),init:function(e,t){this.marker_data=null,this._prev_data=t,this._ref_raster=e},_marker_param:new NyIdMarkerParam,_marker_data:new NyIdMarkerPattern,onSquareDetect:function(e,t,n,r,i){if(this.marker_data!=null)return;var s=this.__tmp_vertex;s[0].x=t[i[0]],s[0].y=n[i[0]],s[1].x=t[i[1]],s[1].y=n[i[1]],s[2].x=t[i[2]],s[2].y=n[i[2]],s[3].x=t[i[3]],s[3].y=n[i[3]];var o=this._marker_param,u=this._marker_data;if(!this._id_pickup.pickFromRaster(this._ref_raster,s,u,o))return;if(!this._encoder.encode(u,this._data_temp))return;if(this._prev_data==null)this._current_data.copyFrom(this._data_temp);else if(!this._prev_data.isEqual(this._data_temp))return;var a=this.square,f;for(f=0;f<4;f++){var l=(f+4-o.direction)%4;this._coordline.coord2Line(i[l],i[(l+1)%4],t,n,r,a.line[f])}for(f=0;f<4;f++)if(!NyARLinear.crossPos(a.line[f],a.line[(f+3)%4],a.sqvertex[f]))throw new NyARException;this.threshold=o.threshold,this.marker_data=this._current_data}}),TransformedBitmapPickup=ASKlass("TransformedBitmapPickup",NyARColorPatt_Perspective_O2,{_work_points:NyARIntPoint2d.createArray(4),_ref_perspective:null,TransformedBitmapPickup:function(e,t,n,r){NyARColorPatt_Perspective_O2.initialize.call(this,t,n,r,0),this._ref_perspective=e},pickupImage2d:function(e,t,n,r,i,s){var o,u,a,f,l;o=this._ref_perspective.m00,u=this._ref_perspective.m01,a=this._ref_perspective.m02,f=this._ref_perspective.m11,l=this._ref_perspective.m12;var c=this._work_points,h,p,d,v,m,g,y=s.m00,b=s.m10,w=s.m20;return h=s.m01*n+s.m03,p=s.m11*n+s.m13,d=s.m21*n+s.m23,v=y*t+h,m=b*t+p,g=w*t+d,c[0].x=toInt((v*o+m*u+g*a)/g),c[0].y=toInt((m*f+g*l)/g),v=y*r+h,m=b*r+p,g=w*r+d,c[1].x=toInt((v*o+m*u+g*a)/g),c[1].y=toInt((m*f+g*l)/g),h=s.m01*i+s.m03,p=s.m11*i+s.m13,d=s.m21*i+s.m23,v=y*r+h,m=b*r+p,g=w*r+d,c[2].x=toInt((v*o+m*u+g*a)/g),c[2].y=toInt((m*f+g*l)/g),v=y*t+h,m=b*t+p,g=w*t+d,c[3].x=toInt((v*o+m*u+g*a)/g),c[3].y=toInt((m*f+g*l)/g),this.pickFromRaster(e,c)}}),define("jsar",function(){}),define("detector",["./settings","./video","jsar"],function(e,t){function u(e,t){t[0]=e.m00,t[1]=-e.m10,t[2]=e.m20,t[3]=0,t[4]=e.m01,t[5]=-e.m11,t[6]=e.m21,t[7]=0,t[8]=-e.m02,t[9]=e.m12,t[10]=-e.m22,t[11]=0,t[12]=e.m03,t[13]=-e.m13,t[14]=e.m23,t[15]=1}var n=function(){var e={width:320,height:240},t=document.createElement("canvas");t.width=e.width,t.height=e.height;var n=document.getElementById("subsystem");n.appendChild(t);var r=t.getContext("2d");r.font="24px URW Gothic L, Arial, Sans-serif";var i=new NyARRgbRaster_Canvas2D(t);return{object:i,update:function(n){r.drawImage(n,0,0,e.width,e.height),t.changed=!0}}}(),r=e.FLARThreshold,i={width:320,height:240},s=new FLARParam(i.width,i.height),o=new FLARMultiIdMarkerDetector(s,120);o.setContinueMode(!0),THREE.Matrix4.prototype.setFromArray=function(e){return this.set(e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15])};var a=function(e){var t=new Float32Array(16);return u(e,t),t},f=function(){return i},l=function(){return o.detectMarkerLite(n.object,r)},c=function(e){var t=o.getIdMarkerData(e);if(t.packetLength>4)return-1;var n=0;for(var r=0;r<t.packetLength;r++)n=n<<8|t.getPacketData(r);return n},h=function(e,t){var n=new Float32Array(16);return s.copyCameraMatrix(n,e,t),n},p=function(e){var t=new NyARTransMatResult;return o.getTransformMatrix(e,t),a(t)},d=function(){n.update(t.canvas)},v={getMarkerNumber:c,getTransformMatrix:p,getCameraMatrix:h,getSize:f,detect:l,update:d,setThreshold:function(e){r=e}};return v}),define("assets",["threejs","createjs"],function(){function s(e){var t=f.getResult(e.item.id),n=(new createjs.Bitmap(t)).image,r={image:n,getAnimation:function(){return e.item.generator(n)}};i[e.item.id]=r}function a(){o=!0,u&&u()}var e=function(e){var t=new createjs.SpriteSheet(e),n=new createjs.BitmapAnimation(t);return n},t=function(t){return e({images:[t],frames:{width:60,height:60,regX:30,regY:30},animations:{closed:{frames:[0],next:!1},open:{frames:[0,1,2,3,4],next:"open2",frequency:1},open2:{frames:[4,3,2,1,0],next:"open",frequency:2}}})},n=function(t){return e({images:[t],frames:{width:30,height:30,regX:15,regY:15},animations:{on:{frames:[0]},off:{frames:[]}}})},r=[{src:"starhole.png",id:"starhole",generator:t},{src:"pentagonhole.png",id:"pentagonhole",generator:t},{src:"tinyx.png",id:"tinyx",generator:n}],i={},o=!1,u=undefined,f=new createjs.LoadQueue(!1);f.onFileLoad=s,f.onComplete=a,f.loadManifest(r);var l={pentagon_a:{url:"pentagon_a.png"},pentagon_b:{url:"pentagon_b.png"},star_a:{url:"star_a.png"},star_b:{url:"star_b.png"},correct:{url:"checkmark.png"},incorrect:{url:"xmark.png"}},c=function(e,t){THREE.ImageUtils.loadTexture(t,{},function(t){l[e].data=t,d()},function(e){console.log("error loading texture.",e)})},h=!1,p=undefined,d=function(){for(var e in l)if(!l[e].data)return!1;return h=!0,p&&p(),!0},v=function(){for(var e in l)c(e,l[e].url)};return v(),{onAllTexturesLoaded:function(e){p=e,h&&p()},onAllSpritesLoaded:function(e){u=e,o&&u()},textures:l,sprites:i}});var TWEEN=TWEEN||function(){var e=[];return{REVISION:"10",getAll:function(){return e},removeAll:function(){e=[]},add:function(t){e.push(t)},remove:function(t){t=e.indexOf(t),-1!==t&&e.splice(t,1)},update:function(t){if(0===e.length)return!1;for(var n=0,r=e.length,t=void 0!==t?t:void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now();n<r;)e[n].update(t)?n++:(e.splice(n,1),r--);return!0}}}();TWEEN.Tween=function(e){var t={},n={},r={},i=1e3,s=0,o=0,u=null,a=TWEEN.Easing.Linear.None,f=TWEEN.Interpolation.Linear,l=[],c=null,h=!1,p=null,d=null,v;for(v in e)t[v]=parseFloat(e[v],10);this.to=function(e,t){return void 0!==t&&(i=t),n=e,this},this.start=function(i){TWEEN.add(this),h=!1,u=void 0!==i?i:void 0!==window.performance&&void 0!==window.performance.now?window.performance.now():Date.now(),u+=o;for(var s in n){if(n[s]instanceof Array){if(0===n[s].length)continue;n[s]=[e[s]].concat(n[s])}t[s]=e[s],0==t[s]instanceof Array&&(t[s]*=1),r[s]=t[s]||0}return this},this.stop=function(){return TWEEN.remove(this),this},this.delay=function(e){return o=e,this},this.repeat=function(e){return s=e,this},this.easing=function(e){return a=e,this},this.interpolation=function(e){return f=e,this},this.chain=function(){return l=arguments,this},this.onStart=function(e){return c=e,this},this.onUpdate=function(e){return p=e,this},this.onComplete=function(e){return d=e,this},this.update=function(v){if(v<u)return!0;!1===h&&(null!==c&&c.call(e),h=!0);var m=(v-u)/i,m=1<m?1:m,y=a(m),w;for(w in n){var E=t[w]||0,S=n[w];S instanceof Array?e[w]=f(S,y):("string"==typeof S&&(S=E+parseFloat(S,10)),e[w]=E+(S-E)*y)}null!==p&&p.call(e,y);if(1==m){if(!(0<s)){null!==d&&d.call(e),m=0;for(y=l.length;m<y;m++)l[m].start(v);return!1}isFinite(s)&&s--;for(w in r)"string"==typeof n[w]&&(r[w]+=parseFloat(n[w],10)),t[w]=r[w];u=v+o}return!0}},TWEEN.Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return 1>(e*=2)?.5*e*e:-0.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return 1>(e*=2)?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return 1>(e*=2)?.5*e*e*e*e:-0.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return 1>(e*=2)?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:1>(e*=2)?.5*Math.pow(1024,e-1):.5*(-Math.pow(2,-10*(e-1))+2)}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return 1>(e*=2)?-0.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/.4)))},Out:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*2*Math.PI/.4)+1)},InOut:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||1>n?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),1>(e*=2)?-0.5*n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*2*Math.PI/.4):.5*n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*2*Math.PI/.4)+1)}},Back:{In:function(e){return e*e*(2.70158*e-1.70158)},Out:function(e){return--e*e*(2.70158*e+1.70158)+1},InOut:function(e){return 1>(e*=2)?.5*e*e*(3.5949095*e-2.5949095):.5*((e-=2)*e*(3.5949095*e+2.5949095)+2)}},Bounce:{In:function(e){return 1-TWEEN.Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return.5>e?.5*TWEEN.Easing.Bounce.In(2*e):.5*TWEEN.Easing.Bounce.Out(2*e-1)+.5}}},TWEEN.Interpolation={Linear:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=TWEEN.Interpolation.Utils.Linear;return 0>t?s(e[0],e[1],r):1<t?s(e[n],e[n-1],n-r):s(e[i],e[i+1>n?n:i+1],r-i)},Bezier:function(e,t){var n=0,r=e.length-1,i=Math.pow,s=TWEEN.Interpolation.Utils.Bernstein,o;for(o=0;o<=r;o++)n+=i(1-t,r-o)*i(t,o)*e[o]*s(r,o);return n},CatmullRom:function(e,t){var n=e.length-1,r=n*t,i=Math.floor(r),s=TWEEN.Interpolation.Utils.CatmullRom;return e[0]===e[n]?(0>t&&(i=Math.floor(r=n*(1+t))),s(e[(i-1+n)%n],e[i],e[(i+1)%n],e[(i+2)%n],r-i)):0>t?e[0]-(s(e[0],e[0],e[1],e[1],-r)-e[0]):1<t?e[n]-(s(e[n],e[n],e[n-1],e[n-1],r-n)-e[n]):s(e[i?i-1:0],e[i],e[n<i+1?n:i+1],e[n<i+2?n:i+2],r-i)},Utils:{Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=TWEEN.Interpolation.Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:function(){var e=[1];return function(t){var n=1,r;if(e[t])return e[t];for(r=t;1<r;r--)n*=r;return e[t]=n}}(),CatmullRom:function(e,t,n,r,i){var e=.5*(n-e),r=.5*(r-t),s=i*i;return(2*t-2*n+e+r)*i*s+(-3*t+3*n-2*e-r)*s+e*i+t}}},define("tweenjs",function(e){return function(){var t,n;return t||e.TWEEN}}(this)),define("space3d",["settings","video","detector","display3d","assets","tweenjs"],function(e,t,n,r,i){var s=new THREE.Scene,o=new THREE.Scene,u=new THREE.Camera,a=n.getCameraMatrix(10,1e4);u.projectionMatrix.setFromArray(a);var f=new THREE.PointLight(13421772);f.position.set(0,0,2500),s.add(f),r.setOcclusionScene(o),r.setScene(s),r.setCamera(u),r.setVideo(t.viewReality.camera,t.viewReality.scene);var l=undefined,c=function(){var e={};return e.model=new THREE.Object3D,e.model.matrixAutoUpdate=!1,e.transform=function(t){e.model.matrix.setFromArray(t),e.model.matrixWorldNeedsUpdate=!0},e},h=function(e){var t=new THREE.Shape,e=2;for(var n=0;n<16;n++){var r=(n+1)/16,i=r*Math.PI*2,s=e*Math.cos(i),o=e*Math.sin(i);n==0?t.moveTo(s,o):t.lineTo(s,o)}var u={amount:1,bevelEnabled:!1};return new THREE.ExtrudeGeometry(t,u)},p=function(e){var t=h(2),n=new THREE.MeshPhongMaterial({color:e,side:THREE.DoubleSide});return new THREE.Mesh(t,n)},d=function(e){var t=h(2),n=new THREE.MeshPhongMaterial({color:e,side:THREE.DoubleSide,opacity:.4,transparent:!0});return new THREE.Mesh(t,n)},v=function(){var e=new THREE.Object3D,t=new THREE.Mesh(new THREE.TorusGeometry(2,.25,4,64),new THREE.MeshLambertMaterial({color:4286945,emissive:!0,side:THREE.DoubleSide,transparent:!0}));return e.add(t),e.position.set(0,0,100),e},m=function(){var t=.5,n=function(e){var t=new THREE.Mesh(new THREE.PlaneGeometry(e.width,e.height),new THREE.MeshLambertMaterial({color:15793920,side:THREE.DoubleSide}));return t.position.set(e.x,e.y,e.z),t.rotation.y=e.ry,t.rotation.x=e.rx,t},r=n({width:e.portalSize+2*(e.frameSize+t),height:e.portalDepth,x:0,y:e.portalSize/2+e.frameSize+t,z:e.portalDepth/2,ry:0,rx:Math.PI/2}),i=n({width:e.portalSize+2*(e.frameSize+t),height:e.portalDepth,x:0,y:-(e.portalSize/2+e.frameSize+t),z:e.portalDepth/2,ry:0,rx:Math.PI/2}),s=n({width:e.portalDepth,height:e.portalSize+2*(e.frameSize+t),x:e.portalSize/2+e.frameSize+t,y:0,z:e.portalDepth/2,ry:Math.PI/2,rx:0}),o=n({width:e.portalDepth,height:e.portalSize+2*(e.frameSize+t),x:-(e.portalSize/2+e.frameSize+t),y:0,z:e.portalDepth/2,ry:Math.PI/2,rx:0}),u=c();return u.model.add(r),u.model.add(i),u.model.add(o),u.model.add(s),u},g=new THREE.Projector,y=new THREE.Vector3(0,0,0),b=function(){var e=y.clone();g.unprojectVector(e,u);var t=new THREE.Raycaster(u.position,e.sub(u.position).normalize());for(var n in w){var r=w[n],i=r.intersectsRay(t),s=r.setHighlight(i);s&&l(n,i)}},w={},E=function(e){var t=n.detect();for(var r=0;r<t;r++){var i=n.getMarkerNumber(r),s=w[i],o=n.getTransformMatrix(r);s||(s=C(100,100,i),s.filtered=new Float32Array(16),s.filtered.set(o),k(s)),s.age=0,s.transformMatrix=o}for(var u in w){var s=w[u];if(s.age>1)L(s);else{s.age++;var a=A(s.transformMatrix,s.filtered,e);s.update(e),s.transform(a)}}},S=function(e,t){var n=new THREE.MeshBasicMaterial({map:t,transparent:!0,side:THREE.DoubleSide}),r=new THREE.PlaneGeometry(e,e);return new THREE.Mesh(r,n)},x=function(e,t,n){var r=function(t,n,r){var i=new THREE.Object3D,s=new THREE.MeshPhongMaterial({color:7303023,side:THREE.DoubleSide}),o=new THREE.CubeGeometry(e,n,5),u=new THREE.Mesh(o,s);u.position.set(0,t*n/2,0);var a=32,f=new THREE.PlaneGeometry(a,a*2),l=new THREE.MeshBasicMaterial({map:r,transparent:!0}),c=new THREE.Mesh(f,l);return c.position.set(0,t*n-t*a/2,-5),c.rotation.set(0,0,Math.PI/2),i.add(c),i.add(u),i.applyMatrix((new THREE.Matrix4).makeTranslation(0,t*n/2,0)),i.position.set(0,-t*n,0),i.rotation.set(0,0,0),i.add(u),i},s=r(1,t/2,i.textures[n.a].data),o=r(-1,t/2,i.textures[n.b].data),u=c();u.model.add(s),u.model.add(o);var a={d:0},f={d:0},l=undefined,h=function(){var e=(new TWEEN.Tween(a)).to(f,500);e.onUpdate(function(){s.rotation.set(-a.d,0,0),o.rotation.set(a.d,0,0),u.model.matrixWorldNeedsUpdate=!0}),e.onComplete(function(){}),e.start()},p=function(){f.d=Math.PI/2,h()},d=function(){f.d=0,h()};return u.open=p,u.close=d,u},T=function(){var t=N(e.portalSize,e.frameSize,e.portalDepth,13808780,!1),n=N(e.portalSize*1.3,e.frameSize/2,.25,16776960,!0),r=new THREE.Mesh(new THREE.PlaneGeometry(e.portalSize+2,e.portalSize+2),new THREE.MeshLambertMaterial({color:1118481,side:THREE.DoubleSide}));r.position.set(0,0,e.portalDepth+.1);var i=new THREE.Mesh(new THREE.PlaneGeometry(e.portalSize,e.portalSize),new THREE.MeshLambertMaterial({transparent:!0,opacity:0,color:16777215,side:THREE.DoubleSide}));i.position.set(0,0,0);var s=c();return s.model.add(t.top),s.model.add(t.bottom),s.model.add(t.left),s.model.add(t.right),s.model.add(r),s.model.add(i),s.hitbox=i,s},N=function(e,t,n,r,i){var s=function(e){var t=i?new THREE.MeshLambertMaterial({color:r,emissive:r,side:THREE.DoubleSide}):new THREE.MeshLambertMaterial({color:r,side:THREE.DoubleSide}),n=new THREE.Mesh(new THREE.CubeGeometry(e.width,e.height,e.depth),t);return n.position.set(e.x,e.y,e.z),n},o={};return o.top=s({width:e+t,height:t,depth:n,x:0,y:e/2+t/2,z:n/2}),o.right=s({width:t,height:e+2*t,depth:n,x:e/2+t/2,y:0,z:n/2}),o.left=s({width:t,height:e+2*t,depth:n,x:-e/2-t/2,y:0,z:n/2}),o.bottom=s({width:e+t,height:t,depth:n,x:0,y:-e/2-t/2,z:n/2}),o},C=function(e,t,n){var r={};return r.id=n,r.isOpen=!1,r.frame=T(),r.door=x(e,t,P[n]),r.occluder=m(),r.transform=function(e){r.frame.transform(e),r.occluder.transform(e),r.door.transform(e)},r.intersectsRay=function(e){var t=e.intersectObject(r.frame.hitbox);return t.length>0},r.setHighlight=function(e){var t=e!=r.isOpen;return r.isOpen=e,t&&(r.isOpen?r.door.open():r.door.close()),t},r.update=function(e){},r.addToScene=function(e,t){e.add(r.frame.model),e.add(r.door.model),t.add(r.occluder.model)},r.removeFromScene=function(e,t){e.remove(r.frame.model),e.remove(r.door.model),t.remove(r.occluder.model)},r},k=function(e){w[e.id]=e,e.addToScene(s,o)},L=function(e){e.isOpen&&(e.isOpen=!1,l(e.id,e.isOpen)),e.removeFromScene(s,o),delete w[e.id]},A=function(e,t,n){var r=3;for(var i=0;i<e.length;i++)t[i]+=(e[i]-t[i])/r;return t},O=function(e){t.update(e),n.update(),E(),b(),TWEEN.update()},M={red:16711680,green:65280},_={a:"pentagon_a",b:"pentagon_b"},D={a:"star_a",b:"star_b"};s.add(v());var P={8:D,2:_},H=[],B=0,j=function(e){var t=d(M[e]);H.push(t),s.add(t),t.position.set(U+5*B++,-14,100)},F=function(){H.forEach(function(e){s.remove(e)}),H.length=0,B=0},I=[],q=function(e,t){var n=t?"correct":"incorrect",r=i.textures[n].data,o=S(5,r);o.position.set(e.x,e.y,e.z),s.add(o),I.push(o)},R=function(){I.forEach(function(e){s.remove(e)}),I.length=0},U=-15,z=0,W=function(e){var t=p(M[e]);$.push(t),s.add(t);var n={x:0,y:0,z:200,angle:0},r={x:U+5*z++,y:-14,z:100,angle:2*Math.PI},i=(new TWEEN.Tween(n)).to(r,1e3);i.onUpdate(function(){t.position.set(n.x,n.y,n.z),t.rotation.set(0,n.angle,0)}),i.onComplete(function(){V.push(e);var t=G();q(n,t)}),t.position.set(n.x,n.y,n.z),i.start()},X=function(){$.forEach(function(e){s.remove(e)}),z=0,V.length=0,J=0},V=[],$=[],J=0,K=undefined,Q=function(e){F(),X(),R(),U=-((e.objective.length-1)*5)/2,K=e.objective,K.forEach(function(e){j(e)})},G=function(){return K[J]===V[J]?(J++,J===K.length&&Y(!0),!0):(Y(!1),!1)},Y=undefined;return{tick:O,onWarpHoleState:function(e){l=e},addBall:W,loadWorld:Q,setObjectiveDelegate:function(e){Y=e}}});var Ia=void 0,Db=!0,Gb=null,Hb=!1;try{this.Module=Module}catch(Tb){this.Module=Module={}}var Vb="object"==typeof process,Wb="object"==typeof window,Xb="function"==typeof importScripts,Yb=!Wb&&!Vb&&!Xb;if(Vb){Module.print=function(e){process.stdout.write(e+"\n")},Module.printErr=function(e){process.stderr.write(e+"\n")};var $b=require("fs"),fc=require("path");Module.read=function(e){var e=fc.normalize(e),t=$b.readFileSync(e).toString();return!t&&e!=fc.resolve(e)&&(e=path.join(__dirname,"..","src",e),t=$b.readFileSync(e).toString()),t},Module.load=function(e){gc(read(e))},Module.arguments||(Module.arguments=process.argv.slice(2))}else Yb?(Module.print=print,"undefined"!=typeof printErr&&(Module.printErr=printErr),Module.read="undefined"!=typeof read?read:function(e){snarf(e)},Module.arguments||("undefined"!=typeof scriptArgs?Module.arguments=scriptArgs:"undefined"!=typeof arguments&&(Module.arguments=arguments))):Wb?(Module.print||(Module.print=function(e){console.log(e)}),Module.printErr||(Module.printErr=function(e){console.log(e)}),Module.read=function(e){var t=new XMLHttpRequest;return t.open("GET",e,Hb),t.send(Gb),t.responseText},Module.arguments||"undefined"!=typeof arguments&&(Module.arguments=arguments)):Xb?Module.load=importScripts:ha("Unknown runtime environment. Where are we?");"undefined"==!Module.load&&Module.read&&(Module.load=function(e){gc(Module.read(e))}),Module.print||(Module.print=Ib()),Module.printErr||(Module.printErr=Module.print),Module.arguments||(Module.arguments=[]),Module.print=Module.print,Module.M=Module.printErr,Module.preRun||(Module.preRun=[]),Module.postRun||(Module.postRun=[]);var qc,lc=4,Xc={},ad,r,ld=this;Module.ccall=qd,Module.cwrap=function(e,t,n){return function(){return qd(e,t,n,Array.prototype.slice.call(arguments))}},Module.setValue=Ed,Module.getValue=Xd;var Yd=1,w=2;Module.ALLOC_NORMAL=0,Module.ALLOC_STACK=Yd,Module.ALLOC_STATIC=w,Module.allocate=y,Module.Pointer_stringify=Dd,Module.Array_stringify=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t};var K,he=4096,c,Ic,i,Pc,l,o,p,Sc,a,we,Gc,xe=Module.TOTAL_STACK||5242880,Hc=Module.TOTAL_MEMORY||10485760;pc(!!Int32Array&&!!Float64Array&&!!(new Int32Array(1)).subarray&&!!(new Int32Array(1)).set,"Cannot fallback to non-typed array case: Code is too specialized");var ye=new ArrayBuffer(Hc);c=new Int8Array(ye),i=new Int16Array(ye),l=new Int32Array(ye),Ic=new Uint8Array(ye),Pc=new Uint16Array(ye),o=new Uint32Array(ye),p=new Float32Array(ye),Sc=new Float64Array(ye),l[0]=255,pc(255===Ic[0]&&0===Ic[3],"Typed arrays 2 must be run on a little-endian system"),Module.HEAP=Ia,Module.HEAP8=c,Module.HEAP16=i,Module.HEAP32=l,Module.HEAPU8=Ic,Module.HEAPU16=Pc,Module.HEAPU32=o,Module.HEAPF32=p,Module.HEAPF64=Sc,we=(a=4*Math.ceil(.25))+xe;var ze=8*Math.ceil(we/8);c.subarray(ze);var s=l.subarray(ze>>2),L=p.subarray(ze>>2),Nd=Sc.subarray(ze>>3);we=ze+8,Gc=we+4095>>12<<12;var Be=y(Ae("(null)"),"i8",w),Me=[],Ne=[],Ue=[];Module.String_len=Ve,Module.intArrayFromString=Ae,Module.intArrayToString=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];255<r&&(r&=255),t.push(String.fromCharCode(r))}return t.join("")},Module.writeStringToMemory=Bd,Module.writeArrayToMemory=Cd;var N=[],df=0,ef={},ff=Hb,pf=Gb;Module.addRunDependency=xf,Module.removeRunDependency=yf,Module.preloadedImages={},Module.preloadedAudios={},Module._malloc=fe,Module._free=bg;var zm=Gb,dg=Math.sqrt,Yk=Math.sin,Zk=Math.cos,Xp=Math.floor,kT=13,lT=9,mT=22,nT=5,oT=21,pT=6,aT,rT=0,ym=0,sT=0,tT=2,gn=[Gb],uT=Db,GT,xT,oP=Math.atan2,HT,eT,IT=Hb,JT,KT,LT,MT;Me.unshift({hb:function(){if(!Module.noFSInit&&!GT){var e,t,n,r=function(e){e===Gb||10===e?(t.Fa(t.buffer.join("")),t.buffer=[]):t.buffer.push(u.jc(e))};pc(!GT,"FS.init was previously called. If you want to initialize later with custom parameters, remove any earlier calls (note that one is automatically added to the generated code)"),GT=Db,zT(),e=e||Module.stdin,t=t||Module.stdout,n=n||Module.stderr;var i=Db,s=Db,o=Db;e||(i=Hb,e=function(){if(!e.fb||!e.fb.length){var t;"undefined"!=typeof window&&"function"==typeof window.prompt?(t=window.prompt("Input: "),t===Gb&&(t=String.fromCharCode(0))):"function"==typeof readline&&(t=readline()),t||(t=""),e.fb=Ae(t+"\n",Db)}return e.fb.shift()});var u=new uc;t||(s=Hb,t=r),t.Fa||(t.Fa=Module.print),t.buffer||(t.buffer=[]),n||(o=Hb,n=r),n.Fa||(n.Fa=Module.print),n.buffer||(n.buffer=[]);try{BT("/","tmp",Db,Db)}catch(a){}var r=BT("/","dev",Db,Db),f=FT(r,"stdin",e),l=FT(r,"stdout",Gb,t);n=FT(r,"stderr",Gb,n),FT(r,"tty",e,t),gn[1]={path:"/dev/stdin",object:f,position:0,ec:Db,Ea:Hb,dc:Hb,fc:!i,error:Hb,cc:Hb,mc:[]},gn[2]={path:"/dev/stdout",object:l,position:0,ec:Hb,Ea:Db,dc:Hb,fc:!s,error:Hb,cc:Hb,mc:[]},gn[3]={path:"/dev/stderr",object:n,position:0,ec:Hb,Ea:Db,dc:Hb,fc:!o,error:Hb,cc:Hb,mc:[]},rT=y([1],"void*",Yd),ym=y([2],"void*",Yd),sT=y([3],"void*",Yd),CT("/","dev/shm/tmp",Db,Db);for(i=gn.length;i<Math.max(rT,ym,sT)+4;i++)gn[i]=Gb;gn[rT]=gn[1],gn[ym]=gn[2],gn[sT]=gn[3],y([y([0,0,0,0,rT,0,0,0,ym,0,0,0,sT,0,0,0],"void*",w)],"void*",w)}}}),Ne.push({hb:function(){uT=Hb}}),Ue.push({hb:function(){GT&&(gn[2]&&0<gn[2].object.Y.buffer.length&&gn[2].object.Y(10),gn[3]&&0<gn[3].object.Y.buffer.length&&gn[3].object.Y(10))}}),Module.FS_createFolder=BT,Module.FS_createPath=CT,Module.FS_createDataFile=ET,Module.FS_createPreloadedFile=function(e,t,n,r,i,s,o){function u(e){return{jpg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[e.substr(-3)]}function a(n){function u(n){ET(e,t,n,r,i),s&&s(),yf("cp "+l)}var a=Hb;Module.preloadPlugins.forEach(function(e){!a&&e.canHandle(l)&&(e.handle(n,l,u,function(){o&&o(),yf("cp "+l)}),a=Db)}),a||u(n)}if(!JT){JT=Db;try{new Blob,KT=Db}catch(f){KT=Hb,console.log("warning: no blob constructor, cannot create blobs with mimetypes")}LT="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:KT?Gb:console.log("warning: no BlobBuilder"),MT="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:console.log("warning: cannot create object URLs"),Module.preloadPlugins||(Module.preloadPlugins=[]),Module.preloadPlugins.push({canHandle:function(e){return e.substr(-4)in{".jpg":1,".png":1,".bmp":1}},handle:function(e,t,n,r){var i=Gb;if(KT)try{i=new Blob([e],{type:u(t)})}catch(s){var o="Blob constructor present but fails: "+s+"; falling back to blob builder";qc||(qc={}),qc[o]||(qc[o]=1,Module.M(o))}i||(i=new LT,i.append((new Uint8Array(e)).buffer),i=i.getBlob());var a=MT.createObjectURL(i),f=new Image;f.onload=function(){pc(f.complete,"Image "+t+" could not be decoded");var r=document.createElement("canvas");r.width=f.width,r.height=f.height,r.getContext("2d").drawImage(f,0,0),Module.preloadedImages[t]=r,MT.revokeObjectURL(a),n&&n(e)},f.onerror=function(){console.log("Image "+a+" could not be decoded"),r&&r()},f.src=a}}),Module.preloadPlugins.push({canHandle:function(e){return e.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(e,t,n,r){function i(r){o||(o=Db,Module.preloadedAudios[t]=r,n&&n(e))}function s(){o||(o=Db,Module.preloadedAudios[t]=new Audio,r&&r())}var o=Hb;if(!KT)return s();try{var a=new Blob([e],{type:u(t)})}catch(f){return s()}var a=MT.createObjectURL(a),l=new Audio;l.addEventListener("canplaythrough",function(){i(l)},Hb),l.onerror=function(){if(!o){console.log("warning: browser could not fully decode audio "+t+", trying slower base64 approach");for(var n="",r=0,s=0,u=0;u<e.length;u++){r=r<<8|e[u];for(s+=8;6<=s;)var a=r>>s-6&63,s=s-6,n=n+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a]}2==s?(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(r&3)<<4],n+="=="):4==s&&(n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(r&15)<<2],n+="="),l.src="data:audio/x-"+t.substr(-3)+";base64,"+n,i(l)}},l.src=a,setTimeout(function(){i(l)},1e4)}})}for(var l,c=[e,t],h=c[0],p=1;p<c.length;p++)"/"!=h[h.length-1]&&(h+="/"),h+=c[p];"/"==h[0]&&(h=h.substr(1)),l=h,xf("cp "+l);if("string"==typeof n){var d=o,v=function(){d?d():ha('Loading data file "'+n+'" failed.')},m=new XMLHttpRequest;m.open("GET",n,Db),m.responseType="arraybuffer",m.onload=function(){if(200==m.status){var e=m.response;pc(e,'Loading data file "'+n+'" failed (no arrayBuffer).'),e=new Uint8Array(e),a(e),yf("al "+n)}else v()},m.onerror=v,m.send(Gb),xf("al "+n)}else a(n)},Module.FS_createLazyFile=function(e,t,n,r,i){return DT(e,t,{Q:Hb,url:n},r,i)},Module.FS_createLink=function(e,t,n,r,i){return DT(e,t,{Q:Hb,link:n},r,i)},Module.FS_createDevice=FT,qT(0);var iT=y(12,"void*",w);Module.requestFullScreen=function(){function e(){}function t(){var e=Hb;(document.webkitFullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.mozFullscreenElement||document.fullScreenElement||document.fullscreenElement)===n&&(n.ei=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.ei(),e=Db),Module.onFullScreen&&Module.onFullScreen(e)}var n=Module.canvas;document.addEventListener("fullscreenchange",t,Hb),document.addEventListener("mozfullscreenchange",t,Hb),document.addEventListener("webkitfullscreenchange",t,Hb),document.addEventListener("pointerlockchange",e,Hb),document.addEventListener("mozpointerlockchange",e,Hb),document.addEventListener("webkitpointerlockchange",e,Hb),n.di=n.requestFullScreen||n.mozRequestFullScreen||(n.webkitRequestFullScreen?function(){n.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}:Gb),n.di()},Module.requestAnimationFrame=function(e){window.requestAnimationFrame||(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||window.setTimeout),window.requestAnimationFrame(e)},Module.pauseMainLoop=Ib(),Module.resumeMainLoop=function(){IT&&(IT=Hb,Gb())},Module.Zh=function(e){function t(){for(var e=0;3>e;e++)r.push(0)}var n=e.length+1,r=[y(Ae("/bin/this.program"),"i8",w)];t();for(var i=0;i<n-1;i+=1)r.push(y(Ae(e[i]),"i8",w)),t();return r.push(0),r=y(r,"i32",w),_main(n,r,0)};var vh,xh,Rh,Wp,$p,aq,Yp,Zp,dJ,NT,OT,Mz,PT,NK,QT,EK,RT,xm,wm,yp,hA,ST,wh,Me=Me.concat([]),Ap,Bp,UI,TT,UT,VT,WT,XT,YT,ZT,$T,aU,bU,Lo,Ko,cU,dU,eU,fU,gU,hU,iU,jU,kU,Hp,lU,mU,Pp,nU,eq,oU,Gp,fq,pU,gq,qU,iq,rU,Kp,sU,Qp,tU,Op,uU,jq,vU,et,ct,ht,gt,kt,jt,xt,wt,At,zt,Et,Dt,Lt,Kt,Ot,Nt,ix,hx,sx,rx,vx,ux,yy,xy,By,Ay,Fy,Ey,My,Ly,Pz,Oz,Sz,Rz,Wz,Vz,lA,kA,lD,oA,QG,PG,UG,TG,aH,$G,dH,cH,RH,QH,UH,TH,YH,XH,dI,cI,II,HI,PI,OI,uJ,tJ,rK,qK,uK,tK,ZK,YK,bL,aL,FL,EL,JL,IL,ML,LL,PL,OL,TL,SL,YL,XL,fM,eM,uN,tN,NN,MN,SN,RN,cP,bP,rP,qP,uP,tP,jR,iR,JS,IS,BN,wU,mJ,xU,HH,yU,zU,AU,BU,CU,DU,EU,gT,FU,GU,HU,IU,JU,KU,LU,MU,NU,OU,PU,QU,RU,SU,TU,UU,VU,WU,XU,YU,ZU,$U,aV,bV,cV,dV,eV,fV,gV,hV,iV,jV,kV,lV,mV,nV,oV,pV,qV,rV,sV,tV,uV,vV,wV,xV,yV,zV,AV,BV,CV,DV,EV,FV,GV,HV,IV,JV,KV,LV,MV,NV,OV,PV,QV,RV,SV,TV,UV,hT,VV,WV,XV,fT,YV,ZV,R,YS,bT,cT,$V,dT,aW;N.Ze=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,67,111,108,108,105,100,101,69,100,103,101,46,99,112,112,0],"i8",w),N.oe=y([118,111,105,100,32,98,50,67,111,108,108,105,100,101,69,100,103,101,65,110,100,67,105,114,99,108,101,40,98,50,77,97,110,105,102,111,108,100,32,42,44,32,99,111,110,115,116,32,98,50,69,100,103,101,83,104,97,112,101,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,44,32,99,111,110,115,116,32,98,50,67,105,114,99,108,101,83,104,97,112,101,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,41,0],"i8",w),N.$e=y([100,101,110,32,62,32,48,46,48,102,0],"i8",w),N.Lb=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,67,111,108,108,105,100,101,80,111,108,121,103,111,110,46,99,112,112,0],"i8",w),N.qe=y([118,111,105,100,32,98,50,70,105,110,100,73,110,99,105,100,101,110,116,69,100,103,101,40,98,50,67,108,105,112,86,101,114,116,101,120,32,42,44,32,99,111,110,115,116,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,44,32,105,110,116,51,50,44,32,99,111,110,115,116,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,41,0],"i8",w),N.Gb=y([48,32,60,61,32,101,100,103,101,49,32,38,38,32,101,100,103,101,49,32,60,32,112,111,108,121,49,45,62,109,95,118,101,114,116,101,120,67,111,117,110,116,0],"i8",w),N.pe=y([102,108,111,97,116,51,50,32,98,50,69,100,103,101,83,101,112,97,114,97,116,105,111,110,40,99,111,110,115,116,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,44,32,105,110,116,51,50,44,32,99,111,110,115,116,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,41,0],"i8",w),vh=y(4,"i8",w),xh=y(4,"i8",w),Rh=y(4,"i8",w),N.s=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,105,115,116,97,110,99,101,46,99,112,112,0],"i8",w),N.qb=y([118,111,105,100,32,98,50,68,105,115,116,97,110,99,101,80,114,111,120,121,58,58,83,101,116,40,99,111,110,115,116,32,98,50,83,104,97,112,101,32,42,44,32,105,110,116,51,50,41,0],"i8",w),N.Rf=y([48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,99,104,97,105,110,45,62,109,95,99,111,117,110,116,0],"i8",w),N.me=y([118,111,105,100,32,98,50,68,105,115,116,97,110,99,101,40,98,50,68,105,115,116,97,110,99,101,79,117,116,112,117,116,32,42,44,32,98,50,83,105,109,112,108,101,120,67,97,99,104,101,32,42,44,32,99,111,110,115,116,32,98,50,68,105,115,116,97,110,99,101,73,110,112,117,116,32,42,41,0],"i8",w),N.Na=y([102,108,111,97,116,51,50,32,98,50,83,105,109,112,108,101,120,58,58,71,101,116,77,101,116,114,105,99,40,41,32,99,111,110,115,116,0],"i8",w),N.Bb=y([118,111,105,100,32,98,50,83,105,109,112,108,101,120,58,58,71,101,116,87,105,116,110,101,115,115,80,111,105,110,116,115,40,98,50,86,101,99,50,32,42,44,32,98,50,86,101,99,50,32,42,41,32,99,111,110,115,116,0],"i8",w),N.i=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,105,115,116,97,110,99,101,46,104,0],"i8",w),N.h=y([99,111,110,115,116,32,98,50,86,101,99,50,32,38,98,50,68,105,115,116,97,110,99,101,80,114,111,120,121,58,58,71,101,116,86,101,114,116,101,120,40,105,110,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.j=y([48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,109,95,99,111,117,110,116,0],"i8",w),N.Ye=y([98,50,86,101,99,50,32,98,50,83,105,109,112,108,101,120,58,58,71,101,116,83,101,97,114,99,104,68,105,114,101,99,116,105,111,110,40,41,32,99,111,110,115,116,0],"i8",w),N.pa=y([98,50,86,101,99,50,32,98,50,83,105,109,112,108,101,120,58,58,71,101,116,67,108,111,115,101,115,116,80,111,105,110,116,40,41,32,99,111,110,115,116,0],"i8",w),N.Pe=y([118,111,105,100,32,98,50,83,105,109,112,108,101,120,58,58,82,101,97,100,67,97,99,104,101,40,99,111,110,115,116,32,98,50,83,105,109,112,108,101,120,67,97,99,104,101,32,42,44,32,99,111,110,115,116,32,98,50,68,105,115,116,97,110,99,101,80,114,111,120,121,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,44,32,99,111,110,115,116,32,98,50,68,105,115,116,97,110,99,101,80,114,111,120,121,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,41,0],"i8",w),N.vh=y([99,97,99,104,101,45,62,99,111,117,110,116,32,60,61,32,51,0],"i8",w),N.d=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,121,110,97,109,105,99,84,114,101,101,46,99,112,112,0],"i8",w),N.te=y([105,110,116,51,50,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,65,108,108,111,99,97,116,101,78,111,100,101,40,41,0],"i8",w),N.nf=y([109,95,110,111,100,101,67,111,117,110,116,32,61,61,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.G=y([118,111,105,100,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,70,114,101,101,78,111,100,101,40,105,110,116,51,50,41,0],"i8",w),N.$=y([48,32,60,61,32,110,111,100,101,73,100,32,38,38,32,110,111,100,101,73,100,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.Ca=y([48,32,60,32,109,95,110,111,100,101,67,111,117,110,116,0],"i8",w),N.mb=y([118,111,105,100,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,68,101,115,116,114,111,121,80,114,111,120,121,40,105,110,116,51,50,41,0],"i8",w),N.Wb=y([109,95,110,111,100,101,115,91,112,114,111,120,121,73,100,93,46,73,115,76,101,97,102,40,41,0],"i8",w),N.nb=y([98,111,111,108,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,77,111,118,101,80,114,111,120,121,40,105,110,116,51,50,44,32,99,111,110,115,116,32,98,50,65,65,66,66,32,38,44,32,99,111,110,115,116,32,98,50,86,101,99,50,32,38,41,0],"i8",w),N.lb=y([118,111,105,100,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,73,110,115,101,114,116,76,101,97,102,40,105,110,116,51,50,41,0],"i8",w),N.Eh=y([99,104,105,108,100,49,32,33,61,32,40,45,49,41,0],"i8",w),N.Jh=y([99,104,105,108,100,50,32,33,61,32,40,45,49,41,0],"i8",w),N.v=y([105,110,116,51,50,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,66,97,108,97,110,99,101,40,105,110,116,51,50,41,0],"i8",w),N.Mh=y([105,65,32,33,61,32,40,45,49,41,0],"i8",w),N.Sh=y([48,32,60,61,32,105,66,32,38,38,32,105,66,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.af=y([48,32,60,61,32,105,67,32,38,38,32,105,67,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.gf=y([48,32,60,61,32,105,70,32,38,38,32,105,70,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.qf=y([48,32,60,61,32,105,71,32,38,38,32,105,71,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.zf=y([109,95,110,111,100,101,115,91,67,45,62,112,97,114,101,110,116,93,46,99,104,105,108,100,50,32,61,61,32,105,65,0],"i8",w),N.Ef=y([48,32,60,61,32,105,68,32,38,38,32,105,68,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.Hf=y([48,32,60,61,32,105,69,32,38,38,32,105,69,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.Nf=y([109,95,110,111,100,101,115,91,66,45,62,112,97,114,101,110,116,93,46,99,104,105,108,100,50,32,61,61,32,105,65,0],"i8",w),N.Te=y([105,110,116,51,50,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,67,111,109,112,117,116,101,72,101,105,103,104,116,40,105,110,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.O=y([118,111,105,100,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,86,97,108,105,100,97,116,101,83,116,114,117,99,116,117,114,101,40,105,110,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.Uf=y([109,95,110,111,100,101,115,91,105,110,100,101,120,93,46,112,97,114,101,110,116,32,61,61,32,40,45,49,41,0],"i8",w),N.Kb=y([99,104,105,108,100,50,32,61,61,32,40,45,49,41,0],"i8",w),N.Mb=y([110,111,100,101,45,62,104,101,105,103,104,116,32,61,61,32,48,0],"i8",w),N.Nb=y([48,32,60,61,32,99,104,105,108,100,49,32,38,38,32,99,104,105,108,100,49,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.Ob=y([48,32,60,61,32,99,104,105,108,100,50,32,38,38,32,99,104,105,108,100,50,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.mg=y([109,95,110,111,100,101,115,91,99,104,105,108,100,49,93,46,112,97,114,101,110,116,32,61,61,32,105,110,100,101,120,0],"i8",w),N.tg=y([109,95,110,111,100,101,115,91,99,104,105,108,100,50,93,46,112,97,114,101,110,116,32,61,61,32,105,110,100,101,120,0],"i8",w),N.N=y([118,111,105,100,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,86,97,108,105,100,97,116,101,77,101,116,114,105,99,115,40,105,110,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.wg=y([110,111,100,101,45,62,104,101,105,103,104,116,32,61,61,32,104,101,105,103,104,116,0],"i8",w),N.Ag=y([97,97,98,98,46,108,111,119,101,114,66,111,117,110,100,32,61,61,32,110,111,100,101,45,62,97,97,98,98,46,108,111,119,101,114,66,111,117,110,100,0],"i8",w),N.Eg=y([97,97,98,98,46,117,112,112,101,114,66,111,117,110,100,32,61,61,32,110,111,100,101,45,62,97,97,98,98,46,117,112,112,101,114,66,111,117,110,100,0],"i8",w),N.Ma=y([118,111,105,100,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,86,97,108,105,100,97,116,101,40,41,32,99,111,110,115,116,0],"i8",w),N.Lg=y([48,32,60,61,32,102,114,101,101,73,110,100,101,120,32,38,38,32,102,114,101,101,73,110,100,101,120,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.Mg=y([71,101,116,72,101,105,103,104,116,40,41,32,61,61,32,67,111,109,112,117,116,101,72,101,105,103,104,116,40,41,0],"i8",w),N.Og=y([109,95,110,111,100,101,67,111,117,110,116,32,43,32,102,114,101,101,67,111,117,110,116,32,61,61,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.La=y([105,110,116,51,50,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,71,101,116,77,97,120,66,97,108,97,110,99,101,40,41,32,99,111,110,115,116,0],"i8",w),N.$a=y([110,111,100,101,45,62,73,115,76,101,97,102,40,41,32,61,61,32,102,97,108,115,101,0],"i8",w),Wp=y(4,"i8",w),$p=y(4,"i8",w),aq=y(4,"i8",w),Yp=y(4,"i8",w),Zp=y(4,"i8",w),N.Da=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,84,105,109,101,79,102,73,109,112,97,99,116,46,99,112,112,0],"i8",w),N.ne=y([118,111,105,100,32,98,50,84,105,109,101,79,102,73,109,112,97,99,116,40,98,50,84,79,73,79,117,116,112,117,116,32,42,44,32,99,111,110,115,116,32,98,50,84,79,73,73,110,112,117,116,32,42,41,0],"i8",w),N.Cf=y([116,97,114,103,101,116,32,62,32,116,111,108,101,114,97,110,99,101,0],"i8",w),N.Xe=y([102,108,111,97,116,51,50,32,98,50,83,101,112,97,114,97,116,105,111,110,70,117,110,99,116,105,111,110,58,58,69,118,97,108,117,97,116,101,40,105,110,116,51,50,44,32,105,110,116,51,50,44,32,102,108,111,97,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.We=y([102,108,111,97,116,51,50,32,98,50,83,101,112,97,114,97,116,105,111,110,70,117,110,99,116,105,111,110,58,58,70,105,110,100,77,105,110,83,101,112,97,114,97,116,105,111,110,40,105,110,116,51,50,32,42,44,32,105,110,116,51,50,32,42,44,32,102,108,111,97,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.Ce=y([102,108,111,97,116,51,50,32,98,50,83,101,112,97,114,97,116,105,111,110,70,117,110,99,116,105,111,110,58,58,73,110,105,116,105,97,108,105,122,101,40,99,111,110,115,116,32,98,50,83,105,109,112,108,101,120,67,97,99,104,101,32,42,44,32,99,111,110,115,116,32,98,50,68,105,115,116,97,110,99,101,80,114,111,120,121,32,42,44,32,99,111,110,115,116,32,98,50,83,119,101,101,112,32,38,44,32,99,111,110,115,116,32,98,50,68,105,115,116,97,110,99,101,80,114,111,120,121,32,42,44,32,99,111,110,115,116,32,98,50,83,119,101,101,112,32,38,44,32,102,108,111,97,116,51,50,41,0],"i8",w),N.zh=y([48,32,60,32,99,111,117,110,116,32,38,38,32,99,111,117,110,116,32,60,32,51,0],"i8",w),dJ=y([0,0,0,0,0,0,0,0,34,0,0,0,36,0,0,0,38,0,0,0,40,0,0,0,42,0,0,0,44,0,0,0,46,0,0,0,48,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.F=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,67,104,97,105,110,83,104,97,112,101,46,99,112,112,0],"i8",w),N.kb=y([118,111,105,100,32,98,50,67,104,97,105,110,83,104,97,112,101,58,58,67,114,101,97,116,101,76,111,111,112,40,99,111,110,115,116,32,98,50,86,101,99,50,32,42,44,32,105,110,116,51,50,41,0],"i8",w),N.Ta=y([109,95,118,101,114,116,105,99,101,115,32,61,61,32,95,95,110,117,108,108,32,38,38,32,109,95,99,111,117,110,116,32,61,61,32,48,0],"i8",w),N.ea=y([118,111,105,100,32,98,50,67,104,97,105,110,83,104,97,112,101,58,58,67,114,101,97,116,101,67,104,97,105,110,40,99,111,110,115,116,32,98,50,86,101,99,50,32,42,44,32,105,110,116,51,50,41,0],"i8",w),N.Sb=y([99,111,117,110,116,32,62,61,32,50,0],"i8",w),N.Re=y([118,111,105,100,32,98,50,67,104,97,105,110,83,104,97,112,101,58,58,71,101,116,67,104,105,108,100,69,100,103,101,40,98,50,69,100,103,101,83,104,97,112,101,32,42,44,32,105,110,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.qh=y([48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,109,95,99,111,117,110,116,32,45,32,49,0],"i8",w),N.Se=y([118,105,114,116,117,97,108,32,98,111,111,108,32,98,50,67,104,97,105,110,83,104,97,112,101,58,58,82,97,121,67,97,115,116,40,98,50,82,97,121,67,97,115,116,79,117,116,112,117,116,32,42,44,32,99,111,110,115,116,32,98,50,82,97,121,67,97,115,116,73,110,112,117,116,32,38,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,44,32,105,110,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.Xb=y([99,104,105,108,100,73,110,100,101,120,32,60,32,109,95,99,111,117,110,116,0],"i8",w),N.Qe=y([118,105,114,116,117,97,108,32,118,111,105,100,32,98,50,67,104,97,105,110,83,104,97,112,101,58,58,67,111,109,112,117,116,101,65,65,66,66,40,98,50,65,65,66,66,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,44,32,105,110,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.rc=y([49,50,98,50,67,104,97,105,110,83,104,97,112,101,0],"i8",w),N.Pc=y([55,98,50,83,104,97,112,101,0],"i8",w),NT=y(8,"i8",w),OT=y(12,"i8",w),Mz=y([0,0,0,0,0,0,0,0,50,0,0,0,52,0,0,0,54,0,0,0,56,0,0,0,58,0,0,0,60,0,0,0,62,0,0,0,64,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.uc=y([49,51,98,50,67,105,114,99,108,101,83,104,97,112,101,0],"i8",w),PT=y(12,"i8",w),NK=y([0,0,0,0,0,0,0,0,66,0,0,0,68,0,0,0,70,0,0,0,72,0,0,0,74,0,0,0,76,0,0,0,78,0,0,0,80,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.nc=y([49,49,98,50,69,100,103,101,83,104,97,112,101,0],"i8",w),QT=y(12,"i8",w),N.P=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,83,104,97,112,101,115,47,98,50,80,111,108,121,103,111,110,83,104,97,112,101,46,99,112,112,0],"i8",w),N.ob=y([118,111,105,100,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,58,58,83,101,116,40,99,111,110,115,116,32,98,50,86,101,99,50,32,42,44,32,105,110,116,51,50,41,0],"i8",w),N.Kf=y([51,32,60,61,32,99,111,117,110,116,32,38,38,32,99,111,117,110,116,32,60,61,32,56,0],"i8",w),N.zg=y([101,100,103,101,46,76,101,110,103,116,104,83,113,117,97,114,101,100,40,41,32,62,32,49,46,49,57,50,48,57,50,57,48,69,45,48,55,70,32,42,32,49,46,49,57,50,48,57,50,57,48,69,45,48,55,70,0],"i8",w),N.Ve=y([118,105,114,116,117,97,108,32,98,111,111,108,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,58,58,82,97,121,67,97,115,116,40,98,50,82,97,121,67,97,115,116,79,117,116,112,117,116,32,42,44,32,99,111,110,115,116,32,98,50,82,97,121,67,97,115,116,73,110,112,117,116,32,38,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,44,32,105,110,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.fh=y([48,46,48,102,32,60,61,32,108,111,119,101,114,32,38,38,32,108,111,119,101,114,32,60,61,32,105,110,112,117,116,46,109,97,120,70,114,97,99,116,105,111,110,0],"i8",w),N.Ab=y([118,105,114,116,117,97,108,32,118,111,105,100,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,58,58,67,111,109,112,117,116,101,77,97,115,115,40,98,50,77,97,115,115,68,97,116,97,32,42,44,32,102,108,111,97,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.rh=y([109,95,118,101,114,116,101,120,67,111,117,110,116,32,62,61,32,51,0],"i8",w),N.Yb=y([97,114,101,97,32,62,32,49,46,49,57,50,48,57,50,57,48,69,45,48,55,70,0],"i8",w),EK=y([0,0,0,0,0,0,0,0,82,0,0,0,84,0,0,0,86,0,0,0,88,0,0,0,90,0,0,0,92,0,0,0,94,0,0,0,96,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.wc=y([49,52,98,50,80,111,108,121,103,111,110,83,104,97,112,101,0],"i8",w),RT=y(12,"i8",w),N.ib=y([98,50,86,101,99,50,32,67,111,109,112,117,116,101,67,101,110,116,114,111,105,100,40,99,111,110,115,116,32,98,50,86,101,99,50,32,42,44,32,105,110,116,51,50,41,0],"i8",w),N.$b=y([99,111,117,110,116,32,62,61,32,51,0],"i8",w),xm=y([16,0,0,0,32,0,0,0,64,0,0,0,96,0,0,0,128,0,0,0,160,0,0,0,192,0,0,0,224,0,0,0,256,0,0,0,320,0,0,0,384,0,0,0,448,0,0,0,512,0,0,0,640,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0,"i32",0,0,0],w),wm=y(641,"i8",w),yp=y(4,"i8",w),N.e=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,46,99,112,112,0],"i8",w),N.Ha=y([98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,58,58,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,40,41,0],"i8",w),N.Ua=y([106,32,60,32,98,50,95,98,108,111,99,107,83,105,122,101,115,0],"i8",w),N.Ga=y([118,111,105,100,32,42,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,58,58,65,108,108,111,99,97,116,101,40,105,110,116,51,50,41,0],"i8",w),N.Wa=y([48,32,60,32,115,105,122,101,0],"i8",w),N.g=y([48,32,60,61,32,105,110,100,101,120,32,38,38,32,105,110,100,101,120,32,60,32,98,50,95,98,108,111,99,107,83,105,122,101,115,0],"i8",w),N.sh=y([98,108,111,99,107,67,111,117,110,116,32,42,32,98,108,111,99,107,83,105,122,101,32,60,61,32,98,50,95,99,104,117,110,107,83,105,122,101,0],"i8",w),N.f=y([118,111,105,100,32,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,58,58,70,114,101,101,40,118,111,105,100,32,42,44,32,105,110,116,51,50,41,0],"i8",w),hA=y([0,0,0,0,0,0,0,0,98,0,0,0,100,0,0,0,102,0,0,0,104,0,0,0,106,0,0,0,108,0,0,0,110,0,0,0,112,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Nc=y([54,98,50,68,114,97,119,0],"i8",w),ST=y(8,"i8",w),wh=y(8,"i8",w),y([2,0,0,0,2,0,0,0,1,0,0,0],["i32",0,0,0,"i32",0,0,0,"i32",0,0,0],w),N.p=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,83,116,97,99,107,65,108,108,111,99,97,116,111,114,46,99,112,112,0],"i8",w),N.R=y([98,50,83,116,97,99,107,65,108,108,111,99,97,116,111,114,58,58,126,98,50,83,116,97,99,107,65,108,108,111,99,97,116,111,114,40,41,0],"i8",w),N.Va=y([109,95,105,110,100,101,120,32,61,61,32,48,0],"i8",w),N.Ya=y([109,95,101,110,116,114,121,67,111,117,110,116,32,61,61,32,48,0],"i8",w),N.w=y([118,111,105,100,32,42,98,50,83,116,97,99,107,65,108,108,111,99,97,116,111,114,58,58,65,108,108,111,99,97,116,101,40,105,110,116,51,50,41,0],"i8",w),N.D=y([109,95,101,110,116,114,121,67,111,117,110,116,32,60,32,98,50,95,109,97,120,83,116,97,99,107,69,110,116,114,105,101,115,0],"i8",w),N.rb=y([118,111,105,100,32,98,50,83,116,97,99,107,65,108,108,111,99,97,116,111,114,58,58,70,114,101,101,40,118,111,105,100,32,42,41,0],"i8",w),N.th=y([109,95,101,110,116,114,121,67,111,117,110,116,32,62,32,48,0],"i8",w),N.Ah=y([112,32,61,61,32,101,110,116,114,121,45,62,100,97,116,97,0],"i8",w),N.n=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,66,111,100,121,46,99,112,112,0],"i8",w),N.S=y([98,50,66,111,100,121,58,58,98,50,66,111,100,121,40,99,111,110,115,116,32,98,50,66,111,100,121,68,101,102,32,42,44,32,98,50,87,111,114,108,100,32,42,41,0],"i8",w),N.Vf=y([98,100,45,62,112,111,115,105,116,105,111,110,46,73,115,86,97,108,105,100,40,41,0],"i8",w),N.Hg=y([98,100,45,62,108,105,110,101,97,114,86,101,108,111,99,105,116,121,46,73,115,86,97,108,105,100,40,41,0],"i8",w),N.hh=y([98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,108,101,41,0],"i8",w),N.uh=y([98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,117,108,97,114,86,101,108,111,99,105,116,121,41,0],"i8",w),N.Bh=y([98,50,73,115,86,97,108,105,100,40,98,100,45,62,97,110,103,117,108,97,114,68,97,109,112,105,110,103,41,32,38,38,32,98,100,45,62,97,110,103,117,108,97,114,68,97,109,112,105,110,103,32,62,61,32,48,46,48,102,0],"i8",w),N.Ih=y([98,50,73,115,86,97,108,105,100,40,98,100,45,62,108,105,110,101,97,114,68,97,109,112,105,110,103,41,32,38,38,32,98,100,45,62,108,105,110,101,97,114,68,97,109,112,105,110,103,32,62,61,32,48,46,48,102,0],"i8",w),N.Ge=y([118,111,105,100,32,98,50,66,111,100,121,58,58,83,101,116,84,121,112,101,40,98,50,66,111,100,121,84,121,112,101,41,0],"i8",w),N.W=y([109,95,119,111,114,108,100,45,62,73,115,76,111,99,107,101,100,40,41,32,61,61,32,102,97,108,115,101,0],"i8",w),N.Fe=y([98,50,70,105,120,116,117,114,101,32,42,98,50,66,111,100,121,58,58,67,114,101,97,116,101,70,105,120,116,117,114,101,40,99,111,110,115,116,32,98,50,70,105,120,116,117,114,101,68,101,102,32,42,41,0],"i8",w),N.na=y([118,111,105,100,32,98,50,66,111,100,121,58,58,68,101,115,116,114,111,121,70,105,120,116,117,114,101,40,98,50,70,105,120,116,117,114,101,32,42,41,0],"i8",w),N.Rh=y([102,105,120,116,117,114,101,45,62,109,95,98,111,100,121,32,61,61,32,116,104,105,115,0],"i8",w),N.Xh=y([109,95,102,105,120,116,117,114,101,67,111,117,110,116,32,62,32,48,0],"i8",w),N.ff=y([102,111,117,110,100,0],"i8",w),N.tb=y([118,111,105,100,32,98,50,66,111,100,121,58,58,82,101,115,101,116,77,97,115,115,68,97,116,97,40,41,0],"i8",w),N.pf=y([109,95,116,121,112,101,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,0],"i8",w),N.Fb=y([109,95,73,32,62,32,48,46,48,102,0],"i8",w),N.sb=y([118,111,105,100,32,98,50,66,111,100,121,58,58,83,101,116,77,97,115,115,68,97,116,97,40,99,111,110,115,116,32,98,50,77,97,115,115,68,97,116,97,32,42,41,0],"i8",w),N.Ee=y([118,111,105,100,32,98,50,66,111,100,121,58,58,83,101,116,84,114,97,110,115,102,111,114,109,40,99,111,110,115,116,32,98,50,86,101,99,50,32,38,44,32,102,108,111,97,116,51,50,41,0],"i8",w),N.He=y([118,111,105,100,32,98,50,66,111,100,121,58,58,83,101,116,65,99,116,105,118,101,40,98,111,111,108,41,0],"i8",w),N.Gf=y([32,32,98,50,66,111,100,121,68,101,102,32,98,100,59,10,0],"i8",w),N.Mf=y([32,32,98,100,46,116,121,112,101,32,61,32,98,50,66,111,100,121,84,121,112,101,40,37,100,41,59,10,0],"i8",w),N.Qf=y([32,32,98,100,46,112,111,115,105,116,105,111,110,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.Wf=y([32,32,98,100,46,97,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Zf=y([32,32,98,100,46,108,105,110,101,97,114,86,101,108,111,99,105,116,121,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.ag=y([32,32,98,100,46,97,110,103,117,108,97,114,86,101,108,111,99,105,116,121,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.dg=y([32,32,98,100,46,108,105,110,101,97,114,68,97,109,112,105,110,103,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.hg=y([32,32,98,100,46,97,110,103,117,108,97,114,68,97,109,112,105,110,103,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.ig=y([32,32,98,100,46,97,108,108,111,119,83,108,101,101,112,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.og=y([32,32,98,100,46,97,119,97,107,101,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.ug=y([32,32,98,100,46,102,105,120,101,100,82,111,116,97,116,105,111,110,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.xg=y([32,32,98,100,46,98,117,108,108,101,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.Bg=y([32,32,98,100,46,97,99,116,105,118,101,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.Fg=y([32,32,98,100,46,103,114,97,118,105,116,121,83,99,97,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Jg=y([32,32,98,111,100,105,101,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,66,111,100,121,40,38,98,100,41,59,10,0],"i8",w),N.Pg=y([32,32,123,10,0],"i8",w),N.Rg=y([32,32,125,10,0],"i8",w),Ap=y(4,"i8",w),Bp=y(4,"i8",w),N.T=y([118,111,105,100,32,42,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,71,101,116,85,115,101,114,68,97,116,97,40,105,110,116,51,50,41,32,99,111,110,115,116,0],"i8",w),N.q=y([48,32,60,61,32,112,114,111,120,121,73,100,32,38,38,32,112,114,111,120,121,73,100,32,60,32,109,95,110,111,100,101,67,97,112,97,99,105,116,121,0],"i8",w),N.H=y([99,111,110,115,116,32,98,50,65,65,66,66,32,38,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,71,101,116,70,97,116,65,65,66,66,40,105,110,116,51,50,41,32,99,111,110,115,116,0],"i8",w),UI=y([0,0,0,0,0,0,0,0,114,0,0,0,116,0,0,0,118,0,0,0,120,0,0,0,122,0,0,0,124,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Fc=y([49,55,98,50,67,111,110,116,97,99,116,76,105,115,116,101,110,101,114,0],"i8",w),TT=y(8,"i8",w),N.Qa=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,70,105,120,116,117,114,101,46,99,112,112,0],"i8",w),N.zb=y([118,111,105,100,32,98,50,70,105,120,116,117,114,101,58,58,68,101,115,116,114,111,121,40,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,32,42,41,0],"i8",w),N.Cb=y([109,95,112,114,111,120,121,67,111,117,110,116,32,61,61,32,48,0],"i8",w),N.Oe=y([118,111,105,100,32,98,50,70,105,120,116,117,114,101,58,58,67,114,101,97,116,101,80,114,111,120,105,101,115,40,98,50,66,114,111,97,100,80,104,97,115,101,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,41,0],"i8",w),N.Sg=y([32,32,32,32,98,50,70,105,120,116,117,114,101,68,101,102,32,102,100,59,10,0],"i8",w),N.kh=y([32,32,32,32,102,100,46,102,114,105,99,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.wh=y([32,32,32,32,102,100,46,114,101,115,116,105,116,117,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Ch=y([32,32,32,32,102,100,46,100,101,110,115,105,116,121,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Kh=y([32,32,32,32,102,100,46,105,115,83,101,110,115,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.Nh=y([32,32,32,32,102,100,46,102,105,108,116,101,114,46,99,97,116,101,103,111,114,121,66,105,116,115,32,61,32,117,105,110,116,49,54,40,37,100,41,59,10,0],"i8",w),N.Th=y([32,32,32,32,102,100,46,102,105,108,116,101,114,46,109,97,115,107,66,105,116,115,32,61,32,117,105,110,116,49,54,40,37,100,41,59,10,0],"i8",w),N.bf=y([32,32,32,32,102,100,46,102,105,108,116,101,114,46,103,114,111,117,112,73,110,100,101,120,32,61,32,105,110,116,49,54,40,37,100,41,59,10,0],"i8",w),N.hf=y([32,32,32,32,98,50,67,105,114,99,108,101,83,104,97,112,101,32,115,104,97,112,101,59,10,0],"i8",w),N.Db=y([32,32,32,32,115,104,97,112,101,46,109,95,114,97,100,105,117,115,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.yf=y([32,32,32,32,115,104,97,112,101,46,109,95,112,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.Df=y([32,32,32,32,98,50,69,100,103,101,83,104,97,112,101,32,115,104,97,112,101,59,10,0],"i8",w),N.If=y([32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,48,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.Of=y([32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,49,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.Sf=y([32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,50,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.Xf=y([32,32,32,32,115,104,97,112,101,46,109,95,118,101,114,116,101,120,51,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.$f=y([32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,86,101,114,116,101,120,48,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.bg=y([32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,86,101,114,116,101,120,51,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.eg=y([32,32,32,32,98,50,80,111,108,121,103,111,110,83,104,97,112,101,32,115,104,97,112,101,59,10,0],"i8",w),N.Pb=y([32,32,32,32,98,50,86,101,99,50,32,118,115,91,37,100,93,59,10,0],"i8",w),N.Qb=y([32,32,32,32,118,115,91,37,100,93,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.vg=y([32,32,32,32,115,104,97,112,101,46,83,101,116,40,118,115,44,32,37,100,41,59,10,0],"i8",w),N.yg=y([32,32,32,32,98,50,67,104,97,105,110,83,104,97,112,101,32,115,104,97,112,101,59,10,0],"i8",w),N.Cg=y([32,32,32,32,115,104,97,112,101,46,67,114,101,97,116,101,67,104,97,105,110,40,118,115,44,32,37,100,41,59,10,0],"i8",w),N.Gg=y([32,32,32,32,115,104,97,112,101,46,109,95,112,114,101,118,86,101,114,116,101,120,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.Kg=y([32,32,32,32,115,104,97,112,101,46,109,95,110,101,120,116,86,101,114,116,101,120,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.Ng=y([32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,80,114,101,118,86,101,114,116,101,120,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.Qg=y([32,32,32,32,115,104,97,112,101,46,109,95,104,97,115,78,101,120,116,86,101,114,116,101,120,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.ab=y([10,0],"i8",w),N.Ug=y([32,32,32,32,102,100,46,115,104,97,112,101,32,61,32,38,115,104,97,112,101,59,10,0],"i8",w),N.Yg=y([32,32,32,32,98,111,100,105,101,115,91,37,100,93,45,62,67,114,101,97,116,101,70,105,120,116,117,114,101,40,38,102,100,41,59,10,0],"i8",w),N.Jb=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,73,115,108,97,110,100,46,99,112,112,0],"i8",w),N.xb=y([118,111,105,100,32,98,50,73,115,108,97,110,100,58,58,83,111,108,118,101,84,79,73,40,99,111,110,115,116,32,98,50,84,105,109,101,83,116,101,112,32,38,44,32,105,110,116,51,50,44,32,105,110,116,51,50,41,0],"i8",w),N.of=y([116,111,105,73,110,100,101,120,65,32,60,32,109,95,98,111,100,121,67,111,117,110,116,0],"i8",w),N.fg=y([116,111,105,73,110,100,101,120,66,32,60,32,109,95,98,111,100,121,67,111,117,110,116,0],"i8",w),N.t=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,87,111,114,108,100,46,99,112,112,0],"i8",w),N.Ke=y([98,50,66,111,100,121,32,42,98,50,87,111,114,108,100,58,58,67,114,101,97,116,101,66,111,100,121,40,99,111,110,115,116,32,98,50,66,111,100,121,68,101,102,32,42,41,0],"i8",w),N.qa=y([73,115,76,111,99,107,101,100,40,41,32,61,61,32,102,97,108,115,101,0],"i8",w),N.ub=y([118,111,105,100,32,98,50,87,111,114,108,100,58,58,68,101,115,116,114,111,121,66,111,100,121,40,98,50,66,111,100,121,32,42,41,0],"i8",w),N.gg=y([109,95,98,111,100,121,67,111,117,110,116,32,62,32,48,0],"i8",w),N.Le=y([98,50,74,111,105,110,116,32,42,98,50,87,111,114,108,100,58,58,67,114,101,97,116,101,74,111,105,110,116,40,99,111,110,115,116,32,98,50,74,111,105,110,116,68,101,102,32,42,41,0],"i8",w),N.vb=y([118,111,105,100,32,98,50,87,111,114,108,100,58,58,68,101,115,116,114,111,121,74,111,105,110,116,40,98,50,74,111,105,110,116,32,42,41,0],"i8",w),N.Tg=y([109,95,106,111,105,110,116,67,111,117,110,116,32,62,32,48,0],"i8",w),N.Ia=y([118,111,105,100,32,98,50,87,111,114,108,100,58,58,83,111,108,118,101,40,99,111,110,115,116,32,98,50,84,105,109,101,83,116,101,112,32,38,41,0],"i8",w),N.mh=y([98,45,62,73,115,65,99,116,105,118,101,40,41,32,61,61,32,116,114,117,101,0],"i8",w),N.Vb=y([115,116,97,99,107,67,111,117,110,116,32,60,32,115,116,97,99,107,83,105,122,101,0],"i8",w),N.wb=y([118,111,105,100,32,98,50,87,111,114,108,100,58,58,83,111,108,118,101,84,79,73,40,99,111,110,115,116,32,98,50,84,105,109,101,83,116,101,112,32,38,41,0],"i8",w),N.Dh=y([116,121,112,101,65,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,32,124,124,32,116,121,112,101,66,32,61,61,32,98,50,95,100,121,110,97,109,105,99,66,111,100,121,0],"i8",w),N.V=y([97,108,112,104,97,48,32,60,32,49,46,48,102,0],"i8",w),N.Me=y([118,111,105,100,32,98,50,87,111,114,108,100,58,58,68,114,97,119,83,104,97,112,101,40,98,50,70,105,120,116,117,114,101,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,44,32,99,111,110,115,116,32,98,50,67,111,108,111,114,32,38,41,0],"i8",w),N.Oh=y([118,101,114,116,101,120,67,111,117,110,116,32,60,61,32,56,0],"i8",w),N.Uh=y([98,50,86,101,99,50,32,103,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.cf=y([109,95,119,111,114,108,100,45,62,83,101,116,71,114,97,118,105,116,121,40,103,41,59,10,0],"i8",w),N.jf=y([98,50,66,111,100,121,42,42,32,98,111,100,105,101,115,32,61,32,40,98,50,66,111,100,121,42,42,41,98,50,65,108,108,111,99,40,37,100,32,42,32,115,105,122,101,111,102,40,98,50,66,111,100,121,42,41,41,59,10,0],"i8",w),N.sf=y([98,50,74,111,105,110,116,42,42,32,106,111,105,110,116,115,32,61,32,40,98,50,74,111,105,110,116,42,42,41,98,50,65,108,108,111,99,40,37,100,32,42,32,115,105,122,101,111,102,40,98,50,74,111,105,110,116,42,41,41,59,10,0],"i8",w),N.Ra=y([123,10,0],"i8",w),N.Sa=y([125,10,0],"i8",w),N.Jf=y([98,50,70,114,101,101,40,106,111,105,110,116,115,41,59,10,0],"i8",w),N.Pf=y([98,50,70,114,101,101,40,98,111,100,105,101,115,41,59,10,0],"i8",w),N.Tf=y([106,111,105,110,116,115,32,61,32,78,85,76,76,59,10,0],"i8",w),N.Yf=y([98,111,100,105,101,115,32,61,32,78,85,76,76,59,10,0],"i8",w),N.r=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,108,108,105,115,105,111,110,47,98,50,68,121,110,97,109,105,99,84,114,101,101,46,104,0],"i8",w),N.Ue=y([118,111,105,100,32,98,50,68,121,110,97,109,105,99,84,114,101,101,58,58,82,97,121,67,97,115,116,40,84,32,42,44,32,99,111,110,115,116,32,98,50,82,97,121,67,97,115,116,73,110,112,117,116,32,38,41,32,99,111,110,115,116,32,91,84,32,61,32,98,50,87,111,114,108,100,82,97,121,67,97,115,116,87,114,97,112,112,101,114,93,0],"i8",w),N.cg=y([114,46,76,101,110,103,116,104,83,113,117,97,114,101,100,40,41,32,62,32,48,46,48,102,0],"i8",w),N.ca=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,67,111,109,109,111,110,47,98,50,77,97,116,104,46,104,0],"i8",w),N.Z=y([118,111,105,100,32,98,50,83,119,101,101,112,58,58,65,100,118,97,110,99,101,40,102,108,111,97,116,51,50,41,0],"i8",w),N.J=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,98,50,73,115,108,97,110,100,46,104,0],"i8",w),N.Ne=y([118,111,105,100,32,98,50,73,115,108,97,110,100,58,58,65,100,100,40,98,50,74,111,105,110,116,32,42,41,0],"i8",w),N.Dg=y([109,95,106,111,105,110,116,67,111,117,110,116,32,60,32,109,95,106,111,105,110,116,67,97,112,97,99,105,116,121,0],"i8",w),N.Ja=y([118,111,105,100,32,98,50,73,115,108,97,110,100,58,58,65,100,100,40,98,50,67,111,110,116,97,99,116,32,42,41,0],"i8",w),N.Xa=y([109,95,99,111,110,116,97,99,116,67,111,117,110,116,32,60,32,109,95,99,111,110,116,97,99,116,67,97,112,97,99,105,116,121,0],"i8",w),N.oa=y([118,111,105,100,32,98,50,73,115,108,97,110,100,58,58,65,100,100,40,98,50,66,111,100,121,32,42,41,0],"i8",w),N.Ba=y([109,95,98,111,100,121,67,111,117,110,116,32,60,32,109,95,98,111,100,121,67,97,112,97,99,105,116,121,0],"i8",w),UT=y([0,0,0,0,0,0,0,0,126,0,0,0,128,0,0,0,130,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.yc=y([49,53,98,50,67,111,110,116,97,99,116,70,105,108,116,101,114,0],"i8",w),VT=y(8,"i8",w),WT=y([0,0,0,0,0,0,0,0,132,0,0,0,134,0,0,0,136,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.ua=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0],"i8",w),N.ja=y([98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,58,58,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,40,98,50,70,105,120,116,117,114,101,32,42,44,32,105,110,116,51,50,44,32,98,50,70,105,120,116,117,114,101,32,42,44,32,105,110,116,51,50,41,0],"i8",w),N.Jc=y([50,51,98,50,67,104,97,105,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0],"i8",w),N.Qc=y([57,98,50,67,111,110,116,97,99,116,0],"i8",w),XT=y(8,"i8",w),YT=y(12,"i8",w),ZT=y([0,0,0,0,0,0,0,0,138,0,0,0,140,0,0,0,142,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.va=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0],"i8",w),N.la=y([98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,58,58,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,40,98,50,70,105,120,116,117,114,101,32,42,44,32,105,110,116,51,50,44,32,98,50,70,105,120,116,117,114,101,32,42,44,32,105,110,116,51,50,41,0],"i8",w),N.ra=y([109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,104,97,105,110,0],"i8",w),N.Lc=y([50,52,98,50,67,104,97,105,110,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0],"i8",w),$T=y(12,"i8",w),aU=y([0,0,0,0,0,0,0,0,144,0,0,0,146,0,0,0,148,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.wa=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0],"i8",w),N.ga=y([98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,58,58,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,40,98,50,70,105,120,116,117,114,101,32,42,44,32,98,50,70,105,120,116,117,114,101,32,42,41,0],"i8",w),N.Eb=y([109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,105,114,99,108,101,0],"i8",w),N.xc=y([49,53,98,50,67,105,114,99,108,101,67,111,110,116,97,99,116,0],"i8",w),bU=y(12,"i8",w),Lo=y(192,"i8",w),Ko=y(4,"i8",w),N.aa=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,111,110,116,97,99,116,46,99,112,112,0],"i8",w),N.gi=y([115,116,97,116,105,99,32,118,111,105,100,32,98,50,67,111,110,116,97,99,116,58,58,65,100,100,84,121,112,101,40,98,50,67,111,110,116,97,99,116,67,114,101,97,116,101,70,99,110,32,42,44,32,98,50,67,111,110,116,97,99,116,68,101,115,116,114,111,121,70,99,110,32,42,44,32,98,50,83,104,97,112,101,58,58,84,121,112,101,44,32,98,50,83,104,97,112,101,58,58,84,121,112,101,41,0],"i8",w),N.rf=y([48,32,60,61,32,116,121,112,101,49,32,38,38,32,116,121,112,101,49,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0],"i8",w),N.jg=y([48,32,60,61,32,116,121,112,101,50,32,38,38,32,116,121,112,101,50,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0],"i8",w),N.yb=y([115,116,97,116,105,99,32,98,50,67,111,110,116,97,99,116,32,42,98,50,67,111,110,116,97,99,116,58,58,67,114,101,97,116,101,40,98,50,70,105,120,116,117,114,101,32,42,44,32,105,110,116,51,50,44,32,98,50,70,105,120,116,117,114,101,32,42,44,32,105,110,116,51,50,44,32,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,32,42,41,0],"i8",w),N.Ka=y([115,116,97,116,105,99,32,118,111,105,100,32,98,50,67,111,110,116,97,99,116,58,58,68,101,115,116,114,111,121,40,98,50,67,111,110,116,97,99,116,32,42,44,32,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,32,42,41,0],"i8",w),N.Vg=y([115,95,105,110,105,116,105,97,108,105,122,101,100,32,61,61,32,116,114,117,101,0],"i8",w),N.Ub=y([48,32,60,61,32,116,121,112,101,65,32,38,38,32,116,121,112,101,66,32,60,32,98,50,83,104,97,112,101,58,58,101,95,116,121,112,101,67,111,117,110,116,0],"i8",w),cU=y([0,0,0,0,0,0,0,0,150,0,0,0,152,0,0,0,154,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.ba=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,46,99,112,112,0],"i8",w),N.we=y([98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,58,58,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,40,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,68,101,102,32,42,41,0],"i8",w),N.tf=y([112,111,105,110,116,67,111,117,110,116,32,62,32,48,0],"i8",w),N.ve=y([118,111,105,100,32,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,58,58,73,110,105,116,105,97,108,105,122,101,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,40,41,0],"i8",w),N.kg=y([109,97,110,105,102,111,108,100,45,62,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0],"i8",w),N.pb=y([118,111,105,100,32,98,50,67,111,110,116,97,99,116,83,111,108,118,101,114,58,58,83,111,108,118,101,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,40,41,0],"i8",w),N.Wg=y([112,111,105,110,116,67,111,117,110,116,32,61,61,32,49,32,124,124,32,112,111,105,110,116,67,111,117,110,116,32,61,61,32,50,0],"i8",w),N.nh=y([97,46,120,32,62,61,32,48,46,48,102,32,38,38,32,97,46,121,32,62,61,32,48,46,48,102,0],"i8",w),N.De=y([118,111,105,100,32,98,50,80,111,115,105,116,105,111,110,83,111,108,118,101,114,77,97,110,105,102,111,108,100,58,58,73,110,105,116,105,97,108,105,122,101,40,98,50,67,111,110,116,97,99,116,80,111,115,105,116,105,111,110,67,111,110,115,116,114,97,105,110,116,32,42,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,44,32,99,111,110,115,116,32,98,50,84,114,97,110,115,102,111,114,109,32,38,44,32,105,110,116,51,50,41,0],"i8",w),N.xh=y([112,99,45,62,112,111,105,110,116,67,111,117,110,116,32,62,32,48,0],"i8",w),dU=y([0,0,0,0,0,0,0,0,156,0,0,0,158,0,0,0,160,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.xa=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0],"i8",w),N.ia=y([98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,58,58,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,40,98,50,70,105,120,116,117,114,101,32,42,44,32,98,50,70,105,120,116,117,114,101,32,42,41,0],"i8",w),N.Ic=y([50,50,98,50,69,100,103,101,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0],"i8",w),eU=y(12,"i8",w),fU=y([0,0,0,0,0,0,0,0,162,0,0,0,164,0,0,0,166,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.ya=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0],"i8",w),N.ka=y([98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,58,58,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,40,98,50,70,105,120,116,117,114,101,32,42,44,32,98,50,70,105,120,116,117,114,101,32,42,41,0],"i8",w),N.sa=y([109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,101,100,103,101,0],"i8",w),N.Kc=y([50,51,98,50,69,100,103,101,65,110,100,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0],"i8",w),gU=y(12,"i8",w),hU=y([0,0,0,0,0,0,0,0,168,0,0,0,170,0,0,0,172,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.za=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,46,99,112,112,0],"i8",w),N.ma=y([98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,58,58,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,40,98,50,70,105,120,116,117,114,101,32,42,44,32,98,50,70,105,120,116,117,114,101,32,42,41,0],"i8",w),N.I=y([109,95,102,105,120,116,117,114,101,66,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,99,105,114,99,108,101,0],"i8",w),N.Mc=y([50,53,98,50,80,111,108,121,103,111,110,65,110,100,67,105,114,99,108,101,67,111,110,116,97,99,116,0],"i8",w),iU=y(12,"i8",w),jU=y([0,0,0,0,0,0,0,0,174,0,0,0,176,0,0,0,178,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Aa=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,67,111,110,116,97,99,116,115,47,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,46,99,112,112,0],"i8",w),N.ha=y([98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,58,58,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,40,98,50,70,105,120,116,117,114,101,32,42,44,32,98,50,70,105,120,116,117,114,101,32,42,41,0],"i8",w),N.ta=y([109,95,102,105,120,116,117,114,101,65,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,112,111,108,121,103,111,110,0],"i8",w),N.U=y([109,95,102,105,120,116,117,114,101,66,45,62,71,101,116,84,121,112,101,40,41,32,61,61,32,98,50,83,104,97,112,101,58,58,101,95,112,111,108,121,103,111,110,0],"i8",w),N.Dc=y([49,54,98,50,80,111,108,121,103,111,110,67,111,110,116,97,99,116,0],"i8",w),kU=y(12,"i8",w),Hp=y([0,0,0,0,0,0,0,0,180,0,0,0,182,0,0,0,184,0,0,0,186,0,0,0,188,0,0,0,190,0,0,0,192,0,0,0,194,0,0,0,196,0,0,0,198,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Ig=y([32,32,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0],"i8",w),N.Fh=y([32,32,106,100,46,108,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.zc=y([49,53,98,50,68,105,115,116,97,110,99,101,74,111,105,110,116,0],"i8",w),N.Oc=y([55,98,50,74,111,105,110,116,0],"i8",w),lU=y(8,"i8",w),mU=y(12,"i8",w),Pp=y([0,0,0,0,0,0,0,0,200,0,0,0,202,0,0,0,204,0,0,0,206,0,0,0,208,0,0,0,210,0,0,0,212,0,0,0,214,0,0,0,216,0,0,0,218,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Rb=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,46,99,112,112,0],"i8",w),N.xe=y([118,111,105,100,32,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,58,58,83,101,116,77,97,120,70,111,114,99,101,40,102,108,111,97,116,51,50,41,0],"i8",w),N.wf=y([98,50,73,115,86,97,108,105,100,40,102,111,114,99,101,41,32,38,38,32,102,111,114,99,101,32,62,61,32,48,46,48,102,0],"i8",w),N.ye=y([118,111,105,100,32,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,58,58,83,101,116,77,97,120,84,111,114,113,117,101,40,102,108,111,97,116,51,50,41,0],"i8",w),N.lg=y([98,50,73,115,86,97,108,105,100,40,116,111,114,113,117,101,41,32,38,38,32,116,111,114,113,117,101,32,62,61,32,48,46,48,102,0],"i8",w),N.Xg=y([32,32,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,68,101,102,32,106,100,59,10,0],"i8",w),N.Vh=y([32,32,106,100,46,109,97,120,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.df=y([32,32,106,100,46,109,97,120,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Ac=y([49,53,98,50,70,114,105,99,116,105,111,110,74,111,105,110,116,0],"i8",w),nU=y(12,"i8",w),eq=y([0,0,0,0,0,0,0,0,220,0,0,0,222,0,0,0,224,0,0,0,226,0,0,0,228,0,0,0,230,0,0,0,232,0,0,0,234,0,0,0,236,0,0,0,238,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Za=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,71,101,97,114,74,111,105,110,116,46,99,112,112,0],"i8",w),N.jb=y([98,50,71,101,97,114,74,111,105,110,116,58,58,98,50,71,101,97,114,74,111,105,110,116,40,99,111,110,115,116,32,98,50,71,101,97,114,74,111,105,110,116,68,101,102,32,42,41,0],"i8",w),N.xf=y([109,95,116,121,112,101,65,32,61,61,32,101,95,114,101,118,111,108,117,116,101,74,111,105,110,116,32,124,124,32,109,95,116,121,112,101,65,32,61,61,32,101,95,112,114,105,115,109,97,116,105,99,74,111,105,110,116,0],"i8",w),N.ng=y([109,95,116,121,112,101,66,32,61,61,32,101,95,114,101,118,111,108,117,116,101,74,111,105,110,116,32,124,124,32,109,95,116,121,112,101,66,32,61,61,32,101,95,112,114,105,115,109,97,116,105,99,74,111,105,110,116,0],"i8",w),N.re=y([118,111,105,100,32,98,50,71,101,97,114,74,111,105,110,116,58,58,83,101,116,82,97,116,105,111,40,102,108,111,97,116,51,50,41,0],"i8",w),N.Zg=y([98,50,73,115,86,97,108,105,100,40,114,97,116,105,111,41,0],"i8",w),N.oh=y([32,32,98,50,71,101,97,114,74,111,105,110,116,68,101,102,32,106,100,59,10,0],"i8",w),N.Ph=y([32,32,106,100,46,106,111,105,110,116,49,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0],"i8",w),N.Wh=y([32,32,106,100,46,106,111,105,110,116,50,32,61,32,106,111,105,110,116,115,91,37,100,93,59,10,0],"i8",w),N.oc=y([49,49,98,50,71,101,97,114,74,111,105,110,116,0],"i8",w),oU=y(12,"i8",w),N.k=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,74,111,105,110,116,46,99,112,112,0],"i8",w),N.Ie=y([115,116,97,116,105,99,32,98,50,74,111,105,110,116,32,42,98,50,74,111,105,110,116,58,58,67,114,101,97,116,101,40,99,111,110,115,116,32,98,50,74,111,105,110,116,68,101,102,32,42,44,32,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,32,42,41,0],"i8",w),N.o=y([102,97,108,115,101,0],"i8",w),N.Je=y([115,116,97,116,105,99,32,118,111,105,100,32,98,50,74,111,105,110,116,58,58,68,101,115,116,114,111,121,40,98,50,74,111,105,110,116,32,42,44,32,98,50,66,108,111,99,107,65,108,108,111,99,97,116,111,114,32,42,41,0],"i8",w),Gp=y([0,0,0,0,0,0,0,0,150,0,0,0,150,0,0,0,150,0,0,0,150,0,0,0,240,0,0,0,242,0,0,0,244,0,0,0,150,0,0,0,150,0,0,0,150,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.l=y([98,50,74,111,105,110,116,58,58,98,50,74,111,105,110,116,40,99,111,110,115,116,32,98,50,74,111,105,110,116,68,101,102,32,42,41,0],"i8",w),N.m=y([100,101,102,45,62,98,111,100,121,65,32,33,61,32,100,101,102,45,62,98,111,100,121,66,0],"i8",w),N.$g=y([47,47,32,68,117,109,112,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,32,102,111,114,32,116,104,105,115,32,106,111,105,110,116,32,116,121,112,101,46,10,0],"i8",w),fq=y([0,0,0,0,0,0,0,0,246,0,0,0,248,0,0,0,250,0,0,0,252,0,0,0,254,0,0,0,256,0,0,0,258,0,0,0,260,0,0,0,262,0,0,0,264,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.da=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,77,111,117,115,101,74,111,105,110,116,46,99,112,112,0],"i8",w),N.fa=y([98,50,77,111,117,115,101,74,111,105,110,116,58,58,98,50,77,111,117,115,101,74,111,105,110,116,40,99,111,110,115,116,32,98,50,77,111,117,115,101,74,111,105,110,116,68,101,102,32,42,41,0],"i8",w),N.Af=y([100,101,102,45,62,116,97,114,103,101,116,46,73,115,86,97,108,105,100,40,41,0],"i8",w),N.pg=y([98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,109,97,120,70,111,114,99,101,41,32,38,38,32,100,101,102,45,62,109,97,120,70,111,114,99,101,32,62,61,32,48,46,48,102,0],"i8",w),N.ah=y([98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,102,114,101,113,117,101,110,99,121,72,122,41,32,38,38,32,100,101,102,45,62,102,114,101,113,117,101,110,99,121,72,122,32,62,61,32,48,46,48,102,0],"i8",w),N.ph=y([98,50,73,115,86,97,108,105,100,40,100,101,102,45,62,100,97,109,112,105,110,103,82,97,116,105,111,41,32,38,38,32,100,101,102,45,62,100,97,109,112,105,110,103,82,97,116,105,111,32,62,61,32,48,46,48,102,0],"i8",w),N.se=y([118,105,114,116,117,97,108,32,118,111,105,100,32,98,50,77,111,117,115,101,74,111,105,110,116,58,58,73,110,105,116,86,101,108,111,99,105,116,121,67,111,110,115,116,114,97,105,110,116,115,40,99,111,110,115,116,32,98,50,83,111,108,118,101,114,68,97,116,97,32,38,41,0],"i8",w),N.yh=y([100,32,43,32,104,32,42,32,107,32,62,32,49,46,49,57,50,48,57,50,57,48,69,45,48,55,70,0],"i8",w),N.sc=y([49,50,98,50,77,111,117,115,101,74,111,105,110,116,0],"i8",w),pU=y(12,"i8",w),N.Gh=y([77,111,117,115,101,32,106,111,105,110,116,32,100,117,109,112,105,110,103,32,105,115,32,110,111,116,32,115,117,112,112,111,114,116,101,100,46,10,0],"i8",w),gq=y([0,0,0,0,0,0,0,0,266,0,0,0,268,0,0,0,270,0,0,0,272,0,0,0,274,0,0,0,276,0,0,0,278,0,0,0,280,0,0,0,282,0,0,0,284,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.bh=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,46,99,112,112,0],"i8",w),N.Ae=y([118,111,105,100,32,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,58,58,83,101,116,76,105,109,105,116,115,40,102,108,111,97,116,51,50,44,32,102,108,111,97,116,51,50,41,0],"i8",w),N.qg=y([32,32,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,68,101,102,32,106,100,59,10,0],"i8",w),N.kf=y([32,32,106,100,46,108,111,119,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.uf=y([32,32,106,100,46,117,112,112,101,114,84,114,97,110,115,108,97,116,105,111,110,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Lf=y([32,32,106,100,46,109,97,120,77,111,116,111,114,70,111,114,99,101,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Ec=y([49,54,98,50,80,114,105,115,109,97,116,105,99,74,111,105,110,116,0],"i8",w),qU=y(12,"i8",w),N.Tb=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,80,117,108,108,101,121,74,111,105,110,116,46,99,112,112,0],"i8",w),N.Be=y([118,111,105,100,32,98,50,80,117,108,108,101,121,74,111,105,110,116,68,101,102,58,58,73,110,105,116,105,97,108,105,122,101,40,98,50,66,111,100,121,32,42,44,32,98,50,66,111,100,121,32,42,44,32,99,111,110,115,116,32,98,50,86,101,99,50,32,38,44,32,99,111,110,115,116,32,98,50,86,101,99,50,32,38,44,32,99,111,110,115,116,32,98,50,86,101,99,50,32,38,44,32,99,111,110,115,116,32,98,50,86,101,99,50,32,38,44,32,102,108,111,97,116,51,50,41,0],"i8",w),N.Bf=y([114,97,116,105,111,32,62,32,49,46,49,57,50,48,57,50,57,48,69,45,48,55,70,0],"i8",w),iq=y([0,0,0,0,0,0,0,0,286,0,0,0,288,0,0,0,290,0,0,0,292,0,0,0,294,0,0,0,296,0,0,0,298,0,0,0,300,0,0,0,302,0,0,0,304,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.ue=y([98,50,80,117,108,108,101,121,74,111,105,110,116,58,58,98,50,80,117,108,108,101,121,74,111,105,110,116,40,99,111,110,115,116,32,98,50,80,117,108,108,101,121,74,111,105,110,116,68,101,102,32,42,41,0],"i8",w),N.rg=y([100,101,102,45,62,114,97,116,105,111,32,33,61,32,48,46,48,102,0],"i8",w),N.dh=y([32,32,98,50,80,117,108,108,101,121,74,111,105,110,116,68,101,102,32,106,100,59,10,0],"i8",w),N.Lh=y([32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.Qh=y([32,32,106,100,46,103,114,111,117,110,100,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.lf=y([32,32,106,100,46,108,101,110,103,116,104,65,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.vf=y([32,32,106,100,46,108,101,110,103,116,104,66,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Hb=y([32,32,106,100,46,114,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.vc=y([49,51,98,50,80,117,108,108,101,121,74,111,105,110,116,0],"i8",w),rU=y(12,"i8",w),Kp=y([0,0,0,0,0,0,0,0,306,0,0,0,308,0,0,0,310,0,0,0,312,0,0,0,314,0,0,0,316,0,0,0,318,0,0,0,320,0,0,0,322,0,0,0,324,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.gh=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,68,121,110,97,109,105,99,115,47,74,111,105,110,116,115,47,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,46,99,112,112,0],"i8",w),N.ze=y([118,111,105,100,32,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,58,58,83,101,116,76,105,109,105,116,115,40,102,108,111,97,116,51,50,44,32,102,108,111,97,116,51,50,41,0],"i8",w),N.Ib=y([108,111,119,101,114,32,60,61,32,117,112,112,101,114,0],"i8",w),N.sg=y([32,32,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0],"i8",w),N.ac=y([32,32,106,100,46,101,110,97,98,108,101,76,105,109,105,116,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.ef=y([32,32,106,100,46,108,111,119,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.mf=y([32,32,106,100,46,117,112,112,101,114,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Cc=y([49,53,98,50,82,101,118,111,108,117,116,101,74,111,105,110,116,0],"i8",w),sU=y(12,"i8",w),Qp=y([0,0,0,0,0,0,0,0,326,0,0,0,328,0,0,0,330,0,0,0,332,0,0,0,334,0,0,0,336,0,0,0,338,0,0,0,340,0,0,0,342,0,0,0,344,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.ih=y([32,32,98,50,82,111,112,101,74,111,105,110,116,68,101,102,32,106,100,59,10,0],"i8",w),N.Hh=y([32,32,106,100,46,109,97,120,76,101,110,103,116,104,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.pc=y([49,49,98,50,82,111,112,101,74,111,105,110,116,0],"i8",w),tU=y(12,"i8",w),Op=y([0,0,0,0,0,0,0,0,346,0,0,0,348,0,0,0,350,0,0,0,352,0,0,0,354,0,0,0,356,0,0,0,358,0,0,0,360,0,0,0,362,0,0,0,364,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.jh=y([32,32,98,50,87,101,108,100,74,111,105,110,116,68,101,102,32,106,100,59,10,0],"i8",w),N.bb=y([32,32,106,100,46,114,101,102,101,114,101,110,99,101,65,110,103,108,101,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.qc=y([49,49,98,50,87,101,108,100,74,111,105,110,116,0],"i8",w),uU=y(12,"i8",w),jq=y([0,0,0,0,0,0,0,0,366,0,0,0,368,0,0,0,370,0,0,0,372,0,0,0,374,0,0,0,376,0,0,0,378,0,0,0,380,0,0,0,382,0,0,0,384,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.lh=y([32,32,98,50,87,104,101,101,108,74,111,105,110,116,68,101,102,32,106,100,59,10,0],"i8",w),N.A=y([32,32,106,100,46,98,111,100,121,65,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0],"i8",w),N.B=y([32,32,106,100,46,98,111,100,121,66,32,61,32,98,111,100,105,101,115,91,37,100,93,59,10,0],"i8",w),N.C=y([32,32,106,100,46,99,111,108,108,105,100,101,67,111,110,110,101,99,116,101,100,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.K=y([32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.L=y([32,32,106,100,46,108,111,99,97,108,65,110,99,104,111,114,66,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.Zb=y([32,32,106,100,46,108,111,99,97,108,65,120,105,115,65,46,83,101,116,40,37,46,49,53,108,101,102,44,32,37,46,49,53,108,101,102,41,59,10,0],"i8",w),N.cb=y([32,32,106,100,46,101,110,97,98,108,101,77,111,116,111,114,32,61,32,98,111,111,108,40,37,100,41,59,10,0],"i8",w),N.eb=y([32,32,106,100,46,109,111,116,111,114,83,112,101,101,100,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.bc=y([32,32,106,100,46,109,97,120,77,111,116,111,114,84,111,114,113,117,101,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Oa=y([32,32,106,100,46,102,114,101,113,117,101,110,99,121,72,122,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.Pa=y([32,32,106,100,46,100,97,109,112,105,110,103,82,97,116,105,111,32,61,32,37,46,49,53,108,101,102,59,10,0],"i8",w),N.z=y([32,32,106,111,105,110,116,115,91,37,100,93,32,61,32,109,95,119,111,114,108,100,45,62,67,114,101,97,116,101,74,111,105,110,116,40,38,106,100,41,59,10,0],"i8",w),N.tc=y([49,50,98,50,87,104,101,101,108,74,111,105,110,116,0],"i8",w),vU=y(12,"i8",w),N.li=y([66,111,120,50,68,95,118,50,46,50,46,49,47,66,111,120,50,68,47,82,111,112,101,47,98,50,82,111,112,101,46,99,112,112,0],"i8",w),N.fi=y([118,111,105,100,32,98,50,82,111,112,101,58,58,73,110,105,116,105,97,108,105,122,101,40,99,111,110,115,116,32,98,50,82,111,112,101,68,101,102,32,42,41,0],"i8",w),N.ii=y([100,101,102,45,62,99,111,117,110,116,32,62,61,32,51,0],"i8",w),et=y(8,"i8",w),ct=y(8,"i8",w),ht=y(8,"i8",w),gt=y(8,"i8",w),kt=y(8,"i8",w),jt=y(8,"i8",w),xt=y(8,"i8",w),wt=y(8,"i8",w),At=y(8,"i8",w),zt=y(8,"i8",w),Et=y(8,"i8",w),Dt=y(8,"i8",w),Lt=y(8,"i8",w),Kt=y(8,"i8",w),Ot=y(8,"i8",w),Nt=y(8,"i8",w),ix=y(8,"i8",w),hx=y(8,"i8",w),sx=y(8,"i8",w),rx=y(8,"i8",w),vx=y(8,"i8",w),ux=y(8,"i8",w),yy=y(8,"i8",w),xy=y(8,"i8",w),By=y(8,"i8",w),Ay=y(8,"i8",w),Fy=y(8,"i8",w),Ey=y(8,"i8",w),My=y(8,"i8",w),Ly=y(8,"i8",w),Pz=y(8,"i8",w),Oz=y(8,"i8",w),Sz=y(8,"i8",w),Rz=y(8,"i8",w),Wz=y(8,"i8",w),Vz=y(8,"i8",w),lA=y(8,"i8",w),kA=y(8,"i8",w),lD=y(8,"i8",w),oA=y(8,"i8",w),QG=y(8,"i8",w),PG=y(8,"i8",w),UG=y(8,"i8",w),TG=y(8,"i8",w),aH=y(8,"i8",w),$G=y(8,"i8",w),dH=y(8,"i8",w),cH=y(8,"i8",w),RH=y(8,"i8",w),QH=y(8,"i8",w),UH=y(8,"i8",w),TH=y(8,"i8",w),YH=y(8,"i8",w),XH=y(8,"i8",w),dI=y(8,"i8",w),cI=y(8,"i8",w),II=y(8,"i8",w),HI=y(8,"i8",w),PI=y(8,"i8",w),OI=y(8,"i8",w),uJ=y(8,"i8",w),tJ=y(8,"i8",w),rK=y(8,"i8",w),qK=y(8,"i8",w),uK=y(8,"i8",w),tK=y(8,"i8",w),ZK=y(8,"i8",w),YK=y(8,"i8",w),bL=y(8,"i8",w),aL=y(8,"i8",w),FL=y(8,"i8",w),EL=y(8,"i8",w),JL=y(8,"i8",w),IL=y(8,"i8",w),ML=y(8,"i8",w),LL=y(8,"i8",w),PL=y(8,"i8",w),OL=y(8,"i8",w),TL=y(8,"i8",w),SL=y(8,"i8",w),YL=y(8,"i8",w),XL=y(8,"i8",w),fM=y(8,"i8",w),eM=y(8,"i8",w),uN=y(8,"i8",w),tN=y(8,"i8",w),NN=y(8,"i8",w),MN=y(8,"i8",w),SN=y(8,"i8",w),RN=y(8,"i8",w),cP=y(12,"i8",w),bP=y(8,"i8",w),rP=y(8,"i8",w),qP=y(8,"i8",w),uP=y(8,"i8",w),tP=y(8,"i8",w),jR=y(8,"i8",w),iR=y(8,"i8",w),JS=y(8,"i8",w),IS=y(8,"i8",w),BN=y([0,0,0,0,0,0,0,0,386,0,0,0,388,0,0,0,390,0,0,0,392,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Hc=y([50,49,98,50,68,101,115,116,114,117,99,116,105,111,110,76,105,115,116,101,110,101,114,0],"i8",w),wU=y(8,"i8",w),mJ=y([0,0,0,0,0,0,0,0,394,0,0,0,396,0,0,0,398,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Bc=y([49,53,98,50,81,117,101,114,121,67,97,108,108,98,97,99,107,0],"i8",w),xU=y(8,"i8",w),HH=y([0,0,0,0,0,0,0,0,400,0,0,0,402,0,0,0,404,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Gc=y([49,55,98,50,82,97,121,67,97,115,116,67,97,108,108,98,97,99,107,0],"i8",w),yU=y(8,"i8",w),y([406,0,0,0,408,0,0,0,410,0,0,0,412,0,0,0,414,0,0,0,416,0,0,0,418,0,0,0,420,0,0,0,422,0,0,0,424,0,0,0,426,0,0,0,428,0,0,0,430,0,0,0,432,0,0,0,434,0,0,0,436,0,0,0,438,0,0,0,440,0,0,0,442,0,0,0,444,0,0,0,446,0,0,0,448,0,0,0,450,0,0,0,452,0,0,0,454,0,0,0,456,0,0,0,458,0,0,0,460,0,0,0,462,0,0,0,464,0,0,0,466,0,0,0,468,0,0,0,470,0,0,0,472,0,0,0,474,0,0,0,476,0,0,0,478,0,0,0,480,0,0,0,482,0,0,0,484,0,0,0,486,0,0,0,488,0,0,0,490,0,0,0,492,0,0,0,494,0,0,0,496,0,0,0,498,0,0,0,500,0,0,0,502,0,0,0,504,0,0,0,506,0,0,0,508,0,0,0,510,0,0,0,512,0,0,0,514,0,0,0,516,0,0,0,518,0,0,0,520,0,0,0,522,0,0,0,524,0,0,0,526,0,0,0,528,0,0,0,530,0,0,0,532,0,0,0,534,0,0,0,536,0,0,0,538,0,0,0,540,0,0,0,542,0,0,0,544,0,0,0,546,0,0,0,548,0,0,0,550,0,0,0,552,0,0,0,554,0,0,0,556,0,0,0,558,0,0,0,560,0,0,0,562,0,0,0,564,0,0,0,566,0,0,0,568,0,0,0,570,0,0,0,572,0,0,0,574,0,0,0,576,0,0,0,578,0,0,0,580,0,0,0,582,0,0,0,584,0,0,0,586,0,0,0,588,0,0,0,590,0,0,0,592,0,0,0,594,0,0,0,596,0,0,0,598,0,0,0,600,0,0,0,602,0,0,0,604,0,0,0,606,0,0,0,608,0,0,0,610,0,0,0,612,0,0,0,614,0,0,0,616,0,0,0,618,0,0,0,620,0,0,0,622,0,0,0,624,0,0,0,626,0,0,0,628,0,0,0,630,0,0,0,632,0,0,0,634,0,0,0,636,0,0,0,638,0,0,0,640,0,0,0,642,0,0,0,644,0,0,0,646,0,0,0,648,0,0,0,650,0,0,0,652,0,0,0,654,0,0,0,656,0,0,0,658,0,0,0,660,0,0,0,662,0,0,0,664,0,0,0,666,0,0,0,668,0,0,0,670,0,0,0,672,0,0,0,674,0,0,0,676,0,0,0,678,0,0,0,680,0,0,0,682,0,0,0,684,0,0,0,686,0,0,0,688,0,0,0,690,0,0,0,692,0,0,0,694,0,0,0,696,0,0,0,698,0,0,0,700,0,0,0,702,0,0,0,704,0,0,0,706,0,0,0,708,0,0,0,710,0,0,0,712,0,0,0,714,0,0,0,716,0,0,0,718,0,0,0,720,0,0,0,722,0,0,0,724,0,0,0,726,0,0,0,728,0,0,0,730,0,0,0,732,0,0,0,734,0,0,0,736,0,0,0,738,0,0,0,740,0,0,0,742,0,0,0,744,0,0,0,746,0,0,0,748,0,0,0,750,0,0,0,752,0,0,0,754,0,0,0,756,0,0,0,758,0,0,0,760,0,0,0,762,0,0,0,764,0,0,0,766,0,0,0,768,0,0,0,770,0,0,0,772,0,0,0,774,0,0,0,776,0,0,0,778,0,0,0,780,0,0,0,782,0,0,0,784,0,0,0,786,0,0,0,788,0,0,0,790,0,0,0,792,0,0,0,794,0,0,0,796,0,0,0,798,0,0,0,800,0,0,0,802,0,0,0,804,0,0,0,806,0,0,0,808,0,0,0,810,0,0,0,812,0,0,0,814,0,0,0,816,0,0,0,818,0,0,0,820,0,0,0,822,0,0,0,824,0,0,0,826,0,0,0,828,0,0,0,830,0,0,0,832,0,0,0,834,0,0,0,836,0,0,0,838,0,0,0,840,0,0,0,842,0,0,0,844,0,0,0,846,0,0,0,848,0,0,0,850,0,0,0,852,0,0,0,854,0,0,0,856,0,0,0,858,0,0,0,860,0,0,0,862,0,0,0,864,0,0,0,866,0,0,0,868,0,0,0,870,0,0,0,872,0,0,0,874,0,0,0,876,0,0,0,878,0,0,0,880,0,0,0,882,0,0,0,884,0,0,0,886,0,0,0,888,0,0,0,890,0,0,0,892,0,0,0,894,0,0,0,896,0,0,0,898,0,0,0,900,0,0,0,902,0,0,0,904,0,0,0,906,0,0,0,908,0,0,0,910,0,0,0,912,0,0,0,914,0,0,0,916,0,0,0,918,0,0,0,920,0,0,0,922,0,0,0,924,0,0,0,926,0,0,0,928,0,0,0,930,0,0,0,932,0,0,0,934,0,0,0,936,0,0,0,938,0,0,0,940,0,0,0,942,0,0,0,944,0,0,0,946,0,0,0,948,0,0,0,950,0,0,0,952,0,0,0,954,0,0,0,956,0,0,0,958,0,0,0,960,0,0,0,962,0,0,0,964,0,0,0,966,0,0,0,968,0,0,0,970,0,0,0,972,0,0,0,974,0,0,0,976,0,0,0,978,0,0,0,980,0,0,0,982,0,0,0,984,0,0,0,986,0,0,0,988,0,0,0,990,0,0,0,992,0,0,0,994,0,0,0,996,0,0,0,998,0,0,0,1e3,0,0,0,1002,0,0,0,1004,0,0,0,1006,0,0,0,1008,0,0,0,1010,0,0,0,1012,0,0,0,1014,0,0,0,1016,0,0,0,1018,0,0,0,1020,0,0,0,1022,0,0,0,1024,0,0,0,1026,0,0,0,1028,0,0,0,1030,0,0,0,1032,0,0,0,1034,0,0,0,1036,0,0,0,1038,0,0,0,1040,0,0,0,1042,0,0,0,1044,0,0,0,1046,0,0,0,1048,0,0,0,1050,0,0,0,1052,0,0,0,1054,0,0,0,1056,0,0,0,1058,0,0,0,1060,0,0,0,1062,0,0,0,1064,0,0,0,1066,0,0,0,1068,0,0,0,1070,0,0,0,1072,0,0,0,1074,0,0,0,1076,0,0,0,1078,0,0,0,1080,0,0,0,1082,0,0,0,1084,0,0,0,1086,0,0,0,1088,0,0,0,1090,0,0,0,1092,0,0,0,1094,0,0,0,1096,0,0,0,1098,0,0,0,1100,0,0,0,1102,0,0,0,1104,0,0,0,1106,0,0,0,1108,0,0,0,1110,0,0,0,1112,0,0,0,1114,0,0,0,1116,0,0,0,1118,0,0,0,1120,0,0,0,1122,0,0,0,1124,0,0,0,1126,0,0,0,1128,0,0,0,1130,0,0,0,1132,0,0,0,1134,0,0,0,1136,0,0,0,1138,0,0,0,1140,0,0,0,1142,0,0,0,1144,0,0,0,1146,0,0,0,1148,0,0,0,1150,0,0,0,1152,0,0,0,1154,0,0,0,1156,0,0,0,1158,0,0,0,1160,0,0,0,1162,0,0,0,1164,0,0,0,1166,0,0,0,1168,0,0,0,1170,0,0,0,1172,0,0,0,1174,0,0,0,1176,0,0,0,1178,0,0,0,1180,0,0,0,1182,0,0,0,1184,0,0,0,1186,0,0,0,1188,0,0,0,1190,0,0,0,1192,0,0,0,1194,0,0,0,1196,0,0,0,1198,0,0,0,1200,0,0,0,1202,0,0,0,1204,0,0,0,1206,0,0,0,1208,0,0,0,1210,0,0,0,1212,0,0,0,1214,0,0,0,1216,0,0,0,1218,0,0,0,1220,0,0,0,1222,0,0,0,1224,0,0,0,1226,0,0,0,1228,0,0,0,1230,0,0,0,1232,0,0,0,1234,0,0,0,1236,0,0,0,1238,0,0,0,1240,0,0,0,1242,0,0,0,1244,0,0,0,1246,0,0,0,1248,0,0,0,1250,0,0,0,1252,0,0,0,1254,0,0,0,1256,0,0,0,1258,0,0,0,1260,0,0,0,1262,0,0,0,1264,0,0,0,1266,0,0,0,1268,0,0,0,1270,0,0,0,1272,0,0,0,1274,0,0,0,1276,0,0,0,1278,0,0,0,1280,0,0,0,1282,0,0,0,1284,0,0,0,1286,0,0,0,1288,0,0,0,1290,0,0,0,1292,0,0,0,1294,0,0,0,1296,0,0,0,1298,0,0,0,1300,0,0,0,1302,0,0,0,1304,0,0,0,1306,0,0,0,1308,0,0,0,1310,0,0,0,1312,0,0,0,1314,0,0,0,1316,0,0,0,1318,0,0,0,1320,0,0,0,1322,0,0,0,1324,0,0,0,1326,0,0,0,1328,0,0,0,1330,0,0,0,1332,0,0,0,1334,0,0,0,1336,0,0,0,1338,0,0,0,1340,0,0,0,1342,0,0,0,1344,0,0,0,1346,0,0,0,1348,0,0,0,1350,0,0,0,1352,0,0,0,1354,0,0,0,1356,0,0,0,1358,0,0,0,1360,0,0,0,1362,0,0,0,1364,0,0,0,1366,0,0,0,1368,0,0,0,1370,0,0,0,1372,0,0,0,1374,0,0,0,1376,0,0,0,1378,0,0,0,1380,0,0,0,1382,0,0,0,1384,0,0,0,1386,0,0,0,1388,0,0,0,1390,0,0,0,1392,0,0,0,1394,0,0,0,1396,0,0,0,1398,0,0,0,1400,0,0,0,1402,0,0,0,1404,0,0,0,1406,0,0,0,1408,0,0,0,1410,0,0,0,1412,0,0,0,1414,0,0,0,1416,0,0,0,1418,0,0,0,1420,0,0,0,1422,0,0,0,1424,0,0,0,1426,0,0,0,1428,0,0,0,1430,0,0,0,1432,0,0,0,1434,0,0,0,1436,0,0,0,1438,0,0,0,1440,0,0,0,1442,0,0,0,1444,0,0,0,1446,0,0,0,1448,0,0,0,1450,0,0,0,1452,0,0,0,1454,0,0,0,1456,0,0,0,1458,0,0,0,1460,0,0,0,1462,0,0,0,1464,0,0,0,1466,0,0,0,1468,0,0,0,1470,0,0,0,1472,0,0,0,1474,0,0,0,1476,0,0,0,1478,0,0,0,1480,0,0,0,1482,0,0,0,1484,0,0,0,1486,0,0,0,1488,0,0,0,1490,0,0,0,1492,0,0,0,1494,0,0,0,1496,0,0,0,1498,0,0,0,1500,0,0,0,1502,0,0,0,1504,0,0,0,1506,0,0,0,1508,0,0,0,1510,0,0,0,1512,0,0,0,1514,0,0,0,1516,0,0,0,1518,0,0,0,1520,0,0,0,1522,0,0,0,1524,0,0,0,1526,0,0,0,1528,0,0,0,1530,0,0,0,1532,0,0,0,1534,0,0,0,1536,0,0,0,1538,0,0,0,1540,0,0,0,1542,0,0,0,1544,0,0,0,1546,0,0,0,1548,0,0,0,1550,0,0,0,1552,0,0,0,1554,0,0,0,1556,0,0,0,1558,0,0,0,1560,0,0,0,1562,0,0,0,1564,0,0,0,1566,0,0,0,1568,0,0,0,1570,0,0,0,1572,0,0,0,1574,0,0,0,1576,0,0,0,1578,0,0,0,1580,0,0,0,1582,0,0,0,1584,0,0,0,1586,0,0,0,1588,0,0,0,1590,0,0,0,1592,0,0,0,1594,0,0,0,1596,0,0,0,1598,0,0,0,1600,0,0,0,1602,0,0,0,1604,0,0,0,1606,0,0,0,1608,0,0,0,1610,0,0,0,1612,0,0,0,1614,0,0,0,1616,0,0,0,1618,0,0,0,1620,0,0,0,1622,0,0,0,1624,0,0,0,1626,0,0,0,1628,0,0,0,1630,0,0,0,1632,0,0,0,1634,0,0,0,1636,0,0,0,1638,0,0,0,1640,0,0,0,1642,0,0,0,1644,0,0,0,1646,0,0,0,1648,0,0,0,1650,0,0,0,1652,0,0,0,1654,0,0,0,1656,0,0,0,1658,0,0,0,1660,0,0,0,1662,0,0,0,1664,0,0,0,1666,0,0,0,1668,0,0,0,1670,0,0,0,1672,0,0,0,1674,0,0,0,1676,0,0,0,1678,0,0,0,1680,0,0,0,1682,0,0,0,1684,0,0,0,1686,0,0,0,1688,0,0,0,1690,0,0,0,1692,0,0,0,1694,0,0,0,1696,0,0,0,1698,0,0,0,1700,0,0,0,1702,0,0,0,1704,0,0,0,1706,0,0,0,1708,0,0,0,1710,0,0,0,1712,0,0,0,1714,0,0,0,1716,0,0,0,1718,0,0,0,1720,0,0,0,1722,0,0,0,1724,0,0,0,1726,0,0,0,1728,0,0,0,1730,0,0,0,1732,0,0,0,1734,0,0,0,1736,0,0,0,1738,0,0,0,1740,0,0,0,1742,0,0,0,1744,0,0,0,1746,0,0,0,1748,0,0,0,1750,0,0,0,1752,0,0,0,1754,0,0,0,1756,0,0,0,1758,0,0,0,1760,0,0,0,1762,0,0,0,1764,0,0,0,1766,0,0,0,1768,0,0,0,1770,0,0,0,1772,0,0,0,1774,0,0,0,1776,0,0,0,1778,0,0,0,1780,0,0,0,1782,0,0,0,1784,0,0,0,1786,0,0,0,1788,0,0,0,1790,0,0,0,1792,0,0,0,1794,0,0,0,1796,0,0,0,1798,0,0,0,1800,0,0,0,1802,0,0,0,1804,0,0,0,1806,0,0,0,1808,0,0,0,1810,0,0,0,1812,0,0,0,1814,0,0,0,1816,0,0,0,1818,0,0,0,1820,0,0,0,1822,0,0,0,1824,0,0,0,1826,0,0,0,1828,0,0,0,1830,0,0,0,1832,0,0,0,1834,0,0,0,1836,0,0,0,1838,0,0,0,1840,0,0,0,1842,0,0,0,1844,0,0,0,1846,0,0,0,1848,0,0,0,1850,0,0,0,1852,0,0,0,1854,0,0,0,1856,0,0,0,1858,0,0,0,1860,0,0,0,1862,0,0,0,1864,0,0,0,1866,0,0,0,1868,0,0,0,1870,0,0,0,1872,0,0,0,1874,0,0,0,1876,0,0,0,1878,0,0,0,1880,0,0,0,1882,0,0,0,1884,0,0,0,1886,0,0,0,1888,0,0,0,1890,0,0,0,1892,0,0,0,1894,0,0,0,1896,0,0,0,1898,0,0,0,1900,0,0,0,1902,0,0,0,1904,0,0,0,1906,0,0,0,1908,0,0,0,1910,0,0,0,1912,0,0,0,1914,0,0,0,1916,0,0,0,1918,0,0,0,1920,0,0,0,1922,0,0,0,1924,0,0,0,1926,0,0,0,1928,0,0,0,1930,0,0,0,1932,0,0,0,1934,0,0,0,1936,0,0,0,1938,0,0,0,1940,0,0,0,1942,0,0,0,1944,0,0,0,1946,0,0,0,1948,0,0,0,1950,0,0,0,1952,0,0,0,1954,0,0,0,1956,0,0,0,1958,0,0,0,1960,0,0,0,1962,0,0,0,1964,0,0,0,1966,0,0,0,1968,0,0,0,1970,0,0,0,1972,0,0,0,1974,0,0,0,1976,0,0,0,1978,0,0,0,1980,0,0,0,1982,0,0,0,1984,0,0,0,1986,0,0,0,1988,0,0,0,1990,0,0,0,1992,0,0,0,1994,0,0,0,1996,0,0,0,1998,0,0,0,2e3,0,0,0,2002,0,0,0,2004,0,0,0,2006,0,0,0,2008,0,0,0,2010,0,0,0,2012,0,0,0,2014,0,0,0,2016,0,0,0,2018,0,0,0,2020,0,0,0,2022,0,0,0,2024,0,0,0,2026,0,0,0,2028,0,0,0,2030,0,0,0,2032,0,0,0,2034,0,0,0,2036,0,0,0,2038,0,0,0,2040,0,0,0,2042,0,0,0,2044,0,0,0,2046,0,0,0,2048,0,0,0,2050,0,0,0,2052,0,0,0,2054,0,0,0,2056,0,0,0,2058,0,0,0,2060,0,0,0,2062,0,0,0,2064,0,0,0,2066,0,0,0,2068,0,0,0,2070,0,0,0,2072,0,0,0,2074,0,0,0,2076,0,0,0,2078,0,0,0,2080,0,0,0,2082,0,0,0,2084,0,0,0,2086,0,0,0,2088,0,0,0,2090,0,0,0,2092,0,0,0,2094,0,0,0,2096,0,0,0,2098,0,0,0,2100,0,0,0,2102,0,0,0,2104,0,0,0,2106,0,0,0,2108,0,0,0,2110,0,0,0,2112,0,0,0,2114,0,0,0,2116,0,0,0,2118,0,0,0,2120,0,0,0,2122,0,0,0,2124,0,0,0,2126,0,0,0,2128,0,0,0,2130,0,0,0,2132,0,0,0,2134,0,0,0,2136,0,0,0,2138,0,0,0,2140,0,0,0,2142,0,0,0,2144,0,0,0,2146,0,0,0,2148,0,0,0,2150,0,0,0,2152,0,0,0,2154,0,0,0,2156,0,0,0,2158,0,0,0,2160,0,0,0,2162,0,0,0,2164,0,0,0,2166,0,0,0,2168,0,0,0,2170,0,0,0,2172,0,0,0,2174,0,0,0,2176,0,0,0,2178,0,0,0,2180,0,0,0,2182,0,0,0,2184,0,0,0,2186,0,0,0,2188,0,0,0,2190,0,0,0,2192,0,0,0,2194,0,0,0,2196,0,0,0,2198,0,0,0,2200,0,0,0,2202,0,0,0,2204,0,0,0,2206,0,0,0,2208,0,0,0,2210,0,0,0,2212,0,0,0,2214,0,0,0,2216,0,0,0,2218,0,0,0,2220,0,0,0,2222,0,0,0,2224,0,0,0,2226,0,0,0,2228,0,0,0,2230,0,0,0,2232,0,0,0,2234,0,0,0,2236,0,0,0,2238,0,0,0,2240,0,0,0,2242,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),N.Vc=y([78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,115,104,105,109,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),zU=y(12,"i8",w),N.Xc=y([78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),AU=y(12,"i8",w),N.ed=y([78,83,116,51,95,95,49,57,110,117,108,108,112,116,114,95,116,69,0],"i8",w),BU=y(8,"i8",w),N.Zc=y([78,49,48,95,95,99,120,120,97,98,105,118,49,49,57,95,95,112,111,105,110,116,101,114,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),N.Yc=y([78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,112,98,97,115,101,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),CU=y(12,"i8",w),DU=y(12,"i8",w),EU=y([0,0,0,0,0,0,0,0,2244,0,0,0,2246,0,0,0,150,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),gT=y([0,0,0,0,0,0,0,0,2244,0,0,0,2248,0,0,0,2250,0,0,0,2252,0,0,0,2254,0,0,0,2256,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),FU=y([0,0,0,0,0,0,0,0,2244,0,0,0,2258,0,0,0,2260,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),GU=y([0,0,0,0,0,0,0,0,2244,0,0,0,2262,0,0,0,2264,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.cd=y([78,49,48,95,95,99,120,120,97,98,105,118,49,50,51,95,95,102,117,110,100,97,109,101,110,116,97,108,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),HU=y(12,"i8",w),N.ie=y([118,0],"i8",w),IU=y(8,"i8",w),N.Qd=y([80,118,0],"i8",w),JU=y(16,"i8",w),N.zd=y([80,75,118,0],"i8",w),KU=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.Sc=y([68,110,0],"i8",w),LU=y(8,"i8",w),N.gd=y([80,68,110,0],"i8",w),MU=y(16,"i8",w),N.kd=y([80,75,68,110,0],"i8",w),NU=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.Xd=y([98,0],"i8",w),OU=y(8,"i8",w),N.Ed=y([80,98,0],"i8",w),PU=y(16,"i8",w),N.nd=y([80,75,98,0],"i8",w),QU=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.je=y([119,0],"i8",w),RU=y(8,"i8",w),N.Rd=y([80,119,0],"i8",w),SU=y(16,"i8",w),N.Ad=y([80,75,119,0],"i8",w),TU=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.Yd=y([99,0],"i8",w),UU=y(8,"i8",w),N.Fd=y([80,99,0],"i8",w),VU=y(16,"i8",w),N.od=y([80,75,99,0],"i8",w),WU=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.be=y([104,0],"i8",w),XU=y(8,"i8",w),N.Jd=y([80,104,0],"i8",w),YU=y(16,"i8",w),N.sd=y([80,75,104,0],"i8",w),ZU=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.Wd=y([97,0],"i8",w),$U=y(8,"i8",w),N.Dd=y([80,97,0],"i8",w),aV=y(16,"i8",w),N.md=y([80,75,97,0],"i8",w),bV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.ge=y([115,0],"i8",w),cV=y(8,"i8",w),N.Od=y([80,115,0],"i8",w),dV=y(16,"i8",w),N.xd=y([80,75,115,0],"i8",w),eV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.he=y([116,0],"i8",w),fV=y(8,"i8",w),N.Pd=y([80,116,0],"i8",w),gV=y(16,"i8",w),N.yd=y([80,75,116,0],"i8",w),hV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.ce=y([105,0],"i8",w),iV=y(8,"i8",w),N.Kd=y([80,105,0],"i8",w),jV=y(16,"i8",w),N.td=y([80,75,105,0],"i8",w),kV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.de=y([106,0],"i8",w),lV=y(8,"i8",w),N.Ld=y([80,106,0],"i8",w),mV=y(16,"i8",w),N.ud=y([80,75,106,0],"i8",w),nV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.ee=y([108,0],"i8",w),oV=y(8,"i8",w),N.Md=y([80,108,0],"i8",w),pV=y(16,"i8",w),N.vd=y([80,75,108,0],"i8",w),qV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.fe=y([109,0],"i8",w),rV=y(8,"i8",w),N.Nd=y([80,109,0],"i8",w),sV=y(16,"i8",w),N.wd=y([80,75,109,0],"i8",w),tV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.ke=y([120,0],"i8",w),uV=y(8,"i8",w),N.Sd=y([80,120,0],"i8",w),vV=y(16,"i8",w),N.Bd=y([80,75,120,0],"i8",w),wV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.le=y([121,0],"i8",w),xV=y(8,"i8",w),N.Td=y([80,121,0],"i8",w),yV=y(16,"i8",w),N.Cd=y([80,75,121,0],"i8",w),zV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.ae=y([102,0],"i8",w),AV=y(8,"i8",w),N.Id=y([80,102,0],"i8",w),BV=y(16,"i8",w),N.rd=y([80,75,102,0],"i8",w),CV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.Zd=y([100,0],"i8",w),DV=y(8,"i8",w),N.Gd=y([80,100,0],"i8",w),EV=y(16,"i8",w),N.pd=y([80,75,100,0],"i8",w),FV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.$d=y([101,0],"i8",w),GV=y(8,"i8",w),N.Hd=y([80,101,0],"i8",w),HV=y(16,"i8",w),N.qd=y([80,75,101,0],"i8",w),IV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.Tc=y([68,115,0],"i8",w),JV=y(8,"i8",w),N.hd=y([80,68,115,0],"i8",w),KV=y(16,"i8",w),N.ld=y([80,75,68,115,0],"i8",w),LV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),N.Rc=y([68,105,0],"i8",w),MV=y(8,"i8",w),N.fd=y([80,68,105,0],"i8",w),NV=y(16,"i8",w),N.jd=y([80,75,68,105,0],"i8",w),OV=y([0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0],["*",0,0,0,"*",0,0,0,"i32",0,0,0,"*",0,0,0],w),PV=y([0,0,0,0,0,0,0,0,2244,0,0,0,2266,0,0,0,2268,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Wc=y([78,49,48,95,95,99,120,120,97,98,105,118,49,49,55,95,95,97,114,114,97,121,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),QV=y(12,"i8",w),RV=y([0,0,0,0,0,0,0,0,2244,0,0,0,2270,0,0,0,2272,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.$c=y([78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,102,117,110,99,116,105,111,110,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),SV=y(12,"i8",w),TV=y([0,0,0,0,0,0,0,0,2244,0,0,0,2274,0,0,0,2276,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Uc=y([78,49,48,95,95,99,120,120,97,98,105,118,49,49,54,95,95,101,110,117,109,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),UV=y(12,"i8",w),hT=y([0,0,0,0,0,0,0,0,2244,0,0,0,2278,0,0,0,2250,0,0,0,2280,0,0,0,2282,0,0,0,2284,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.ad=y([78,49,48,95,95,99,120,120,97,98,105,118,49,50,48,95,95,115,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),VV=y(12,"i8",w),WV=y([0,0,0,0,0,0,0,0,2244,0,0,0,2286,0,0,0,2250,0,0,0,2288,0,0,0,2290,0,0,0,2292,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.bd=y([78,49,48,95,95,99,120,120,97,98,105,118,49,50,49,95,95,118,109,105,95,99,108,97,115,115,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),XV=y(12,"i8",w),fT=y([0,0,0,0,0,0,0,0,2244,0,0,0,2294,0,0,0,2296,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),YV=y([0,0,0,0,0,0,0,0,2244,0,0,0,2298,0,0,0,2260,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.dd=y([78,49,48,95,95,99,120,120,97,98,105,118,49,50,57,95,95,112,111,105,110,116,101,114,95,116,111,95,109,101,109,98,101,114,95,116,121,112,101,95,105,110,102,111,69,0],"i8",w),ZV=y(12,"i8",w),R=y(468,"i8",w),YS=y(24,"i8",w),N.ki=y([109,97,120,32,115,121,115,116,101,109,32,98,121,116,101,115,32,61,32,37,49,48,108,117,10,0],"i8",w),N.hi=y([115,121,115,116,101,109,32,98,121,116,101,115,32,32,32,32,32,61,32,37,49,48,108,117,10,0],"i8",w),N.ji=y([105,110,32,117,115,101,32,98,121,116,101,115,32,32,32,32,32,61,32,37,49,48,108,117,10,0],"i8",w),y(1,"i8",w),bT=y(4,"i8",w),cT=y([0,0,0,0,0,0,0,0,32,0,0,0,2300,0,0,0,2302,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.eh=y([115,116,100,58,58,98,97,100,95,97,108,108,111,99,0],"i8",w),$V=y([0,0,0,0,0,0,0,0,32,0,0,0,2304,0,0,0,2306,0,0,0],["*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0,"*",0,0,0],w),y(1,"i8",w),N.Ff=y([98,97,100,95,97,114,114,97,121,95,110,101,119,95,108,101,110,103,116,104,0],"i8",w),N.Vd=y([83,116,57,98,97,100,95,97,108,108,111,99,0],"i8",w),dT=y(12,"i8",w),N.Ud=y([83,116,50,48,98,97,100,95,97,114,114,97,121,95,110,101,119,95,108,101,110,103,116,104,0],"i8",w),aW=y(12,"i8",w),l[dJ+4>>2]=OT,l[NT>>2]=gT+8|0,l[NT+4>>2]=N.Pc|0,l[OT>>2]=hT+8|0,l[OT+4>>2]=N.rc|0,l[OT+8>>2]=NT,l[Mz+4>>2]=PT,l[PT>>2]=hT+8|0,l[PT+4>>2]=N.uc|0,l[PT+8>>2]=NT,l[NK+4>>2]=QT,l[QT>>2]=hT+8|0,l[QT+4>>2]=N.nc|0,l[QT+8>>2]=NT,l[EK+4>>2]=RT,l[RT>>2]=hT+8|0,l[RT+4>>2]=N.wc|0,l[RT+8>>2]=NT,l[hA+4>>2]=ST,l[ST>>2]=gT+8|0,l[ST+4>>2]=N.Nc|0,l[Ap>>2]=UT+8|0,l[Bp>>2]=UI+8|0,l[UI+4>>2]=TT,l[TT>>2]=gT+8|0,l[TT+4>>2]=N.Fc|0,l[UT+4>>2]=VT,l[VT>>2]=gT+8|0,l[VT+4>>2]=N.yc|0,l[WT+4>>2]=YT,l[XT>>2]=gT+8|0,l[XT+4>>2]=N.Qc|0,l[YT>>2]=hT+8|0,l[YT+4>>2]=N.Jc|0,l[YT+8>>2]=XT,l[ZT+4>>2]=$T,l[$T>>2]=hT+8|0,l[$T+4>>2]=N.Lc|0,l[$T+8>>2]=XT,l[aU+4>>2]=bU,l[bU>>2]=hT+8|0,l[bU+4>>2]=N.xc|0,l[bU+8>>2]=XT,l[cU+4>>2]=XT,l[dU+4>>2]=eU,l[eU>>2]=hT+8|0,l[eU+4>>2]=N.Ic|0,l[eU+8>>2]=XT,l[fU+4>>2]=gU,l[gU>>2]=hT+8|0,l[gU+4>>2]=N.Kc|0,l[gU+8>>2]=XT,l[hU+4>>2]=iU,l[iU>>2]=hT+8|0,l[iU+4>>2]=N.Mc|0,l[iU+8>>2]=XT,l[jU+4>>2]=kU,l[kU>>2]=hT+8|0,l[kU+4>>2]=N.Dc|0,l[kU+8>>2]=XT,l[Hp+4>>2]=mU,l[lU>>2]=gT+8|0,l[lU+4>>2]=N.Oc|0,l[mU>>2]=hT+8|0,l[mU+4>>2]=N.zc|0,l[mU+8>>2]=lU,l[Pp+4>>2]=nU,l[nU>>2]=hT+8|0,l[nU+4>>2]=N.Ac|0,l[nU+8>>2]=lU,l[eq+4>>2]=oU,l[oU>>2]=hT+8|0,l[oU+4>>2]=N.oc|0,l[oU+8>>2]=lU,l[Gp+4>>2]=lU,l[fq+4>>2]=pU,l[pU>>2]=hT+8|0,l[pU+4>>2]=N.sc|0,l[pU+8>>2]=lU,l[gq+4>>2]=qU,l[qU>>2]=hT+8|0,l[qU+4>>2]=N.Ec|0,l[qU+8>>2]=lU,l[iq+4>>2]=rU,l[rU>>2]=hT+8|0,l[rU+4>>2]=N.vc|0,l[rU+8>>2]=lU,l[Kp+4>>2]=sU,l[sU>>2]=hT+8|0,l[sU+4>>2]=N.Cc|0,l[sU+8>>2]=lU,l[Qp+4>>2]=tU,l[tU>>2]=hT+8|0,l[tU+4>>2]=N.pc|0,l[tU+8>>2]=lU,l[Op+4>>2]=uU,l[uU>>2]=hT+8|0,l[uU+4>>2]=N.qc|0,l[uU+8>>2]=lU,l[jq+4>>2]=vU,l[vU>>2]=hT+8|0,l[vU+4>>2]=N.tc|0,l[vU+8>>2]=lU,l[BN+4>>2]=wU,l[wU>>2]=gT+8|0,l[wU+4>>2]=N.Hc|0,l[mJ+4>>2]=xU,l[xU>>2]=gT+8|0,l[xU+4>>2]=N.Bc|0,l[HH+4>>2]=yU,l[yU>>2]=gT+8|0,l[yU+4>>2]=N.Gc|0,l[zU>>2]=hT+8|0,l[zU+4>>2]=N.Vc|0,l[zU+8>>2]=Ia,l[AU>>2]=hT+8|0,l[AU+4>>2]=N.Xc|0,l[AU+8>>2]=zU,l[BU>>2]=gT+8|0,l[BU+4>>2]=N.ed|0,l[CU>>2]=hT+8|0,l[CU+4>>2]=N.Yc|0,l[CU+8>>2]=zU,l[DU>>2]=hT+8|0,l[DU+4>>2]=N.Zc|0,l[DU+8>>2]=CU,l[EU+4>>2]=zU,l[gT+4>>2]=AU,l[FU+4>>2]=CU,l[GU+4>>2]=HU,l[HU>>2]=hT+8|0,l[HU+4>>2]=N.cd|0,l[HU+8>>2]=zU,l[IU>>2]=GU+8|0,l[IU+4>>2]=N.ie|0,l[JU>>2]=fT+8|0,l[JU+4>>2]=N.Qd|0,l[JU+12>>2]=IU,l[KU>>2]=fT+8|0,l[KU+4>>2]=N.zd|0,l[KU+12>>2]=IU,l[LU>>2]=GU+8|0,l[LU+4>>2]=N.Sc|0,l[MU>>2]=fT+8|0,l[MU+4>>2]=N.gd|0,l[MU+12>>2]=LU,l[NU>>2]=fT+8|0,l[NU+4>>2]=N.kd|0,l[NU+12>>2]=LU,l[OU>>2]=GU+8|0,l[OU+4>>2]=N.Xd|0,l[PU>>2]=fT+8|0,l[PU+4>>2]=N.Ed|0,l[PU+12>>2]=OU,l[QU>>2]=fT+8|0,l[QU+4>>2]=N.nd|0,l[QU+12>>2]=OU,l[RU>>2]=GU+8|0,l[RU+4>>2]=N.je|0,l[SU>>2]=fT+8|0,l[SU+4>>2]=N.Rd|0,l[SU+12>>2]=RU,l[TU>>2]=fT+8|0,l[TU+4>>2]=N.Ad|0,l[TU+12>>2]=RU,l[UU>>2]=GU+8|0,l[UU+4>>2]=N.Yd|0,l[VU>>2]=fT+8|0,l[VU+4>>2]=N.Fd|0,l[VU+12>>2]=UU,l[WU>>2]=fT+8|0,l[WU+4>>2]=N.od|0,l[WU+12>>2]=UU,l[XU>>2]=GU+8|0,l[XU+4>>2]=N.be|0,l[YU>>2]=fT+8|0,l[YU+4>>2]=N.Jd|0,l[YU+12>>2]=XU,l[ZU>>2]=fT+8|0,l[ZU+4>>2]=N.sd|0,l[ZU+12>>2]=XU,l[$U>>2]=GU+8|0,l[$U+4>>2]=N.Wd|0,l[aV>>2]=fT+8|0,l[aV+4>>2]=N.Dd|0,l[aV+12>>2]=$U,l[bV>>2]=fT+8|0,l[bV+4>>2]=N.md|0,l[bV+12>>2]=$U,l[cV>>2]=GU+8|0,l[cV+4>>2]=N.ge|0,l[dV>>2]=fT+8|0,l[dV+4>>2]=N.Od|0,l[dV+12>>2]=cV,l[eV>>2]=fT+8|0,l[eV+4>>2]=N.xd|0,l[eV+12>>2]=cV,l[fV>>2]=GU+8|0,l[fV+4>>2]=N.he|0,l[gV>>2]=fT+8|0,l[gV+4>>2]=N.Pd|0,l[gV+12>>2]=fV,l[hV>>2]=fT+8|0,l[hV+4>>2]=N.yd|0,l[hV+12>>2]=fV,l[iV>>2]=GU+8|0,l[iV+4>>2]=N.ce|0,l[jV>>2]=fT+8|0,l[jV+4>>2]=N.Kd|0,l[jV+12>>2]=iV,l[kV>>2]=fT+8|0,l[kV+4>>2]=N.td|0,l[kV+12>>2]=iV,l[lV>>2]=GU+8|0,l[lV+4>>2]=N.de|0,l[mV>>2]=fT+8|0,l[mV+4>>2]=N.Ld|0,l[mV+12>>2]=lV,l[nV>>2]=fT+8|0,l[nV+4>>2]=N.ud|0,l[nV+12>>2]=lV,l[oV>>2]=GU+8|0,l[oV+4>>2]=N.ee|0,l[pV>>2]=fT+8|0,l[pV+4>>2]=N.Md|0,l[pV+12>>2]=oV,l[qV>>2]=fT+8|0,l[qV+4>>2]=N.vd|0,l[qV+12>>2]=oV,l[rV>>2]=GU+8|0,l[rV+4>>2]=N.fe|0,l[sV>>2]=fT+8|0,l[sV+4>>2]=N.Nd|0,l[sV+12>>2]=rV,l[tV>>2]=fT+8|0,l[tV+4>>2]=N.wd|0,l[tV+12>>2]=rV,l[uV>>2]=GU+8|0,l[uV+4>>2]=N.ke|0,l[vV>>2]=fT+8|0,l[vV+4>>2]=N.Sd|0,l[vV+12>>2]=uV,l[wV>>2]=fT+8|0,l[wV+4>>2]=N.Bd|0,l[wV+12>>2]=uV,l[xV>>2]=GU+8|0,l[xV+4>>2]=N.le|0,l[yV>>2]=fT+8|0,l[yV+4>>2]=N.Td|0,l[yV+12>>2]=xV,l[zV>>2]=fT+8|0,l[zV+4>>2]=N.Cd|0,l[zV+12>>2]=xV,l[AV>>2]=GU+8|0,l[AV+4>>2]=N.ae|0,l[BV>>2]=fT+8|0,l[BV+4>>2]=N.Id|0,l[BV+12>>2]=AV,l[CV>>2]=fT+8|0,l[CV+4>>2]=N.rd|0,l[CV+12>>2]=AV,l[DV>>2]=GU+8|0,l[DV+4>>2]=N.Zd|0,l[EV>>2]=fT+8|0,l[EV+4>>2]=N.Gd|0,l[EV+12>>2]=DV,l[FV>>2]=fT+8|0,l[FV+4>>2]=N.pd|0,l[FV+12>>2]=DV,l[GV>>2]=GU+8|0,l[GV+4>>2]=N.$d|0,l[HV>>2]=fT+8|0,l[HV+4>>2]=N.Hd|0,l[HV+12>>2]=GV,l[IV>>2]=fT+8|0,l[IV+4>>2]=N.qd|0,l[IV+12>>2]=GV,l[JV>>2]=GU+8|0,l[JV+4>>2]=N.Tc|0,l[KV>>2]=fT+8|0,l[KV+4>>2]=N.hd|0,l[KV+12>>2]=JV,l[LV>>2]=fT+8|0,l[LV+4>>2]=N.ld|0,l[LV+12>>2]=JV,l[MV>>2]=GU+8|0,l[MV+4>>2]=N.Rc|0,l[NV>>2]=fT+8|0,l[NV+4>>2]=N.fd|0,l[NV+12>>2]=MV,l[OV>>2]=fT+8|0,l[OV+4>>2]=N.jd|0,l[OV+12>>2]=MV,l[PV+4>>2]=QV,l[QV>>2]=hT+8|0,l[QV+4>>2]=N.Wc|0,l[QV+8>>2]=zU,l[RV+4>>2]=SV,l[SV>>2]=hT+8|0,l[SV+4>>2]=N.$c|0,l[SV+8>>2]=zU,l[TV+4>>2]=UV,l[UV>>2]=hT+8|0,l[UV+4>>2]=N.Uc|0,l[UV+8>>2]=zU,l[hT+4>>2]=VV,l[VV>>2]=hT+8|0,l[VV+4>>2]=N.ad|0,l[VV+8>>2]=AU,l[WV+4>>2]=XV,l[XV>>2]=hT+8|0,l[XV+4>>2]=N.bd|0,l[XV+8>>2]=AU,l[fT+4>>2]=DU,l[YV+4>>2]=ZV,l[ZV>>2]=hT+8|0,l[ZV+4>>2]=N.dd|0,l[ZV+8>>2]=CU,l[cT+4>>2]=dT,l[$V+4>>2]=aW,l[dT>>2]=hT+8|0,l[dT+4>>2]=N.Vd|0,l[dT+8>>2]=Ia,l[aW>>2]=hT+8|0,l[aW+4>>2]=N.Ud|0,l[aW+8>>2]=dT,K=[0,0,function(e,t){var n=l[e>>2],r=l[t>>2];return(n|0)<(r|0)?1:(n|0)!=(r|0)?0:(l[e+4>>2]|0)<(l[t+4>>2]|0)},0,function(e,t,n,r,i){t=vm(i,144),r=t>>2;if(0==(t|0))e=0;else{l[t>>2]=cU+8|0,l[r+1]=4,l[r+12]=e,i=t+52|0,l[i>>2]=n,l[r+14]=0,l[r+15]=0,l[r+31]=0,l[r+32]=0;for(var s=(t+8|0)>>2,o=s+10;s<o;s++)l[s]=0;s=dg(p[(e+16|0)>>2]*p[n+16>>2]),p[r+34]=s,s=p[e+20>>2],o=p[n+20>>2],p[r+35]=s>o?s:o,l[t>>2]=aU+8|0,0==(l[l[e+12>>2]+4>>2]|0)?e=n:(O(N.wa|0,44,N.ga|0,N.Eb|0),e=l[i>>2]),0!=(l[l[e+12>>2]+4>>2]|0)&&O(N.wa|0,45,N.ga|0,N.I|0),e=t}return e|0},0,function(e,t){K[l[l[e>>2]+4>>2]](e);var n=Ic[wm+144|0],r=n&255;14>(n&255)||O(N.e|0,173,N.f|0,N.g|0),n=(r<<2)+t+12|0,l[e>>2]=l[n>>2],l[n>>2]=e},0,function(e,t,n,r,i){t=vm(i,144),r=t>>2;if(0==(t|0))e=0;else{l[t>>2]=cU+8|0,l[r+1]=4,l[r+12]=e,i=t+52|0,l[i>>2]=n,l[r+14]=0,l[r+15]=0,l[r+31]=0,l[r+32]=0;for(var s=(t+8|0)>>2,o=s+10;s<o;s++)l[s]=0;s=dg(p[(e+16|0)>>2]*p[n+16>>2]),p[r+34]=s,s=p[e+20>>2],o=p[n+20>>2],p[r+35]=s>o?s:o,l[t>>2]=hU+8|0,2==(l[l[e+12>>2]+4>>2]|0)?e=n:(O(N.za|0,41,N.ma|0,N.ta|0),e=l[i>>2]),0!=(l[l[e+12>>2]+4>>2]|0)&&O(N.za|0,42,N.ma|0,N.I|0),e=t}return e|0},0,function(e,t){K[l[l[e>>2]+4>>2]](e);var n=Ic[wm+144|0],r=n&255;14>(n&255)||O(N.e|0,173,N.f|0,N.g|0),n=(r<<2)+t+12|0,l[e>>2]=l[n>>2],l[n>>2]=e},0,function(e,t,n,r,i){t=vm(i,144),r=t>>2;if(0==(t|0))e=0;else{l[t>>2]=cU+8|0,l[r+1]=4,l[r+12]=e,i=t+52|0,l[i>>2]=n,l[r+14]=0,l[r+15]=0,l[r+31]=0,l[r+32]=0;for(var s=(t+8|0)>>2,o=s+10;s<o;s++)l[s]=0;s=dg(p[(e+16|0)>>2]*p[n+16>>2]),p[r+34]=s,s=p[e+20>>2],o=p[n+20>>2],p[r+35]=s>o?s:o,l[t>>2]=jU+8|0,2==(l[l[e+12>>2]+4>>2]|0)?e=n:(O(N.Aa|0,44,N.ha|0,N.ta|0),e=l[i>>2]),2!=(l[l[e+12>>2]+4>>2]|0)&&O(N.Aa|0,45,N.ha|0,N.U|0),e=t}return e|0},0,function(e,t){K[l[l[e>>2]+4>>2]](e);var n=Ic[wm+144|0],r=n&255;14>(n&255)||O(N.e|0,173,N.f|0,N.g|0),n=(r<<2)+t+12|0,l[e>>2]=l[n>>2],l[n>>2]=e},0,function(e,t,n,r,i){t=vm(i,144),r=t>>2;if(0==(t|0))e=0;else{l[t>>2]=cU+8|0,l[r+1]=4,l[r+12]=e,i=t+52|0,l[i>>2]=n,l[r+14]=0,l[r+15]=0,l[r+31]=0,l[r+32]=0;for(var s=(t+8|0)>>2,o=s+10;s<o;s++)l[s]=0;s=dg(p[(e+16|0)>>2]*p[n+16>>2]),p[r+34]=s,s=p[e+20>>2],o=p[n+20>>2],p[r+35]=s>o?s:o,l[t>>2]=dU+8|0,1==(l[l[e+12>>2]+4>>2]|0)?e=n:(O(N.xa|0,41,N.ia|0,N.sa|0),e=l[i>>2]),0!=(l[l[e+12>>2]+4>>2]|0)&&O(N.xa|0,42,N.ia|0,N.I|0),e=t}return e|0},0,function(e,t){K[l[l[e>>2]+4>>2]](e);var n=Ic[wm+144|0],r=n&255;14>(n&255)||O(N.e|0,173,N.f|0,N.g|0),n=(r<<2)+t+12|0,l[e>>2]=l[n>>2],l[n>>2]=e},0,function(e,t,n,r,i){t=vm(i,144),r=t>>2;if(0==(t|0))e=0;else{l[t>>2]=cU+8|0,l[r+1]=4,l[r+12]=e,i=t+52|0,l[i>>2]=n,l[r+14]=0,l[r+15]=0,l[r+31]=0,l[r+32]=0;for(var s=(t+8|0)>>2,o=s+10;s<o;s++)l[s]=0;s=dg(p[(e+16|0)>>2]*p[n+16>>2]),p[r+34]=s,s=p[e+20>>2],o=p[n+20>>2],p[r+35]=s>o?s:o,l[t>>2]=fU+8|0,1==(l[l[e+12>>2]+4>>2]|0)?e=n:(O(N.ya|0,41,N.ka|0,N.sa|0),e=l[i>>2]),2!=(l[l[e+12>>2]+4>>2]|0)&&O(N.ya|0,42,N.ka|0,N.U|0),e=t}return e|0},0,function(e,t){K[l[l[e>>2]+4>>2]](e);var n=Ic[wm+144|0],r=n&255;14>(n&255)||O(N.e|0,173,N.f|0,N.g|0),n=(r<<2)+t+12|0,l[e>>2]=l[n>>2],l[n>>2]=e},0,function(e,t,n,r,i){var s,i=vm(i,144);s=i>>2;if(0==(i|0))e=0;else{l[i>>2]=cU+8|0,l[s+1]=4,l[s+12]=e;var o=i+52|0;l[o>>2]=n,l[s+14]=t,l[s+15]=r,l[s+31]=0,l[s+32]=0,t=(i+8|0)>>2;for(r=t+10;t<r;t++)l[t]=0;t=dg(p[(e+16|0)>>2]*p[n+16>>2]),p[s+34]=t,t=p[e+20>>2],r=p[n+20>>2],p[s+35]=t>r?t:r,l[i>>2]=WT+8|0,3==(l[l[e+12>>2]+4>>2]|0)?e=n:(O(N.ua|0,43,N.ja|0,N.ra|0),e=l[o>>2]),0!=(l[l[e+12>>2]+4>>2]|0)&&O(N.ua|0,44,N.ja|0,N.I|0),e=i}return e|0},0,function(e,t){K[l[l[e>>2]+4>>2]](e);var n=Ic[wm+144|0],r=n&255;14>(n&255)||O(N.e|0,173,N.f|0,N.g|0),n=(r<<2)+t+12|0,l[e>>2]=l[n>>2],l[n>>2]=e},0,function(e,t,n,r,i){var s,i=vm(i,144);s=i>>2;if(0==(i|0))e=0;else{l[i>>2]=cU+8|0,l[s+1]=4,l[s+12]=e;var o=i+52|0;l[o>>2]=n,l[s+14]=t,l[s+15]=r,l[s+31]=0,l[s+32]=0,t=(i+8|0)>>2;for(r=t+10;t<r;t++)l[t]=0;t=dg(p[(e+16|0)>>2]*p[n+16>>2]),p[s+34]=t,t=p[e+20>>2],r=p[n+20>>2],p[s+35]=t>r?t:r,l[i>>2]=ZT+8|0,3==(l[l[e+12>>2]+4>>2]|0)?e=n:(O(N.va|0,43,N.la|0,N.ra|0),e=l[o>>2]),2!=(l[l[e+12>>2]+4>>2]|0)&&O(N.va|0,44,N.la|0,N.U|0),e=i}return e|0},0,function(e,t){K[l[l[e>>2]+4>>2]](e);var n=Ic[wm+144|0],r=n&255;14>(n&255)||O(N.e|0,173,N.f|0,N.g|0),n=(r<<2)+t+12|0,l[e>>2]=l[n>>2],l[n>>2]=e},0,function(e){Ia(e|0)},0,function(e){l[e>>2]=dJ+8|0;var t=e+12|0;bg(l[t>>2]),l[t>>2]=0,l[e+16>>2]=0},0,function(e){l[e>>2]=dJ+8|0;var t=e+12|0;bg(l[t>>2]),l[t>>2]=0,l[e+16>>2]=0,$s(e)},0,function(e,t){var n,r=vm(t,40);n=r>>2,0==(r|0)?n=0:(l[n]=dJ+8|0,l[n+1]=3,p[n+2]=.009999999776482582,l[n+3]=0,l[n+4]=0,c[r+36|0]=0,c[r+37|0]=0,n=r);var r=l[e+12>>2],i=l[e+16>>2],s=n+12|0;6==(0==(l[s>>2]|0)?0==(l[n+16>>2]|0)?7:6:6)&&O(N.F|0,48,N.ea|0,N.Ta|0),1<(i|0)||O(N.F|0,49,N.ea|0,N.Sb|0);var o=n+16|0;l[o>>2]=i,i=fe(i<<3),l[s>>2]=i,ag(i,r,l[o>>2]<<3),r=n+36|0,c[r]=0,s=n+37|0,c[s]=0;var o=e+20|0,i=n+20|0,u=l[o+4>>2];return l[i>>2]=l[o>>2],l[i+4>>2]=u,o=e+28|0,i=n+28|0,u=l[o+4>>2],l[i>>2]=l[o>>2],l[i+4>>2]=u,c[r]=c[e+36|0]&1,c[s]=c[e+37|0]&1,n|0},0,function(e){return l[e+16>>2]-1|0},0,Sb(0),0,function(e,t,n,r,s){var o,u=a;a+=48,o=u>>2;var f=e+16|0,c=l[f>>2];(c|0)>(s|0)?f=c:(O(N.F|0,129,N.Se|0,N.Xb|0),f=l[f>>2]),l[o]=NK+8|0,l[o+1]=1,p[o+2]=.009999999776482582,o=u+28|0,l[o>>2]=0,l[o+4>>2]=0,l[o+8>>2]=0,l[o+12>>2]=0,i[o+16>>1]=0,o=s+1|0;var e=l[e+12>>2],s=(s<<3)+e|0,c=u+12|0,h=l[s+4>>2];return l[c>>2]=l[s>>2],l[c+4>>2]=h,f=(((o|0)==(f|0)?0:o)<<3)+e|0,s=u+20|0,e=l[f+4>>2],l[s>>2]=l[f>>2],l[s+4>>2]=e,t=cm(u,t,n,r),a=u,t},0,function(e,t,n,r){var i,o=e+16|0,u=l[o>>2];(u|0)>(r|0)?o=u:(O(N.F|0,148,N.Qe|0,N.Xb|0),o=l[o>>2]),u=r+1|0,u=(u|0)==(o|0)?0:u,i=l[e+12>>2]>>2;var e=p[n+12>>2],a=p[(r<<3>>2)+i],o=p[n+8>>2],f=p[((r<<3)+4>>2)+i],c=p[n>>2],r=e*a-o*f+c,h=p[n+4>>2],n=o*a+e*f+h,a=p[(u<<3>>2)+i];i=p[((u<<3)+4>>2)+i],u=e*a-o*i+c,e=o*a+e*i+h,o=(L[0]=r<u?r:u,s[0]),i=(L[0]=n<e?n:e,s[0])|0,l[t>>2]=0|o,l[t+4>>2]=i,t=t+8|0,r=(L[0]=r>u?r:u,s[0]),n=(L[0]=n>e?n:e,s[0])|0,l[t>>2]=0|r,l[t+4>>2]=n},0,function(e,t){var n;n=t>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r=vm(t,20);0==(r|0)?n=0:(l[r>>2]=Mz+8|0,n=(r+4|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,n=r),l[n+4>>2]=l[e+4>>2],p[n+8>>2]=p[e+8>>2];var r=e+12|0,i=n+12|0,s=l[r+4>>2];return l[i>>2]=l[r>>2],l[i+4>>2]=s,n|0},0,Sb(1),0,function(e,t,n){var r=p[t+12>>2],i=p[e+12>>2],s=p[t+8>>2],o=p[e+16>>2],u=p[n>>2]-(p[t>>2]+(r*i-s*o)),t=p[n+4>>2]-(p[t+4>>2]+s*i+r*o),e=p[e+8>>2];return u*u+t*t<=e*e},0,function(e,t,n,r){var i=n>>2,o=p[r+12>>2],u=p[e+12>>2],a=p[r+8>>2],f=p[e+16>>2],c=p[i],n=c-(p[r>>2]+(o*u-a*f)),h=p[i+1],r=h-(p[r+4>>2]+a*u+o*f),o=p[e+8>>2],e=p[i+2]-c,h=p[i+3]-h,u=n*e+r*h,c=e*e+h*h,o=u*u-c*(n*n+r*r-o*o);return 0>o|1.1920928955078125e-7>c?t=0:(o=dg(o),o=u+o,u=-o,0<o?t=0:p[i+4]*c<u?t=0:(i=u/c,p[t+8>>2]=i,n+=e*i,i=r+h*i,r=(L[0]=n,s[0]),e=(L[0]=i,s[0])|0,l[t>>2]=0|r,l[t+4>>2]=e,r=dg(n*n+i*i),1.1920928955078125e-7>r||(r=1/r,p[t>>2]=n*r,p[(t+4|0)>>2]=i*r),t=1)),t},0,function(e,t,n){var r=p[n+12>>2],i=p[e+12>>2],s=p[n+8>>2],o=p[e+16>>2],u=p[n>>2]+(r*i-s*o),n=p[n+4>>2]+s*i+r*o,e=e+8|0,r=p[e>>2];p[t>>2]=u-r,p[t+4>>2]=n-r,e=p[e>>2],p[t+8>>2]=u+e,p[t+12>>2]=n+e},0,function(e,t,n){var r=e+8|0,i=p[r>>2],n=3.1415927410125732*n*i*i;p[t>>2]=n;var i=e+12|0,s=t+4|0,o=l[i+4>>2];l[s>>2]=l[i>>2],l[s+4>>2]=o,r=p[r>>2],i=p[i>>2],e=p[e+16>>2],p[t+12>>2]=n*(.5*r*r+i*i+e*e)},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r=vm(t,48);n=r>>2,0==(r|0)?r=0:(l[n]=NK+8|0,l[n+1]=1,p[n+2]=.009999999776482582,n=r+28|0,l[n>>2]=0,l[n+4>>2]=0,l[n+8>>2]=0,l[n+12>>2]=0,i[n+16>>1]=0),l[r+4>>2]=l[e+4>>2],p[r+8>>2]=p[e+8>>2],n=e+12|0;var s=r+12|0,o=l[n+4>>2];return l[s>>2]=l[n>>2],l[s+4>>2]=o,n=e+20|0,s=r+20|0,o=l[n+4>>2],l[s>>2]=l[n>>2],l[s+4>>2]=o,n=e+28|0,s=r+28|0,o=l[n+4>>2],l[s>>2]=l[n>>2],l[s+4>>2]=o,n=e+36|0,s=r+36|0,o=l[n+4>>2],l[s>>2]=l[n>>2],l[s+4>>2]=o,c[r+44|0]=c[e+44|0]&1,c[r+45|0]=c[e+45|0]&1,r|0},0,Sb(1),0,Sb(0),0,cm,0,function(e,t,n){var r=e>>2,i=p[n+12>>2],o=p[r+3],u=p[n+8>>2],a=p[r+4],f=p[n>>2],e=i*o-u*a+f,c=p[n+4>>2],n=u*o+i*a+c,o=p[r+5],a=p[r+6],f=i*o-u*a+f,i=u*o+i*a+c,r=p[r+2],u=(L[0]=(e<f?e:f)-r,s[0]),c=(L[0]=(n<i?n:i)-r,s[0])|0;l[t>>2]=0|u,l[t+4>>2]=c,n=(n>i?n:i)+r,t=t+8|0,e=(L[0]=(e>f?e:f)+r,s[0]),f=(L[0]=n,s[0])|0,l[t>>2]=0|e,l[t+4>>2]=f},0,function(e,t){p[t>>2]=0;var n=.5*(p[e+16>>2]+p[e+24>>2]),r=t+4|0,i=(L[0]=.5*(p[e+12>>2]+p[e+20>>2]),s[0]),n=(L[0]=n,s[0])|0;l[r>>2]=0|i,l[r+4>>2]=n,p[t+12>>2]=0},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r=vm(t,152);n=r>>2,0==(r|0)?r=0:(l[n]=EK+8|0,l[n+1]=2,p[n+2]=.009999999776482582,l[n+37]=0,p[n+3]=0,p[n+4]=0),n=r>>2,l[n+1]=l[e+4>>2],p[n+2]=p[e+8>>2];var i=e+12|0,s=r+12|0,o=l[i+4>>2];l[s>>2]=l[i>>2],l[s+4>>2]=o,i=(e+20|0)>>2,s=(r+20|0)>>2;for(o=i+16;i<o;i++,s++)l[s]=l[i];i=(e+84|0)>>2,s=(r+84|0)>>2;for(o=i+16;i<o;i++,s++)l[s]=l[i];return l[n+37]=l[e+148>>2],r|0},0,Sb(1),0,function(e,t,n){for(var e=e>>2,r=p[n>>2]-p[t>>2],n=p[n+4>>2]-p[t+4>>2],i=p[t+12>>2],s=p[t+8>>2],t=i*r+s*n,r=r*-s+i*n,n=l[e+37],i=0;;){if((i|0)>=(n|0)){var o=1;break}if(0<p[((i<<3)+84>>2)+e]*(t-p[((i<<3)+20>>2)+e])+p[((i<<3)+88>>2)+e]*(r-p[((i<<3)+24>>2)+e])){o=0;break}i=i+1|0}return o},0,function(e,t,n,r){var i=n>>2,e=e>>2,o=p[r>>2],u=p[i]-o,a=p[r+4>>2],f=p[i+1]-a,n=r+12|0,c=p[n>>2],r=r+8|0,h=p[r>>2],d=c*u+h*f,v=-h,u=u*v+c*f,o=p[i+2]-o,f=p[i+3]-a,a=c*o+h*f-d,c=o*v+c*f-u,v=p[i+4],h=l[e+37],o=0,i=-1,f=v,m=0;e:for(;;){if((o|0)>=(h|0)){0>m|m>v&&O(N.P|0,249,N.Ve|0,N.fh|0);if(-1>=(i|0)){var g=0;break}p[t+8>>2]=m,g=p[n>>2],n=p[((i<<3)+84>>2)+e],r=p[r>>2],d=p[((i<<3)+88>>2)+e],e=r*n+g*d,g=(L[0]=g*n-r*d,s[0]),e=(L[0]=e,s[0])|0,l[t>>2]=0|g,l[t+4>>2]=e,g=1;break}var y=p[((o<<3)+84>>2)+e],b=p[((o<<3)+88>>2)+e],w=y*(p[((o<<3)+20>>2)+e]-d)+b*(p[((o<<3)+24>>2)+e]-u),y=y*a+b*c,b=0==y;t:do if(b){if(0>w){g=0;break e}var E=i,S=f,x=m}else{E=0>y;do if(E&&w<m*y){E=o,S=f,x=w/y;break t}while(0);0<y?w<f*y?(E=i,S=w/y):(E=i,S=f):(E=i,S=f),x=m}while(0);if(S<x){g=0;break}o=o+1|0,i=E,f=S,m=x}return g},0,function(e,t,n){var e=e>>2,r=p[n+12>>2],i=p[e+5],o=p[n+8>>2],u=p[e+6],a=p[n>>2],f=r*i-o*u+a,n=p[n+4>>2],i=o*i+r*u+n,u=l[e+37],c=1<(u|0);e:do if(c)for(var h=i,d=f,v=i,m=f,g=1;;){var y=p[((g<<3)+20>>2)+e],b=p[((g<<3)+24>>2)+e],w=r*y-o*b+a,y=o*y+r*b+n,m=m<w?m:w,v=v<y?v:y,d=d>w?d:w,h=h>y?h:y,g=g+1|0;if((g|0)>=(u|0)){var E=h,S=d,x=v,T=m;break e}}else E=i,S=f,x=i,T=f;while(0);e=p[e+2],T=(L[0]=T-e,s[0]),x=(L[0]=x-e,s[0])|0,l[t>>2]=0|T,l[t+4>>2]=x,t=t+8|0,S=(L[0]=S+e,s[0]),E=(L[0]=E+e,s[0])|0,l[t>>2]=0|S,l[t+4>>2]=E},0,function(e,t,n){var r;r=e+148|0;var i=l[r>>2];if(2<(i|0))o=i,r=5;else if(O(N.P|0,306,N.Ab|0,N.rh|0),r=l[r>>2],0<(r|0)){var o=r;r=5}else{var u=t|0,a=p[u>>2]=0,f=0,c=0,h=0,d=0,v=0;r=12}do if(5==r){for(var m=i=r=0;;){var g=i+p[e+(m<<3)+20>>2],y=r+p[e+(m<<3)+24>>2],m=m+1|0;if((m|0)>=(o|0))break;r=y,i=g}i=1/(o|0),r=g*i;for(var i=y*i,m=e+20|0,b=e+24|0,w=0,E=0,S=0,x=0,T=0;;){var C=p[e+(T<<3)+20>>2]-r,k=p[e+(T<<3)+24>>2]-i,T=T+1|0,A=(T|0)<(o|0);if(A)var M=(T<<3)+e+20|0,_=(T<<3)+e+24|0;else M=m,_=b;var D=p[M>>2]-r,P=p[_>>2]-i,H=C*P-k*D,M=.5*H,_=S+M,B=.3333333432674408*M,M=E+(C+D)*B,B=w+(k+P)*B,C=x+.0833333358168602*H*(C*C+D*C+D*D+k*k+P*k+P*P);if(!A)break;w=B,E=M,S=_,x=C}m=_*n,b=t|0,p[b>>2]=m;if(1.1920928955078125e-7<_){var j=m,F=i,I=r,q=C,R=_,U=M,z=B;r=13}else a=i,f=r,c=C,h=_,d=M,v=B,u=b,r=12}while(0);12==r&&(O(N.P|0,352,N.Ab|0,N.Yb|0),j=p[u>>2],F=a,I=f,q=c,R=h,U=d,z=v),e=1/R,U*=e,z*=e,I=U+I,F=z+F,e=t+4|0,o=(L[0]=I,s[0]),a=(L[0]=F,s[0])|0,l[e>>2]=0|o,l[e+4>>2]=a,p[t+12>>2]=q*n+j*(I*I+F*F-(U*U+z*z))},0,Ib(),0,function(e){$s(e)},0,Ib(),0,Ib(),0,Ib(),0,Ib(),0,Ib(),0,Ib(),0,Ib(),0,function(e){$s(e)},0,Ib(),0,Ib(),0,Ib(),0,Ib(),0,Ib(),0,function(e){$s(e)},0,function(e,t,n){return e=i[t+36>>1],e<<16>>16!=i[n+36>>1]<<16>>16|0==e<<16>>16?0==(i[n+32>>1]&i[t+34>>1])<<16>>16?0:0!=(i[n+34>>1]&i[t+32>>1])<<16>>16:0<e<<16>>16},0,function(e,t,n,r){var s,o=a;a+=48,s=o>>2;var u=l[l[e+48>>2]+12>>2];l[s]=NK+8|0,l[s+1]=1,p[s+2]=.009999999776482582,s=o+28|0,l[s>>2]=0,l[s+4>>2]=0,l[s+8>>2]=0,l[s+12>>2]=0,i[s+16>>1]=0,$k(u,o,l[e+56>>2]),cg(t,o,n,l[l[e+52>>2]+12>>2],r),a=o},0,Ib(),0,function(e){$s(e)},0,function(e,t,n,r){var s,o=a;a+=300;var u=o+252;s=u>>2;var f=l[l[e+48>>2]+12>>2];l[s]=NK+8|0,l[s+1]=1,p[s+2]=.009999999776482582,s=u+28|0,l[s>>2]=0,l[s+4>>2]=0,l[s+8>>2]=0,l[s+12>>2]=0,i[s+16>>1]=0,$k(f,u,l[e+56>>2]),eg(o,t,u,n,l[l[e+52>>2]+12>>2],r),a=o},0,Ib(),0,function(e){$s(e)},0,function(e,t,n,r){var i=l[l[e+48>>2]+12>>2],s=l[l[e+52>>2]+12>>2],o=t+60|0;l[o>>2]=0;var u=i+12|0,a=p[n+12>>2],f=p[u>>2],c=p[n+8>>2],h=p[i+16>>2],e=s+12|0,d=p[r+12>>2],v=p[e>>2],m=p[r+8>>2],g=p[s+16>>2],y=d*v-m*g+p[r>>2]-(a*f-c*h+p[n>>2]),n=m*v+d*g+p[r+4>>2]-(c*f+a*h+p[n+4>>2]),i=p[i+8>>2]+p[s+8>>2];y*y+n*n>i*i||(l[t+56>>2]=0,i=t+48|0,y=l[u+4>>2],l[i>>2]=l[u>>2],l[i+4>>2]=y,p[t+40>>2]=0,p[t+44>>2]=0,l[o>>2]=1,o=l[e+4>>2],l[t>>2]=l[e>>2],l[t+4>>2]=o,l[t+16>>2]=0)},0,Ib(),0,function(e){$s(e)},0,function(){ha("Pure virtual function called!")},0,Ib(),0,function(e){$s(e)},0,function(e,t,n,r){cg(t,l[l[e+48>>2]+12>>2],n,l[l[e+52>>2]+12>>2],r)},0,Ib(),0,function(e){$s(e)},0,function(e,t,n,r){var i=a;a+=252,eg(i,t,l[l[e+48>>2]+12>>2],n,l[l[e+52>>2]+12>>2],r),a=i},0,Ib(),0,function(e){$s(e)},0,function(e,t,n,r){var i=l[l[e+48>>2]+12>>2],u=l[l[e+52>>2]+12>>2],a,f=i>>2,c=t>>2;a=(t+60|0)>>2,l[a]=0;for(var h=u+12|0,d=p[r+12>>2],v=p[h>>2],m=p[r+8>>2],g=p[u+16>>2],y=d*v-m*g+p[r>>2]-p[n>>2],b=m*v+d*g+p[r+4>>2]-p[n+4>>2],w=p[n+12>>2],E=p[n+8>>2],S=w*y+E*b,x=y*-E+w*b,T=p[f+2]+p[u+8>>2],N=l[f+37],C=0,k=-3.4028234663852886e38,A=0;;){if(!((C|0)<(N|0))){var P=A+1|0,H=(P|0)<(N|0)?P:0,B=(A<<3)+i+20|0,j=o[B>>2],F=o[B+4>>2],I=(s[0]=j,L[0]),q=(s[0]=F,L[0]),R=(H<<3)+i+20|0,U=o[R>>2],z=o[R+4>>2],W=(s[0]=U,L[0]),X=(s[0]=z,L[0]);if(1.1920928955078125e-7>k){l[a]=1,l[c+14]=1;var V=(A<<3)+i+84|0,$=t+40|0,J=l[V+4>>2];l[$>>2]=l[V>>2],l[$+4>>2]=J;var K=.5*(q+X),Q=t+48|0,G=(L[0]=.5*(I+W),s[0]),Y=(L[0]=K,s[0])|0;l[Q>>2]=0|G,l[Q+4>>2]=Y;var Z=h,et=t,tt=l[Z+4>>2];l[et>>2]=l[Z>>2],l[et+4>>2]=tt,l[c+4]=0;break}var nt=S-I,rt=x-q,it=S-W,st=x-X;if(0>=nt*(W-I)+rt*(X-q)){var ot=nt*nt+rt*rt;if(ot>T*T)break;l[a]=1,l[c+14]=1;var ut=t+40|0,at=ut,ft=(L[0]=nt,s[0]),lt=(L[0]=rt,s[0])|0,ct=at|0;l[ct>>2]=0|ft;var ht=at+4|0;l[ht>>2]=lt;var pt=dg(ot);if(1.1920928955078125e-7<=pt){var dt=t+44|0,vt=1/pt;p[ut>>2]=nt*vt,p[dt>>2]=rt*vt}var mt=t+48|0,gt=mt|0;l[gt>>2]=j;var yt=mt+4|0;l[yt>>2]=F;var bt=h,wt=t,Et=bt|0,St=bt+4|0,xt=l[St>>2],Tt=wt|0;l[Tt>>2]=l[Et>>2];var Nt=wt+4|0;l[Nt>>2]=xt,l[c+4]=0;break}if(0<it*(I-W)+st*(q-X)){var Ct=.5*(I+W),kt=.5*(q+X),Lt=(A<<3)+i+84|0;if((S-Ct)*p[Lt>>2]+(x-kt)*p[((A<<3)+88>>2)+f]>T)break;l[a]=1,l[c+14]=1;var At=Lt,Ot=t+40|0,Mt=l[At+4>>2];l[Ot>>2]=l[At>>2],l[Ot+4>>2]=Mt;var _t=t+48|0,Dt=(L[0]=Ct,s[0]),Pt=(L[0]=kt,s[0])|0;l[_t>>2]=0|Dt,l[_t+4>>2]=Pt;var Ht=h,Bt=t,jt=l[Ht+4>>2];l[Bt>>2]=l[Ht>>2],l[Bt+4>>2]=jt,l[c+4]=0;break}var Ft=it*it+st*st;if(Ft>T*T)break;l[a]=1,l[c+14]=1;var It=t+40|0,qt=It,Rt=(L[0]=it,s[0]),Ut=(L[0]=st,s[0]),zt=0|Rt,Wt=Ut|0,ct=qt|0;l[ct>>2]=zt,ht=qt+4|0,l[ht>>2]=Wt;var Xt=dg(Ft);if(1.1920928955078125e-7<=Xt){var Vt=t+44|0,$t=1/Xt;p[It>>2]=it*$t,p[Vt>>2]=st*$t}var Jt=t+48|0,gt=Jt|0;l[gt>>2]=U,yt=Jt+4|0,l[yt>>2]=z;var Kt=h,Qt=t,Et=Kt|0,Gt=l[Et>>2],St=Kt+4|0,Yt=l[St>>2],Tt=Qt|0;l[Tt>>2]=Gt,Nt=Qt+4|0,l[Nt>>2]=Yt,l[c+4]=0;break}var O=p[((C<<3)+84>>2)+f]*(S-p[((C<<3)+20>>2)+f])+p[((C<<3)+88>>2)+f]*(x-p[((C<<3)+24>>2)+f]);if(O>T)break;var M=O>k,_=M?C:A,D=M?O:k,C=C+1|0,k=D,A=_}},0,Ib(),0,function(e){$s(e)},0,function(e,t,n,r){var i=l[l[e+48>>2]+12>>2],u=l[l[e+52>>2]+12>>2],f,h,d,v,m,g,y,b,w,E,S,x,T,C,k=r>>2,A=n>>2,M=a;a+=80;var _,D=M+4,P=M+8,H=M+32;C=H>>2;var B=M+56;T=B>>2;var j=t+60|0;l[j>>2]=0;var F=p[i+8>>2]+p[u+8>>2];l[M>>2]=0;var I=fg(M,i,n,u,r),q=I>F;do if(!q){l[D>>2]=0;var R=fg(D,u,r,i,n);if(R<=F){if(R>.9800000190734863*I+.0010000000474974513){var U=p[k],z=p[k+1],W=p[k+2],X=p[k+3],V=p[A],$=p[A+1],J=p[A+2],K=p[A+3],Q=l[D>>2];l[t+56>>2]=2;var G=1,Y=Q,Z=i;x=Z>>2;var et=u;S=et>>2;var tt=U,nt=z,rt=W,it=X,st=V,ot=$,ut=J,at=K}else{var ft=p[A],lt=p[A+1],ct=p[A+2],ht=p[A+3],pt=p[k],dt=p[k+1],vt=p[k+2],mt=p[k+3],gt=l[M>>2];l[t+56>>2]=1,G=0,Y=gt,Z=u,x=Z>>2,et=i,S=et>>2,tt=ft,nt=lt,rt=ct,it=ht,st=pt,ot=dt,ut=vt,at=mt}var yt=l[x+37];_=-1<(Y|0)?(l[S+37]|0)>(Y|0)?10:9:9,9==_&&O(N.Lb|0,151,N.qe|0,N.Gb|0);var bt=p[((Y<<3)+84>>2)+S],wt=p[((Y<<3)+88>>2)+S],Et=it*bt-rt*wt,St=rt*bt+it*wt,xt=at*Et+ut*St,Tt=-ut,Nt=Et*Tt+at*St,Ct=0<(yt|0);e:do if(Ct)for(var kt=0,Lt=3.4028234663852886e38,At=0;;){var Ot=xt*p[((At<<3)+84>>2)+x]+Nt*p[((At<<3)+88>>2)+x],Mt=Ot<Lt,_t=Mt?At:kt,Dt=Mt?Ot:Lt,Pt=At+1|0;if((Pt|0)==(yt|0)){var Ht=_t;break e}kt=_t,Lt=Dt,At=Pt}else Ht=0;while(0);var Bt=Ht+1|0,jt=(Bt|0)<(yt|0)?Bt:0,Ft=p[((Ht<<3)+20>>2)+x],It=p[((Ht<<3)+24>>2)+x],qt=at*Ft-ut*It+st,Rt=ut*Ft+at*It+ot,Ut=P,zt=(L[0]=qt,s[0]),Wt=(L[0]=Rt,s[0])|0;l[Ut>>2]=0|zt,l[Ut+4>>2]=Wt;var Xt=Y&255,Vt=P+8|0,$t=Vt;c[Vt]=Xt;var Jt=Ht&255;c[$t+1|0]=Jt,c[$t+2|0]=1,c[$t+3|0]=0;var Kt=P+12|0,Qt=p[((jt<<3)+20>>2)+x],Gt=p[((jt<<3)+24>>2)+x],Yt=at*Qt-ut*Gt+st,Zt=ut*Qt+at*Gt+ot,en=Kt,tn=(L[0]=Yt,s[0]),nn=(L[0]=Zt,s[0])|0;l[en>>2]=0|tn,l[en+4>>2]=nn;var rn=P+20|0,sn=rn;c[rn]=Xt,c[sn+1|0]=jt&255,c[sn+2|0]=1,c[sn+3|0]=0;var on=Y+1|0,un=(on|0)<(l[S+37]|0)?on:0,an=(Y<<3)+et+20|0,fn=l[an+4>>2],ln=(s[0]=l[an>>2],L[0]),cn=(s[0]=fn,L[0]),hn=(un<<3)+et+20|0,pn=l[hn+4>>2],dn=(s[0]=l[hn>>2],L[0]),vn=(s[0]=pn,L[0]),mn=dn-ln,gn=vn-cn,yn=dg(mn*mn+gn*gn);if(1.1920928955078125e-7>yn)var bn=mn,wn=gn;else var En=1/yn,bn=mn*En,wn=gn*En;var Sn=.5*(ln+dn),xn=it*bn-rt*wn,Tn=rt*bn+it*wn,Nn=-1*xn,Cn=it*ln-rt*cn+tt,kn=rt*ln+it*cn+nt,Ln=.5*(cn+vn),An=Tn*Cn+Nn*kn,On=F-(xn*Cn+Tn*kn),Mn=xn*(it*dn-rt*vn+tt)+Tn*(rt*dn+it*vn+nt)+F,_n=-xn,Dn=-Tn,Pn=qt*_n+Rt*Dn-On,Hn=Yt*_n+Zt*Dn-On;if(0<Pn)var Bn=0;else E=H>>2,w=P>>2,l[E]=l[w],l[E+1]=l[w+1],l[E+2]=l[w+2],Bn=1;if(0<Hn)var jn=Bn;else b=(H+12*Bn|0)>>2,y=Kt>>2,l[b]=l[y],l[b+1]=l[y+1],l[b+2]=l[y+2],jn=Bn+1|0;if(0>Pn*Hn){var Fn=Pn/(Pn-Hn),In=Rt+(Zt-Rt)*Fn,qn=H+12*jn|0,Rn=(L[0]=qt+(Yt-qt)*Fn,s[0]),Un=(L[0]=In,s[0]),zn=0|Rn,Wn=Un|0,Xn=qn|0;g=Xn>>2,l[g]=zn;var Vn=qn+4|0;m=Vn>>2,l[m]=Wn;var $n=H+12*jn+8|0,Jn=$n;c[$n]=Xt,c[Jn+1|0]=Jt,c[Jn+2|0]=0,c[Jn+3|0]=1;var Kn=jn+1|0}else Kn=jn;if(2<=(Kn|0)){var Qn=p[C],Gn=p[C+1],Yn=xn*Qn+Tn*Gn-Mn,Zn=H+12|0,er=p[Zn>>2],tr=p[C+4],nr=xn*er+Tn*tr-Mn;if(0<Yn)var rr=0;else v=B>>2,d=H>>2,l[v]=l[d],l[v+1]=l[d+1],l[v+2]=l[d+2],rr=1;if(0<nr)var ir=rr;else h=(B+12*rr|0)>>2,f=Zn>>2,l[h]=l[f],l[h+1]=l[f+1],l[h+2]=l[f+2],ir=rr+1|0;if(0>Yn*nr){var sr=Yn/(Yn-nr),or=Gn+(tr-Gn)*sr,ur=B+12*ir|0,ar=(L[0]=Qn+(er-Qn)*sr,s[0]),fr=(L[0]=or,s[0]),lr=0|ar,cr=fr|0,Xn=ur|0;g=Xn>>2,l[g]=lr,Vn=ur+4|0,m=Vn>>2,l[m]=cr;var hr=B+12*ir+8|0,pr=hr;c[hr]=un&255,c[pr+1|0]=c[H+9|0],c[pr+2|0]=0,c[pr+3|0]=1;var dr=ir+1|0}else dr=ir;if(2<=(dr|0)){var vr=t+40|0,mr=(L[0]=wn,s[0]),gr=(L[0]=-1*bn,s[0])|0;l[vr>>2]=0|mr,l[vr+4>>2]=gr;var yr=t+48|0,br=(L[0]=Sn,s[0]),wr=(L[0]=Ln,s[0])|0;l[yr>>2]=0|br,l[yr+4>>2]=wr;var Er=p[T],Sr=p[T+1],xr=Tn*Er+Nn*Sr-An>F;if(0==G<<24>>24){if(xr)var Tr=0;else{var Nr=Er-st,Cr=Sr-ot,kr=Nr*Tt+at*Cr,Lr=t,Ar=(L[0]=at*Nr+ut*Cr,s[0]),Or=(L[0]=kr,s[0])|0,Mr=Lr|0;l[Mr>>2]=0|Ar;var _r=Lr+4|0;l[_r>>2]=Or,l[t+16>>2]=l[T+2],Tr=1}var Dr=p[T+3],Pr=p[T+4];if(Tn*Dr+Nn*Pr-An>F)var Hr=Tr;else{var Br=Dr-st,jr=Pr-ot,Fr=Br*Tt+at*jr,Ir=t+20*Tr|0,qr=(L[0]=at*Br+ut*jr,s[0]),Rr=(L[0]=Fr,s[0])|0,Xn=Ir|0;g=Xn>>2,l[g]=0|qr,Vn=Ir+4|0,m=Vn>>2,l[m]=Rr,l[(t+16>>2)+(5*Tr|0)]=l[T+5],Hr=Tr+1|0}}else{if(xr)var Ur=0;else{var zr=Er-st,Wr=Sr-ot,Xr=zr*Tt+at*Wr,Vr=t,$r=(L[0]=at*zr+ut*Wr,s[0]),Jr=(L[0]=Xr,s[0])|0,Mr=Vr|0;l[Mr>>2]=0|$r,_r=Vr+4|0,l[_r>>2]=Jr;var Kr=t+16|0,Qr=o[T+2];l[Kr>>2]=Qr;var Gr=Qr>>>24&255,Yr=Qr>>>16&255,Zr=Qr&255,ei=Kr,ti=ei+1|0,ni=ei+2|0,ri=ei+3|0;c[Kr]=Qr>>>8&255,c[ti]=Zr,c[ni]=Gr,c[ri]=Yr,Ur=1}var ii=p[T+3],si=p[T+4];if(Tn*ii+Nn*si-An>F)Hr=Ur;else{var oi=ii-st,ui=si-ot,ai=oi*Tt+at*ui,fi=t+20*Ur|0,li=(L[0]=at*oi+ut*ui,s[0]),ci=(L[0]=ai,s[0])|0,Xn=fi|0;g=Xn>>2,l[g]=0|li,Vn=fi+4|0,m=Vn>>2,l[m]=ci;var hi=t+20*Ur+16|0,pi=o[T+5];l[hi>>2]=pi;var di=pi>>>24&255,vi=pi>>>16&255,mi=pi&255,gi=hi,yi=gi+1|0,bi=gi+2|0,wi=gi+3|0;c[hi]=pi>>>8&255,c[yi]=mi,c[bi]=di,c[wi]=vi,Hr=Ur+1|0}}l[j>>2]=Hr}}}}while(0);a=M},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n;n=l[t+48>>2]>>2;var r=p[n+6],i=p[t+80>>2],s=p[n+5],o=p[t+84>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t){var n;n=l[t+52>>2]>>2;var r=p[n+6],i=p[t+88>>2],s=p[n+5],o=p[t+92>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t,n){var n=p[t+100>>2]*n,r=p[t+120>>2]*n;p[e>>2]=p[t+116>>2]*n,p[e+4>>2]=r},0,Sb(0),0,function(e){var t=e>>2,n=a,i=l[l[t+12]+8>>2],o=l[l[t+13]+8>>2];P(N.Ig|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.A|0,(r=a,a+=4,l[r>>2]=i,r)),P(N.B|0,(r=a,a+=4,l[r>>2]=o,r)),e=c[e+61|0]&1,P(N.C|0,(r=a,a+=4,l[r>>2]=e,r)),e=p[t+20],i=p[t+21],P(N.K|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+22],i=p[t+23],P(N.L|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+26],P(N.Fh|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+17],P(N.Oa|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+18],P(N.Pa|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),t=l[t+14],P(N.z|0,(r=a,a+=4,l[r>>2]=t,r)),a=n},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r,i,u,a=e>>2,f=l[a+12];u=f>>2;var h=o[u+2],d=e+108|0;l[d>>2]=h;var v=l[a+13];i=v>>2;var m=l[i+2];r=(e+112|0)>>2,l[r]=m;var g=f+28|0,y=e+140|0,b=l[g>>2],w=l[g+4>>2];l[y>>2]=b,l[y+4>>2]=w;var E=v+28|0,S=e+148|0,x=l[E>>2],T=l[E+4>>2];l[S>>2]=x,l[S+4>>2]=T;var N=p[u+30];p[a+39]=N;var C=p[i+30];p[a+40]=C;var k=p[u+32];p[a+41]=k;var A=p[i+32];p[a+42]=A;var O=l[t+24>>2],M=O+12*h|0,_=l[M+4>>2],D=(s[0]=l[M>>2],L[0]),P=(s[0]=_,L[0]),H=p[(O+8>>2)+(3*h|0)];n=(t+28|0)>>2;var B=l[n],j=B+12*h|0,F=l[j+4>>2],I=(s[0]=l[j>>2],L[0]),q=(s[0]=F,L[0]),R=p[(B+8>>2)+(3*h|0)],U=O+12*m|0,z=l[U+4>>2],W=(s[0]=l[U>>2],L[0]),X=(s[0]=z,L[0]),V=p[(O+8>>2)+(3*m|0)],$=B+12*m|0,J=l[$+4>>2],K=(s[0]=l[$>>2],L[0]),Q=(s[0]=J,L[0]),G=p[(B+8>>2)+(3*m|0)],Y=Yk(H),Z=Zk(H),et=Yk(V),tt=Zk(V),nt=e+124|0,rt=p[a+20],it=(s[0]=b,L[0]),st=rt-it,ot=p[a+21],ut=(s[0]=w,L[0]),at=ot-ut,ft=Z*st-Y*at,lt=Y*st+Z*at,ct=(L[0]=ft,s[0]),ht=(L[0]=lt,s[0])|0;l[nt>>2]=0|ct,l[nt+4>>2]=ht;var pt=e+132|0,dt=p[a+22],vt=(s[0]=x,L[0]),mt=dt-vt,gt=p[a+23],yt=(s[0]=T,L[0]),bt=gt-yt,wt=tt*mt-et*bt,Et=et*mt+tt*bt,St=(L[0]=wt,s[0]),xt=(L[0]=Et,s[0])|0;l[pt>>2]=0|St,l[pt+4>>2]=xt;var Tt=e+116|0,Nt=W+wt-D-ft,Ct=X+Et-P-lt,kt=(L[0]=Nt,s[0]),Lt=(L[0]=Ct,s[0])|0;l[Tt>>2]=0|kt,l[Tt+4>>2]=Lt;var At=Tt|0,Ot=e+120|0,Mt=dg(Nt*Nt+Ct*Ct);if(.004999999888241291<Mt){var _t=1/Mt,Dt=Nt*_t;p[At>>2]=Dt;var Pt=Ct*_t,Ht=Dt}else Ht=Pt=p[At>>2]=0;p[Ot>>2]=Pt;var Bt=ft*Pt-lt*Ht,jt=wt*Pt-Et*Ht,Ft=N+k*Bt*Bt+C+A*jt*jt,It=0!=Ft?1/Ft:0,qt=e+172|0;p[qt>>2]=It;var Rt=p[a+17];if(0<Rt){var Ut=Mt-p[a+26],zt=6.2831854820251465*Rt,Wt=It*zt*zt,Xt=p[t>>2],Vt=Xt*(2*It*p[a+18]*zt+Xt*Wt),$t=e+96|0;p[$t>>2]=Vt;var Jt=0!=Vt?1/Vt:0;p[$t>>2]=Jt,p[a+19]=Ut*Xt*Wt*Jt;var Kt=Ft+Jt;p[qt>>2]=0!=Kt?1/Kt:0}else p[a+24]=0,p[a+19]=0;if(0==(c[t+20|0]&1)<<24>>24){p[a+25]=0;var Qt=G,Gt=R,Yt=I,Zt=q,en=K,tn=Q}else{var nn=e+100|0,rn=p[nn>>2]*p[t+8>>2];p[nn>>2]=rn;var sn=Ht*rn,on=Pt*rn,Qt=G+A*(wt*on-Et*sn),Gt=R-k*(ft*on-lt*sn),Yt=I-sn*N,Zt=q-on*N,en=K+sn*C,tn=Q+on*C}var un=l[n]+12*h|0,an=(L[0]=Yt,s[0]),fn=(L[0]=Zt,s[0])|0;l[(un|0)>>2]=0|an,l[(un+4|0)>>2]=fn,p[(l[n]+8>>2)+(3*l[d>>2]|0)]=Gt;var ln=l[n]+12*l[r]|0,cn=(L[0]=en,s[0]),hn=(L[0]=tn,s[0])|0;l[(ln|0)>>2]=0|cn,l[(ln+4|0)>>2]=hn,p[(l[n]+8>>2)+(3*l[r]|0)]=Qt},0,function(e,t){var n,r,i=e>>2,o=e+108|0,u=l[o>>2];r=(t+28|0)>>2;var a=l[r],f=a+12*u|0;n=l[f+4>>2];var c=(s[0]=l[f>>2],L[0]),h=(s[0]=n,L[0]),d=p[(a+8>>2)+(3*u|0)];n=(e+112|0)>>2;var v=l[n],f=a+12*v|0,m=l[f+4>>2],f=(s[0]=l[f>>2],L[0]),m=(s[0]=m,L[0]),g=p[(a+8>>2)+(3*v|0)],y=p[i+32],b=p[i+31],w=p[i+34],E=p[i+33],a=p[i+29],v=p[i+30],S=e+100|0,x=p[S>>2],T=(a*(f+w*-g-(c+y*-d))+v*(m+E*g-(h+b*d))+p[i+19]+p[i+24]*x)*-p[i+43];p[S>>2]=x+T,a*=T,v*=T,T=p[i+39],y=d-p[i+41]*(b*v-y*a),d=p[i+40],i=g+p[i+42]*(E*v-w*a),u=l[r]+12*u|0,c=(L[0]=c-a*T,s[0]),h=(L[0]=h-v*T,s[0])|0,l[(u|0)>>2]=0|c,l[(u+4|0)>>2]=h,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=y,o=l[r]+12*l[n]|0,f=(L[0]=f+a*d,s[0]),m=(L[0]=m+v*d,s[0])|0,l[(o|0)>>2]=0|f,l[(o+4|0)>>2]=m,p[(l[r]+8>>2)+(3*l[n]|0)]=i},0,function(e,t){var n,r,i=e>>2;if(0<p[i+17])r=1;else{var o=e+108|0;n=l[o>>2],r=(t+24|0)>>2;var u=l[r],a=u+12*n|0,f=l[a+4>>2],c=(s[0]=l[a>>2],L[0]),f=(s[0]=f,L[0]),h=p[(u+8>>2)+(3*n|0)];n=(e+112|0)>>2;var d=l[n],v=u+12*d|0,m=l[v+4>>2],v=(s[0]=l[v>>2],L[0]),m=(s[0]=m,L[0]),u=p[(u+8>>2)+(3*d|0)],g=Yk(h),y=Zk(h),b=Yk(u),w=Zk(u),E=p[i+20]-p[i+35],S=p[i+21]-p[i+36],d=y*E-g*S,y=g*E+y*S,E=p[i+22]-p[i+37],S=p[i+23]-p[i+38],g=w*E-b*S,b=b*E+w*S,E=v+g-c-d,w=m+b-f-y,x=dg(E*E+w*w);1.1920928955078125e-7>x?(x=0,S=w):(S=1/x,E*=S,S*=w),w=x-p[i+26],w=.20000000298023224>w?w:.20000000298023224,w=-0.20000000298023224>w?-0.20000000298023224:w,x=w*-p[i+43],E*=x,S*=x,x=p[i+39],d=h-p[i+41]*(d*S-y*E),h=p[i+40],i=u+p[i+42]*(g*S-b*E),c=(L[0]=c-E*x,s[0]),f=(L[0]=f-S*x,s[0])|0,l[(a|0)>>2]=0|c,l[(a+4|0)>>2]=f,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=d,o=l[r]+12*l[n]|0,a=(L[0]=v+E*h,s[0]),c=(L[0]=m+S*h,s[0])|0,l[(o|0)>>2]=0|a,l[(o+4|0)>>2]=c,p[(l[r]+8>>2)+(3*l[n]|0)]=i,r=.004999999888241291>(0<w?w:-w)}return r},0,function(e,t){var n;n=l[t+48>>2]>>2;var r=p[n+6],i=p[t+68>>2],s=p[n+5],o=p[t+72>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t){var n;n=l[t+52>>2]>>2;var r=p[n+6],i=p[t+76>>2],s=p[n+5],o=p[t+80>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t,n){var r=p[t+88>>2]*n;p[e>>2]=p[t+84>>2]*n,p[e+4>>2]=r},0,function(e,t){return p[e+92>>2]*t},0,function(e){var t=e>>2,n=a,i=l[l[t+12]+8>>2],o=l[l[t+13]+8>>2];P(N.Xg|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.A|0,(r=a,a+=4,l[r>>2]=i,r)),P(N.B|0,(r=a,a+=4,l[r>>2]=o,r)),e=c[e+61|0]&1,P(N.C|0,(r=a,a+=4,l[r>>2]=e,r)),e=p[t+17],i=p[t+18],P(N.K|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+19],i=p[t+20],P(N.L|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+24],P(N.Vh|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+25],P(N.df|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),t=l[t+14],P(N.z|0,(r=a,a+=4,l[r>>2]=t,r)),a=n},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r,i,u=e>>2,a=l[u+12];i=a>>2;var f=o[i+2],h=e+104|0;l[h>>2]=f;var d=l[u+13];n=d>>2;var v=l[n+2];r=(e+108|0)>>2,l[r]=v;var m=a+28|0,a=e+128|0,g=l[m>>2],y=l[m+4>>2];l[a>>2]=g,l[a+4>>2]=y;var a=d+28|0,d=e+136|0,b=l[a>>2],w=l[a+4>>2];l[d>>2]=b,l[d+4>>2]=w,a=p[i+30],p[u+36]=a,d=p[n+30],p[u+37]=d,i=p[i+32],p[u+38]=i;var E=p[n+32];p[u+39]=E;var S=l[t+24>>2],x=p[(S+8>>2)+(3*f|0)];n=(t+28|0)>>2;var T=l[n],m=T+12*f|0,N=l[m+4>>2],m=(s[0]=l[m>>2],L[0]),N=(s[0]=N,L[0]),C=p[(T+8>>2)+(3*f|0)],k=p[(S+8>>2)+(3*v|0)],S=T+12*v|0,A=l[S+4>>2],S=(s[0]=l[S>>2],L[0]),A=(s[0]=A,L[0]),v=p[(T+8>>2)+(3*v|0)],O=Yk(x),M=Zk(x),x=Yk(k),k=Zk(k),T=e+112|0,_=p[u+17],g=(s[0]=g,L[0]),g=_-g,_=p[u+18],y=(s[0]=y,L[0]),_=_-y,y=M*g-O*_,g=O*g+M*_,O=(L[0]=y,s[0]),M=(L[0]=g,s[0])|0;l[T>>2]=0|O,l[T+4>>2]=M,T=e+120|0,O=p[u+19],b=(s[0]=b,L[0]),b=O-b,O=p[u+20],w=(s[0]=w,L[0]),O-=w,w=k*b-x*O,b=x*b+k*O,x=(L[0]=w,s[0]),k=(L[0]=b,s[0])|0,l[T>>2]=0|x,l[T+4>>2]=k,T=a+d,x=T+i*g*g+E*b*b,O=E*w,k=y*-i*g-O*b,T=T+i*y*y+O*w,O=x*T-k*k,O=0!=O?1/O:O,k*=-O,p[u+40]=O*T,p[u+41]=k,p[u+42]=k,p[u+43]=O*x,x=i+E,p[u+44]=0<x?1/x:x,T=e+84|0,0==(c[t+20|0]&1)<<24>>24?(p[T>>2]=0,p[u+22]=0,p[u+23]=0,E=v,i=C,a=N,N=S,d=A):(k=t+8|0,x=p[k>>2],T|=0,u=p[T>>2]*x,p[T>>2]=u,T=e+88|0,x*=p[T>>2],p[T>>2]=x,T=e+92|0,k=p[T>>2]*p[k>>2],p[T>>2]=k,E=v+E*(w*x-b*u+k),i=C-i*(y*x-g*u+k),m-=u*a,a=N-x*a,N=S+u*d,d=A+x*d),f=l[n]+12*f|0,m=(L[0]=m,s[0]),a=(L[0]=a,s[0])|0,l[(f|0)>>2]=0|m,l[(f+4|0)>>2]=a,p[(l[n]+8>>2)+(3*l[h>>2]|0)]=i,h=l[n]+12*l[r]|0,f=(L[0]=N,s[0]),d=(L[0]=d,s[0])|0,l[(h|0)>>2]=0|f,l[(h+4|0)>>2]=d,p[(l[n]+8>>2)+(3*l[r]|0)]=E},0,function(e,t){var n,r,i,o,u=e>>2,a=e+104|0,f=l[a>>2];o=(t+28|0)>>2;var c=l[o],h=c+12*f|0;i=l[h+4>>2];var d=(s[0]=l[h>>2],L[0]),v=(s[0]=i,L[0]),m=p[(c+8>>2)+(3*f|0)];i=(e+108|0)>>2;var g=l[i],h=c+12*g|0,y=l[h+4>>2],h=(s[0]=l[h>>2],L[0]),y=(s[0]=y,L[0]),b=p[(c+8>>2)+(3*g|0)],w=p[u+36],g=p[u+37],E=p[u+38],c=p[u+39],S=p[t>>2],x=e+92|0,T=p[x>>2],N=S*p[u+25],C=T+(b-m)*-p[u+44],k=-N,N=C<N?C:N,k=N<k?k:N;p[x>>2]=k;var x=k-T,T=m-E*x,m=b+c*x,b=p[u+31],x=p[u+30],k=p[u+29],N=p[u+28],C=h+b*-m-d-k*-T,A=y+x*m-v-N*T;n=p[u+40]*C+p[u+42]*A;var O=p[u+41]*C+p[u+43]*A;r=e+84|0,A=l[r+4>>2],C=(s[0]=l[r>>2],L[0]),A=(s[0]=A,L[0]),r=(r|0)>>2;var M=C-n;p[r]=M,n=(e+88|0)>>2,O=p[n]-O,p[n]=O,u=S*p[u+24],S=M*M+O*O,S>u*u?(S=dg(S),1.1920928955078125e-7>S||(S=1/S,M*=S,p[r]=M,O*=S,p[n]=O),S=M,S*=u,p[r]=S,u*=O,n=p[n]=u):(S=M,n=O),u=S-C,S=n-A,f=l[o]+12*f|0,d=(L[0]=d-u*w,s[0]),v=(L[0]=v-S*w,s[0])|0,l[(f|0)>>2]=0|d,l[(f+4|0)>>2]=v,p[(l[o]+8>>2)+(3*l[a>>2]|0)]=T-E*(N*S-k*u),a=l[o]+12*l[i]|0,h=(L[0]=h+u*g,s[0]),y=(L[0]=y+S*g,s[0])|0,l[(a|0)>>2]=0|h,l[(a+4|0)>>2]=y,p[(l[o]+8>>2)+(3*l[i]|0)]=m+c*(x*S-b*u)},0,Sb(1),0,function(e,t){var n;n=l[t+48>>2]>>2;var r=p[n+6],i=p[t+92>>2],s=p[n+5],o=p[t+96>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t){var n;n=l[t+52>>2]>>2;var r=p[n+6],i=p[t+100>>2],s=p[n+5],o=p[t+104>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t,n){var r=p[t+156>>2],i=p[t+244>>2]*r*n;p[e>>2]=p[t+240>>2]*r*n,p[e+4>>2]=i},0,function(e,t){return p[e+156>>2]*p[e+256>>2]*t},0,function(e){var t=e>>2,n=a,i=l[l[t+12]+8>>2],o=l[l[t+13]+8>>2],u=l[l[t+17]+56>>2],f=l[l[t+18]+56>>2];P(N.oh|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.A|0,(r=a,a+=4,l[r>>2]=i,r)),P(N.B|0,(r=a,a+=4,l[r>>2]=o,r)),e=c[e+61|0]&1,P(N.C|0,(r=a,a+=4,l[r>>2]=e,r)),P(N.Ph|0,(r=a,a+=4,l[r>>2]=u,r)),P(N.Wh|0,(r=a,a+=4,l[r>>2]=f,r)),u=p[t+38],P(N.Hb|0,(r=a,a+=8,Nd[0]=u,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),t=l[t+14],P(N.z|0,(r=a,a+=4,l[r>>2]=t,r)),a=n},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r,i,o,u,a,f,h,d,v,m,g=e>>2,y=l[g+12];m=y>>2;var b=l[m+2],w=e+160|0;l[w>>2]=b;var E=l[g+13];v=E>>2;var S=l[v+2];d=(e+164|0)>>2,l[d]=S;var x=l[g+21];h=x>>2;var T=l[h+2];f=(e+168|0)>>2,l[f]=T;var N=l[g+22];a=N>>2;var C=l[a+2];u=(e+172|0)>>2,l[u]=C;var k=y+28|0,A=e+176|0,O=l[k>>2],M=l[k+4>>2];l[A>>2]=O,l[A+4>>2]=M;var _=E+28|0,D=e+184|0,P=l[_>>2],H=l[_+4>>2];l[D>>2]=P,l[D+4>>2]=H;var B=x+28|0,j=e+192|0,F=l[B>>2],I=l[B+4>>2];l[j>>2]=F,l[j+4>>2]=I;var q=N+28|0,R=e+200|0,U=l[q>>2],z=l[q+4>>2];l[R>>2]=U,l[R+4>>2]=z;var W=p[m+30];p[g+52]=W;var X=p[v+30];p[g+53]=X;var V=p[h+30];p[g+54]=V;var $=p[a+30];p[g+55]=$;var J=p[m+32];p[g+56]=J;var K=p[v+32];p[g+57]=K;var Q=p[h+32];p[g+58]=Q;var G=p[a+32];p[g+59]=G,o=l[t+24>>2]>>2;var Y=p[o+(3*b|0)+2];i=(t+28|0)>>2;var Z=l[i];r=Z>>2;var et=Z+12*b|0,tt=l[et+4>>2],nt=(s[0]=l[et>>2],L[0]),rt=(s[0]=tt,L[0]),it=p[r+(3*b|0)+2],st=p[o+(3*S|0)+2],ot=Z+12*S|0,ut=l[ot+4>>2],at=(s[0]=l[ot>>2],L[0]),ft=(s[0]=ut,L[0]),lt=p[r+(3*S|0)+2],ct=p[o+(3*T|0)+2],ht=Z+12*T|0,pt=l[ht+4>>2],dt=(s[0]=l[ht>>2],L[0]),vt=(s[0]=pt,L[0]),mt=p[r+(3*T|0)+2],gt=p[o+(3*C|0)+2],yt=Z+12*C|0,bt=l[yt+4>>2],wt=(s[0]=l[yt>>2],L[0]),Et=(s[0]=bt,L[0]),St=p[r+(3*C|0)+2],xt=Yk(Y),Tt=Zk(Y),Nt=Yk(st),Ct=Zk(st),kt=Yk(ct),Lt=Zk(ct),At=Yk(gt),Ot=Zk(gt);n=(e+272|0)>>2,p[n]=0;var Mt=1==(l[g+19]|0),_t=(s[0]=U,L[0]),Dt=(s[0]=z,L[0]),Pt=(s[0]=P,L[0]),Ht=(s[0]=H,L[0]);if(Mt){p[g+60]=0,p[g+61]=0,p[g+64]=1,p[g+66]=1;var Bt=J+Q,jt=0,Ft=0,It=1,qt=1}else{var Rt=(s[0]=M,L[0]),Ut=(s[0]=O,L[0]),zt=(s[0]=I,L[0]),Wt=(s[0]=F,L[0]),Xt=p[g+31],Vt=p[g+32],$t=Lt*Xt-kt*Vt,Jt=kt*Xt+Lt*Vt,Kt=p[g+27]-Wt,Qt=p[g+28]-zt,Gt=Lt*Kt-kt*Qt,Yt=kt*Kt+Lt*Qt,Zt=p[g+23]-Ut,en=p[g+24]-Rt,tn=Tt*Zt-xt*en,nn=xt*Zt+Tt*en,rn=e+240|0,sn=(L[0]=$t,s[0]),on=(L[0]=Jt,s[0])|0;l[rn>>2]=0|sn,l[rn+4>>2]=on;var un=Gt*Jt-Yt*$t;p[g+66]=un;var an=tn*Jt-nn*$t;p[g+64]=an,Bt=V+W+Q*un*un+J*an*an,jt=$t,Ft=Jt,It=an,qt=un}var fn=Bt;p[n]=fn;if(1==(l[g+20]|0)){p[g+62]=0,p[g+63]=0;var ln=p[g+38];p[g+65]=ln,p[g+67]=ln;var cn=ln*ln*(K+G),hn=0,pn=0,dn=ln,vn=ln}else{var mn=p[g+33],gn=p[g+34],yn=Ot*mn-At*gn,bn=At*mn+Ot*gn,wn=p[g+29]-_t,En=p[g+30]-Dt,Sn=Ot*wn-At*En,xn=At*wn+Ot*En,Tn=p[g+25]-Pt,Nn=p[g+26]-Ht,Cn=Ct*Tn-Nt*Nn,kn=Nt*Tn+Ct*Nn,Ln=p[g+38],An=yn*Ln,On=bn*Ln,Mn=e+248|0,_n=(L[0]=An,s[0]),Dn=(L[0]=On,s[0])|0;l[Mn>>2]=0|_n,l[Mn+4>>2]=Dn;var Pn=Ln*(Sn*bn-xn*yn);p[g+67]=Pn;var Hn=Ln*(Cn*bn-kn*yn);p[g+65]=Hn,cn=Ln*Ln*($+X)+G*Pn*Pn+K*Hn*Hn,hn=An,pn=On,dn=Hn,vn=Pn}var Bn=fn+cn;p[n]=Bn,p[n]=0<Bn?1/Bn:0;var jn=e+156|0;if(0==(c[t+20|0]&1)<<24>>24){p[jn>>2]=0;var Fn=St,In=mt,qn=lt,Rn=it,Un=nt,zn=rt,Wn=at,Xn=ft,Vn=dt,$n=vt,Jn=wt,Kn=Et}else var Qn=p[jn>>2],Gn=W*Qn,Yn=X*Qn,Zn=V*Qn,er=$*Qn,Fn=St-G*Qn*vn,In=mt-Q*Qn*qt,qn=lt+K*Qn*dn,Rn=it+J*Qn*It,Un=nt+jt*Gn,zn=rt+Ft*Gn,Wn=at+hn*Yn,Xn=ft+pn*Yn,Vn=dt-jt*Zn,$n=vt-Ft*Zn,Jn=wt-hn*er,Kn=Et-pn*er;var tr=l[i]+12*b|0,nr=(L[0]=Un,s[0]),rr=(L[0]=zn,s[0])|0;l[(tr|0)>>2]=0|nr,l[(tr+4|0)>>2]=rr,p[(l[i]+8>>2)+(3*l[w>>2]|0)]=Rn;var ir=l[i]+12*l[d]|0,sr=(L[0]=Wn,s[0]),or=(L[0]=Xn,s[0])|0;l[(ir|0)>>2]=0|sr,l[(ir+4|0)>>2]=or,p[(l[i]+8>>2)+(3*l[d]|0)]=qn;var ur=l[i]+12*l[f]|0,ar=(L[0]=Vn,s[0]),fr=(L[0]=$n,s[0])|0;l[(ur|0)>>2]=0|ar,l[(ur+4|0)>>2]=fr,p[(l[i]+8>>2)+(3*l[f]|0)]=In;var lr=l[i]+12*l[u]|0,cr=(L[0]=Jn,s[0]),hr=(L[0]=Kn,s[0])|0;l[(lr|0)>>2]=0|cr,l[(lr+4|0)>>2]=hr,p[(l[i]+8>>2)+(3*l[u]|0)]=Fn},0,function(e,t){var n,r,i,o,u,a=e>>2,f=e+160|0,c=l[f>>2];u=(t+28|0)>>2;var h=l[u];o=h>>2,r=h+12*c|0,n=l[r+4>>2];var d=(s[0]=l[r>>2],L[0]),v=(s[0]=n,L[0]),m=p[o+(3*c|0)+2];i=(e+164|0)>>2,n=l[i];var g=h+12*n|0;r=l[g+4>>2];var g=(s[0]=l[g>>2],L[0]),y=(s[0]=r,L[0]),b=p[o+(3*n|0)+2];r=(e+168|0)>>2,n=l[r];var w=h+12*n|0,E=l[w+4>>2],w=(s[0]=l[w>>2],L[0]),E=(s[0]=E,L[0]),S=p[o+(3*n|0)+2];n=(e+172|0)>>2;var x=l[n],h=h+12*x|0,T=l[h+4>>2],h=(s[0]=l[h>>2],L[0]),T=(s[0]=T,L[0]),N=p[o+(3*x|0)+2],C=p[a+60],k=p[a+61],x=p[a+62];o=p[a+63];var A=p[a+64],O=p[a+66],M=p[a+65],_=p[a+67],D=(C*(d-w)+k*(v-E)+x*(g-h)+o*(y-T)+(A*m-O*S)+(M*b-_*N))*-p[a+68],P=e+156|0;p[P>>2]+=D;var P=p[a+52]*D,H=m+p[a+56]*D*A,A=p[a+53]*D,M=b+p[a+57]*D*M,b=p[a+54]*D,S=S-p[a+58]*D*O,m=p[a+55]*D,a=N-p[a+59]*D*_,c=l[u]+12*c|0,d=(L[0]=d+C*P,s[0]),v=(L[0]=v+k*P,s[0])|0;l[(c|0)>>2]=0|d,l[(c+4|0)>>2]=v,p[(l[u]+8>>2)+(3*l[f>>2]|0)]=H,f=l[u]+12*l[i]|0,g=(L[0]=g+x*A,s[0]),y=(L[0]=y+o*A,s[0])|0,l[(f|0)>>2]=0|g,l[(f+4|0)>>2]=y,p[(l[u]+8>>2)+(3*l[i]|0)]=M,i=l[u]+12*l[r]|0,f=(L[0]=w-C*b,s[0]),g=(L[0]=E-k*b,s[0])|0,l[(i|0)>>2]=0|f,l[(i+4|0)>>2]=g,p[(l[u]+8>>2)+(3*l[r]|0)]=S,r=l[u]+12*l[n]|0,i=(L[0]=h-x*m,s[0]),f=(L[0]=T-o*m,s[0])|0,l[(r|0)>>2]=0|i,l[(r+4|0)>>2]=f,p[(l[u]+8>>2)+(3*l[n]|0)]=a},0,function(e,t){var n,r,i,o,u,a=e>>2,f=e+160|0,c=l[f>>2];u=(t+24|0)>>2;var h=l[u];o=h>>2;var d=h+12*c|0,v=l[d+4>>2],m=(s[0]=l[d>>2],L[0]),g=(s[0]=v,L[0]),y=p[o+(3*c|0)+2];i=(e+164|0)>>2;var b=l[i],w=h+12*b|0,E=l[w+4>>2],S=(s[0]=l[w>>2],L[0]),x=(s[0]=E,L[0]),T=p[o+(3*b|0)+2];r=(e+168|0)>>2;var N=l[r],C=h+12*N|0,k=l[C+4>>2],A=(s[0]=l[C>>2],L[0]),O=(s[0]=k,L[0]),M=p[o+(3*N|0)+2];n=(e+172|0)>>2;var _=l[n],D=h+12*_|0,P=l[D+4>>2],H=(s[0]=l[D>>2],L[0]),B=(s[0]=P,L[0]),j=p[o+(3*_|0)+2],F=Yk(y),I=Zk(y),q=Yk(T),R=Zk(T),U=Yk(M),z=Zk(M),W=Yk(j),X=Zk(j);if(1==(l[a+19]|0))var V=p[a+56],$=p[a+58],J=V+$,K=y-M-p[a+35],Q=1,G=1,Y=0,Z=0,et=V,tt=$;else var nt=p[a+31],rt=p[a+32],it=z*nt-U*rt,st=U*nt+z*rt,ot=p[a+27]-p[a+48],ut=p[a+28]-p[a+49],at=p[a+23]-p[a+44],ft=p[a+24]-p[a+45],lt=I*at-F*ft,ct=F*at+I*ft,ht=(z*ot-U*ut)*st-(U*ot+z*ut)*it,pt=lt*st-ct*it,dt=p[a+58],vt=p[a+56],mt=lt+(m-A),gt=ct+(g-O),J=p[a+54]+p[a+52]+dt*ht*ht+vt*pt*pt,K=(z*mt+U*gt-ot)*nt+(mt*-U+z*gt-ut)*rt,Q=pt,G=ht,Y=it,Z=st,et=vt,tt=dt;if(1==(l[a+20]|0))var yt=p[a+38],bt=p[a+57],wt=p[a+59],Et=yt*yt*(bt+wt),St=yt,xt=T-j-p[a+36],Tt=yt,Nt=0,Ct=0,kt=yt,Lt=bt,At=wt;else var Ot=p[a+33],Mt=p[a+34],_t=X*Ot-W*Mt,Dt=W*Ot+X*Mt,Pt=p[a+29]-p[a+50],Ht=p[a+30]-p[a+51],Bt=p[a+25]-p[a+46],jt=p[a+26]-p[a+47],Ft=R*Bt-q*jt,It=q*Bt+R*jt,qt=p[a+38],Rt=qt*((X*Pt-W*Ht)*Dt-(W*Pt+X*Ht)*_t),Ut=qt*(Ft*Dt-It*_t),zt=p[a+59],Wt=p[a+57],Xt=Ft+(S-H),Vt=It+(x-B),Et=qt*qt*(p[a+55]+p[a+53])+zt*Rt*Rt+Wt*Ut*Ut,St=Rt,xt=(X*Xt+W*Vt-Pt)*Ot+(Xt*-W+X*Vt-Ht)*Mt,Tt=Ut,Nt=_t*qt,Ct=Dt*qt,kt=qt,Lt=Wt,At=zt;var $t=J+Et,Jt=0<$t?-(K+kt*xt-p[a+37])/$t:0,Kt=p[a+52]*Jt,Qt=g+Z*Kt,Gt=y+et*Jt*Q,Yt=p[a+53]*Jt,Zt=S+Nt*Yt,en=x+Ct*Yt,tn=T+Lt*Jt*Tt,nn=p[a+54]*Jt,rn=A-Y*nn,sn=O-Z*nn,on=M-tt*Jt*G,un=p[a+55]*Jt,an=H-Nt*un,fn=B-Ct*un,ln=j-At*Jt*St,cn=(L[0]=m+Y*Kt,s[0]),hn=(L[0]=Qt,s[0])|0;l[(d|0)>>2]=0|cn,l[(d+4|0)>>2]=hn,p[(l[u]+8>>2)+(3*l[f>>2]|0)]=Gt;var pn=l[u]+12*l[i]|0,dn=(L[0]=Zt,s[0]),vn=(L[0]=en,s[0])|0;l[(pn|0)>>2]=0|dn,l[(pn+4|0)>>2]=vn,p[(l[u]+8>>2)+(3*l[i]|0)]=tn;var mn=l[u]+12*l[r]|0,gn=(L[0]=rn,s[0]),yn=(L[0]=sn,s[0])|0;l[(mn|0)>>2]=0|gn,l[(mn+4|0)>>2]=yn,p[(l[u]+8>>2)+(3*l[r]|0)]=on;var bn=l[u]+12*l[n]|0,wn=(L[0]=an,s[0]),En=(L[0]=fn,s[0])|0;return l[(bn|0)>>2]=0|wn,l[(bn+4|0)>>2]=En,p[(l[u]+8>>2)+(3*l[n]|0)]=ln,1},0,function(){var e=a;P(N.$g|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),a=e},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n=t+76|0,r=l[n+4>>2];l[e>>2]=l[n>>2],l[e+4>>2]=r},0,function(e,t){var n;n=l[t+52>>2]>>2;var r=p[n+6],i=p[t+68>>2],s=p[n+5],o=p[t+72>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t,n){var r=p[t+100>>2]*n;p[e>>2]=p[t+96>>2]*n,p[e+4>>2]=r},0,Sb(0),0,function(){var e=a;P(N.Gh|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),a=e},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r,i,o=e>>2;n=l[o+13],i=n>>2;var u=l[i+2];r=(e+116|0)>>2,l[r]=u;var a=e+128|0;n=n+28|0;var f=l[n+4>>2];l[a>>2]=l[n>>2],l[a+4>>2]=f;var h=e+136|0;p[h>>2]=p[i+30];var d=e+140|0;p[d>>2]=p[i+32],n=l[t+24>>2];var v=n+12*u|0,f=l[v+4>>2],m=(s[0]=l[v>>2],L[0]),g=(s[0]=f,L[0]),y=p[(n+8>>2)+(3*u|0)];n=(t+28|0)>>2;var b=l[n],f=b+12*u|0,v=l[f+4>>2],f=(s[0]=l[f>>2],L[0]),v=(s[0]=v,L[0]),u=p[(b+8>>2)+(3*u|0)],b=Yk(y),w=Zk(y),E=p[i+29],S=6.2831854820251465*p[o+21],y=p[t>>2];i=y*E*S*S,E=2*E*p[o+22]*S+i,1.1920928955078125e-7<E||O(N.da|0,125,N.se|0,N.yh|0),y*=E,y=0!=y?1/y:y,p[o+27]=y,i*=y,p[o+23]=i,E=p[o+17]-p[a>>2],S=p[o+18]-p[o+33],a=w*E-b*S,b=b*E+w*S,w=e+120|0,E=(L[0]=a,s[0]),S=(L[0]=b,s[0])|0,l[(w|0)>>2]=0|E,l[(w+4|0)>>2]=S,h=p[h>>2],d=p[d>>2],w=h+d*b*b+y,E=a*-d*b,y=h+d*a*a+y,S=w*y-E*E,S=0!=S?1/S:S,E*=-S,p[o+36]=S*y,p[o+37]=E,p[o+38]=E,p[o+39]=S*w,y=e+160|0,m=m+a-p[o+19],g=g+b-p[o+20],w=(L[0]=m,s[0]),E=(L[0]=g,s[0]),l[(y|0)>>2]=0|w,l[(y+4|0)>>2]=E|0,p[y>>2]=m*i,p[o+41]=g*i,m=.9800000190734863*u,u=e+96|0,0==(c[t+20|0]&1)<<24>>24?(p[u>>2]=0,p[o+25]=0,o=f):(g=p[t+8>>2],u|=0,o=p[u>>2]*g,p[u>>2]=o,u=e+100|0,g*=p[u>>2],p[u>>2]=g,m+=d*(a*g-b*o),o=f+o*h,v+=g*h),f=l[n]+12*l[r]|0,o=(L[0]=o,s[0]),v=(L[0]=v,s[0])|0,l[(f|0)>>2]=0|o,l[(f+4|0)>>2]=v,p[(l[n]+8>>2)+(3*l[r]|0)]=m},0,function(e,t){var n,r,i,o=e>>2,u=e+116|0,a=l[u>>2];i=(t+28|0)>>2;var f=l[i],c=f+12*a|0,h=l[c+4>>2],c=(s[0]=l[c>>2],L[0]),h=(s[0]=h,L[0]),f=p[(f+8>>2)+(3*a|0)],d=p[o+31],v=p[o+30],m=p[o+27],g=e+96|0;r=(g|0)>>2;var y=p[r];n=(e+100|0)>>2;var b=p[n],w=-(c+d*-f+p[o+40]+y*m),E=-(h+v*f+p[o+41]+b*m),m=p[o+36]*w+p[o+38]*E,E=p[o+37]*w+p[o+39]*E,w=l[g+4>>2],g=(s[0]=l[g>>2],L[0]),w=(s[0]=w,L[0]),y=y+m;p[r]=y,b+=E,p[n]=b,m=p[t>>2]*p[o+26],E=y*y+b*b,E>m*m?(E=dg(E),m/=E,y*=m,p[r]=y,r=b*m,p[n]=r,n=y):(n=y,r=b),n-=g,r-=w,g=p[o+34],o=f+p[o+35]*(v*r-d*n),a=l[i]+12*a|0,c=(L[0]=c+n*g,s[0]),h=(L[0]=h+r*g,s[0])|0,l[(a|0)>>2]=0|c,l[(a+4|0)>>2]=h,p[(l[i]+8>>2)+(3*l[u>>2]|0)]=o},0,Sb(1),0,function(e,t){var n;n=l[t+48>>2]>>2;var r=p[n+6],i=p[t+68>>2],s=p[n+5],o=p[t+72>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t){var n;n=l[t+52>>2]>>2;var r=p[n+6],i=p[t+76>>2],s=p[n+5],o=p[t+80>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t,n){var t=t>>2,r=p[t+26],i=p[t+29]+p[t+28],s=(p[t+49]*r+p[t+47]*i)*n;p[e>>2]=(p[t+48]*r+p[t+46]*i)*n,p[e+4>>2]=s},0,function(e,t){return p[e+108>>2]*t},0,function(e){var t=e>>2,n=a,i=l[l[t+12]+8>>2],o=l[l[t+13]+8>>2];P(N.qg|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.A|0,(r=a,a+=4,l[r>>2]=i,r)),P(N.B|0,(r=a,a+=4,l[r>>2]=o,r)),i=c[e+61|0]&1,P(N.C|0,(r=a,a+=4,l[r>>2]=i,r)),i=p[t+17],o=p[t+18],P(N.K|0,(r=a,a+=16,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=o,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),i=p[t+19],o=p[t+20],P(N.L|0,(r=a,a+=16,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=o,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),i=p[t+21],o=p[t+22],P(N.Zb|0,(r=a,a+=16,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=o,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),i=p[t+25],P(N.bb|0,(r=a,a+=8,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),i=c[e+136|0]&1,P(N.ac|0,(r=a,a+=4,l[r>>2]=i,r)),i=p[t+30],P(N.kf|0,(r=a,a+=8,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),i=p[t+31],P(N.uf|0,(r=a,a+=8,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=c[e+137|0]&1,P(N.cb|0,(r=a,a+=4,l[r>>2]=e,r)),e=p[t+33],P(N.eb|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+32],P(N.Lf|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),t=l[t+14],P(N.z|0,(r=a,a+=4,l[r>>2]=t,r)),a=n},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r,i,u,a,f,h=e>>2,d=l[h+12];f=d>>2;var v=o[f+2],m=e+144|0;l[m>>2]=v;var g=l[h+13];a=g>>2;var y=l[a+2];u=(e+148|0)>>2,l[u]=y;var b=d+28|0,w=e+152|0,E=l[b>>2],S=l[b+4>>2];l[w>>2]=E,l[w+4>>2]=S;var x=g+28|0,T=e+160|0,N=l[x>>2],C=l[x+4>>2];l[T>>2]=N,l[T+4>>2]=C;var k=p[f+30];p[h+42]=k;var A=p[a+30];p[h+43]=A;var O=p[f+32];p[h+44]=O;var M=p[a+32];p[h+45]=M;var _=l[t+24>>2],D=_+12*v|0,P=l[D+4>>2],H=(s[0]=l[D>>2],L[0]),B=(s[0]=P,L[0]),j=p[(_+8>>2)+(3*v|0)];i=(t+28|0)>>2;var F=l[i],I=F+12*v|0,q=l[I+4>>2],R=(s[0]=l[I>>2],L[0]),U=(s[0]=q,L[0]),z=p[(F+8>>2)+(3*v|0)],W=_+12*y|0,X=l[W+4>>2],V=(s[0]=l[W>>2],L[0]),$=(s[0]=X,L[0]),J=p[(_+8>>2)+(3*y|0)],K=F+12*y|0,Q=l[K+4>>2],G=(s[0]=l[K>>2],L[0]),Y=(s[0]=Q,L[0]),Z=p[(F+8>>2)+(3*y|0)],et=Yk(j),tt=Zk(j),nt=Yk(J),rt=Zk(J),it=p[h+17],st=(s[0]=E,L[0]),ot=it-st,ut=p[h+18],at=(s[0]=S,L[0]),ft=ut-at,lt=tt*ot-et*ft,ct=et*ot+tt*ft,ht=p[h+19],pt=(s[0]=N,L[0]),dt=ht-pt,vt=p[h+20],mt=(s[0]=C,L[0]),gt=vt-mt,yt=rt*dt-nt*gt,bt=nt*dt+rt*gt,wt=V-H+yt-lt,Et=$-B+bt-ct,St=p[h+21],xt=p[h+22],Tt=tt*St-et*xt,Nt=et*St+tt*xt,Ct=e+184|0,kt=(L[0]=Tt,s[0]),Lt=(L[0]=Nt,s[0])|0;l[Ct>>2]=0|kt,l[Ct+4>>2]=Lt;var At=wt+lt,Ot=Et+ct,Mt=At*Nt-Ot*Tt;p[h+52]=Mt;var _t=yt*Nt-bt*Tt;p[h+53]=_t;var Dt=k+A,Pt=O*Mt,Ht=M*_t,Bt=Dt+Pt*Mt+Ht*_t;p[h+63]=0<Bt?1/Bt:Bt;var jt=p[h+23],Ft=p[h+24],It=tt*jt-et*Ft,qt=et*jt+tt*Ft,Rt=e+192|0,Ut=(L[0]=It,s[0]),zt=(L[0]=qt,s[0])|0;l[Rt>>2]=0|Ut,l[Rt+4>>2]=zt;var Wt=At*qt-Ot*It;p[h+50]=Wt;var Xt=yt*qt-bt*It;p[h+51]=Xt;var Vt=O*Wt,$t=M*Xt,Jt=Vt+$t,Kt=Vt*Mt+$t*_t,Qt=O+M,Gt=0==Qt?1:Qt,Yt=Pt+Ht;p[h+54]=Dt+Vt*Wt+$t*Xt,p[h+55]=Jt,p[h+56]=Kt,p[h+57]=Jt,p[h+58]=Gt,p[h+59]=Yt,p[h+60]=Kt,p[h+61]=Yt,p[h+62]=Bt;if(0==(c[e+136|0]&1)<<24>>24)l[h+35]=0,p[h+28]=0;else{var Zt=Tt*wt+Nt*Et,en=p[h+31],tn=p[h+30],nn=en-tn;if(.009999999776482582>(0<nn?nn:-nn))l[h+35]=3;else if(Zt>tn)r=(e+140|0)>>2,Zt<en?(l[r]=0,p[h+28]=0):2!=(l[r]|0)&&(l[r]=2,p[h+28]=0);else{var rn=e+140|0;1!=(l[rn>>2]|0)&&(l[rn>>2]=1,p[h+28]=0)}}0==(c[e+137|0]&1)<<24>>24&&(p[h+29]=0);var sn=e+104|0;if(0==(c[t+20|0]&1)<<24>>24){n=sn>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0;var on=Z,un=z,an=R,fn=U,ln=G,cn=Y}else{var hn=t+8|0,pn=p[hn>>2],dn=sn|0,vn=p[dn>>2]*pn;p[dn>>2]=vn;var mn=e+108|0,gn=p[mn>>2]*pn;p[mn>>2]=gn;var yn=e+112|0,bn=p[yn>>2]*pn;p[yn>>2]=bn;var wn=e+116|0,En=p[wn>>2]*p[hn>>2];p[wn>>2]=En;var Sn=En+bn,xn=It*vn+Tt*Sn,Tn=qt*vn+Nt*Sn,on=Z+M*(vn*Xt+gn+Sn*_t),un=z-O*(vn*Wt+gn+Sn*Mt),an=R-xn*k,fn=U-Tn*k,ln=G+xn*A,cn=Y+Tn*A}var Nn=l[i]+12*v|0,Cn=(L[0]=an,s[0]),kn=(L[0]=fn,s[0])|0;l[(Nn|0)>>2]=0|Cn,l[(Nn+4|0)>>2]=kn,p[(l[i]+8>>2)+(3*l[m>>2]|0)]=un;var Ln=l[i]+12*l[u]|0,An=(L[0]=ln,s[0]),On=(L[0]=cn,s[0])|0;l[(Ln|0)>>2]=0|An,l[(Ln+4|0)>>2]=On,p[(l[i]+8>>2)+(3*l[u]|0)]=on},0,function(e,t){var n,r,i,u,f,h,d,v=e>>2,m=a;a+=24;var g,y=m+12;d=y>>2,h=(e+144|0)>>2;var b=o[h];f=(t+28|0)>>2;var w=l[f],E=w+12*b|0,S=l[E+4>>2],x=(s[0]=l[E>>2],L[0]),T=(s[0]=S,L[0]),N=p[(w+8>>2)+(3*b|0)];u=(e+148|0)>>2;var C=l[u],k=w+12*C|0,A=l[k+4>>2],O=(s[0]=l[k>>2],L[0]),M=(s[0]=A,L[0]),_=p[(w+8>>2)+(3*C|0)],D=p[v+42],P=p[v+43],H=p[v+44],B=p[v+45];if(0==(c[e+137|0]&1)<<24>>24)var j=_,F=N,I=x,q=T,R=O,U=M;else if(3==(l[v+35]|0))j=_,F=N,I=x,q=T,R=O,U=M;else{var z=p[v+46],W=p[v+47],X=p[v+53],V=p[v+52],$=e+116|0,J=p[$>>2],K=p[t>>2]*p[v+32],Q=J+p[v+63]*(p[v+33]-(z*(O-x)+W*(M-T)+X*_-V*N)),G=-K,Y=Q<K?Q:K,Z=Y<G?G:Y;p[$>>2]=Z;var et=Z-J,tt=z*et,nt=W*et,j=_+B*et*X,F=N-H*et*V,I=x-tt*D,q=T-nt*D,R=O+tt*P,U=M+nt*P}var rt=R-I,it=U-q,st=e+192|0,ot=p[st>>2],ut=e+196|0,at=p[ut>>2],ft=e+204|0,lt=p[ft>>2],ct=e+200|0,ht=p[ct>>2],pt=ot*rt+at*it+lt*j-ht*F,dt=j-F;if(0==(c[e+136|0]&1)<<24>>24)g=13;else{var vt=e+140|0;if(0==(l[vt>>2]|0))g=13;else{var mt=e+184|0,gt=e+188|0,yt=e+212|0,bt=e+208|0;i=(e+104|0)>>2;var wt=p[i];r=(e+108|0)>>2;var Et=p[r];n=(e+112|0)>>2;var St=p[n],xt=e+216|0,Tt=-pt,Nt=-dt,Ct=-(p[mt>>2]*rt+p[gt>>2]*it+p[yt>>2]*j-p[bt>>2]*F);p[d]=Tt,p[d+1]=Nt,p[d+2]=Ct,um(m,xt,y);var kt=m|0;p[i]+=p[kt>>2];var Lt=m+4|0;p[r]+=p[Lt>>2];var At=m+8|0,Ot=p[n]+p[At>>2];p[n]=Ot;var Mt=l[vt>>2];if(1==(Mt|0))var _t=0<Ot?Ot:0,Dt=p[n]=_t;else if(2==(Mt|0))var Pt=0>Ot?Ot:0,Dt=p[n]=Pt;else Dt=Ot;var Ht=Dt-St,Bt=Tt-p[v+60]*Ht,jt=Nt-p[v+61]*Ht,Ft=p[xt>>2],It=p[v+57],qt=p[v+55],Rt=p[v+58],Ut=Ft*Rt-It*qt,zt=0!=Ut?1/Ut:Ut,Wt=zt*(Rt*Bt-It*jt)+wt,Xt=zt*(Ft*jt-qt*Bt)+Et;p[i]=Wt,p[r]=Xt;var Vt=Wt-wt,$t=Xt-Et;p[kt>>2]=Vt,p[Lt>>2]=$t,p[At>>2]=Ht;var Jt=Vt*p[ft>>2]+$t+Ht*p[yt>>2],Kt=Vt*p[ct>>2]+$t+Ht*p[bt>>2],Qt=p[st>>2]*Vt+p[mt>>2]*Ht,Gt=p[ut>>2]*Vt+p[gt>>2]*Ht,Yt=l[h];g=16}}if(13==g){var Zt=-pt,en=-dt,tn=p[v+54],nn=p[v+57],rn=p[v+55],sn=p[v+58],on=tn*sn-nn*rn,un=0!=on?1/on:on,an=un*(sn*Zt-nn*en),fn=un*(tn*en-rn*Zt),ln=e+104|0;p[ln>>2]+=an;var cn=e+108|0;p[cn>>2]+=fn,Jt=an*lt+fn,Kt=an*ht+fn,Qt=ot*an,Gt=at*an,Yt=b}var hn=j+B*Jt,pn=F-H*Kt,dn=q-Gt*D,vn=R+Qt*P,mn=U+Gt*P,gn=l[f]+12*Yt|0,yn=(L[0]=I-Qt*D,s[0]),bn=(L[0]=dn,s[0])|0;l[(gn|0)>>2]=0|yn,l[(gn+4|0)>>2]=bn,p[(l[f]+8>>2)+(3*l[h]|0)]=pn;var wn=l[f]+12*l[u]|0,En=(L[0]=vn,s[0]),Sn=(L[0]=mn,s[0])|0;l[(wn|0)>>2]=0|En,l[(wn+4|0)>>2]=Sn,p[(l[f]+8>>2)+(3*l[u]|0)]=hn,a=m},0,function(e,t){var n,r,i=e>>2,o=e+144|0,u=l[o>>2];r=(t+24|0)>>2;var a=l[r],f=a+12*u|0,h=l[f+4>>2],d=(s[0]=l[f>>2],L[0]),v=(s[0]=h,L[0]),m=p[(a+8>>2)+(3*u|0)];n=(e+148|0)>>2;var g=l[n],y=a+12*g|0,b=l[y+4>>2],w=(s[0]=l[y>>2],L[0]),E=(s[0]=b,L[0]),S=p[(a+8>>2)+(3*g|0)],x=Yk(m),T=Zk(m),N=Yk(S),C=Zk(S),k=p[i+42],A=p[i+43],O=p[i+44],M=p[i+45],_=p[i+17]-p[i+38],D=p[i+18]-p[i+39],P=T*_-x*D,H=x*_+T*D,B=p[i+19]-p[i+40],j=p[i+20]-p[i+41],F=C*B-N*j,I=N*B+C*j,q=w+F-d-P,R=E+I-v-H,U=p[i+21],z=p[i+22],W=T*U-x*z,X=x*U+T*z,V=q+P,$=R+H,J=V*X-$*W,K=F*X-I*W,Q=p[i+23],G=p[i+24],Y=T*Q-x*G,Z=x*Q+T*G,et=V*Z-$*Y,tt=F*Z-I*Y,nt=Y*q+Z*R,rt=S-m-p[i+25],it=0<nt?nt:-nt,st=0<rt?rt:-rt;if(0==(c[e+136|0]&1)<<24>>24)var ot=0,ut=0,at=it;else{var ft=W*q+X*R,lt=p[i+31],ct=p[i+30],ht=lt-ct;if(.009999999776482582>(0<ht?ht:-ht))var pt=.20000000298023224>ft?ft:.20000000298023224,dt=0<ft?ft:-ft,vt=it>dt?it:dt,ot=-0.20000000298023224>pt?-0.20000000298023224:pt,ut=1,at=vt;else if(ft>ct)if(ft<lt)ut=ot=0,at=it;else var mt=ft-lt,gt=mt-.004999999888241291,yt=.20000000298023224>gt?gt:.20000000298023224,bt=it>mt?it:mt,ot=0>yt?0:yt,ut=1,at=bt;else var wt=ft-ct+.004999999888241291,Et=0>wt?wt:0,St=ct-ft,xt=it>St?it:St,ot=-0.20000000298023224>Et?-0.20000000298023224:Et,ut=1,at=xt}var Tt=k+A,Nt=O*et,Ct=M*tt,kt=Tt+Nt*et+Ct*tt,Lt=Nt+Ct;if(ut)var At=Nt*J+Ct*K,Ot=O+M,Mt=0==Ot?1:Ot,_t=O*J,Dt=M*K,Pt=_t+Dt,Ht=Tt+_t*J+Dt*K,Bt=-nt,jt=-rt,Ft=-ot,It=Mt*Ht-Pt*Pt,qt=Pt*At-Lt*Ht,Rt=Lt*Pt-Mt*At,Ut=kt*It+Lt*qt+At*Rt,zt=0!=Ut?1/Ut:Ut,Wt=Pt*Bt,Xt=zt*(It*Bt+qt*jt+Rt*Ft),Vt=zt*(kt*(Ht*jt-Pt*Ft)+Lt*(At*Ft-Ht*Bt)+At*(Wt-At*jt)),$t=zt*(kt*(Mt*Ft-Pt*jt)+Lt*(Wt-Lt*Ft)+At*(Lt*jt-Mt*Bt));else var Jt=O+M,Kt=0==Jt?1:Jt,Qt=-nt,Gt=-rt,Yt=kt*Kt-Lt*Lt,Zt=0!=Yt?1/Yt:Yt,Xt=Zt*(Kt*Qt-Lt*Gt),Vt=Zt*(kt*Gt-Lt*Qt),$t=0;var en=Y*Xt+W*$t,tn=Z*Xt+X*$t,nn=v-tn*k,rn=m-O*(Xt*et+Vt+$t*J),sn=w+en*A,on=E+tn*A,un=S+M*(Xt*tt+Vt+$t*K),an=(L[0]=d-en*k,s[0]),fn=(L[0]=nn,s[0])|0;l[(f|0)>>2]=0|an,l[(f+4|0)>>2]=fn,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=rn;var ln=l[r]+12*l[n]|0,cn=(L[0]=sn,s[0]),hn=(L[0]=on,s[0])|0;return l[(ln|0)>>2]=0|cn,l[(ln+4|0)>>2]=hn,p[(l[r]+8>>2)+(3*l[n]|0)]=un,.004999999888241291<at?0:.03490658849477768>=st},0,function(e,t){var n;n=l[t+48>>2]>>2;var r=p[n+6],i=p[t+92>>2],s=p[n+5],o=p[t+96>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t){var n;n=l[t+52>>2]>>2;var r=p[n+6],i=p[t+100>>2],s=p[n+5],o=p[t+104>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t,n){var r=p[t+116>>2],i=p[t+140>>2]*r*n;p[e>>2]=p[t+136>>2]*r*n,p[e+4>>2]=i},0,Sb(0),0,function(e){var t=e>>2,n=a,i=l[l[t+12]+8>>2],o=l[l[t+13]+8>>2];P(N.dh|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.A|0,(r=a,a+=4,l[r>>2]=i,r)),P(N.B|0,(r=a,a+=4,l[r>>2]=o,r)),e=c[e+61|0]&1,P(N.C|0,(r=a,a+=4,l[r>>2]=e,r)),e=p[t+17],i=p[t+18],P(N.Lh|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+19],i=p[t+20],P(N.Qh|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+23],i=p[t+24],P(N.K|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+25],i=p[t+26],P(N.L|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+21],P(N.lf|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+22],P(N.vf|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+28],P(N.Hb|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),t=l[t+14],P(N.z|0,(r=a,a+=4,l[r>>2]=t,r)),a=n},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r,i,o,u=e>>2,a=l[u+12];o=a>>2;var f=l[o+2],h=e+120|0;l[h>>2]=f;var d=l[u+13];i=d>>2;var v=l[i+2];r=(e+124|0)>>2,l[r]=v;var m=a+28|0,g=e+160|0,y=l[m>>2],b=l[m+4>>2];l[g>>2]=y,l[g+4>>2]=b;var w=d+28|0,E=e+168|0,S=l[w>>2],x=l[w+4>>2];l[E>>2]=S,l[E+4>>2]=x;var T=p[o+30];p[u+44]=T;var N=p[i+30];p[u+45]=N;var C=p[o+32];p[u+46]=C;var k=p[i+32];p[u+47]=k;var A=l[t+24>>2],O=A+12*f|0,M=l[O+4>>2],_=(s[0]=l[O>>2],L[0]),D=(s[0]=M,L[0]),P=p[(A+8>>2)+(3*f|0)];n=(t+28|0)>>2;var H=l[n],B=H+12*f|0,j=l[B+4>>2],F=(s[0]=l[B>>2],L[0]),I=(s[0]=j,L[0]),q=p[(H+8>>2)+(3*f|0)],R=A+12*v|0,U=l[R+4>>2],z=(s[0]=l[R>>2],L[0]),W=(s[0]=U,L[0]),X=p[(A+8>>2)+(3*v|0)],V=H+12*v|0,$=l[V+4>>2],J=(s[0]=l[V>>2],L[0]),K=(s[0]=$,L[0]),Q=p[(H+8>>2)+(3*v|0)],G=Yk(P),Y=Zk(P),Z=Yk(X),et=Zk(X),tt=e+144|0,nt=p[u+23],rt=(s[0]=y,L[0]),it=nt-rt,st=p[u+24],ot=(s[0]=b,L[0]),ut=st-ot,at=Y*it-G*ut,ft=G*it+Y*ut,lt=(L[0]=at,s[0]),ct=(L[0]=ft,s[0])|0;l[tt>>2]=0|lt,l[tt+4>>2]=ct;var ht=e+152|0,pt=p[u+25],dt=(s[0]=S,L[0]),vt=pt-dt,mt=p[u+26],gt=(s[0]=x,L[0]),yt=mt-gt,bt=et*vt-Z*yt,wt=Z*vt+et*yt,Et=(L[0]=bt,s[0]),St=(L[0]=wt,s[0])|0;l[ht>>2]=0|Et,l[ht+4>>2]=St;var xt=e+128|0,Tt=_+at-p[u+17],Nt=D+ft-p[u+18],Ct=(L[0]=Tt,s[0]),kt=(L[0]=Nt,s[0])|0;l[xt>>2]=0|Ct,l[xt+4>>2]=kt;var Lt=e+136|0,At=z+bt-p[u+19],Ot=W+wt-p[u+20],Mt=(L[0]=At,s[0]),_t=(L[0]=Ot,s[0])|0;l[Lt>>2]=0|Mt,l[Lt+4>>2]=_t;var Dt=xt|0,Pt=e+132|0,Ht=dg(Tt*Tt+Nt*Nt),Bt=Lt|0,jt=e+140|0,Ft=dg(At*At+Ot*Ot);if(.04999999701976776<Ht){var It=1/Ht,qt=Tt*It;p[Dt>>2]=qt;var Rt=Nt*It,Ut=qt}else Ut=Rt=p[Dt>>2]=0;p[Pt>>2]=Rt;if(.04999999701976776<Ft){var zt=1/Ft,Wt=At*zt;p[Bt>>2]=Wt;var Xt=Ot*zt,Vt=Wt}else Vt=Xt=p[Bt>>2]=0;p[jt>>2]=Xt;var $t=at*Rt-ft*Ut,Jt=bt*Xt-wt*Vt,Kt=p[u+28],Qt=T+C*$t*$t+Kt*Kt*(N+k*Jt*Jt);p[u+48]=0<Qt?1/Qt:Qt;if(0==(c[t+20|0]&1)<<24>>24){p[u+29]=0;var Gt=Q,Yt=q,Zt=F,en=I,tn=J,nn=K}else{var rn=e+116|0,sn=p[rn>>2]*p[t+8>>2];p[rn>>2]=sn;var on=-sn,un=Ut*on,an=Rt*on,fn=sn*-Kt,ln=Vt*fn,cn=Xt*fn,Gt=Q+k*(bt*cn-wt*ln),Yt=q+C*(at*an-ft*un),Zt=F+un*T,en=I+an*T,tn=J+ln*N,nn=K+cn*N}var hn=l[n]+12*f|0,pn=(L[0]=Zt,s[0]),dn=(L[0]=en,s[0])|0;l[(hn|0)>>2]=0|pn,l[(hn+4|0)>>2]=dn,p[(l[n]+8>>2)+(3*l[h>>2]|0)]=Yt;var vn=l[n]+12*l[r]|0,mn=(L[0]=tn,s[0]),gn=(L[0]=nn,s[0])|0;l[(vn|0)>>2]=0|mn,l[(vn+4|0)>>2]=gn,p[(l[n]+8>>2)+(3*l[r]|0)]=Gt},0,function(e,t){var n,r,i=e>>2,o=e+120|0,u=l[o>>2];r=(t+28|0)>>2;var a=l[r],f=a+12*u|0;n=l[f+4>>2];var c=(s[0]=l[f>>2],L[0]),h=(s[0]=n,L[0]),d=p[(a+8>>2)+(3*u|0)];n=(e+124|0)>>2;var v=l[n],f=a+12*v|0,m=l[f+4>>2],f=(s[0]=l[f>>2],L[0]),m=(s[0]=m,L[0]),a=p[(a+8>>2)+(3*v|0)],g=p[i+37],y=p[i+36],v=p[i+39],b=p[i+38],w=p[i+32],E=p[i+33],S=p[i+28],x=p[i+34],T=p[i+35],N=(-(w*(c+g*-d)+E*(h+y*d))-S*(x*(f+v*-a)+T*(m+b*a)))*-p[i+48],C=e+116|0;p[C>>2]+=N,C=-N,w*=C,E*=C,S=N*-S,x*=S,T*=S,S=p[i+44],g=d+p[i+46]*(y*E-g*w),d=p[i+45],i=a+p[i+47]*(b*T-v*x),u=l[r]+12*u|0,c=(L[0]=c+w*S,s[0]),h=(L[0]=h+E*S,s[0])|0,l[(u|0)>>2]=0|c,l[(u+4|0)>>2]=h,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=g,o=l[r]+12*l[n]|0,f=(L[0]=f+x*d,s[0]),m=(L[0]=m+T*d,s[0])|0,l[(o|0)>>2]=0|f,l[(o+4|0)>>2]=m,p[(l[r]+8>>2)+(3*l[n]|0)]=i},0,function(e,t){var n,r,i=e>>2,o=e+120|0;n=l[o>>2],r=(t+24|0)>>2;var u=l[r],a=u+12*n|0,f=l[a+4>>2],c=(s[0]=l[a>>2],L[0]),f=(s[0]=f,L[0]),h=p[(u+8>>2)+(3*n|0)];n=(e+124|0)>>2;var d=l[n],v=u+12*d|0,m=l[v+4>>2],v=(s[0]=l[v>>2],L[0]),m=(s[0]=m,L[0]),u=p[(u+8>>2)+(3*d|0)],g=Yk(h),y=Zk(h),b=Yk(u),w=Zk(u),E=p[i+23]-p[i+40],S=p[i+24]-p[i+41],d=y*E-g*S,y=g*E+y*S,E=p[i+25]-p[i+42],S=p[i+26]-p[i+43],g=w*E-b*S,b=b*E+w*S,x=c+d-p[i+17],S=f+y-p[i+18],E=v+g-p[i+19],w=m+b-p[i+20],T=dg(x*x+S*S),N=dg(E*E+w*w);if(.04999999701976776<T)var C=1/T,x=x*C,k=S*C;else k=x=0;if(.04999999701976776<N)var S=1/N,A=E*S,O=w*S;else O=A=0;var M=d*k-y*x,_=g*O-b*A,C=p[i+44],S=p[i+46],E=p[i+45],w=p[i+47],D=p[i+28],M=C+S*M*M+D*D*(E+w*_*_),i=p[i+27]-T-D*N,T=i*-(0<M?1/M:M),N=-T,x=x*N,k=k*N,T=T*-D,A=A*T,O=O*T,c=(L[0]=c+x*C,s[0]),f=(L[0]=f+k*C,s[0])|0;return l[(a|0)>>2]=0|c,l[(a+4|0)>>2]=f,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=h+S*(d*k-y*x),o=l[r]+12*l[n]|0,a=(L[0]=v+A*E,s[0]),c=(L[0]=m+O*E,s[0])|0,l[(o|0)>>2]=0|a,l[(o+4|0)>>2]=c,p[(l[r]+8>>2)+(3*l[n]|0)]=u+w*(g*O-b*A),.004999999888241291>(0<i?i:-i)},0,function(e,t){var n;n=l[t+48>>2]>>2;var r=p[n+6],i=p[t+68>>2],s=p[n+5],o=p[t+72>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t){var n;n=l[t+52>>2]>>2;var r=p[n+6],i=p[t+76>>2],s=p[n+5],o=p[t+80>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t,n){var r=p[t+88>>2]*n;p[e>>2]=p[t+84>>2]*n,p[e+4>>2]=r},0,function(e,t){return p[e+92>>2]*t},0,function(e){var t=e>>2,n=a,i=l[l[t+12]+8>>2],o=l[l[t+13]+8>>2];P(N.sg|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.A|0,(r=a,a+=4,l[r>>2]=i,r)),P(N.B|0,(r=a,a+=4,l[r>>2]=o,r)),i=c[e+61|0]&1,P(N.C|0,(r=a,a+=4,l[r>>2]=i,r)),i=p[t+17],o=p[t+18],P(N.K|0,(r=a,a+=16,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=o,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),i=p[t+19],o=p[t+20],P(N.L|0,(r=a,a+=16,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=o,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),i=p[t+29],P(N.bb|0,(r=a,a+=8,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),i=c[e+112|0]&1,P(N.ac|0,(r=a,a+=4,l[r>>2]=i,r)),i=p[t+30],P(N.ef|0,(r=a,a+=8,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),i=p[t+31],P(N.mf|0,(r=a,a+=8,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=c[e+100|0]&1,P(N.cb|0,(r=a,a+=4,l[r>>2]=e,r)),e=p[t+27],P(N.eb|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+26],P(N.bc|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),t=l[t+14],P(N.z|0,(r=a,a+=4,l[r>>2]=t,r)),a=n},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r,i,u,a,f,h=e>>2,d=l[h+12];f=d>>2;var v=o[f+2],m=e+128|0;l[m>>2]=v;var g=l[h+13];a=g>>2;var y=l[a+2];u=(e+132|0)>>2,l[u]=y;var b=d+28|0,w=e+152|0,E=l[b>>2],S=l[b+4>>2];l[w>>2]=E,l[w+4>>2]=S;var x=g+28|0,T=e+160|0,N=l[x>>2],C=l[x+4>>2];l[T>>2]=N,l[T+4>>2]=C;var k=p[f+30];p[h+42]=k;var A=p[a+30];p[h+43]=A;var O=p[f+32];p[h+44]=O;var M=p[a+32];p[h+45]=M;var _=l[t+24>>2],D=p[(_+8>>2)+(3*v|0)];i=(t+28|0)>>2;var P=l[i],H=P+12*v|0,B=l[H+4>>2],j=(s[0]=l[H>>2],L[0]),F=(s[0]=B,L[0]),I=p[(P+8>>2)+(3*v|0)],q=p[(_+8>>2)+(3*y|0)],R=P+12*y|0,U=l[R+4>>2],z=(s[0]=l[R>>2],L[0]),W=(s[0]=U,L[0]),X=p[(P+8>>2)+(3*y|0)],V=Yk(D),$=Zk(D),J=Yk(q),K=Zk(q),Q=e+136|0,G=p[h+17],Y=(s[0]=E,L[0]),Z=G-Y,et=p[h+18],tt=(s[0]=S,L[0]),nt=et-tt,rt=$*Z-V*nt,it=V*Z+$*nt,st=(L[0]=rt,s[0]),ot=(L[0]=it,s[0])|0;l[Q>>2]=0|st,l[Q+4>>2]=ot;var ut=e+144|0,at=p[h+19],ft=(s[0]=N,L[0]),lt=at-ft,ct=p[h+20],ht=(s[0]=C,L[0]),pt=ct-ht,dt=K*lt-J*pt,vt=J*lt+K*pt,mt=(L[0]=dt,s[0]),gt=(L[0]=vt,s[0])|0;l[ut>>2]=0|mt,l[ut+4>>2]=gt;var yt=O+M,bt=0==yt,wt=k+A;p[h+46]=wt+it*it*O+vt*vt*M;var Et=-it,St=rt*Et*O-vt*dt*M;p[h+49]=St;var xt=O*Et-vt*M;p[h+52]=xt,p[h+47]=St,p[h+50]=wt+rt*rt*O+dt*dt*M;var Tt=rt*O+dt*M;p[h+53]=Tt,p[h+48]=xt,p[h+51]=Tt,p[h+54]=yt,p[h+55]=0<yt?1/yt:yt,0==(c[e+100|0]&1)<<24>>24|bt&&(p[h+24]=0);if(0==(c[e+112|0]&1)<<24>>24|bt)l[h+56]=0;else{var Nt=q-D-p[h+29],Ct=p[h+31],kt=p[h+30],Lt=Ct-kt;if(.06981317698955536>(0<Lt?Lt:-Lt))l[h+56]=3;else if(Nt>kt)r=(e+224|0)>>2,Nt<Ct?(l[r]=0,p[h+23]=0):(2!=(l[r]|0)&&(p[h+23]=0),l[r]=2);else{var At=e+224|0;1!=(l[At>>2]|0)&&(p[h+23]=0),l[At>>2]=1}}var Ot=e+84|0;if(0==(c[t+20|0]&1)<<24>>24){n=Ot>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0;var Mt=X,_t=I,Dt=j,Pt=F,Ht=z,Bt=W}else{var jt=t+8|0,Ft=p[jt>>2],It=Ot|0,qt=p[It>>2]*Ft;p[It>>2]=qt;var Rt=e+88|0,Ut=p[Rt>>2]*Ft;p[Rt>>2]=Ut;var zt=e+92|0,Wt=p[zt>>2]*Ft;p[zt>>2]=Wt;var Xt=e+96|0,Vt=p[Xt>>2]*p[jt>>2];p[Xt>>2]=Vt,Mt=X+M*(dt*Ut-vt*qt+Vt+Wt),_t=I-O*(rt*Ut-it*qt+Vt+Wt),Dt=j-qt*k,Pt=F-Ut*k,Ht=z+qt*A,Bt=W+Ut*A}var $t=l[i]+12*v|0,Jt=(L[0]=Dt,s[0]),Kt=(L[0]=Pt,s[0])|0;l[($t|0)>>2]=0|Jt,l[($t+4|0)>>2]=Kt,p[(l[i]+8>>2)+(3*l[m>>2]|0)]=_t;var Qt=l[i]+12*l[u]|0,Gt=(L[0]=Ht,s[0]),Yt=(L[0]=Bt,s[0])|0;l[(Qt|0)>>2]=0|Gt,l[(Qt+4|0)>>2]=Yt,p[(l[i]+8>>2)+(3*l[u]|0)]=Mt},0,function(e,t){var n,r,i,u,f,h,d,v=e>>2,m=a;a+=24;var g;d=m>>2;var y=m+12;h=y>>2,f=(e+128|0)>>2;var b=o[f];u=(t+28|0)>>2;var w=l[u],E=w+12*b|0,S=l[E+4>>2],x=(s[0]=l[E>>2],L[0]),T=(s[0]=S,L[0]),N=p[(w+8>>2)+(3*b|0)];i=(e+132|0)>>2;var C=l[i],k=w+12*C|0,A=l[k+4>>2],O=(s[0]=l[k>>2],L[0]),M=(s[0]=A,L[0]),_=p[(w+8>>2)+(3*C|0)],D=p[v+42],P=p[v+43],H=p[v+44],B=p[v+45],j=0==H+B;if(0==(c[e+100|0]&1)<<24>>24)var F=_,I=N;else if(3==(l[v+56]|0)|j)F=_,I=N;else{var q=e+96|0,R=p[q>>2],U=p[t>>2]*p[v+26],z=R+(_-N-p[v+27])*-p[v+55],W=-U,X=z<U?z:U,V=X<W?W:X;p[q>>2]=V;var $=V-R,F=_+B*$,I=N-H*$}if(0==(c[e+112|0]&1)<<24>>24)g=20;else{var J=e+224|0;if(0==(l[J>>2]|0)|j)g=20;else{var K=e+148|0,Q=e+144|0,G=e+140|0,Y=e+136|0,Z=O+p[K>>2]*-F-x-p[G>>2]*-I,et=M+p[Q>>2]*F-T-p[Y>>2]*I;p[d]=Z,p[d+1]=et,p[d+2]=F-I;var tt=e+184|0;um(y,tt,m);var nt=p[h],rt=-nt,it=p[h+1],st=-it,ot=p[h+2],ut=-ot,at=l[J>>2];if(3==(at|0)){var ft=e+84|0;p[ft>>2]-=nt;var lt=e+88|0;p[lt>>2]-=it;var ct=e+92|0;p[ct>>2]-=ot;var ht=rt,pt=st,dt=ut}else if(1==(at|0)){var vt=e+84|0;r=(e+92|0)>>2;var mt=p[r],gt=mt-ot;if(0>gt){var yt=p[v+52]*mt-Z,bt=p[v+53]*mt-et,wt=p[tt>>2],Et=p[v+49],St=p[v+47],xt=p[v+50],Tt=wt*xt-Et*St,Nt=0!=Tt?1/Tt:Tt,Ct=Nt*(xt*yt-Et*bt),kt=Nt*(wt*bt-St*yt),Lt=-mt,At=vt|0;p[At>>2]+=Ct;var Ot=e+88|0;p[Ot>>2]+=kt,p[r]=0,ht=Ct,pt=kt,dt=Lt}else{var Mt=vt|0;p[Mt>>2]-=nt;var _t=e+88|0;p[_t>>2]-=it,p[r]=gt,ht=rt,pt=st,dt=ut}}else if(2==(at|0)){var Dt=e+84|0;n=(e+92|0)>>2;var Pt=p[n],Ht=Pt-ot;if(0<Ht){var Bt=p[v+52]*Pt-Z,jt=p[v+53]*Pt-et,Ft=p[tt>>2],It=p[v+49],qt=p[v+47],Rt=p[v+50],Ut=Ft*Rt-It*qt,zt=0!=Ut?1/Ut:Ut,Wt=zt*(Rt*Bt-It*jt),Xt=zt*(Ft*jt-qt*Bt),Vt=-Pt,$t=Dt|0;p[$t>>2]+=Wt;var Jt=e+88|0;p[Jt>>2]+=Xt,p[n]=0,ht=Wt,pt=Xt,dt=Vt}else{var Kt=Dt|0;p[Kt>>2]-=nt;var Qt=e+88|0;p[Qt>>2]-=it,p[n]=Ht,ht=rt,pt=st,dt=ut}}else ht=rt,pt=st,dt=ut;var Gt=p[Q>>2]*pt-p[K>>2]*ht+dt,Yt=p[Y>>2]*pt-p[G>>2]*ht+dt,Zt=ht,en=pt,tn=l[f];g=23}}if(20==g){var nn=p[v+37],rn=p[v+36],sn=p[v+35],on=p[v+34],un=-(O+nn*-F-x-sn*-I),an=-(M+rn*F-T-on*I),fn=p[v+46],ln=p[v+49],cn=p[v+47],hn=p[v+50],pn=fn*hn-ln*cn,dn=0!=pn?1/pn:pn,vn=dn*(hn*un-ln*an),mn=dn*(fn*an-cn*un),gn=e+84|0;p[gn>>2]+=vn;var yn=e+88|0;p[yn>>2]+=mn,Gt=rn*mn-nn*vn,Yt=on*mn-sn*vn,Zt=vn,en=mn,tn=b}var bn=T-en*D,wn=O+Zt*P,En=M+en*P,Sn=F+B*Gt,xn=I-H*Yt,Tn=l[u]+12*tn|0,Nn=(L[0]=x-Zt*D,s[0]),Cn=(L[0]=bn,s[0])|0;l[(Tn|0)>>2]=0|Nn,l[(Tn+4|0)>>2]=Cn,p[(l[u]+8>>2)+(3*l[f]|0)]=xn;var kn=l[u]+12*l[i]|0,Ln=(L[0]=wn,s[0]),An=(L[0]=En,s[0])|0;l[(kn|0)>>2]=0|Ln,l[(kn+4|0)>>2]=An,p[(l[u]+8>>2)+(3*l[i]|0)]=Sn,a=m},0,function(e,t){var n,r,i=e>>2,o=e+128|0;n=l[o>>2],r=(t+24|0)>>2;var u=l[r],a=u+12*n|0,f=l[a+4>>2],h=(s[0]=l[a>>2],L[0]),f=(s[0]=f,L[0]),d=p[(u+8>>2)+(3*n|0)];n=(e+132|0)>>2;var v=l[n],m=u+12*v|0,g=l[m+4>>2],m=(s[0]=l[m>>2],L[0]),g=(s[0]=g,L[0]),v=p[(u+8>>2)+(3*v|0)],y=e+176|0,b=e+180|0;if(0==(c[e+112|0]&1)<<24>>24)u=d,d=v,v=0,y=p[y>>2],b=p[b>>2];else if(b=p[b>>2],y=p[y>>2],u=l[i+56],0==(u|0)|0==y+b)u=d,d=v,v=0;else{var w=v-d-p[i+29];if(3==(u|0))var u=w-p[i+30],u=.13962635397911072>u?u:.13962635397911072,u=-0.13962635397911072>u?-0.13962635397911072:u,w=u*-p[i+55],E=0<u?u:-u;else 1==(u|0)?(u=w-p[i+30],w=u+.03490658849477768,w=0>w?w:0,w=(-0.13962635397911072>w?-0.13962635397911072:w)*-p[i+55],E=-u):2==(u|0)?(u=w-p[i+31],w=u-.03490658849477768,w=.13962635397911072>w?w:.13962635397911072,w=(0>w?0:w)*-p[i+55],E=u):E=w=0;u=d-y*w,d=v+b*w,v=E}var E=Yk(u),S=Zk(u),x=Yk(d),T=Zk(d),N=p[i+17]-p[i+38],C=p[i+18]-p[i+39],w=S*N-E*C,S=E*N+S*C,N=p[i+19]-p[i+40],C=p[i+20]-p[i+41],E=T*N-x*C,x=x*N+T*C,k=m+E-h-w,A=g+x-f-S,T=dg(k*k+A*A),N=p[i+42],i=p[i+43],C=N+i,O=C+y*S*S+b*x*x,M=b*E,_=w*-y*S-M*x,C=C+y*w*w+M*E,M=O*C-_*_,M=0!=M?1/M:M,C=-(M*(C*k-_*A)),k=-(M*(O*A-_*k)),h=(L[0]=h-N*C,s[0]),f=(L[0]=f-N*k,s[0])|0;return l[(a|0)>>2]=0|h,l[(a+4|0)>>2]=f,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=u-y*(w*k-S*C),o=l[r]+12*l[n]|0,a=(L[0]=m+i*C,s[0]),h=(L[0]=g+i*k,s[0])|0,l[(o|0)>>2]=0|a,l[(o+4|0)>>2]=h,p[(l[r]+8>>2)+(3*l[n]|0)]=d+b*(E*k-x*C),.004999999888241291<T?0:.03490658849477768>=v},0,function(e,t){var n;n=l[t+48>>2]>>2;var r=p[n+6],i=p[t+68>>2],s=p[n+5],o=p[t+72>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t){var n;n=l[t+52>>2]>>2;var r=p[n+6],i=p[t+76>>2],s=p[n+5],o=p[t+80>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t,n){var n=p[t+92>>2]*n,r=p[t+108>>2]*n;p[e>>2]=p[t+104>>2]*n,p[e+4>>2]=r},0,Sb(0),0,function(e){var t=e>>2,n=a,i=l[l[t+12]+8>>2],o=l[l[t+13]+8>>2];P(N.ih|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.A|0,(r=a,a+=4,l[r>>2]=i,r)),P(N.B|0,(r=a,a+=4,l[r>>2]=o,r)),e=c[e+61|0]&1,P(N.C|0,(r=a,a+=4,l[r>>2]=e,r)),e=p[t+17],i=p[t+18],P(N.K|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+19],i=p[t+20],P(N.L|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+21],P(N.Hh|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),t=l[t+14],P(N.z|0,(r=a,a+=4,l[r>>2]=t,r)),a=n},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r,i,u,a=e>>2,f=l[a+12];u=f>>2;var h=o[u+2],d=e+96|0;l[d>>2]=h;var v=l[a+13];i=v>>2;var m=l[i+2];r=(e+100|0)>>2,l[r]=m;var g=f+28|0,y=e+128|0,b=l[g>>2],w=l[g+4>>2];l[y>>2]=b,l[y+4>>2]=w;var E=v+28|0,S=e+136|0,x=l[E>>2],T=l[E+4>>2];l[S>>2]=x,l[S+4>>2]=T;var N=p[u+30];p[a+36]=N;var C=p[i+30];p[a+37]=C;var k=p[u+32];p[a+38]=k;var A=p[i+32];p[a+39]=A;var O=l[t+24>>2],M=O+12*h|0,_=l[M+4>>2],D=(s[0]=l[M>>2],L[0]),P=(s[0]=_,L[0]),H=p[(O+8>>2)+(3*h|0)];n=(t+28|0)>>2;var B=l[n],j=B+12*h|0,F=l[j+4>>2],I=(s[0]=l[j>>2],L[0]),q=(s[0]=F,L[0]),R=p[(B+8>>2)+(3*h|0)],U=O+12*m|0,z=l[U+4>>2],W=(s[0]=l[U>>2],L[0]),X=(s[0]=z,L[0]),V=p[(O+8>>2)+(3*m|0)],$=B+12*m|0,J=l[$+4>>2],K=(s[0]=l[$>>2],L[0]),Q=(s[0]=J,L[0]),G=p[(B+8>>2)+(3*m|0)],Y=Yk(H),Z=Zk(H),et=Yk(V),tt=Zk(V),nt=e+112|0,rt=p[a+17],it=(s[0]=b,L[0]),st=rt-it,ot=p[a+18],ut=(s[0]=w,L[0]),at=ot-ut,ft=Z*st-Y*at,lt=Y*st+Z*at,ct=(L[0]=ft,s[0]),ht=(L[0]=lt,s[0])|0;l[nt>>2]=0|ct,l[nt+4>>2]=ht;var pt=e+120|0,dt=p[a+19],vt=(s[0]=x,L[0]),mt=dt-vt,gt=p[a+20],yt=(s[0]=T,L[0]),bt=gt-yt,wt=tt*mt-et*bt,Et=et*mt+tt*bt,St=(L[0]=wt,s[0]),xt=(L[0]=Et,s[0])|0;l[pt>>2]=0|St,l[pt+4>>2]=xt;var Tt=e+104|0,Nt=W+wt-D-ft,Ct=X+Et-P-lt,kt=(L[0]=Nt,s[0]),Lt=(L[0]=Ct,s[0])|0;l[Tt>>2]=0|kt,l[Tt+4>>2]=Lt;var At=Tt|0,Ot=e+108|0,Mt=dg(Nt*Nt+Ct*Ct);p[a+22]=Mt,l[a+41]=0<Mt-p[a+21]?2:0;if(.004999999888241291<Mt){var _t=1/Mt,Dt=Nt*_t;p[At>>2]=Dt;var Pt=Ct*_t;p[Ot>>2]=Pt;var Ht=ft*Pt-lt*Dt,Bt=wt*Pt-Et*Dt,jt=N+k*Ht*Ht+C+A*Bt*Bt;p[a+40]=0!=jt?1/jt:0;if(0==(c[t+20|0]&1)<<24>>24){p[a+23]=0;var Ft=G,It=R,qt=I,Rt=q,Ut=K,zt=Q}else{var Wt=e+92|0,Xt=p[Wt>>2]*p[t+8>>2];p[Wt>>2]=Xt;var Vt=Dt*Xt,$t=Pt*Xt,Ft=G+A*(wt*$t-Et*Vt),It=R-k*(ft*$t-lt*Vt),qt=I-Vt*N,Rt=q-$t*N,Ut=K+Vt*C,zt=Q+$t*C}var Jt=l[n]+12*h|0,Kt=(L[0]=qt,s[0]),Qt=(L[0]=Rt,s[0])|0;l[(Jt|0)>>2]=0|Kt,l[(Jt+4|0)>>2]=Qt,p[(l[n]+8>>2)+(3*l[d>>2]|0)]=It;var Gt=l[n]+12*l[r]|0,Yt=(L[0]=Ut,s[0]),Zt=(L[0]=zt,s[0])|0;l[(Gt|0)>>2]=0|Yt,l[(Gt+4|0)>>2]=Zt,p[(l[n]+8>>2)+(3*l[r]|0)]=Ft}else p[At>>2]=0,p[Ot>>2]=0,p[a+40]=0,p[a+23]=0},0,function(e,t){var n,r,i=e>>2,o=e+96|0,u=l[o>>2];r=(t+28|0)>>2;var a=l[r],f=a+12*u|0;n=l[f+4>>2];var c=(s[0]=l[f>>2],L[0]),h=(s[0]=n,L[0]),d=p[(a+8>>2)+(3*u|0)];n=(e+100|0)>>2;var v=l[n],f=a+12*v|0,m=l[f+4>>2],f=(s[0]=l[f>>2],L[0]),m=(s[0]=m,L[0]),a=p[(a+8>>2)+(3*v|0)],g=p[i+29],y=p[i+28],v=p[i+31],b=p[i+30],w=p[i+22]-p[i+21],E=p[i+26],S=p[i+27],x=E*(f+v*-a-(c+g*-d))+S*(m+b*a-(h+y*d)),T=e+92|0,N=p[T>>2],w=N+(0>w?x+p[t+4>>2]*w:x)*-p[i+40],w=0<w?0:w;p[T>>2]=w,T=w-N,E*=T,S*=T,T=p[i+36],g=d-p[i+38]*(y*S-g*E),d=p[i+37],i=a+p[i+39]*(b*S-v*E),u=l[r]+12*u|0,c=(L[0]=c-E*T,s[0]),h=(L[0]=h-S*T,s[0])|0,l[(u|0)>>2]=0|c,l[(u+4|0)>>2]=h,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=g,o=l[r]+12*l[n]|0,f=(L[0]=f+E*d,s[0]),m=(L[0]=m+S*d,s[0])|0,l[(o|0)>>2]=0|f,l[(o+4|0)>>2]=m,p[(l[r]+8>>2)+(3*l[n]|0)]=i},0,function(e,t){var n,r,i=e>>2,o=e+96|0;n=l[o>>2],r=(t+24|0)>>2;var u=l[r],a=u+12*n|0,f=l[a+4>>2],c=(s[0]=l[a>>2],L[0]),f=(s[0]=f,L[0]),h=p[(u+8>>2)+(3*n|0)];n=(e+100|0)>>2;var d=l[n],v=u+12*d|0,m=l[v+4>>2],v=(s[0]=l[v>>2],L[0]),m=(s[0]=m,L[0]),u=p[(u+8>>2)+(3*d|0)],g=Yk(h),y=Zk(h),b=Yk(u),w=Zk(u),E=p[i+17]-p[i+32],S=p[i+18]-p[i+33],d=y*E-g*S,y=g*E+y*S,E=p[i+19]-p[i+34],S=p[i+20]-p[i+35],g=w*E-b*S,E=b*E+w*S,S=v+g-c-d,w=m+E-f-y,b=dg(S*S+w*w);if(1.1920928955078125e-7>b)var b=0,x=w;else x=1/b,S*=x,x*=w;var w=e+84|0,T=b-p[w>>2],T=.20000000298023224>T?T:.20000000298023224,T=(0>T?0:T)*-p[i+40],S=S*T,x=x*T,T=p[i+36],d=h-p[i+38]*(d*x-y*S),h=p[i+37],i=u+p[i+39]*(g*x-E*S),c=(L[0]=c-S*T,s[0]),f=(L[0]=f-x*T,s[0])|0;return l[(a|0)>>2]=0|c,l[(a+4|0)>>2]=f,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=d,o=l[r]+12*l[n]|0,a=(L[0]=v+S*h,s[0]),c=(L[0]=m+x*h,s[0])|0,l[(o|0)>>2]=0|a,l[(o+4|0)>>2]=c,p[(l[r]+8>>2)+(3*l[n]|0)]=i,.004999999888241291>b-p[w>>2]},0,function(e,t){var n;n=l[t+48>>2]>>2;var r=p[n+6],i=p[t+80>>2],s=p[n+5],o=p[t+84>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t){var n;n=l[t+52>>2]>>2;var r=p[n+6],i=p[t+88>>2],s=p[n+5],o=p[t+92>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t,n){var r=p[t+108>>2]*n;p[e>>2]=p[t+104>>2]*n,p[e+4>>2]=r},0,function(e,t){return p[e+112>>2]*t},0,function(e){var t=e>>2,n=a,i=l[l[t+12]+8>>2],o=l[l[t+13]+8>>2];P(N.jh|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.A|0,(r=a,a+=4,l[r>>2]=i,r)),P(N.B|0,(r=a,a+=4,l[r>>2]=o,r)),e=c[e+61|0]&1,P(N.C|0,(r=a,a+=4,l[r>>2]=e,r)),e=p[t+20],i=p[t+21],P(N.K|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+22],i=p[t+23],P(N.L|0,(r=a,a+=16,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=i,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=p[t+24],P(N.bb|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+17],P(N.Oa|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+18],P(N.Pa|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),t=l[t+14],P(N.z|0,(r=a,a+=4,l[r>>2]=t,r)),a=n},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r,i,u,a,f=e>>2,h=l[f+12];a=h>>2;var d=o[a+2],v=e+116|0;l[v>>2]=d;var m=l[f+13];u=m>>2;var g=l[u+2];i=(e+120|0)>>2,l[i]=g;var y=h+28|0,b=e+140|0,w=l[y>>2],E=l[y+4>>2];l[b>>2]=w,l[b+4>>2]=E;var S=m+28|0,x=e+148|0,T=l[S>>2],N=l[S+4>>2];l[x>>2]=T,l[x+4>>2]=N;var C=p[a+30];p[f+39]=C;var k=p[u+30];p[f+40]=k;var A=p[a+32];p[f+41]=A;var O=p[u+32];p[f+42]=O;var M=l[t+24>>2],_=p[(M+8>>2)+(3*d|0)];r=(t+28|0)>>2;var D=l[r],P=D+12*d|0,H=l[P+4>>2],B=(s[0]=l[P>>2],L[0]),j=(s[0]=H,L[0]),F=p[(D+8>>2)+(3*d|0)],I=p[(M+8>>2)+(3*g|0)],q=D+12*g|0,R=l[q+4>>2],U=(s[0]=l[q>>2],L[0]),z=(s[0]=R,L[0]),W=p[(D+8>>2)+(3*g|0)],X=Yk(_),V=Zk(_),$=Yk(I),J=Zk(I),K=e+124|0,Q=p[f+20],G=(s[0]=w,L[0]),Y=Q-G,Z=p[f+21],et=(s[0]=E,L[0]),tt=Z-et,nt=V*Y-X*tt,rt=X*Y+V*tt,it=(L[0]=nt,s[0]),st=(L[0]=rt,s[0])|0;l[K>>2]=0|it,l[K+4>>2]=st;var ot=e+132|0,ut=p[f+22],at=(s[0]=T,L[0]),ft=ut-at,lt=p[f+23],ct=(s[0]=N,L[0]),ht=lt-ct,pt=J*ft-$*ht,dt=$*ft+J*ht,vt=(L[0]=pt,s[0]),mt=(L[0]=dt,s[0])|0;l[ot>>2]=0|vt,l[ot+4>>2]=mt;var gt=C+k,yt=gt+rt*rt*A+dt*dt*O,bt=-rt,wt=nt*bt*A-dt*pt*O,Et=A*bt-dt*O,St=gt+nt*nt*A+pt*pt*O,xt=nt*A+pt*O,Tt=A+O,Nt=p[f+17],Ct=e+172|0;if(0<Nt){var kt=yt*St-wt*wt,Lt=0!=kt?1/kt:kt;p[Ct>>2]=Lt*St;var At=wt*-Lt;p[f+46]=At,p[f+45]=0,p[f+44]=At,p[f+47]=Lt*yt,n=(e+192|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0;var Ot=0<Tt?1/Tt:0,Mt=I-_-p[f+24],_t=6.2831854820251465*Nt,Dt=Ot*_t*_t,Pt=p[t>>2],Ht=Pt*(2*Ot*p[f+18]*_t+Pt*Dt),Bt=e+100|0;p[Bt>>2]=Ht;var jt=0!=Ht?1/Ht:0;p[Bt>>2]=jt,p[f+19]=Mt*Pt*Dt*jt;var Ft=Tt+jt;p[f+51]=0!=Ft?1/Ft:0}else{var It=St*Tt-xt*xt,qt=xt*Et-wt*Tt,Rt=wt*xt-St*Et,Ut=yt*It+wt*qt+Et*Rt,zt=0!=Ut?1/Ut:Ut;p[Ct>>2]=zt*It;var Wt=zt*qt;p[f+44]=Wt;var Xt=zt*Rt;p[f+45]=Xt,p[f+46]=Wt,p[f+47]=zt*(yt*Tt-Et*Et);var Vt=zt*(Et*wt-yt*xt);p[f+48]=Vt,p[f+49]=Xt,p[f+50]=Vt,p[f+51]=zt*(yt*St-wt*wt),p[f+25]=0,p[f+19]=0}var $t=e+104|0;if(0==(c[t+20|0]&1)<<24>>24){p[$t>>2]=0,p[f+27]=0,p[f+28]=0;var Jt=W,Kt=F,Qt=B,Gt=j,Yt=U,Zt=z}else{var en=p[t+8>>2],tn=$t|0,nn=p[tn>>2]*en;p[tn>>2]=nn;var rn=e+108|0,sn=p[rn>>2]*en;p[rn>>2]=sn;var on=e+112|0,un=p[on>>2]*en;p[on>>2]=un,Jt=W+O*(pt*sn-dt*nn+un),Kt=F-A*(nt*sn-rt*nn+un),Qt=B-nn*C,Gt=j-sn*C,Yt=U+nn*k,Zt=z+sn*k}var an=l[r]+12*d|0,fn=(L[0]=Qt,s[0]),ln=(L[0]=Gt,s[0])|0;l[(an|0)>>2]=0|fn,l[(an+4|0)>>2]=ln,p[(l[r]+8>>2)+(3*l[v>>2]|0)]=Kt;var cn=l[r]+12*l[i]|0,hn=(L[0]=Yt,s[0]),pn=(L[0]=Zt,s[0])|0;l[(cn|0)>>2]=0|hn,l[(cn+4|0)>>2]=pn,p[(l[r]+8>>2)+(3*l[i]|0)]=Jt},0,function(e,t){var n,r,i=e>>2,o=e+116|0,u=l[o>>2];r=(t+28|0)>>2;var a=l[r],f=a+12*u|0;n=l[f+4>>2];var c=(s[0]=l[f>>2],L[0]),h=(s[0]=n,L[0]),d=p[(a+8>>2)+(3*u|0)];n=(e+120|0)>>2;var v=l[n],f=a+12*v|0,m=l[f+4>>2],f=(s[0]=l[f>>2],L[0]),m=(s[0]=m,L[0]),g=p[(a+8>>2)+(3*v|0)],v=p[i+39],a=p[i+40],y=p[i+41],b=p[i+42];if(0<p[i+17]){var w=e+112|0,E=p[w>>2],S=(g-d+p[i+19]+p[i+25]*E)*-p[i+51];p[w>>2]=E+S;var d=d-y*S,w=g+b*S,E=p[i+34],x=p[i+33],g=p[i+32],S=p[i+31],T=f+E*-w-c-g*-d,N=m+x*w-h-S*d,C=p[i+43]*T+p[i+46]*N,N=p[i+44]*T+p[i+47]*N,T=-C,i=-N,k=e+104|0;p[k>>2]-=C,C=e+108|0,p[C>>2]-=N,b=w+b*(x*i-E*T),y=d-y*(S*i-g*T),d=T}else{var E=p[i+34],x=p[i+33],S=p[i+32],w=p[i+31],N=f+E*-g-c-S*-d,k=m+x*g-h-w*d,A=g-d,T=p[i+43]*N+p[i+46]*k+p[i+49]*A,C=p[i+44]*N+p[i+47]*k+p[i+50]*A,k=p[i+45]*N+p[i+48]*k+p[i+51]*A,N=-T,i=-C,A=e+104|0;p[A>>2]-=T,T=e+108|0,p[T>>2]-=C,C=e+112|0,p[C>>2]-=k,b=g+b*(x*i-E*N-k),y=d-y*(w*i-S*N-k),d=N}u=l[r]+12*u|0,c=(L[0]=c-v*d,s[0]),h=(L[0]=h-v*i,s[0])|0,l[(u|0)>>2]=0|c,l[(u+4|0)>>2]=h,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=y,o=l[r]+12*l[n]|0,f=(L[0]=f+a*d,s[0]),m=(L[0]=m+a*i,s[0])|0,l[(o|0)>>2]=0|f,l[(o+4|0)>>2]=m,p[(l[r]+8>>2)+(3*l[n]|0)]=b},0,function(e,t){var n,r,i=e>>2,o=e+116|0;n=l[o>>2],r=(t+24|0)>>2;var u=l[r],a=u+12*n|0,f=l[a+4>>2],c=(s[0]=l[a>>2],L[0]),f=(s[0]=f,L[0]),h=p[(u+8>>2)+(3*n|0)];n=(e+120|0)>>2;var d=l[n],v=u+12*d|0,m=l[v+4>>2],v=(s[0]=l[v>>2],L[0]),m=(s[0]=m,L[0]),u=p[(u+8>>2)+(3*d|0)],g=Yk(h),y=Zk(h),b=Yk(u),w=Zk(u),E=p[i+39],S=p[i+40],x=p[i+41],d=p[i+42],T=p[i+20]-p[i+35],N=p[i+21]-p[i+36],C=y*T-g*N,y=g*T+y*N,T=p[i+22]-p[i+37],N=p[i+23]-p[i+38],g=w*T-b*N,b=b*T+w*N,N=E+S,w=N+y*y*x+b*b*d,k=-y,T=C*k*x-b*g*d,A=x*k-b*d,O=N+C*C*x+g*g*d,M=C*x+g*d,_=x+d,N=v+g-c-C,k=m+b-f-y;if(0<p[i+17])i=dg(N*N+k*k),A=w*O-T*T,M=0!=A?1/A:A,A=-(M*(O*N-T*k)),T=-(M*(w*k-T*N)),w=0,C=C*T-y*A,g=g*T-b*A,y=A;else var D=u-h-p[i+24],i=dg(N*N+k*k),P=O*_-M*M,H=M*A-T*_,B=T*M-O*A,j=w*P+T*H+A*B,j=0!=j?1/j:j,F=N*M,O=j*(w*(O*D-M*k)+T*(F-T*D)+A*(T*k-O*N)),P=-(j*(N*P+k*H+D*B)),T=-(j*(w*(k*_-D*M)+T*(D*A-N*_)+A*(F-k*A))),w=0<D?D:-D,C=C*T-y*P-O,g=g*T-b*P-O,y=P;return b=T,c=(L[0]=c-E*y,s[0]),f=(L[0]=f-E*b,s[0])|0,l[(a|0)>>2]=0|c,l[(a+4|0)>>2]=f,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=h-x*C,o=l[r]+12*l[n]|0,a=(L[0]=v+S*y,s[0]),c=(L[0]=m+S*b,s[0])|0,l[(o|0)>>2]=0|a,l[(o+4|0)>>2]=c,p[(l[r]+8>>2)+(3*l[n]|0)]=u+d*g,.004999999888241291<i?0:.03490658849477768>=w},0,function(e,t){var n;n=l[t+48>>2]>>2;var r=p[n+6],i=p[t+76>>2],s=p[n+5],o=p[t+80>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t){var n;n=l[t+52>>2]>>2;var r=p[n+6],i=p[t+84>>2],s=p[n+5],o=p[t+88>>2],u=s*i+r*o+p[n+4];p[e>>2]=r*i-s*o+p[n+3],p[e+4>>2]=u},0,function(e,t,n){var t=t>>2,r=p[t+27],i=p[t+29],s=(p[t+46]*r+p[t+44]*i)*n;p[e>>2]=(p[t+45]*r+p[t+43]*i)*n,p[e+4>>2]=s},0,function(e,t){return p[e+112>>2]*t},0,function(e){var t=e>>2,n=a,i=l[l[t+12]+8>>2],o=l[l[t+13]+8>>2];P(N.lh|0,(r=a,a+=1,a=a+3>>2<<2,l[r>>2]=0,r)),P(N.A|0,(r=a,a+=4,l[r>>2]=i,r)),P(N.B|0,(r=a,a+=4,l[r>>2]=o,r)),i=c[e+61|0]&1,P(N.C|0,(r=a,a+=4,l[r>>2]=i,r)),i=p[t+19],o=p[t+20],P(N.K|0,(r=a,a+=16,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=o,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),i=p[t+21],o=p[t+22],P(N.L|0,(r=a,a+=16,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=o,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),i=p[t+23],o=p[t+24],P(N.Zb|0,(r=a,a+=16,Nd[0]=i,l[r>>2]=s[0],l[r+4>>2]=s[1],Nd[0]=o,l[r+8>>2]=s[0],l[r+12>>2]=s[1],r)),e=c[e+128|0]&1,P(N.cb|0,(r=a,a+=4,l[r>>2]=e,r)),e=p[t+31],P(N.eb|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+30],P(N.bc|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+17],P(N.Oa|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),e=p[t+18],P(N.Pa|0,(r=a,a+=8,Nd[0]=e,l[r>>2]=s[0],l[r+4>>2]=s[1],r)),t=l[t+14],P(N.z|0,(r=a,a+=4,l[r>>2]=t,r)),a=n},0,Ib(),0,function(e){$s(e)},0,function(e,t){var n,r,i,o,u,a,f=e>>2,h=l[f+12];a=h>>2;var d=l[a+2],v=e+132|0;l[v>>2]=d;var m=l[f+13];u=m>>2;var g=l[u+2];o=(e+136|0)>>2,l[o]=g;var y=h+28|0,b=e+140|0,w=l[y>>2],E=l[y+4>>2];l[b>>2]=w,l[b+4>>2]=E;var S=m+28|0,x=e+148|0,T=l[S>>2],N=l[S+4>>2];l[x>>2]=T,l[x+4>>2]=N;var C=p[a+30];p[f+39]=C;var k=p[u+30];p[f+40]=k;var A=p[a+32];p[f+41]=A;var O=p[u+32];p[f+42]=O;var M=l[t+24>>2],_=M+12*d|0,D=l[_+4>>2],P=(s[0]=l[_>>2],L[0]),H=(s[0]=D,L[0]),B=p[(M+8>>2)+(3*d|0)];i=(t+28|0)>>2;var j=l[i],F=j+12*d|0,I=l[F+4>>2],q=(s[0]=l[F>>2],L[0]),R=(s[0]=I,L[0]),U=p[(j+8>>2)+(3*d|0)],z=M+12*g|0,W=l[z+4>>2],X=(s[0]=l[z>>2],L[0]),V=(s[0]=W,L[0]),$=p[(M+8>>2)+(3*g|0)],J=j+12*g|0,K=l[J+4>>2],Q=(s[0]=l[J>>2],L[0]),G=(s[0]=K,L[0]),Y=p[(j+8>>2)+(3*g|0)],Z=Yk(B),et=Zk(B),tt=Yk($),nt=Zk($),rt=p[f+19],it=(s[0]=w,L[0]),st=rt-it,ot=p[f+20],ut=(s[0]=E,L[0]),at=ot-ut,ft=et*st-Z*at,lt=Z*st+et*at,ct=p[f+21],ht=(s[0]=T,L[0]),pt=ct-ht,dt=p[f+22],vt=(s[0]=N,L[0]),mt=dt-vt,gt=nt*pt-tt*mt,yt=tt*pt+nt*mt,bt=X+gt-P-ft,wt=V+yt-H-lt,Et=p[f+25],St=p[f+26],xt=et*Et-Z*St,Tt=Z*Et+et*St,Nt=e+180|0,Ct=(L[0]=xt,s[0]),kt=(L[0]=Tt,s[0])|0;l[Nt>>2]=0|Ct,l[Nt+4>>2]=kt;var Lt=bt+ft,At=wt+lt,Ot=Lt*Tt-At*xt;p[f+49]=Ot;var Mt=gt*Tt-yt*xt;p[f+50]=Mt;var _t=C+k,Dt=_t+A*Ot*Ot+O*Mt*Mt;p[f+51]=0<Dt?1/Dt:Dt,r=(e+212|0)>>2,p[r]=0;var Pt=e+216|0;p[Pt>>2]=0;var Ht=e+220|0;p[Ht>>2]=0;var Bt=p[f+17];if(0<Bt){var jt=p[f+23],Ft=p[f+24],It=et*jt-Z*Ft,qt=Z*jt+et*Ft,Rt=e+172|0,Ut=(L[0]=It,s[0]),zt=(L[0]=qt,s[0])|0;l[Rt>>2]=0|Ut,l[Rt+4>>2]=zt;var Wt=Lt*qt-At*It;p[f+47]=Wt;var Xt=gt*qt-yt*It;p[f+48]=Xt;var Vt=_t+A*Wt*Wt+O*Xt*Xt;if(0<Vt){var $t=1/Vt;p[r]=$t;var Jt=bt*It+wt*qt,Kt=6.2831854820251465*Bt,Qt=$t*Kt*Kt,Gt=p[t>>2],Yt=Gt*(2*$t*p[f+18]*Kt+Gt*Qt),Zt=0<Yt?1/Yt:Yt;p[Ht>>2]=Zt,p[Pt>>2]=Jt*Gt*Qt*Zt;var en=Vt+Zt;p[r]=en,0<en&&(p[r]=1/en)}}else p[f+29]=0;if(0==(c[e+128|0]&1)<<24>>24)p[f+52]=0,p[f+28]=0;else{var tn=A+O,nn=e+208|0;p[nn>>2]=tn,0<tn&&(p[nn>>2]=1/tn)}if(0==(c[t+20|0]&1)<<24>>24){p[f+27]=0,p[f+29]=0,p[f+28]=0;var rn=Y,sn=U,on=q,un=R,an=Q,fn=G}else{n=(t+8|0)>>2;var ln=e+108|0,cn=p[ln>>2]*p[n];p[ln>>2]=cn;var hn=e+116|0,pn=p[hn>>2]*p[n];p[hn>>2]=pn;var dn=e+112|0,vn=p[dn>>2]*p[n];p[dn>>2]=vn;var mn=xt*cn+p[f+43]*pn,gn=Tt*cn+p[f+44]*pn,rn=Y+O*(cn*Mt+pn*p[f+48]+vn),sn=U-A*(cn*Ot+pn*p[f+47]+vn),on=q-mn*C,un=R-gn*C,an=Q+mn*k,fn=G+gn*k}var yn=l[i]+12*d|0,bn=(L[0]=on,s[0]),wn=(L[0]=un,s[0])|0;l[(yn|0)>>2]=0|bn,l[(yn+4|0)>>2]=wn,p[(l[i]+8>>2)+(3*l[v>>2]|0)]=sn;var En=l[i]+12*l[o]|0,Sn=(L[0]=an,s[0]),xn=(L[0]=fn,s[0])|0;l[(En|0)>>2]=0|Sn,l[(En+4|0)>>2]=xn,p[(l[i]+8>>2)+(3*l[o]|0)]=rn},0,function(e,t){var n,r,i=e>>2,o=p[i+39],u=p[i+40],a=p[i+41],f=p[i+42],c=e+132|0,h=l[c>>2];r=(t+28|0)>>2;var d=l[r],v=d+12*h|0;n=l[v+4>>2];var v=(s[0]=l[v>>2],L[0]),m=(s[0]=n,L[0]),g=p[(d+8>>2)+(3*h|0)];n=(e+136|0)>>2;var y=l[n],b=d+12*y|0,w=l[b+4>>2],b=(s[0]=l[b>>2],L[0]),w=(s[0]=w,L[0]),y=p[(d+8>>2)+(3*y|0)],E=p[i+43],S=p[i+44],x=p[i+48],d=p[i+47],T=e+116|0,N=p[T>>2],C=(E*(b-v)+S*(w-m)+x*y-d*g+p[i+54]+p[i+55]*N)*-p[i+53];p[T>>2]=N+C,E*=C,S*=C,v-=E*o,m-=S*o,d=g-a*C*d,g=b+E*u,b=w+S*u,w=y+f*C*x,y=e+112|0,x=p[y>>2],E=p[t>>2]*p[i+30],S=x+(w-d-p[i+31])*-p[i+52],C=-E,E=S<E?S:E,C=E<C?C:E,p[y>>2]=C,x=C-x,y=d-a*x,w+=f*x,C=p[i+45],E=p[i+46],d=p[i+50],x=p[i+49],i=(C*(g-v)+E*(b-m)+d*w-x*y)*-p[i+51],S=e+108|0,p[S>>2]+=i,C*=i,E*=i,h=l[r]+12*h|0,v=(L[0]=v-C*o,s[0]),o=(L[0]=m-E*o,s[0])|0,l[(h|0)>>2]=0|v,l[(h+4|0)>>2]=o,p[(l[r]+8>>2)+(3*l[c>>2]|0)]=y-a*i*x,a=l[r]+12*l[n]|0,c=(L[0]=g+C*u,s[0]),u=(L[0]=b+E*u,s[0])|0,l[(a|0)>>2]=0|c,l[(a+4|0)>>2]=u,p[(l[r]+8>>2)+(3*l[n]|0)]=w+f*i*d},0,function(e,t){var n,r,i=e>>2,o=e+132|0;n=l[o>>2],r=(t+24|0)>>2;var u=l[r],a=u+12*n|0,f=l[a+4>>2],c=(s[0]=l[a>>2],L[0]),f=(s[0]=f,L[0]),h=p[(u+8>>2)+(3*n|0)];n=(e+136|0)>>2;var d=l[n],v=u+12*d|0,m=l[v+4>>2],v=(s[0]=l[v>>2],L[0]),m=(s[0]=m,L[0]),u=p[(u+8>>2)+(3*d|0)],g=Yk(h),y=Zk(h),b=Yk(u),w=Zk(u),d=p[i+19]-p[i+35],E=p[i+20]-p[i+36],S=y*d-g*E,E=g*d+y*E,x=p[i+21]-p[i+37],T=p[i+22]-p[i+38],d=w*x-b*T,b=b*x+w*T,x=v-c+d-S,T=m-f+b-E,N=p[i+25],C=p[i+26],w=y*N-g*C,g=g*N+y*C,y=x*w+T*g,k=p[i+39],C=p[i+40],A=p[i+41],O=p[i+49],N=p[i+42],i=p[i+50],i=k+C+A*O*O+N*i*i,i=0!=i?-y/i:0,M=w*i,O=g*i,c=(L[0]=c-M*k,s[0]),f=(L[0]=f-O*k,s[0])|0;return l[(a|0)>>2]=0|c,l[(a+4|0)>>2]=f,p[(l[r]+8>>2)+(3*l[o>>2]|0)]=h-A*i*((x+S)*g-(T+E)*w),o=l[r]+12*l[n]|0,a=(L[0]=v+M*C,s[0]),c=(L[0]=m+O*C,s[0])|0,l[(o|0)>>2]=0|a,l[(o+4|0)>>2]=c,p[(l[r]+8>>2)+(3*l[n]|0)]=u+N*i*(d*g-b*w),.004999999888241291>=(0<y?y:-y)},0,Ib(),0,function(e){$s(e)},0,Ib(),0,Ib(),0,Ib(),0,function(e){$s(e)},0,Sb(0),0,Ib(),0,function(e){$s(e)},0,Sb(0),0,kq,0,lq,0,mq,0,qq,0,function(e,t,n){Po(e,t,n)},0,nq,0,oq,0,function(e){Mo(e)},0,pq,0,Ys,0,sq,0,Zs,0,tq,0,function(e){return e|0},0,function(e,t){Hn(e,t)},0,at,0,uq,0,vq,0,wq,0,xq,0,yq,0,zq,0,Aq,0,bt,0,ft,0,Bq,0,function(e){return e+80|0},0,function(e){return e+88|0},0,Cq,0,it,0,Dq,0,Eq,0,Fq,0,lt,0,mt,0,Gq,0,nt,0,Hq,0,ot,0,nr,0,or,0,pr,0,pt,0,qr,0,qt,0,rr,0,sr,0,ws,0,xs,0,ys,0,zs,0,As,0,rt,0,Bs,0,Cs,0,st,0,Ds,0,tt,0,ut,0,function(e){En(e)},0,function(e,t){Jo(e,t)},0,function(e){return e+32|0},0,Es,0,Fs,0,Gs,0,Hs,0,Is,0,Js,0,Ks,0,Ls,0,Ms,0,vt,0,yt,0,Bt,0,Ns,0,Os,0,function(e){return e+76|0},0,Ps,0,Ct,0,Qs,0,Rs,0,Ft,0,Gt,0,Ss,0,Ts,0,Us,0,Ht,0,Vs,0,Ws,0,It,0,Jt,0,Xs,0,Mt,0,Pt,0,Qt,0,gx,0,ox,0,Rt,0,px,0,qu,0,ru,0,su,0,qx,0,tx,0,tu,0,wx,0,uu,0,vu,0,wu,0,xx,0,yx,0,zx,0,xu,0,Ax,0,yu,0,Bx,0,Cx,0,Dx,0,function(e,t,n){return Jf(e,t,n)},0,Ex,0,Fx,0,Gx,0,zu,0,Au,0,Bu,0,function(e){return e+102996|0},0,Hx,0,Cu,0,function(e){return e+102872|0},0,Du,0,function(e){cq(e)},0,Eu,0,Fu,0,Gu,0,Hu,0,Iu,0,Ju,0,Ix,0,Ku,0,Lu,0,function(e,t){Ep(e,t)},0,Jx,0,iw,0,function(e,t,n,r){Rp(e,t,n,r)},0,Kx,0,Lx,0,Mx,0,function(e,t){Dp(e,t)},0,Nx,0,function(e,t){return Fp(e,t)},0,Ox,0,uy,0,Px,0,Qx,0,Rx,0,vy,0,function(e){dq(e)},0,Sx,0,wy,0,Tx,0,Ux,0,Vx,0,Wx,0,Xx,0,Yx,0,function(e){return e+84|0},0,Zx,0,zy,0,$x,0,Cy,0,function(e){return e+68|0},0,ay,0,function(e){return e+76|0},0,by,0,cy,0,dy,0,ey,0,fy,0,Dy,0,gy,0,hy,0,iy,0,jy,0,Gy,0,ky,0,Hy,0,ly,0,my,0,ny,0,oy,0,Iy,0,Jy,0,py,0,qy,0,Ky,0,Ny,0,ry,0,Oy,0,sy,0,ty,0,function(e){return e+12|0},0,Py,0,function(e){return e+12|0},0,Qy,0,Ry,0,Sb(1),0,Sy,0,Kz,0,Lz,0,Sb(0),0,Ty,0,function(e){return e+12|0},0,Uy,0,Vy,0,Wy,0,function(e,t){Ia(e,t)},0,function(e){return e+92|0},0,Xy,0,Nz,0,Qz,0,Yy,0,Zy,0,function(e){return e+76|0},0,$y,0,function(e){return e+84|0},0,az,0,bz,0,Tz,0,cz,0,dz,0,ez,0,Uz,0,fz,0,gz,0,hz,0,iz,0,jz,0,Xz,0,Yz,0,kz,0,lz,0,Zz,0,mz,0,nz,0,$z,0,oz,0,aA,0,pz,0,bA,0,cA,0,dA,0,eA,0,qz,0,fA,0,gA,0,rz,0,sz,0,tz,0,uz,0,iA,0,jA,0,vz,0,wz,0,xz,0,yz,0,mA,0,nA,0,OG,0,zz,0,Az,0,RG,0,SG,0,Bz,0,VG,0,WG,0,XG,0,YG,0,Cz,0,Dz,0,Ez,0,Fz,0,Gz,0,ZG,0,bH,0,Hz,0,Iz,0,Jz,0,eH,0,FH,0,GH,0,IH,0,JH,0,KH,0,LH,0,MH,0,NH,0,fH,0,gH,0,function(e){Qj(e)},0,OH,0,function(e,t,n,r){return Vh(e,t,n,r)},0,function(e){Pj(e)},0,function(e,t){Th(e,t)},0,hH,0,iH,0,jH,0,kH,0,lH,0,PH,0,SH,0,mH,0,function(e){return e+80|0},0,function(e){return e+88|0},0,nH,0,VH,0,WH,0,oH,0,pH,0,ZH,0,qH,0,$H,0,rH,0,sH,0,aI,0,tH,0,uH,0,vH,0,wH,0,xH,0,bI,0,eI,0,yH,0,function(e){return e+68|0},0,zH,0,function(e){return e+76|0},0,AH,0,BH,0,CH,0,DH,0,EH,0,fI,0,gI,0,GI,0,hI,0,iI,0,jI,0,kI,0,JI,0,lI,0,KI,0,LI,0,mI,0,nI,0,MI,0,oI,0,pI,0,NI,0,QI,0,Ib(),0,RI,0,Sb(0),0,SI,0,TI,0,VI,0,WI,0,XI,0,YI,0,ZI,0,qI,0,$I,0,rI,0,sI,0,tI,0,aJ,0,bJ,0,uI,0,function(e,t,n){$k(e,t,n)},0,cJ,0,eJ,0,fJ,0,gJ,0,hJ,0,vI,0,iJ,0,wI,0,xI,0,yI,0,jJ,0,kJ,0,lJ,0,nJ,0,oJ,0,pJ,0,function(e,t){return vm(e,t)},0,qJ,0,zI,0,rJ,0,sJ,0,vJ,0,AI,0,BI,0,CI,0,DI,0,EI,0,FI,0,function(e){return e+68|0},0,wJ,0,xJ,0,function(e){return e+76|0},0,yJ,0,pK,0,sK,0,vK,0,zJ,0,AJ,0,wK,0,function(e,t,n){tm(e,t,n)},0,xK,0,BJ,0,CJ,0,yK,0,DJ,0,zK,0,EJ,0,function(e,t,n,r,i){sm(e,t,n,r,i)},0,FJ,0,AK,0,GJ,0,HJ,0,BK,0,CK,0,IJ,0,DK,0,JJ,0,function(e){return e+12|0},0,FK,0,KJ,0,GK,0,LJ,0,MJ,0,HK,0,NJ,0,IK,0,JK,0,KK,0,LK,0,MK,0,OJ,0,PJ,0,OK,0,QJ,0,PK,0,RJ,0,SJ,0,TJ,0,UJ,0,VJ,0,WJ,0,XJ,0,YJ,0,QK,0,ZJ,0,function(e){return e+64|0},0,$J,0,aK,0,RK,0,bK,0,SK,0,cK,0,TK,0,UK,0,VK,0,WK,0,dK,0,eK,0,fK,0,gK,0,function(e,t){Mn(e,t)},0,hK,0,iK,0,jK,0,kK,0,lK,0,XK,0,mK,0,nK,0,$K,0,oK,0,cL,0,function(e,t,n){Kn(e,t,n)},0,dL,0,eL,0,fL,0,DL,0,function(e){Cn(e)},0,gL,0,hL,0,iL,0,function(e,t){Bn(e,t)},0,function(e,t){return Fn(e,t)},0,GL,0,function(e,t){Jn(e,t)},0,function(e){return e+12|0},0,function(e){return e+44|0},0,jL,0,kL,0,lL,0,function(e){return e+28|0},0,HL,0,KL,0,mL,0,NL,0,QL,0,nL,0,oL,0,pL,0,RL,0,qL,0,function(e){Io(e)},0,rL,0,sL,0,tL,0,function(e,t){Gn(e,t)},0,uL,0,vL,0,UL,0,wL,0,function(e){return e+12|0},0,VL,0,xL,0,WL,0,ZL,0,$L,0,aM,0,yL,0,zL,0,AL,0,bM,0,BL,0,function(e){return e+68|0},0,cM,0,function(e){return e+76|0},0,CL,0,dM,0,sN,0,gM,0,hM,0,iM,0,jM,0,kM,0,vN,0,wN,0,xN,0,function(e,t){hn(e,t)},0,yN,0,zN,0,AN,0,CN,0,lM,0,mM,0,nM,0,oM,0,pM,0,DN,0,qM,0,rM,0,sM,0,tM,0,uM,0,vM,0,wM,0,EN,0,xM,0,FN,0,function(e){return e+20|0},0,yM,0,function(e){return e+28|0},0,zM,0,AM,0,BM,0,CM,0,DM,0,EM,0,FM,0,GM,0,HM,0,IM,0,JM,0,GN,0,KM,0,LM,0,MM,0,NM,0,OM,0,PM,0,QM,0,RM,0,function(e){return e+4|0},0,HN,0,SM,0,TM,0,UM,0,VM,0,WM,0,XM,0,YM,0,ZM,0,function(e){return e+16|0},0,$M,0,aN,0,bN,0,cN,0,IN,0,dN,0,JN,0,KN,0,eN,0,fN,0,gN,0,hN,0,iN,0,LN,0,jN,0,kN,0,lN,0,ON,0,PN,0,mN,0,QN,0,TN,0,nN,0,oN,0,pN,0,qN,0,rN,0,ZO,0,$O,0,UN,0,aP,0,VN,0,function(e,t,n){Tg(e,t,n)},0,dP,0,WN,0,eP,0,XN,0,YN,0,ZN,0,$N,0,fP,0,aO,0,bO,0,cO,0,gP,0,dO,0,eO,0,fO,0,gO,0,hO,0,hP,0,iO,0,jO,0,kO,0,lO,0,function(e){return e+22|0},0,mO,0,nO,0,oO,0,iP,0,pO,0,qO,0,rO,0,sO,0,tO,0,uO,0,vO,0,function(e){return e+36|0},0,wO,0,xO,0,jP,0,yO,0,zO,0,AO,0,BO,0,kP,0,CO,0,function(e){return e+20|0},0,function(e){return e+28|0},0,DO,0,EO,0,FO,0,GO,0,HO,0,IO,0,JO,0,KO,0,LO,0,MO,0,lP,0,mP,0,nP,0,pP,0,sP,0,NO,0,OO,0,vP,0,wP,0,PO,0,QO,0,RO,0,SO,0,TO,0,UO,0,VO,0,function(e){return e+36|0},0,WO,0,XO,0,YO,0,RQ,0,xP,0,yP,0,SQ,0,function(e){return e+20|0},0,zP,0,function(e){return e+28|0},0,AP,0,BP,0,CP,0,DP,0,EP,0,FP,0,GP,0,HP,0,IP,0,JP,0,KP,0,LP,0,MP,0,NP,0,OP,0,PP,0,QP,0,RP,0,SP,0,TP,0,UP,0,TQ,0,VP,0,WP,0,UQ,0,XP,0,YP,0,function(e){return e+20|0},0,function(e){return e+28|0},0,ZP,0,$P,0,aQ,0,bQ,0,cQ,0,dQ,0,eQ,0,fQ,0,gQ,0,hQ,0,iQ,0,function(e){return e+28|0},0,function(e){return e+20|0},0,jQ,0,kQ,0,function(e,t,n,r,i,s,o,u){hq(e,t,n,r,i,s,o,u)},0,lQ,0,VQ,0,function(e){return e+36|0},0,function(e){return e+44|0},0,mQ,0,nQ,0,oQ,0,pQ,0,qQ,0,rQ,0,sQ,0,tQ,0,WQ,0,uQ,0,vQ,0,wQ,0,xQ,0,XQ,0,yQ,0,zQ,0,AQ,0,BQ,0,CQ,0,YQ,0,DQ,0,ZQ,0,$Q,0,EQ,0,FQ,0,function(e){return e|0},0,function(e){return e+8|0},0,aR,0,bR,0,GQ,0,cR,0,HQ,0,IQ,0,JQ,0,dR,0,eR,0,KQ,0,LQ,0,MQ,0,NQ,0,fR,0,gR,0,OQ,0,PQ,0,QQ,0,hR,0,HS,0,function(e){return e+8|0},0,kR,0,lR,0,mR,0,function(e,t,n){return Rg(e,t,n)},0,nR,0,function(e){return e|0},0,oR,0,pR,0,qR,0,rR,0,sR,0,tR,0,uR,0,KS,0,vR,0,function(e){return e+20|0},0,wR,0,function(e){return e+28|0},0,xR,0,yR,0,zR,0,AR,0,BR,0,CR,0,LS,0,DR,0,ER,0,FR,0,GR,0,HR,0,MS,0,IR,0,JR,0,KR,0,LR,0,function(e){return e+20|0},0,MR,0,NS,0,NR,0,OR,0,PR,0,QR,0,RR,0,SR,0,TR,0,UR,0,VR,0,WR,0,XR,0,function(e){return e+20|0},0,YR,0,function(e){return e+28|0},0,ZR,0,$R,0,OS,0,PS,0,aS,0,bS,0,cS,0,QS,0,RS,0,dS,0,eS,0,fS,0,gS,0,hS,0,iS,0,jS,0,kS,0,lS,0,mS,0,SS,0,nS,0,oS,0,TS,0,pS,0,qS,0,rS,0,sS,0,tS,0,uS,0,vS,0,US,0,wS,0,xS,0,yS,0,zS,0,AS,0,BS,0,CS,0,VS,0,function(e){return e+20|0},0,DS,0,function(e){return e+28|0},0,ES,0,FS,0,WS,0,GS,0,function(e){Ia(e|0)},0,function(e){Ia(e|0),$s(e)},0,function(e){Ia(e|0),$s(e)},0,function(e,t,n){var r,s,o=a;a+=112,s=o>>2;var u=o+56;r=u>>2;var f=(e|0)==(t|0);do if(f)var h=1;else if(0==(t|0))h=0;else{var p=t,d=l[t>>2],h=p+l[d-8>>2]|0,d=l[d-4>>2];l[s]=AU,l[s+1]=p,l[s+2]=zU,l[s+3]=-1;for(var p=o+16|0,v=o+20|0,m=o+24|0,g=o+28|0,y=o+32|0,b=o+40|0,w=(d|0)==(AU|0),E=p,S=E>>2,x=S+9;S<x;S++)l[S]=0;i[E+36>>1]=0,c[E+38]=0;if(w)l[s+12]=1,K[l[l[AU>>2]+12>>2]](AU,o,h,h,1),h=1==(l[m>>2]|0)?h:0;else if(S=o+36|0,K[l[l[d>>2]+16>>2]](d,o,h,1),h=l[S>>2],0==(h|0)){if(1!=(l[b>>2]|0)){h=0;break}if(1!=(l[g>>2]|0)){h=0;break}h=1==(l[y>>2]|0)?l[v>>2]:0}else{if(1!=(h|0)){h=0;break}if(1!=(l[m>>2]|0)){if(0!=(l[b>>2]|0)){h=0;break}if(1!=(l[g>>2]|0)){h=0;break}if(1!=(l[y>>2]|0)){h=0;break}}h=l[p>>2]}d=h;if(0==(h|0))h=0;else{S=u>>2;for(x=S+14;S<x;S++)l[S]=0;l[r]=d,l[r+2]=e,l[r+3]=-1,l[r+12]=1,K[l[l[h>>2]+20>>2]](d,u,l[n>>2],1),1!=(l[r+6]|0)?h=0:(l[n>>2]=l[r+4],h=1)}}while(0);return a=o,h},0,function(e,t,n,r,i){var s=t>>2;(l[s+2]|0)==(e|0)&&(c[t+53|0]=1,(l[s+1]|0)==(r|0)&&(c[t+52|0]=1,e=t+16|0,r=l[e>>2],0==(r|0)?(l[e>>2]=n,l[s+6]=i,l[s+9]=1,1==(l[s+12]|0)&1==(i|0)&&(c[t+54|0]=1)):(r|0)==(n|0)?(n=t+24|0,e=l[n>>2],2==(e|0)?l[n>>2]=i:i=e,1==(l[s+12]|0)&1==(i|0)&&(c[t+54|0]=1)):(s=t+36|0,l[s>>2]=l[s>>2]+1|0,c[t+54|0]=1)))},0,function(e,t,n,r){var i=t>>2,s=(l[i+2]|0)==(e|0);e:do if(s){if((l[i+1]|0)==(n|0)){var o=t+28|0;1!=(l[o>>2]|0)&&(l[o>>2]=r)}}else if((l[i]|0)==(e|0)){o=(l[i+4]|0)==(n|0);do if(!o){var u=t+20|0;if((l[u>>2]|0)!=(n|0)){l[i+8]=r,l[u>>2]=n,e=t+40|0,l[e>>2]=l[e>>2]+1|0,1==(l[i+9]|0)&&2==(l[i+6]|0)&&(c[t+54|0]=1),l[i+11]=4;break e}}while(0);1==(r|0)&&(l[i+8]=1)}while(0)},0,function(e,t,n,r){if((l[t+8>>2]|0)==(e|0)){var e=t+16|0,i=l[e>>2];0==(i|0)?(l[e>>2]=n,l[t+24>>2]=r,l[t+36>>2]=1):(i|0)==(n|0)?(t=t+24|0,2==(l[t>>2]|0)&&(l[t>>2]=r)):(r=t+36|0,l[r>>2]=l[r>>2]+1|0,l[t+24>>2]=2,c[t+54|0]=1)}},0,function(e){Ia(e|0),$s(e)},0,function(e,t){return(e|0)==(t|0)?1:(t|0)==(BU|0)},0,function(e){Ia(e|0),$s(e)},0,function(e,t){return(e|0)==(t|0)},0,function(e){Ia(e|0),$s(e)},0,Sb(0),0,function(e){Ia(e|0),$s(e)},0,Sb(0),0,function(e){Ia(e|0),$s(e)},0,function(e,t){return(e|0)==(t|0)},0,function(e){Ia(e|0),$s(e)},0,function(e,t,n,r,i){var s=t>>2;(e|0)==(l[s+2]|0)?(c[t+53|0]=1,(l[s+1]|0)==(r|0)&&(c[t+52|0]=1,r=t+16|0,e=l[r>>2],0==(e|0)?(l[r>>2]=n,l[s+6]=i,l[s+9]=1,1==(l[s+12]|0)&1==(i|0)&&(c[t+54|0]=1)):(e|0)==(n|0)?(n=t+24|0,r=l[n>>2],2==(r|0)?l[n>>2]=i:i=r,1==(l[s+12]|0)&1==(i|0)&&(c[t+54|0]=1)):(i=t+36|0,l[i>>2]=l[i>>2]+1|0,c[t+54|0]=1))):(s=l[e+8>>2],K[l[l[s>>2]+12>>2]](s,t,n,r,i))},0,function(e,t,n,r){var i=t>>2,s=e|0,o=(s|0)==(l[i+2]|0);e:do if(o){if((l[i+1]|0)==(n|0)){var u=t+28|0;1!=(l[u>>2]|0)&&(l[u>>2]=r)}}else if((s|0)==(l[i]|0)){var a=(l[i+4]|0)==(n|0);do if(!a&&(u=t+20|0,(l[u>>2]|0)!=(n|0))){l[i+8]=r,r=(t+44|0)>>2;if(4==(l[r]|0))break e;s=t+52|0,c[s]=0,o=t+53|0,c[o]=0,e=l[e+8>>2],K[l[l[e>>2]+12>>2]](e,t,n,n,1);if(0==(c[o]&1)<<24>>24)var f=0,e=14;else 0==(c[s]&1)<<24>>24?(f=1,e=14):e=18;t:do if(14==e){l[u>>2]=n,e=t+40|0,l[e>>2]=l[e>>2]+1|0,s=1==(l[i+9]|0);do if(s)if(2!=(l[i+6]|0))e=17;else{c[t+54|0]=1;if(f)break t;e=19}else e=17;while(0);if(17!=e||!f){l[r]=4;break e}}while(0);l[r]=3;break e}while(0);1==(r|0)&&(l[i+8]=1)}else u=l[e+8>>2],K[l[l[u>>2]+16>>2]](u,t,n,r);while(0)},0,function(e,t,n,r){if((e|0)==(l[t+8>>2]|0)){var e=t+16|0,i=l[e>>2];0==(i|0)?(l[e>>2]=n,l[t+24>>2]=r,l[t+36>>2]=1):(i|0)==(n|0)?(t=t+24|0,2==(l[t>>2]|0)&&(l[t>>2]=r)):(r=t+36|0,l[r>>2]=l[r>>2]+1|0,l[t+24>>2]=2,c[t+54|0]=1)}else e=l[e+8>>2],K[l[l[e>>2]+20>>2]](e,t,n,r)},0,function(e){Ia(e|0),$s(e)},0,function(e,t,n,r,i){var s=t>>2,o=(e|0)==(l[s+2]|0);do if(o){if(c[t+53|0]=1,(l[s+1]|0)==(r|0)){c[t+52|0]=1;var u=t+16|0,a=l[u>>2];0==(a|0)?(l[u>>2]=n,l[s+6]=i,l[s+9]=1,1==(l[s+12]|0)&1==(i|0)&&(c[t+54|0]=1)):(a|0)==(n|0)?(u=t+24|0,a=l[u>>2],u=2==(a|0)?l[u>>2]=i:a,1==(l[s+12]|0)&1==(u|0)&&(c[t+54|0]=1)):(u=t+36|0,l[u>>2]=l[u>>2]+1|0,c[t+54|0]=1)}}else{var u=t+52|0,a=c[u]&1,f=t+53|0,h=c[f]&1,p=l[e+12>>2],d=(p<<3)+e+16|0;c[u]=0,c[f]=0;var v=l[e+20>>2],m=v>>8,g=l[e+16>>2];K[l[l[g>>2]+12>>2]](g,t,n,r+(0==(v&1|0)?m:l[l[r>>2]+m>>2])|0,0!=(v&2|0)?i:2),p=1<(p|0);e:do if(p)for(var v=e+8|0,m=t+24|0,g=t+54|0,y=r,b=e+24|0;;){if(0!=(c[g]&1)<<24>>24)break e;var w=0==(c[u]&1)<<24>>24;do if(w){if(0!=(c[f]&1)<<24>>24&&0==(l[v>>2]&1|0))break e}else{if(1==(l[m>>2]|0))break e;if(0==(l[v>>2]&2|0))break e}while(0);c[u]=0,c[f]=0;var w=l[b+4>>2],E=w>>8,S=l[b>>2];K[l[l[S>>2]+12>>2]](S,t,n,r+(0==(w&1|0)?E:l[l[y>>2]+E>>2])|0,0!=(w&2|0)?i:2),b=b+8|0;if(b>>>0>=d>>>0)break e}while(0);c[u]=a,c[f]=h}while(0)},0,function(e,t,n,r){var i,s=t>>2,u=e>>2,a=e|0,f=(a|0)==(l[s+2]|0);e:do if(f){if((l[s+1]|0)==(n|0)){var h=t+28|0;1!=(l[h>>2]|0)&&(l[h>>2]=r)}}else if((a|0)==(l[s]|0)){var p=(l[s+4]|0)==(n|0);do if(!p&&(h=t+20|0,(l[h>>2]|0)!=(n|0))){l[s+8]=r,r=(t+44|0)>>2;if(4==(l[r]|0))break e;f=(l[u+3]<<3)+e+16|0,p=t+52|0,i=t+53|0;var u=t+54|0,d=e+8|0,a=t+24|0,v=n,e=e+16|0,m=0,g=0;t:for(;;){var y=e>>>0<f>>>0;do{if(y){c[p]=0,c[i]=0;var b=o[e+4>>2],y=b>>8,w=o[e>>2];K[l[l[w>>2]+12>>2]](w,t,n,n+(0==(b&1|0)?y:l[l[v>>2]+y>>2])|0,2-(b>>>1&1)|0);if(0!=(c[u]&1)<<24>>24){b=g;break}if(0!=(c[i]&1)<<24>>24){if(0==(c[p]&1)<<24>>24){if(0==(l[d>>2]&1|0)){b=1;break}}else{if(1==(l[a>>2]|0))break t;if(0==(l[d>>2]&2|0))break t;m=1}g=1}e=e+8|0;continue t}b=g}while(0);0==(m&1)<<24>>24&&(l[h>>2]=n,t=t+40|0,l[t>>2]=l[t>>2]+1|0,1==(l[s+9]|0)&&2==(l[a>>2]|0)&&(c[u]=1));if(0!=(b&1)<<24>>24)break;l[r]=4;break e}l[r]=3;break e}while(0);1==(r|0)&&(l[s+8]=1)}else if(i=l[u+3],h=(i<<3)+e+16|0,p=l[u+5],d=p>>8,v=l[u+4],K[l[l[v>>2]+16>>2]](v,t,n+(0==(p&1|0)?d:l[l[n>>2]+d>>2])|0,0!=(p&2|0)?r:2),p=e+24|0,1<(i|0)){d=o[u+2],v=0==(d&2|0);do if(v&&(i=(t+36|0)>>2,1!=(l[i]|0)))if(0==(d&1|0)){m=t+54|0,g=n;for(b=p;;){if(0!=(c[m]&1)<<24>>24)break e;if(1==(l[i]|0))break e;var y=o[b+4>>2],w=y>>8,E=l[b>>2];K[l[l[E>>2]+16>>2]](E,t,n+(0==(y&1|0)?w:l[l[g>>2]+w>>2])|0,0!=(y&2|0)?r:2),b=b+8|0;if(b>>>0>=h>>>0)break e}}else{m=t+24|0,g=t+54|0,b=n;for(y=p;;){if(0!=(c[g]&1)<<24>>24)break e;if(1==(l[i]|0)&&1==(l[m>>2]|0))break e;var w=l[y+4>>2],E=w>>8,S=l[y>>2];K[l[l[S>>2]+16>>2]](S,t,n+(0==(w&1|0)?E:l[l[b>>2]+E>>2])|0,0!=(w&2|0)?r:2),y=y+8|0;if(y>>>0>=h>>>0)break e}}while(0);i=t+54|0;for(d=n;;){if(0!=(c[i]&1)<<24>>24)break e;v=l[p+4>>2],m=v>>8,g=l[p>>2],K[l[l[g>>2]+16>>2]](g,t,n+(0==(v&1|0)?m:l[l[d>>2]+m>>2])|0,0!=(v&2|0)?r:2),p=p+8|0;if(p>>>0>=h>>>0)break e}}while(0)},0,function(e,t,n,r){var i=(e|0)==(l[t+8>>2]|0);e:do if(i){var s=t+16|0,o=l[s>>2];0==(o|0)?(l[s>>2]=n,l[t+24>>2]=r,l[t+36>>2]=1):(o|0)==(n|0)?(s=t+24|0,2==(l[s>>2]|0)&&(l[s>>2]=r)):(s=t+36|0,l[s>>2]=l[s>>2]+1|0,l[t+24>>2]=2,c[t+54|0]=1)}else{var o=l[e+12>>2],s=(o<<3)+e+16|0,u=l[e+20>>2],a=u>>8,f=l[e+16>>2];K[l[l[f>>2]+20>>2]](f,t,n+(0==(u&1|0)?a:l[l[n>>2]+a>>2])|0,0!=(u&2|0)?r:2);if(1<(o|0)){o=t+54|0,u=n;for(a=e+24|0;;){var f=l[a+4>>2],h=f>>8,p=l[a>>2];K[l[l[p>>2]+20>>2]](p,t,n+(0==(f&1|0)?h:l[l[u>>2]+h>>2])|0,0!=(f&2|0)?r:2);if(0!=(c[o]&1)<<24>>24)break e;a=a+8|0;if(a>>>0>=s>>>0)break e}}}while(0)},0,function(e){Ia(e|0),$s(e)},0,function(e,t,n){var r,s,o,u,f=a;a+=224,u=f>>2;var h=f+56;o=h>>2;var p=f+112;s=p>>2;var d=f+168;r=d>>2,l[n>>2]=l[l[n>>2]>>2];var v=(e|0)==(t|0)|(t|0)==(BU|0);do if(v)var m=1;else if(0==(t|0))m=0;else{var m=t,g=l[t>>2],y=m+l[g-8>>2]|0,b=l[g-4>>2];l[s]=DU,l[s+1]=m,l[s+2]=zU,l[s+3]=-1;for(var w=p+16|0,E=p+20|0,S=p+24|0,x=p+28|0,T=p+32|0,N=p+40|0,C=(b|0)==(DU|0),k=w,m=k>>2,g=m+9;m<g;m++)l[m]=0;i[k+36>>1]=0,c[k+38]=0;if(C)l[s+12]=1,K[l[l[DU>>2]+12>>2]](DU,p,y,y,1),m=1==(l[S>>2]|0)?y:0;else if(m=p+36|0,K[l[l[b>>2]+16>>2]](b,p,y,1),m=l[m>>2],0==(m|0)){if(1!=(l[N>>2]|0)){m=0;break}if(1!=(l[x>>2]|0)){m=0;break}m=1==(l[T>>2]|0)?l[E>>2]:0}else{if(1!=(m|0)){m=0;break}if(1!=(l[S>>2]|0)){if(0!=(l[N>>2]|0)){m=0;break}if(1!=(l[x>>2]|0)){m=0;break}if(1!=(l[T>>2]|0)){m=0;break}}m=l[w>>2]}if(0==(m|0))m=0;else if(0!=(l[m+8>>2]&(l[e+8>>2]^-1)|0))m=0;else if(g=l[e+12>>2],b=m+12|0,(g|0)==(l[b>>2]|0)|(g|0)==(IU|0))m=1;else if(0==(g|0))m=0;else{m=g,g=l[g>>2],y=m+l[g-8>>2]|0,w=l[g-4>>2],l[o]=AU,l[o+1]=m,l[o+2]=zU,l[o+3]=-1;for(var E=h+16|0,S=h+20|0,x=h+24|0,T=h+28|0,N=h+32|0,C=h+40|0,k=(w|0)==(AU|0),L=E,m=L>>2,g=m+9;m<g;m++)l[m]=0;i[L+36>>1]=0,c[L+38]=0;if(k)l[o+12]=1,K[l[l[AU>>2]+12>>2]](AU,h,y,y,1),m=1==(l[x>>2]|0)?y:0;else if(m=h+36|0,K[l[l[w>>2]+16>>2]](w,h,y,1),m=l[m>>2],0==(m|0)){if(1!=(l[C>>2]|0)){m=0;break}if(1!=(l[T>>2]|0)){m=0;break}m=1==(l[N>>2]|0)?l[S>>2]:0}else{if(1!=(m|0)){m=0;break}if(1!=(l[x>>2]|0)){if(0!=(l[C>>2]|0)){m=0;break}if(1!=(l[T>>2]|0)){m=0;break}if(1!=(l[N>>2]|0)){m=0;break}}m=l[E>>2]}y=m;if(0==(m|0))m=0;else if(g=l[b>>2],0==(g|0))m=0;else{m=g,g=l[g>>2],b=m+l[g-8>>2]|0,w=l[g-4>>2],l[u]=AU,l[u+1]=m,l[u+2]=zU,l[u+3]=-1,E=f+16|0,S=f+20|0,x=f+24|0,T=f+28|0,N=f+32|0,C=f+40|0,k=(w|0)==(AU|0),L=E,m=L>>2;for(g=m+9;m<g;m++)l[m]=0;i[L+36>>1]=0,c[L+38]=0;if(k)l[u+12]=1,K[l[l[AU>>2]+12>>2]](AU,f,b,b,1),b=1==(l[x>>2]|0)?b:0;else if(m=f+36|0,K[l[l[w>>2]+16>>2]](w,f,b,1),m=l[m>>2],0==(m|0)){if(1!=(l[C>>2]|0)){m=0;break}if(1!=(l[T>>2]|0)){m=0;break}b=1==(l[N>>2]|0)?l[S>>2]:0}else{if(1!=(m|0)){m=0;break}if(1!=(l[x>>2]|0)){if(0!=(l[C>>2]|0)){m=0;break}if(1!=(l[T>>2]|0)){m=0;break}if(1!=(l[N>>2]|0)){m=0;break}}b=l[E>>2]}w=b;if(0==(b|0))m=0;else{m=d>>2;for(g=m+14;m<g;m++)l[m]=0;l[r]=w,l[r+2]=y,l[r+3]=-1,l[r+12]=1,K[l[l[b>>2]+20>>2]](w,d,l[n>>2],1),1!=(l[r+6]|0)?m=0:(l[n>>2]=l[r+4],m=1)}}}}while(0);return a=f,m},0,function(e){Ia(e|0),$s(e)},0,function(e){Ia(e|0),$s(e)},0,function(){return N.eh|0},0,function(e){Ia(e|0),$s(e)},0,function(){return N.Ff|0},0,If,0,function(e){bg(l[e+32>>2]),bg(l[e+44>>2]),bg(l[e+4>>2])},0,function(e){var t,n=e>>2;l[n]=-1,t=(e+12|0)>>2,l[t]=16,l[n+2]=0;var r=fe(576),e=(e+4|0)>>2;l[e]=r,ge(r,36*l[t]|0);var r=l[t]-1|0,i=0<(r|0);e:do if(i)for(var s=0;;){var o=s+1|0;l[(l[e]+36*s+20|0)>>2]=o,l[(l[e]+36*s+32|0)>>2]=-1,s=l[t]-1|0;if((o|0)>=(s|0)){var u=s;break e}s=o}else u=r;while(0);l[(l[e]+36*u+20|0)>>2]=-1,l[(l[e]+36*(l[t]-1)+32|0)>>2]=-1,l[n+4]=0,l[n+5]=0,l[n+6]=0},0,function(e){bg(l[e+4>>2])},0,function(e){var t=e+8|0;l[t>>2]=128,l[e+4>>2]=0;var n=fe(1024);l[e>>2]=n,ge(n,l[t>>2]<<3),e=(e+12|0)>>2;for(t=e+14;e<t;e++)l[e]=0;if(0==(c[yp]&1)<<24>>24){t=0;for(e=1;14>(t|0)||O(N.e|0,73,N.Ha|0,N.Ua|0),(e|0)>(l[xm+(t<<2)>>2]|0)&&(t=t+1|0),c[wm+e|0]=t&255,e=e+1|0,641!=(e|0););c[yp]=1}},0,function(e){var t=e+4|0,n=0<(l[t>>2]|0),e=e|0,r=l[e>>2];e:do if(n){for(var i=0,s=r;;)if(bg(l[s+(i<<3)+4>>2]),i=i+1|0,s=l[e>>2],(i|0)>=(l[t>>2]|0)){var o=s;break e}}else o=r;while(0);bg(o)},0,function(e){l[e>>2]=hA+8|0,l[e+4>>2]=0},0,function(e){l[e+102400>>2]=0,l[e+102404>>2]=0,l[e+102408>>2]=0,l[e+102796>>2]=0},0,function(e){0!=(l[e+102400>>2]|0)&&O(N.p|0,32,N.R|0,N.Va|0),0!=(l[e+102796>>2]|0)&&O(N.p|0,33,N.R|0,N.Ya|0)},0,Ib(),0,An,0,Ib(),0,function(e){var t=e>>2;If(e|0),l[t+15]=0,l[t+16]=0,l[t+17]=Ap,l[t+18]=Bp,l[t+19]=0},0,function(e){i[e+32>>1]=1,i[e+34>>1]=-1,i[e+36>>1]=0,l[e+40>>2]=0,l[e+24>>2]=0,l[e+28>>2]=0,e>>=2,l[e]=0,l[e+1]=0,l[e+2]=0,l[e+3]=0},0,So,0,function(e){var t=e>>2,e=(e|0)>>2;hn(l[e],l[t+5]),hn(l[e],l[t+6]),hn(l[e],l[t+4]),hn(l[e],l[t+3]),hn(l[e],l[t+2])},0,To,0,Cp,0,function(e,t,n,r,i){var s=e>>2,o=e|0;l[o>>2]=cU+8|0,l[s+1]=4,l[s+12]=t;var u=e+52|0;l[u>>2]=r,l[s+14]=n,l[s+15]=i,l[s+31]=0,l[s+32]=0,e=(e+8|0)>>2;for(n=e+10;e<n;e++)l[e]=0;e=dg(p[(t+16|0)>>2]*p[r+16>>2]),p[s+34]=e,e=p[t+20>>2],n=p[r+20>>2],p[s+35]=e>n?e:n,l[o>>2]=WT+8|0,3==(l[l[t+12>>2]+4>>2]|0)?t=r:(O(N.ua|0,43,N.ja|0,N.ra|0),t=l[u>>2]),0!=(l[l[t+12>>2]+4>>2]|0)&&O(N.ua|0,44,N.ja|0,N.I|0)},0,function(e,t,n,r,i){var s=e>>2,o=e|0;l[o>>2]=cU+8|0,l[s+1]=4,l[s+12]=t;var u=e+52|0;l[u>>2]=r,l[s+14]=n,l[s+15]=i,l[s+31]=0,l[s+32]=0,e=(e+8|0)>>2;for(n=e+10;e<n;e++)l[e]=0;e=dg(p[(t+16|0)>>2]*p[r+16>>2]),p[s+34]=e,e=p[t+20>>2],n=p[r+20>>2],p[s+35]=e>n?e:n,l[o>>2]=ZT+8|0,3==(l[l[t+12>>2]+4>>2]|0)?t=r:(O(N.va|0,43,N.la|0,N.ra|0),t=l[u>>2]),2!=(l[l[t+12>>2]+4>>2]|0)&&O(N.va|0,44,N.la|0,N.U|0)},0,function(e,t,n){var r=e>>2,i=e|0;l[i>>2]=cU+8|0,l[r+1]=4,l[r+12]=t;var s=e+52|0;l[s>>2]=n,l[r+14]=0,l[r+15]=0,l[r+31]=0,l[r+32]=0;for(var e=(e+8|0)>>2,o=e+10;e<o;e++)l[e]=0;e=dg(p[(t+16|0)>>2]*p[n+16>>2]),p[r+34]=e,e=p[t+20>>2],o=p[n+20>>2],p[r+35]=e>o?e:o,l[i>>2]=aU+8|0,0==(l[l[t+12>>2]+4>>2]|0)?t=n:(O(N.wa|0,44,N.ga|0,N.Eb|0),t=l[s>>2]),0!=(l[l[t+12>>2]+4>>2]|0)&&O(N.wa|0,45,N.ga|0,N.I|0)},0,Sp,0,function(e){var t=e+32|0;hn(l[t>>2],l[e+40>>2]),hn(l[t>>2],l[e+36>>2])},0,function(e,t,n){var r=e>>2,i=e|0;l[i>>2]=cU+8|0,l[r+1]=4,l[r+12]=t;var s=e+52|0;l[s>>2]=n,l[r+14]=0,l[r+15]=0,l[r+31]=0,l[r+32]=0;for(var e=(e+8|0)>>2,o=e+10;e<o;e++)l[e]=0;e=dg(p[(t+16|0)>>2]*p[n+16>>2]),p[r+34]=e,e=p[t+20>>2],o=p[n+20>>2],p[r+35]=e>o?e:o,l[i>>2]=dU+8|0,1==(l[l[t+12>>2]+4>>2]|0)?t=n:(O(N.xa|0,41,N.ia|0,N.sa|0),t=l[s>>2]),0!=(l[l[t+12>>2]+4>>2]|0)&&O(N.xa|0,42,N.ia|0,N.I|0)},0,function(e,t,n){var r=e>>2,i=e|0;l[i>>2]=cU+8|0,l[r+1]=4,l[r+12]=t;var s=e+52|0;l[s>>2]=n,l[r+14]=0,l[r+15]=0,l[r+31]=0,l[r+32]=0;for(var e=(e+8|0)>>2,o=e+10;e<o;e++)l[e]=0;e=dg(p[(t+16|0)>>2]*p[n+16>>2]),p[r+34]=e,e=p[t+20>>2],o=p[n+20>>2],p[r+35]=e>o?e:o,l[i>>2]=fU+8|0,1==(l[l[t+12>>2]+4>>2]|0)?t=n:(O(N.ya|0,41,N.ka|0,N.sa|0),t=l[s>>2]),2!=(l[l[t+12>>2]+4>>2]|0)&&O(N.ya|0,42,N.ka|0,N.U|0)},0,function(e,t,n){var r=e>>2,i=e|0;l[i>>2]=cU+8|0,l[r+1]=4,l[r+12]=t;var s=e+52|0;l[s>>2]=n,l[r+14]=0,l[r+15]=0,l[r+31]=0,l[r+32]=0;for(var e=(e+8|0)>>2,o=e+10;e<o;e++)l[e]=0;e=dg(p[(t+16|0)>>2]*p[n+16>>2]),p[r+34]=e,e=p[t+20>>2],o=p[n+20>>2],p[r+35]=e>o?e:o,l[i>>2]=hU+8|0,2==(l[l[t+12>>2]+4>>2]|0)?t=n:(O(N.za|0,41,N.ma|0,N.ta|0),t=l[s>>2]),0!=(l[l[t+12>>2]+4>>2]|0)&&O(N.za|0,42,N.ma|0,N.I|0)},0,function(e,t,n){var r=e>>2,i=e|0;l[i>>2]=cU+8|0,l[r+1]=4,l[r+12]=t;var s=e+52|0;l[s>>2]=n,l[r+14]=0,l[r+15]=0,l[r+31]=0,l[r+32]=0;for(var e=(e+8|0)>>2,o=e+10;e<o;e++)l[e]=0;e=dg(p[(t+16|0)>>2]*p[n+16>>2]),p[r+34]=e,e=p[t+20>>2],o=p[n+20>>2],p[r+35]=e>o?e:o,l[i>>2]=jU+8|0,2==(l[l[t+12>>2]+4>>2]|0)?t=n:(O(N.Aa|0,44,N.ha|0,N.ta|0),t=l[s>>2]),2!=(l[l[t+12>>2]+4>>2]|0)&&O(N.Aa|0,45,N.ha|0,N.U|0)},0,function(e,t){var n,r=t>>2,i=e>>2,s=e|0;l[s>>2]=Gp+8|0,n=t+8|0;var o=t+12|0;(l[n>>2]|0)==(l[o>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[i+1]=l[r],l[i+2]=0,l[i+3]=0,l[i+12]=l[n>>2],l[i+13]=l[o>>2],l[i+14]=0,c[e+61|0]=c[t+16|0]&1,c[e+60|0]=0,l[i+16]=l[r+1],n=(e+16|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,l[n+4]=0,l[n+5]=0,l[n+6]=0,l[n+7]=0,l[s>>2]=Hp+8|0,s=e+88|0,n=t+20|0;var o=e+80|0,u=l[n+4>>2];l[o>>2]=l[n>>2],l[o+4>>2]=u,n=t+28|0,o=l[n+4>>2],l[s>>2]=l[n>>2],l[s+4>>2]=o,p[i+26]=p[r+9],p[i+17]=p[r+10],p[i+18]=p[r+11],p[i+25]=0,p[i+24]=0,p[i+19]=0},0,function(e,t){var n,r=e>>2,i=e|0;l[i>>2]=Gp+8|0,n=t+8|0;var s=t+12|0;(l[n>>2]|0)==(l[s>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[r+1]=l[t>>2],l[r+2]=0,l[r+3]=0,l[r+12]=l[n>>2],l[r+13]=l[s>>2],l[r+14]=0,c[e+61|0]=c[t+16|0]&1,c[e+60|0]=0,l[r+16]=l[t+4>>2],n=(e+16|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,l[n+4]=0,l[n+5]=0,l[n+6]=0,l[n+7]=0,l[i>>2]=Pp+8|0,i=e+76|0,n=t+20|0;var s=e+68|0,o=l[n+4>>2];l[s>>2]=l[n>>2],l[s+4>>2]=o,n=t+28|0,s=l[n+4>>2],l[i>>2]=l[n>>2],l[i+4>>2]=s,p[r+21]=0,p[r+22]=0,p[r+23]=0,p[r+24]=p[t+36>>2],p[r+25]=p[t+40>>2]},0,Mp,0,Ip,0,Jp,0,Lp,0,function(e,t){var n,r,i=t>>2,s=e>>2;n=e|0,l[n>>2]=Gp+8|0,r=t+8|0;var o=t+12|0;(l[r>>2]|0)==(l[o>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[s+1]=l[i],l[s+2]=0,l[s+3]=0,l[s+12]=l[r>>2],l[s+13]=l[o>>2],l[s+14]=0,c[e+61|0]=c[t+16|0]&1,c[e+60|0]=0,l[s+16]=l[i+1],r=(e+16|0)>>2,l[r]=0,l[r+1]=0,l[r+2]=0,l[r+3]=0,l[r+4]=0,l[r+5]=0,l[r+6]=0,l[r+7]=0,l[n>>2]=Kp+8|0,n=e+76|0,r=t+20|0;var o=e+68|0,u=l[r+4>>2];l[o>>2]=l[r>>2],l[o+4>>2]=u,r=t+28|0,o=l[r+4>>2],l[n>>2]=l[r>>2],l[n+4>>2]=o,p[s+29]=p[i+9],n=(e+84|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,p[s+30]=p[(t+44|0)>>2],p[s+31]=p[i+12],p[s+26]=p[i+15],p[s+27]=p[i+14],c[e+112|0]=c[t+40|0]&1,c[e+100|0]=c[t+52|0]&1,l[s+56]=0},0,function(e,t){var n,r=e>>2,i=e|0;l[i>>2]=Gp+8|0,n=t+8|0;var s=t+12|0;(l[n>>2]|0)==(l[s>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[r+1]=l[t>>2],l[r+2]=0,l[r+3]=0,l[r+12]=l[n>>2],l[r+13]=l[s>>2],l[r+14]=0,c[e+61|0]=c[t+16|0]&1,c[e+60|0]=0,l[r+16]=l[t+4>>2],n=(e+16|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,l[n+4]=0,l[n+5]=0,l[n+6]=0,l[n+7]=0,l[i>>2]=Qp+8|0,i=e+76|0,n=t+20|0;var s=e+68|0,o=l[n+4>>2];l[s>>2]=l[n>>2],l[s+4>>2]=o,n=t+28|0,s=l[n+4>>2],l[i>>2]=l[n>>2],l[i+4>>2]=s,p[r+21]=p[t+36>>2],p[r+40]=0,p[r+23]=0,l[r+41]=0,p[r+22]=0},0,function(e,t){var n,r=t>>2,i=e>>2,s=e|0;l[s>>2]=Gp+8|0,n=t+8|0;var o=t+12|0;(l[n>>2]|0)==(l[o>>2]|0)&&O(N.k|0,173,N.l|0,N.m|0),l[i+1]=l[r],l[i+2]=0,l[i+3]=0,l[i+12]=l[n>>2],l[i+13]=l[o>>2],l[i+14]=0,c[e+61|0]=c[t+16|0]&1,c[e+60|0]=0,l[i+16]=l[r+1],n=(e+16|0)>>2,l[n]=0,l[n+1]=0,l[n+2]=0,l[n+3]=0,l[n+4]=0,l[n+5]=0,l[n+6]=0,l[n+7]=0,l[s>>2]=Op+8|0,s=e+88|0,n=t+20|0;var o=e+80|0,u=l[n+4>>2];l[o>>2]=l[n>>2],l[o+4>>2]=u,n=t+28|0,o=l[n+4>>2],l[s>>2]=l[n>>2],l[s+4>>2]=o,p[i+24]=p[r+9],p[i+17]=p[r+10],p[i+18]=p[r+11],p[i+26]=0,p[i+27]=0,p[i+28]=0},0,Np,0,function(e){for(var t=e>>2,n=t+9;t<n;t++)l[t]=0;p[(e+40|0)>>2]=1,p[e+44>>2]=.10000000149011612},0,function(e){e>>=2,bg(l[e+1]),bg(l[e+2]),bg(l[e+3]),bg(l[e+4]),bg(l[e+5]),bg(l[e+6])},0,function(e){l[e>>2]=cT+8|0},0,function(e){l[e>>2]=$V+8|0},0],Module.FUNCTION_TABLE=K,Module.run=zf;if(Module.preInit)for("function"==typeof Module.preInit&&(Module.preInit=[Module.preInit]);0<Module.preInit.length;)Module.preInit.pop()();Ce(Me);var bW=Db;Module.noInitialRun&&(bW=Hb),bW&&zf();var cW={};Module.wrapPointer=Z,Module.castObject=function(e,t){return Z(e.a,t)},Module.NULL=Z(0),Module.destroy=function(e){e.__destroy__||ha("Error: Cannot destroy object. (Did you create it yourself?)"),e.__destroy__(),e.c!==Object?delete e.c.prototype.b[e.a]:delete cW[e.a]},Module.compare=function(e,t){return e.a===t.a},Module.getPointer=function(e){return e.a},Module.getClass=function(e){return e.c},Module.customizeVTable=function(e,t){for(var n=Xd(e.a,"void*"),r=0;Xd(n+lc*r,"void*");)r++;var i=fe(r*lc);Ed(e.a,i,"void*");for(var s,o=K.length,u=0;u<r;u++){var a=K.length;(function(e){K.push(function(){s=e})})(u),K.push(0),Ed(i+lc*u,a,"void*")}var f=[{a:0}];t.forEach(function(t){for(;;)try{t.original.apply(e,f);break}catch(r){f.push(f[0])}t.bi=Xd(n+s*lc,"void*")}),K=K.slice(0,o);var l={};t.forEach(function(e){var t=K.length;K.push(e.replacement),K.push(0),l[e.bi]=t});for(u=0;u<r;u++)o=Xd(n+lc*u,"void*"),o in l&&(o=l[o]),Ed(i+lc*u,o,"void*");return e},dW.prototype.get_m_contactFilter=function(){return Z(kq(this.a),Module.b2ContactFilter)},dW.prototype.get_m_contactCount=function(){return lq(this.a)},dW.prototype.set_m_contactFilter=function(e){mq(this.a,e.a)},dW.prototype.b={},Module.b2ContactManager=dW,dW.prototype.AddPair=function(e,t){Po(this.a,e,t)},dW.prototype.set_m_allocator=function(e){nq(this.a,e.a)},dW.prototype.set_m_contactCount=function(e){oq(this.a,e)},dW.prototype.Collide=function(){Mo(this.a)},dW.prototype.set_m_contactList=function(e){pq(this.a,e.a)},dW.prototype.FindNewContacts=function(){Ys(this.a)},dW.prototype.get_m_contactListener=function(){return Z(sq(this.a),Module.b2ContactListener)},dW.prototype.__destroy__=function(){Zs(this.a)},dW.prototype.set_m_contactListener=function(e){tq(this.a,e.a)},dW.prototype.get_m_broadPhase=function(){return Z(this.a|0,Module.b2BroadPhase)},dW.prototype.Destroy=function(e){Hn(this.a,e.a)},dW.prototype.set_m_broadPhase=function(e){at(this.a,e.a)},dW.prototype.get_m_contactList=function(){return Z(uq(this.a),Module.b2Contact)},dW.prototype.get_m_allocator=function(){return Z(vq(this.a),Module.b2BlockAllocator)},eW.prototype.GetBodyA=function(){return Z(wq(this.a),Module.b2Body)},eW.prototype.GetBodyB=function(){return Z(xq(this.a),Module.b2Body)},eW.prototype.SetFrequency=function(e){yq(this.a,e)},eW.prototype.GetUserData=function(){return zq(this.a)},eW.prototype.SetUserData=function(e){Aq(this.a,e)},eW.prototype.GetAnchorB=function(){return Z(bt(this.a),Module.b2Vec2)},eW.prototype.GetAnchorA=function(){return Z(ft(this.a),Module.b2Vec2)},eW.prototype.GetNext=function(){return Z(Bq(this.a),Module.b2Joint)},eW.prototype.GetLocalAnchorA=function(){return Z(this.a+80|0,Module.b2Vec2)},eW.prototype.GetLocalAnchorB=function(){return Z(this.a+88|0,Module.b2Vec2)},eW.prototype.GetFrequency=function(){return Cq(this.a)},eW.prototype.GetReactionForce=function(e){return Z(it(this.a,e),Module.b2Vec2)},eW.prototype.GetLength=function(){return Dq(this.a)},eW.prototype.GetDampingRatio=function(){return Eq(this.a)},eW.prototype.GetCollideConnected=function(){return Fq(this.a)},eW.prototype.__destroy__=function(){lt(this.a)},eW.prototype.Dump=function(){mt(this.a)},eW.prototype.GetType=function(){return Gq(this.a)},eW.prototype.b={},Module.b2DistanceJoint=eW,eW.prototype.SetDampingRatio=function(e){Hq(this.a,e)},eW.prototype.GetReactionTorque=function(e){return ot(this.a,e)},eW.prototype.SetLength=function(e){nr(this.a,e)},eW.prototype.IsActive=function(){return or(this.a)},fW.prototype.GetRestitution=function(){return pr(this.a)},fW.prototype.SetFilterData=function(e){pt(this.a,e.a)},fW.prototype.SetFriction=function(e){qr(this.a,e)},fW.prototype.b={},Module.b2Fixture=fW,fW.prototype.GetShape=function(){return Z(rr(this.a),Module.b2Shape)},fW.prototype.SetRestitution=function(e){sr(this.a,e)},fW.prototype.GetBody=function(){return Z(ws(this.a),Module.b2Body)},fW.prototype.GetNext=function(){return Z(xs(this.a),Module.b2Fixture)},fW.prototype.GetFriction=function(){return ys(this.a)},fW.prototype.GetUserData=function(){return zs(this.a)},fW.prototype.SetDensity=function(e){As(this.a,e)},fW.prototype.GetMassData=function(e){rt(this.a,e.a)},fW.prototype.SetSensor=function(e){Bs(this.a,e)},fW.prototype.GetAABB=function(e){return Z(Cs(this.a,e),Module.b2AABB)},fW.prototype.TestPoint=function(e){return st(this.a,e.a)},fW.prototype.SetUserData=function(e){Ds(this.a,e)},fW.prototype.__destroy__=function(){tt(this.a)},fW.prototype.RayCast=function(e,t,n){return ut(this.a,e.a,t.a,n)},fW.prototype.Refilter=function(){En(this.a)},fW.prototype.Dump=function(e){Jo(this.a,e)},fW.prototype.GetFilterData=function(){return Z(this.a+32|0,Module.b2Filter)},fW.prototype.IsSensor=function(){return Es(this.a)},fW.prototype.GetType=function(){return Fs(this.a)},fW.prototype.GetDensity=function(){return Gs(this.a)},gW.prototype.GetBodyA=function(){return Z(Hs(this.a),Module.b2Body)},gW.prototype.GetBodyB=function(){return Z(Is(this.a),Module.b2Body)},gW.prototype.SetFrequency=function(e){Js(this.a,e)},gW.prototype.GetUserData=function(){return Ks(this.a)},gW.prototype.SetMaxForce=function(e){Ls(this.a,e)},gW.prototype.SetUserData=function(e){Ms(this.a,e)},gW.prototype.GetAnchorB=function(){return Z(vt(this.a),Module.b2Vec2)},gW.prototype.GetAnchorA=function(){return Z(yt(this.a),Module.b2Vec2)},gW.prototype.b={},Module.b2MouseJoint=gW,gW.prototype.GetNext=function(){return Z(Ns(this.a),Module.b2Joint)},gW.prototype.GetMaxForce=function(){return Os(this.a)},gW.prototype.GetTarget=function(){return Z(this.a+76|0,Module.b2Vec2)},gW.prototype.GetFrequency=function(){return Ps(this.a)},gW.prototype.GetReactionForce=function(e){return Z(Ct(this.a,e),Module.b2Vec2)},gW.prototype.GetDampingRatio=function(){return Qs(this.a)},gW.prototype.GetCollideConnected=function(){return Rs(this.a)},gW.prototype.__destroy__=function(){Ft(this.a)},gW.prototype.Dump=function(){Gt(this.a)},gW.prototype.SetTarget=function(e){Ss(this.a,e.a)},gW.prototype.GetType=function(){return Ts(this.a)},gW.prototype.SetDampingRatio=function(e){Us(this.a,e)},gW.prototype.GetReactionTorque=function(e){return Ht(this.a,e)},gW.prototype.IsActive=function(){return Vs(this.a)},hW.prototype.GetBodyA=function(){return Z(Ws(this.a),Module.b2Body)},hW.prototype.__destroy__=function(){It(this.a)},hW.prototype.GetAnchorA=function(){return Z(Jt(this.a),Module.b2Vec2)},hW.prototype.GetType=function(){return Xs(this.a)},hW.prototype.GetGroundAnchorB=function(){return Z(Mt(this.a),Module.b2Vec2)},hW.prototype.GetReactionTorque=function(e){return Pt(this.a,e)},hW.prototype.Dump=function(){Qt(this.a)},hW.prototype.GetGroundAnchorA=function(){return Z(gx(this.a),Module.b2Vec2)},hW.prototype.GetLengthB=function(){return ox(this.a)},hW.prototype.GetUserData=function(){return Rt(this.a)},hW.prototype.GetLengthA=function(){return px(this.a)},hW.prototype.GetBodyB=function(){return Z(qu(this.a),Module.b2Body)},hW.prototype.GetCollideConnected=function(){return ru(this.a)},hW.prototype.SetUserData=function(e){su(this.a,e)},hW.prototype.GetAnchorB=function(){return Z(qx(this.a),Module.b2Vec2)},hW.prototype.GetReactionForce=function(e){return Z(tx(this.a,e),Module.b2Vec2)},hW.prototype.GetNext=function(){return Z(tu(this.a),Module.b2Joint)},hW.prototype.b={},Module.b2PulleyJoint=hW,hW.prototype.IsActive=function(){return uu(this.a)},hW.prototype.GetRatio=function(){return vu(this.a)},iW.prototype.GetTreeQuality=function(){return wu(this.a)},iW.prototype.GetFatAABB=function(e){return Z(xx(this.a,e),Module.b2AABB)},iW.prototype.GetUserData=function(e){return yx(this.a,e)},iW.prototype.__destroy__=function(){zx(this.a)},iW.prototype.GetTreeHeight=function(){return xu(this.a)},iW.prototype.b={},Module.b2BroadPhase=iW,iW.prototype.GetProxyCount=function(){return yu(this.a)},iW.prototype.GetTreeBalance=function(){return Bx(this.a)},iW.prototype.TestOverlap=function(e,t){return Cx(this.a,e,t)},iW.prototype.TouchProxy=function(e){Dx(this.a,e)},iW.prototype.CreateProxy=function(e,t){return Jf(this.a,e.a,t)},iW.prototype.MoveProxy=function(e,t,n){Ex(this.a,e,t.a,n.a)},iW.prototype.DestroyProxy=function(e){Fx(this.a,e)},jW.prototype.QueryAABB=function(e,t){Gx(this.a,e.a,t.a)},jW.prototype.SetSubStepping=function(e){zu(this.a,e)},jW.prototype.GetTreeQuality=function(){return Au(this.a)},jW.prototype.GetTreeHeight=function(){return Bu(this.a)},jW.prototype.GetProfile=function(){return Z(this.a+102996|0,Module.b2Profile)},jW.prototype.GetTreeBalance=function(){return Hx(this.a)},jW.prototype.GetSubStepping=function(){return Cu(this.a)},jW.prototype.GetContactManager=function(){return Z(this.a+102872|0,Module.b2ContactManager)},jW.prototype.SetContactListener=function(e){Du(this.a,e.a)},jW.prototype.DrawDebugData=function(){cq(this.a)},jW.prototype.SetContinuousPhysics=function(e){Eu(this.a,e)},jW.prototype.SetGravity=function(e){Fu(this.a,e.a)},jW.prototype.GetBodyCount=function(){return Gu(this.a)},jW.prototype.GetAutoClearForces=function(){return Hu(this.a)},jW.prototype.GetContinuousPhysics=function(){return Iu(this.a)},jW.prototype.GetJointList=function(){return Z(Ju(this.a),Module.b2Joint)},jW.prototype.CreateBody=function(e){return Z(Ix(this.a,e.a),Module.b2Body)},jW.prototype.GetBodyList=function(){return Z(Ku(this.a),Module.b2Body)},jW.prototype.SetDestructionListener=function(e){Lu(this.a,e.a)},jW.prototype.DestroyJoint=function(e){Ep(this.a,e.a)},jW.prototype.b={},Module.b2World=jW,jW.prototype.GetJointCount=function(){return iw(this.a)},jW.prototype.Step=function(e,t,n){Rp(this.a,e,t,n)},jW.prototype.ClearForces=function(){Kx(this.a)},jW.prototype.GetWarmStarting=function(){return Lx(this.a)},jW.prototype.SetAllowSleeping=function(e){Mx(this.a,e)},jW.prototype.DestroyBody=function(e){Dp(this.a,e.a)},jW.prototype.GetAllowSleeping=function(){return Nx(this.a)},jW.prototype.CreateJoint=function(e){return Z(Fp(this.a,e.a),Module.b2Joint)},jW.prototype.GetProxyCount=function(){return Ox(this.a)},jW.prototype.RayCast=function(e,t,n){uy(this.a,e.a,t.a,n.a)},jW.prototype.IsLocked=function(){return Px(this.a)},jW.prototype.GetContactList=function(){return Z(Qx(this.a),Module.b2Contact)},jW.prototype.SetDebugDraw=function(e){Rx(this.a,e.a)},jW.prototype.__destroy__=function(){vy(this.a)},jW.prototype.Dump=function(){dq(this.a)},jW.prototype.SetAutoClearForces=function(e){Sx(this.a,e)},jW.prototype.GetGravity=function(){return Z(wy(this.a),Module.b2Vec2)},jW.prototype.GetContactCount=function(){return Tx(this.a)},jW.prototype.SetWarmStarting=function(e){Ux(this.a,e)},jW.prototype.SetContactFilter=function(e){Vx(this.a,e.a)},kW.prototype.GetBodyA=function(){return Z(Wx(this.a),Module.b2Body)},kW.prototype.GetBodyB=function(){return Z(Xx(this.a),Module.b2Body)},kW.prototype.GetUserData=function(){return Yx(this.a)},kW.prototype.GetLocalAxisA=function(){return Z(this.a+84|0,Module.b2Vec2)},kW.prototype.GetLowerLimit=function(){return Zx(this.a)},kW.prototype.GetAnchorA=function(){return Z(zy(this.a),Module.b2Vec2)},kW.prototype.GetNext=function(){return Z($x(this.a),Module.b2Joint)},kW.prototype.b={},Module.b2PrismaticJoint=kW,kW.prototype.GetLocalAnchorA=function(){return Z(this.a+68|0,Module.b2Vec2)},kW.prototype.SetMotorSpeed=function(e){ay(this.a,e)},kW.prototype.GetLocalAnchorB=function(){return Z(this.a+76|0,Module.b2Vec2)},kW.prototype.GetMotorSpeed=function(){return by(this.a)},kW.prototype.SetMaxMotorForce=function(e){cy(this.a,e)},kW.prototype.EnableLimit=function(e){dy(this.a,e)},kW.prototype.IsMotorEnabled=function(){return ey(this.a)},kW.prototype.SetUserData=function(e){fy(this.a,e)},kW.prototype.GetReactionForce=function(e){return Z(Dy(this.a,e),Module.b2Vec2)},kW.prototype.GetMaxMotorForce=function(){return gy(this.a)},kW.prototype.GetCollideConnected=function(){return hy(this.a)},kW.prototype.GetJointSpeed=function(){return iy(this.a)},kW.prototype.EnableMotor=function(e){jy(this.a,e)},kW.prototype.__destroy__=function(){Gy(this.a)},kW.prototype.GetReferenceAngle=function(){return ky(this.a)},kW.prototype.Dump=function(){Hy(this.a)},kW.prototype.GetMotorForce=function(e){return ly(this.a,e)},kW.prototype.GetJointTranslation=function(){return my(this.a)},kW.prototype.GetType=function(){return ny(this.a)},kW.prototype.IsLimitEnabled=function(){return oy(this.a)},kW.prototype.GetReactionTorque=function(e){return Iy(this.a,e)},kW.prototype.SetLimits=function(e,t){Jy(this.a,e,t)},kW.prototype.GetUpperLimit=function(){return py(this.a)},kW.prototype.IsActive=function(){return qy(this.a)},kW.prototype.GetAnchorB=function(){return Z(Ky(this.a),Module.b2Vec2)},lW.prototype.__destroy__=function(){Ny(this.a)},lW.prototype.GetType=function(){return ry(this.a)},lW.prototype.ComputeMass=function(e,t){Oy(this.a,e.a,t)},lW.prototype.set_m_radius=function(e){sy(this.a,e)},lW.prototype.get_m_radius=function(){return ty(this.a)},lW.prototype.GetVertex=function(){return Z(this.a+12|0,Module.b2Vec2)},lW.prototype.Clone=function(e){return Z(Py(this.a,e.a),Module.b2Shape)},lW.prototype.GetSupportVertex=function(){return Z(this.a+12|0,Module.b2Vec2)},lW.prototype.RayCast=function(e,t,n,r){return Qy(this.a,e.a,t.a,n.a,r)},lW.prototype.ComputeAABB=function(e,t,n){Ry(this.a,e.a,t.a,n)},lW.prototype.GetVertexCount=Sb(1),lW.prototype.GetChildCount=function(){return Sy(this.a)},lW.prototype.TestPoint=function(e,t){return Kz(this.a,e.a,t.a)},lW.prototype.b={},Module.b2CircleShape=lW,lW.prototype.GetSupport=Sb(0),lW.prototype.set_m_p=function(e){Ty(this.a,e.a)},lW.prototype.get_m_p=function(){return Z(this.a+12|0,Module.b2Vec2)},mW.prototype.GetBodyA=function(){return Z(Uy(this.a),Module.b2Body)},mW.prototype.GetBodyB=function(){return Z(Vy(this.a),Module.b2Body)},mW.prototype.GetUserData=function(){return Wy(this.a)},mW.prototype.GetDefinition=function(e){Ia(this.a,e.a)},mW.prototype.GetLocalAxisA=function(){return Z(this.a+92|0,Module.b2Vec2)},mW.prototype.SetSpringDampingRatio=function(e){Xy(this.a,e)},mW.prototype.GetAnchorB=function(){return Z(Nz(this.a),Module.b2Vec2)},mW.prototype.GetAnchorA=function(){return Z(Qz(this.a),Module.b2Vec2)},mW.prototype.GetNext=function(){return Z(Yy(this.a),Module.b2Joint)},mW.prototype.GetSpringFrequencyHz=function(){return Zy(this.a)},mW.prototype.GetLocalAnchorA=function(){return Z(this.a+76|0,Module.b2Vec2)},mW.prototype.SetMotorSpeed=function(e){$y(this.a,e)},mW.prototype.GetLocalAnchorB=function(){return Z(this.a+84|0,Module.b2Vec2)},mW.prototype.GetMotorSpeed=function(){return az(this.a)},mW.prototype.GetMotorTorque=function(e){return bz(this.a,e)},mW.prototype.b={},Module.b2WheelJoint=mW,mW.prototype.IsMotorEnabled=function(){return cz(this.a)},mW.prototype.GetJointTranslation=function(){return dz(this.a)},mW.prototype.SetUserData=function(e){ez(this.a,e)},mW.prototype.GetReactionForce=function(e){return Z(Uz(this.a,e),Module.b2Vec2)},mW.prototype.GetSpringDampingRatio=function(){return fz(this.a)},mW.prototype.SetMaxMotorTorque=function(e){gz(this.a,e)},mW.prototype.GetCollideConnected=function(){return hz(this.a)},mW.prototype.GetJointSpeed=function(){return iz(this.a)},mW.prototype.EnableMotor=function(e){jz(this.a,e)},mW.prototype.__destroy__=function(){Xz(this.a)},mW.prototype.Dump=function(){Yz(this.a)},mW.prototype.GetMaxMotorTorque=function(){return kz(this.a)},mW.prototype.GetType=function(){return lz(this.a)},mW.prototype.GetReactionTorque=function(e){return Zz(this.a,e)},mW.prototype.SetSpringFrequencyHz=function(e){mz(this.a,e)},mW.prototype.IsActive=function(){return nz(this.a)},nW.prototype.__destroy__=function(){$z(this.a)},nW.prototype.AppendFlags=function(e){oz(this.a,e)},nW.prototype.DrawTransform=function(e){aA(this.a,e.a)},nW.prototype.ClearFlags=function(e){pz(this.a,e)},nW.prototype.DrawPolygon=function(e,t,n){bA(this.a,e.a,t,n.a)},nW.prototype.DrawSolidCircle=function(e,t,n,r){cA(this.a,e.a,t,n.a,r.a)},nW.prototype.DrawSolidPolygon=function(e,t,n){dA(this.a,e.a,t,n.a)},nW.prototype.DrawCircle=function(e,t,n){eA(this.a,e.a,t,n.a)},nW.prototype.SetFlags=function(e){qz(this.a,e)},nW.prototype.DrawSegment=function(e,t,n){fA(this.a,e.a,t.a,n.a)},nW.prototype.b={},Module.b2Draw=nW,nW.prototype.GetFlags=function(){return rz(this.a)},oW.prototype.b={},Module.b2Joint=oW,oW.prototype.GetNext=function(){return Z(sz(this.a),Module.b2Joint)},oW.prototype.GetBodyA=function(){return Z(tz(this.a),Module.b2Body)},oW.prototype.GetBodyB=function(){return Z(uz(this.a),Module.b2Body)},oW.prototype.GetReactionTorque=function(e){return iA(this.a,e)},oW.prototype.GetAnchorA=function(){return Z(jA(this.a),Module.b2Vec2)},oW.prototype.GetUserData=function(){return vz(this.a)},oW.prototype.GetType=function(){return wz(this.a)},oW.prototype.SetUserData=function(e){xz(this.a,e)},oW.prototype.GetCollideConnected=function(){return yz(this.a)},oW.prototype.Dump=function(){mA(this.a)},oW.prototype.GetAnchorB=function(){return Z(nA(this.a),Module.b2Vec2)},oW.prototype.GetReactionForce=function(e){return Z(OG(this.a,e),Module.b2Vec2)},oW.prototype.IsActive=function(){return zz(this.a)},pW.prototype.GetJoint1=function(){return Z(Az(this.a),Module.b2Joint)},pW.prototype.b={},Module.b2GearJoint=pW,pW.prototype.GetAnchorA=function(){return Z(SG(this.a),Module.b2Vec2)},pW.prototype.GetJoint2=function(){return Z(Bz(this.a),Module.b2Joint)},pW.prototype.GetReactionTorque=function(e){return VG(this.a,e)},pW.prototype.Dump=function(){WG(this.a)},pW.prototype.__destroy__=function(){XG(this.a)},pW.prototype.SetRatio=function(e){YG(this.a,e)},pW.prototype.GetType=function(){return Cz(this.a)},pW.prototype.GetUserData=function(){return Dz(this.a)},pW.prototype.GetBodyB=function(){return Z(Ez(this.a),Module.b2Body)},pW.prototype.GetCollideConnected=function(){return Fz(this.a)},pW.prototype.SetUserData=function(e){Gz(this.a,e)},pW.prototype.GetAnchorB=function(){return Z(ZG(this.a),Module.b2Vec2)},pW.prototype.GetReactionForce=function(e){return Z(bH(this.a,e),Module.b2Vec2)},pW.prototype.GetBodyA=function(){return Z(Hz(this.a),Module.b2Body)},pW.prototype.GetNext=function(){return Z(Iz(this.a),Module.b2Joint)},pW.prototype.IsActive=function(){return Jz(this.a)},pW.prototype.GetRatio=function(){return eH(this.a)},qW.prototype.ReportFixture=function(e,t,n,r){return FH(this.a,e.a,t.a,n.a,r)},qW.prototype.b={},Module.b2RayCastCallback=qW,qW.prototype.__destroy__=function(){IH(this.a)},rW.prototype.__destroy__=function(){JH(this.a)},rW.prototype.b={},Module.b2DynamicTree=rW,rW.prototype.GetFatAABB=function(e){return Z(LH(this.a,e),Module.b2AABB)},rW.prototype.GetUserData=function(e){return MH(this.a,e)},rW.prototype.GetMaxBalance=function(){return NH(this.a)},rW.prototype.GetHeight=function(){return fH(this.a)},rW.prototype.GetAreaRatio=function(){return gH(this.a)},rW.prototype.RebuildBottomUp=function(){Qj(this.a)},rW.prototype.CreateProxy=function(e,t){return OH(this.a,e.a,t)},rW.prototype.MoveProxy=function(e,t,n){return Vh(this.a,e,t.a,n.a)},rW.prototype.Validate=function(){Pj(this.a)},rW.prototype.DestroyProxy=function(e){Th(this.a,e)},sW.prototype.GetBodyA=function(){return Z(hH(this.a),Module.b2Body)},sW.prototype.GetBodyB=function(){return Z(iH(this.a),Module.b2Body)},sW.prototype.SetFrequency=function(e){jH(this.a,e)},sW.prototype.GetUserData=function(){return kH(this.a)},sW.prototype.SetUserData=function(e){lH(this.a,e)},sW.prototype.GetAnchorB=function(){return Z(PH(this.a),Module.b2Vec2)},sW.prototype.GetAnchorA=function(){return Z(SH(this.a),Module.b2Vec2)},sW.prototype.GetNext=function(){return Z(mH(this.a),Module.b2Joint)},sW.prototype.GetLocalAnchorA=function(){return Z(this.a+80|0,Module.b2Vec2)},sW.prototype.GetLocalAnchorB=function(){return Z(this.a+88|0,Module.b2Vec2)},sW.prototype.GetFrequency=function(){return nH(this.a)},sW.prototype.b={},Module.b2WeldJoint=sW,sW.prototype.GetReactionForce=function(e){return Z(WH(this.a,e),Module.b2Vec2)},sW.prototype.GetDampingRatio=function(){return oH(this.a)},sW.prototype.GetCollideConnected=function(){return pH(this.a)},sW.prototype.__destroy__=function(){ZH(this.a)},sW.prototype.GetReferenceAngle=function(){return qH(this.a)},sW.prototype.Dump=function(){$H(this.a)},sW.prototype.GetType=function(){return rH(this.a)},sW.prototype.SetDampingRatio=function(e){sH(this.a,e)},sW.prototype.GetReactionTorque=function(e){return aI(this.a,e)},sW.prototype.IsActive=function(){return tH(this.a)},tW.prototype.GetBodyA=function(){return Z(uH(this.a),Module.b2Body)},tW.prototype.GetBodyB=function(){return Z(vH(this.a),Module.b2Body)},tW.prototype.GetUserData=function(){return wH(this.a)},tW.prototype.GetLowerLimit=function(){return xH(this.a)},tW.prototype.GetAnchorA=function(){return Z(bI(this.a),Module.b2Vec2)},tW.prototype.b={},Module.b2RevoluteJoint=tW,tW.prototype.GetNext=function(){return Z(yH(this.a),Module.b2Joint)},tW.prototype.GetLocalAnchorA=function(){return Z(this.a+68|0,Module.b2Vec2)},tW.prototype.SetMotorSpeed=function(e){zH(this.a,e)},tW.prototype.GetLocalAnchorB=function(){return Z(this.a+76|0,Module.b2Vec2)},tW.prototype.GetJointAngle=function(){return AH(this.a)},tW.prototype.GetMotorSpeed=function(){return BH(this.a)},tW.prototype.GetMotorTorque=function(e){return CH(this.a,e)},tW.prototype.IsLimitEnabled=function(){return DH(this.a)},tW.prototype.EnableLimit=function(e){EH(this.a,e)},tW.prototype.IsMotorEnabled=function(){return fI(this.a)},tW.prototype.SetUserData=function(e){gI(this.a,e)},tW.prototype.GetReactionForce=function(e){return Z(GI(this.a,e),Module.b2Vec2)},tW.prototype.SetMaxMotorTorque=function(e){hI(this.a,e)},tW.prototype.GetCollideConnected=function(){return iI(this.a)},tW.prototype.GetJointSpeed=function(){return jI(this.a)},tW.prototype.EnableMotor=function(e){kI(this.a,e)},tW.prototype.__destroy__=function(){JI(this.a)},tW.prototype.GetReferenceAngle=function(){return lI(this.a)},tW.prototype.Dump=function(){KI(this.a)},tW.prototype.SetLimits=function(e,t){LI(this.a,e,t)},tW.prototype.GetMaxMotorTorque=function(){return mI(this.a)},tW.prototype.GetType=function(){return nI(this.a)},tW.prototype.GetReactionTorque=function(e){return MI(this.a,e)},tW.prototype.GetUpperLimit=function(){return oI(this.a)},tW.prototype.IsActive=function(){return pI(this.a)},tW.prototype.GetAnchorB=function(){return Z(NI(this.a),Module.b2Vec2)},uW.prototype.b={},Module.b2Timer=uW,uW.prototype.Reset=Ib(),uW.prototype.__destroy__=function(){RI(this.a)},uW.prototype.GetMilliseconds=Sb(0),vW.prototype.__destroy__=function(){SI(this.a)},vW.prototype.b={},Module.b2ContactListener=vW,vW.prototype.EndContact=function(e){VI(this.a,e.a)},vW.prototype.BeginContact=function(e){WI(this.a,e.a)},vW.prototype.PreSolve=function(e,t){XI(this.a,e.a,t.a)},vW.prototype.PostSolve=function(e,t){YI(this.a,e.a,t.a)},wW.prototype.__destroy__=function(){ZI(this.a)},wW.prototype.GetType=function(){return qI(this.a)},wW.prototype.CreateChain=function(e,t){$I(this.a,e.a,t)},wW.prototype.set_m_radius=function(e){rI(this.a,e)},wW.prototype.get_m_radius=function(){return sI(this.a)},wW.prototype.get_m_vertices=function(){return Z(tI(this.a),Module.b2Vec2)},wW.prototype.ComputeMass=function(e,t){aJ(this.a,e.a,t)},wW.prototype.Clone=function(e){return Z(bJ(this.a,e.a),Module.b2Shape)},wW.prototype.get_m_count=function(){return uI(this.a)},wW.prototype.GetChildEdge=function(e,t){$k(this.a,e.a,t)},wW.prototype.b={},Module.b2ChainShape=wW,wW.prototype.ComputeAABB=function(e,t,n){eJ(this.a,e.a,t.a,n)},wW.prototype.RayCast=function(e,t,n,r){return fJ(this.a,e.a,t.a,n.a,r)},wW.prototype.GetChildCount=function(){return gJ(this.a)},wW.prototype.TestPoint=function(e,t){return hJ(this.a,e.a,t.a)},wW.prototype.SetPrevVertex=function(e){vI(this.a,e.a)},wW.prototype.CreateLoop=function(e,t){iJ(this.a,e.a,t)},wW.prototype.set_m_vertices=function(e){wI(this.a,e.a)},wW.prototype.SetNextVertex=function(e){xI(this.a,e.a)},wW.prototype.set_m_count=function(e){yI(this.a,e)},xW.prototype.ReportFixture=function(e){return jJ(this.a,e.a)},xW.prototype.__destroy__=function(){kJ(this.a)},xW.prototype.b={},Module.b2QueryCallback=xW,yW.prototype.__destroy__=function(){nJ(this.a)},yW.prototype.Clear=function(){oJ(this.a)},yW.prototype.Free=function(e,t){pJ(this.a,e,t)},yW.prototype.Allocate=function(e){return vm(this.a,e)},yW.prototype.b={},Module.b2BlockAllocator=yW,zW.prototype.GetNext=function(){return Z(zI(this.a),Module.b2Joint)},zW.prototype.__destroy__=function(){rJ(this.a)},zW.prototype.GetAnchorA=function(){return Z(sJ(this.a),Module.b2Vec2)},zW.prototype.GetReactionTorque=function(e){return vJ(this.a,e)},zW.prototype.GetMaxLength=function(){return AI(this.a)},zW.prototype.GetBodyA=function(){return Z(BI(this.a),Module.b2Body)},zW.prototype.GetCollideConnected=function(){return CI(this.a)},zW.prototype.GetUserData=function(){return DI(this.a)},zW.prototype.GetType=function(){return EI(this.a)},zW.prototype.GetBodyB=function(){return Z(FI(this.a),Module.b2Body)},zW.prototype.GetLocalAnchorA=function(){return Z(this.a+68|0,Module.b2Vec2)},zW.prototype.Dump=function(){wJ(this.a)},zW.prototype.SetMaxLength=function(e){xJ(this.a,e)},zW.prototype.GetLocalAnchorB=function(){return Z(this.a+76|0,Module.b2Vec2)},zW.prototype.SetUserData=function(e){yJ(this.a,e)},zW.prototype.GetAnchorB=function(){return Z(pK(this.a),Module.b2Vec2)},zW.prototype.GetReactionForce=function(e){return Z(sK(this.a,e),Module.b2Vec2)},zW.prototype.b={},Module.b2RopeJoint=zW,zW.prototype.GetLimitState=function(){return zJ(this.a)},zW.prototype.IsActive=function(){return AJ(this.a)},AW.prototype.__destroy__=function(){wK(this.a)},AW.prototype.Set=function(e,t){tm(this.a,e.a,t)},AW.prototype.ComputeMass=function(e,t){xK(this.a,e.a,t)},AW.prototype.set_m_radius=function(e){BJ(this.a,e)},AW.prototype.get_m_radius=function(){return CJ(this.a)},AW.prototype.Clone=function(e){return Z(yK(this.a,e.a),Module.b2Shape)},AW.prototype.GetVertex=function(e){return Z(DJ(this.a,e),Module.b2Vec2)},AW.prototype.RayCast=function(e,t,n,r){return zK(this.a,e.a,t.a,n.a,r)},AW.prototype.SetAsBox=function(e,t,n,r){n===Ia?EJ(this.a,e,t):sm(this.a,e,t,n.a,r)},AW.prototype.set_m_centroid=function(e){FJ(this.a,e.a)},AW.prototype.ComputeAABB=function(e,t,n){AK(this.a,e.a,t.a,n)},AW.prototype.set_m_vertexCount=function(e){GJ(this.a,e)},AW.prototype.GetVertexCount=function(){return HJ(this.a)},AW.prototype.GetChildCount=function(){return BK(this.a)},AW.prototype.TestPoint=function(e,t){return CK(this.a,e.a,t.a)},AW.prototype.GetType=function(){return IJ(this.a)},AW.prototype.b={},Module.b2PolygonShape=AW,AW.prototype.get_m_vertexCount=function(){return JJ(this.a)},AW.prototype.get_m_centroid=function(){return Z(this.a+12|0,Module.b2Vec2)},BW.prototype.__destroy__=function(){FK(this.a)},BW.prototype.Set=function(e,t){KJ(this.a,e.a,t.a)},BW.prototype.ComputeMass=function(e,t){GK(this.a,e.a,t)},BW.prototype.set_m_radius=function(e){LJ(this.a,e)},BW.prototype.get_m_radius=function(){return MJ(this.a)},BW.prototype.Clone=function(e){return Z(HK(this.a,e.a),Module.b2Shape)},BW.prototype.GetType=function(){return NJ(this.a)},BW.prototype.RayCast=function(e,t,n,r){return IK(this.a,e.a,t.a,n.a,r)},BW.prototype.ComputeAABB=function(e,t,n){JK(this.a,e.a,t.a,n)},BW.prototype.GetChildCount=function(){return KK(this.a)},BW.prototype.TestPoint=function(e,t){return LK(this.a,e.a,t.a)},BW.prototype.b={},Module.b2EdgeShape=BW,CW.prototype.b={},Module.b2Contact=CW,CW.prototype.GetNext=function(){return Z(OJ(this.a),Module.b2Contact)},CW.prototype.SetEnabled=function(e){PJ(this.a,e)},CW.prototype.GetWorldManifold=function(e){OK(this.a,e.a)},CW.prototype.GetRestitution=function(){return QJ(this.a)},CW.prototype.ResetFriction=function(){PK(this.a)},CW.prototype.GetFriction=function(){return RJ(this.a)},CW.prototype.IsTouching=function(){return SJ(this.a)},CW.prototype.IsEnabled=function(){return TJ(this.a)},CW.prototype.GetFixtureB=function(){return Z(UJ(this.a),Module.b2Fixture)},CW.prototype.SetFriction=function(e){VJ(this.a,e)},CW.prototype.GetFixtureA=function(){return Z(WJ(this.a),Module.b2Fixture)},CW.prototype.GetChildIndexA=function(){return XJ(this.a)},CW.prototype.GetChildIndexB=function(){return YJ(this.a)},CW.prototype.Evaluate=function(e,t,n){QK(this.a,e.a,t.a,n.a)},CW.prototype.SetRestitution=function(e){ZJ(this.a,e)},CW.prototype.GetManifold=function(){return Z(this.a+64|0,Module.b2Manifold)},CW.prototype.ResetRestitution=function(){$J(this.a)},DW.prototype.b={},Module.b2Shape=DW,DW.prototype.get_m_radius=function(){return aK(this.a)},DW.prototype.ComputeMass=function(e,t){RK(this.a,e.a,t)},DW.prototype.set_m_radius=function(e){bK(this.a,e)},DW.prototype.Clone=function(e){return Z(SK(this.a,e.a),Module.b2Shape)},DW.prototype.GetType=function(){return cK(this.a)},DW.prototype.RayCast=function(e,t,n,r){return TK(this.a,e.a,t.a,n.a,r)},DW.prototype.ComputeAABB=function(e,t,n){UK(this.a,e.a,t.a,n)},DW.prototype.GetChildCount=function(){return VK(this.a)},DW.prototype.TestPoint=function(e,t){return WK(this.a,e.a,t.a)},EW.prototype.b={},Module.b2Body=EW,EW.prototype.GetAngle=function(){return dK(this.a)},EW.prototype.GetUserData=function(){return eK(this.a)},EW.prototype.IsSleepingAllowed=function(){return fK(this.a)},EW.prototype.SetAngularDamping=function(e){gK(this.a,e)},EW.prototype.SetActive=function(e){Mn(this.a,e)},EW.prototype.SetGravityScale=function(e){hK(this.a,e)},EW.prototype.SetUserData=function(e){iK(this.a,e)},EW.prototype.GetAngularVelocity=function(){return jK(this.a)},EW.prototype.GetFixtureList=function(){return Z(kK(this.a),Module.b2Fixture)},EW.prototype.ApplyForce=function(e,t){lK(this.a,e.a,t.a)},EW.prototype.GetLocalPoint=function(e){return Z(XK(this.a,e.a),Module.b2Vec2)},EW.prototype.SetLinearVelocity=function(e){mK(this.a,e.a)},EW.prototype.GetJointList=function(){return Z(nK(this.a),Module.b2JointEdge)},EW.prototype.GetLinearVelocity=function(){return Z($K(this.a),Module.b2Vec2)},EW.prototype.GetNext=function(){return Z(oK(this.a),Module.b2Body)},EW.prototype.SetSleepingAllowed=function(e){cL(this.a,e)},EW.prototype.SetTransform=function(e,t){Kn(this.a,e.a,t)},EW.prototype.GetMass=function(){return dL(this.a)},EW.prototype.SetAngularVelocity=function(e){eL(this.a,e)},EW.prototype.GetMassData=function(e){fL(this.a,e.a)},EW.prototype.GetLinearVelocityFromWorldPoint=function(e){return Z(DL(this.a,e.a),Module.b2Vec2)},EW.prototype.ResetMassData=function(){Cn(this.a)},EW.prototype.ApplyForceToCenter=function(e){gL(this.a,e.a)},EW.prototype.ApplyTorque=function(e){hL(this.a,e)},EW.prototype.IsAwake=function(){return iL(this.a)},EW.prototype.SetType=function(e){Bn(this.a,e)},EW.prototype.CreateFixture=function(e,t){return t===Ia?Z(Fn(this.a,e.a),Module.b2Fixture):Z(GL(this.a,e.a,t),Module.b2Fixture)},EW.prototype.SetMassData=function(e){Jn(this.a,e.a)},EW.prototype.GetTransform=function(){return Z(this.a+12|0,Module.b2Transform)},EW.prototype.GetWorldCenter=function(){return Z(this.a+44|0,Module.b2Vec2)},EW.prototype.GetAngularDamping=function(){return jL(this.a)},EW.prototype.ApplyLinearImpulse=function(e,t){kL(this.a,e.a,t.a)},EW.prototype.IsFixedRotation=function(){return lL(this.a)},EW.prototype.GetLocalCenter=function(){return Z(this.a+28|0,Module.b2Vec2)},EW.prototype.GetWorldVector=function(e){return Z(HL(this.a,e.a),Module.b2Vec2)},EW.prototype.GetLinearVelocityFromLocalPoint=function(e){return Z(KL(this.a,e.a),Module.b2Vec2)},EW.prototype.GetContactList=function(){return Z(mL(this.a),Module.b2ContactEdge)},EW.prototype.GetWorldPoint=function(e){return Z(NL(this.a,e.a),Module.b2Vec2)},EW.prototype.SetAwake=function(e){QL(this.a,e)},EW.prototype.GetLinearDamping=function(){return nL(this.a)},EW.prototype.IsBullet=function(){return oL(this.a)},EW.prototype.GetWorld=function(){return Z(pL(this.a),Module.b2World)},EW.prototype.GetLocalVector=function(e){return Z(RL(this.a,e.a),Module.b2Vec2)},EW.prototype.SetLinearDamping=function(e){qL(this.a,e)},EW.prototype.Dump=function(){Io(this.a)},EW.prototype.SetBullet=function(e){rL(this.a,e)},EW.prototype.GetType=function(){return sL(this.a)},EW.prototype.GetGravityScale=function(){return tL(this.a)},EW.prototype.DestroyFixture=function(e){Gn(this.a,e.a)},EW.prototype.GetInertia=function(){return uL(this.a)},EW.prototype.IsActive=function(){return vL(this.a)},EW.prototype.SetFixedRotation=function(e){UL(this.a,e)},EW.prototype.ApplyAngularImpulse=function(e){wL(this.a,e)},EW.prototype.GetPosition=function(){return Z(this.a+12|0,Module.b2Vec2)},FW.prototype.SetMaxTorque=function(e){VL(this.a,e)},FW.prototype.GetMaxForce=function(){return xL(this.a)},FW.prototype.GetAnchorA=function(){return Z(WL(this.a),Module.b2Vec2)},FW.prototype.GetReactionTorque=function(e){return ZL(this.a,e)},FW.prototype.Dump=function(){$L(this.a)},FW.prototype.__destroy__=function(){aM(this.a)},FW.prototype.GetCollideConnected=function(){return yL(this.a)},FW.prototype.GetUserData=function(){return zL(this.a)},FW.prototype.GetType=function(){return AL(this.a)},FW.prototype.SetMaxForce=function(e){bM(this.a,e)},FW.prototype.GetBodyB=function(){return Z(BL(this.a),Module.b2Body)},FW.prototype.GetLocalAnchorA=function(){return Z(this.a+68|0,Module.b2Vec2)},FW.prototype.b={},Module.b2FrictionJoint=FW,FW.prototype.GetLocalAnchorB=function(){return Z(this.a+76|0,Module.b2Vec2)},FW.prototype.SetUserData=function(e){CL(this.a,e)},FW.prototype.GetAnchorB=function(){return Z(dM(this.a),Module.b2Vec2)},FW.prototype.GetReactionForce=function(e){return Z(sN(this.a,e),Module.b2Vec2)},FW.prototype.GetBodyA=function(){return Z(gM(this.a),Module.b2Body)},FW.prototype.GetNext=function(){return Z(hM(this.a),Module.b2Joint)},FW.prototype.GetMaxTorque=function(){return iM(this.a)},FW.prototype.IsActive=function(){return jM(this.a)},GW.prototype.GetMaxAllocation=function(){return kM(this.a)},GW.prototype.__destroy__=function(){vN(this.a)},GW.prototype.b={},Module.b2StackAllocator=GW,GW.prototype.Allocate=function(e){return xN(this.a,e)},GW.prototype.Free=function(e){hn(this.a,e)},HW.prototype.__destroy__=function(){yN(this.a)},HW.prototype.SayGoodbye=function(e){zN(this.a,e.a)},HW.prototype.b={},Module.b2DestructionListener=HW,IW.prototype.__destroy__=function(){CN(this.a)},IW.prototype.set_maskBits=function(e){lM(this.a,e)},IW.prototype.set_categoryBits=function(e){mM(this.a,e)},IW.prototype.get_groupIndex=function(){return nM(this.a)},IW.prototype.set_groupIndex=function(e){oM(this.a,e)},IW.prototype.get_maskBits=function(){return pM(this.a)},IW.prototype.b={},Module.b2Filter=IW,IW.prototype.get_categoryBits=function(){return qM(this.a)},JW.prototype.set_localAnchorA=function(e){rM(this.a,e.a)},JW.prototype.get_bodyA=function(){return Z(sM(this.a),Module.b2Body)},JW.prototype.get_bodyB=function(){return Z(tM(this.a),Module.b2Body)},JW.prototype.set_localAnchorB=function(e){uM(this.a,e.a)},JW.prototype.set_bodyA=function(e){vM(this.a,e.a)},JW.prototype.set_bodyB=function(e){wM(this.a,e.a)},JW.prototype.__destroy__=function(){EN(this.a)},JW.prototype.get_maxForce=function(){return xM(this.a)},JW.prototype.b={},Module.b2FrictionJointDef=JW,JW.prototype.get_localAnchorA=function(){return Z(this.a+20|0,Module.b2Vec2)},JW.prototype.set_maxForce=function(e){yM(this.a,e)},JW.prototype.get_localAnchorB=function(){return Z(this.a+28|0,Module.b2Vec2)},JW.prototype.get_collideConnected=function(){return zM(this.a)},JW.prototype.set_maxTorque=function(e){AM(this.a,e)},JW.prototype.set_collideConnected=function(e){BM(this.a,e)},JW.prototype.Initialize=function(e,t,n){CM(this.a,e.a,t.a,n.a)},JW.prototype.get_maxTorque=function(){return DM(this.a)},KW.prototype.get_linearDamping=function(){return EM(this.a)},KW.prototype.get_awake=function(){return FM(this.a)},KW.prototype.get_type=function(){return GM(this.a)},KW.prototype.get_allowSleep=function(){return HM(this.a)},KW.prototype.set_position=function(e){IM(this.a,e.a)},KW.prototype.set_linearVelocity=function(e){JM(this.a,e.a)},KW.prototype.b={},Module.b2BodyDef=KW,KW.prototype.get_bullet=function(){return KM(this.a)},KW.prototype.get_userData=function(){return LM(this.a)},KW.prototype.set_angularDamping=function(e){MM(this.a,e)},KW.prototype.set_fixedRotation=function(e){NM(this.a,e)},KW.prototype.set_allowSleep=function(e){OM(this.a,e)},KW.prototype.get_gravityScale=function(){return PM(this.a)},KW.prototype.set_angularVelocity=function(e){QM(this.a,e)},KW.prototype.set_userData=function(e){RM(this.a,e)},KW.prototype.get_position=function(){return Z(this.a+4|0,Module.b2Vec2)},KW.prototype.__destroy__=function(){HN(this.a)},KW.prototype.set_type=function(e){SM(this.a,e)},KW.prototype.set_gravityScale=function(e){TM(this.a,e)},KW.prototype.get_angularDamping=function(){return UM(this.a)},KW.prototype.set_bullet=function(e){VM(this.a,e)},KW.prototype.set_active=function(e){WM(this.a,e)},KW.prototype.set_angle=function(e){XM(this.a,e)},KW.prototype.get_angle=function(){return YM(this.a)},KW.prototype.get_angularVelocity=function(){return ZM(this.a)},KW.prototype.get_linearVelocity=function(){return Z(this.a+16|0,Module.b2Vec2)},KW.prototype.get_active=function(){return $M(this.a)},KW.prototype.set_linearDamping=function(e){aN(this.a,e)},KW.prototype.get_fixedRotation=function(){return bN(this.a)},KW.prototype.set_awake=function(e){cN(this.a,e)},LW.prototype.Normalize=function(){return IN(this.a)},LW.prototype.set_x=function(e){dN(this.a,e)},LW.prototype.b={},Module.b2Vec2=LW,LW.prototype.Set=function(e,t){eN(this.a,e,t)},LW.prototype.get_x=function(){return fN(this.a)},LW.prototype.get_y=function(){return gN(this.a)},LW.prototype.set_y=function(e){hN(this.a,e)},LW.prototype.IsValid=function(){return iN(this.a)},LW.prototype.Skew=function(){return Z(LN(this.a),Module.b2Vec2)},LW.prototype.LengthSquared=function(){return jN(this.a)},LW.prototype.op_add=function(e){kN(this.a,e.a)},LW.prototype.SetZero=function(){lN(this.a)},LW.prototype.Length=function(){return ON(this.a)},LW.prototype.__destroy__=function(){PN(this.a)},LW.prototype.op_mul=function(e){mN(this.a,e)},LW.prototype.op_sub=function(){return Z(QN(this.a),Module.b2Vec2)},MW.prototype.__destroy__=function(){TN(this.a)},MW.prototype.set_z=function(e){nN(this.a,e)},MW.prototype.Set=function(e,t,n){oN(this.a,e,t,n)},MW.prototype.get_z=function(){return pN(this.a)},MW.prototype.op_add=function(e){qN(this.a,e.a)},MW.prototype.SetZero=function(){rN(this.a)},MW.prototype.b={},Module.b2Vec3=MW,MW.prototype.op_mul=function(e){UN(this.a,e)},MW.prototype.op_sub=function(){return Z(aP(this.a),Module.b2Vec3)},NW.prototype.get_m_radius=function(){return VN(this.a)},NW.prototype.Set=function(e,t){Tg(this.a,e.a,t)},NW.prototype.b={},Module.b2DistanceProxy=NW,NW.prototype.set_m_radius=function(e){WN(this.a,e)},NW.prototype.__destroy__=function(){eP(this.a)},NW.prototype.get_m_vertices=function(){return XN(this.a)},NW.prototype.GetSupportVertex=function(e){return Z(YN(this.a,e.a),Module.b2Vec2)},NW.prototype.get_m_count=function(){return ZN(this.a)},NW.prototype.GetVertexCount=function(){return $N(this.a)},NW.prototype.GetVertex=function(e){return Z(fP(this.a,e),Module.b2Vec2)},NW.prototype.GetSupport=function(e){return aO(this.a,e.a)},NW.prototype.set_m_vertices=function(e){bO(this.a,e.a)},NW.prototype.set_m_count=function(e){cO(this.a,e)},OW.prototype.__destroy__=function(){gP(this.a)},OW.prototype.get_isSensor=function(){return dO(this.a)},OW.prototype.set_userData=function(e){eO(this.a,e)},OW.prototype.set_shape=function(e){fO(this.a,e.a)},OW.prototype.get_density=function(){return gO(this.a)},OW.prototype.get_shape=function(){return hO(this.a)},OW.prototype.b={},Module.b2FixtureDef=OW,OW.prototype.set_density=function(e){iO(this.a,e)},OW.prototype.set_restitution=function(e){jO(this.a,e)},OW.prototype.get_restitution=function(){return kO(this.a)},OW.prototype.set_isSensor=function(e){lO(this.a,e)},OW.prototype.get_filter=function(){return Z(this.a+22|0,Module.b2Filter)},OW.prototype.get_friction=function(){return mO(this.a)},OW.prototype.set_friction=function(e){nO(this.a,e)},OW.prototype.get_userData=function(){return oO(this.a)},OW.prototype.set_filter=function(e){iP(this.a,e.a)},PW.prototype.set_localAnchorA=function(e){pO(this.a,e.a)},PW.prototype.set_localAnchorB=function(e){qO(this.a,e.a)},PW.prototype.get_motorSpeed=function(){return rO(this.a)},PW.prototype.get_enableMotor=function(){return sO(this.a)},PW.prototype.get_referenceAngle=function(){return tO(this.a)},PW.prototype.set_enableLimit=function(e){uO(this.a,e)},PW.prototype.set_motorSpeed=function(e){vO(this.a,e)},PW.prototype.get_localAxisA=function(){return Z(this.a+36|0,Module.b2Vec2)},PW.prototype.set_bodyA=function(e){wO(this.a,e.a)},PW.prototype.set_bodyB=function(e){xO(this.a,e.a)},PW.prototype.b={},Module.b2PrismaticJointDef=PW,PW.prototype.Initialize=function(e,t,n,r){yO(this.a,e.a,t.a,n.a,r.a)},PW.prototype.set_lowerTranslation=function(e){zO(this.a,e)},PW.prototype.get_upperTranslation=function(){return AO(this.a)},PW.prototype.get_enableLimit=function(){return BO(this.a)},PW.prototype.__destroy__=function(){kP(this.a)},PW.prototype.set_referenceAngle=function(e){CO(this.a,e)},PW.prototype.get_localAnchorA=function(){return Z(this.a+20|0,Module.b2Vec2)},PW.prototype.get_localAnchorB=function(){return Z(this.a+28|0,Module.b2Vec2)},PW.prototype.get_collideConnected=function(){return DO(this.a)},PW.prototype.get_bodyA=function(){return Z(EO(this.a),Module.b2Body)},PW.prototype.get_bodyB=function(){return Z(FO(this.a),Module.b2Body)},PW.prototype.set_upperTranslation=function(e){GO(this.a,e)},PW.prototype.get_maxMotorForce=function(){return HO(this.a)},PW.prototype.set_maxMotorForce=function(e){IO(this.a,e)},PW.prototype.set_enableMotor=function(e){JO(this.a,e)},PW.prototype.set_collideConnected=function(e){KO(this.a,e)},PW.prototype.get_lowerTranslation=function(){return LO(this.a)},PW.prototype.set_localAxisA=function(e){MO(this.a,e.a)},QW.prototype.__destroy__=function(){lP(this.a)},QW.prototype.Set=function(e){mP(this.a,e)},QW.prototype.GetAngle=function(){return nP(this.a)},QW.prototype.GetYAxis=function(){return Z(pP(this.a),Module.b2Vec2)},QW.prototype.GetXAxis=function(){return Z(sP(this.a),Module.b2Vec2)},QW.prototype.set_c=function(e){NO(this.a,e)},QW.prototype.SetIdentity=function(){OO(this.a)},QW.prototype.b={},Module.b2Rot=QW,QW.prototype.get_c=function(){return PO(this.a)},RW.prototype.set_localAnchorA=function(e){QO(this.a,e.a)},RW.prototype.set_localAnchorB=function(e){RO(this.a,e.a)},RW.prototype.get_motorSpeed=function(){return SO(this.a)},RW.prototype.set_maxMotorTorque=function(e){TO(this.a,e)},RW.prototype.set_frequencyHz=function(e){UO(this.a,e)},RW.prototype.set_motorSpeed=function(e){VO(this.a,e)},RW.prototype.get_localAxisA=function(){return Z(this.a+36|0,Module.b2Vec2)},RW.prototype.set_bodyA=function(e){WO(this.a,e.a)},RW.prototype.set_bodyB=function(e){XO(this.a,e.a)},RW.prototype.Initialize=function(e,t,n,r){YO(this.a,e.a,t.a,n.a,r.a)},RW.prototype.b={},Module.b2WheelJointDef=RW,RW.prototype.get_frequencyHz=function(){return xP(this.a)},RW.prototype.set_dampingRatio=function(e){yP(this.a,e)},RW.prototype.__destroy__=function(){SQ(this.a)},RW.prototype.get_localAnchorA=function(){return Z(this.a+20|0,Module.b2Vec2)},RW.prototype.get_maxMotorTorque=function(){return zP(this.a)},RW.prototype.get_localAnchorB=function(){return Z(this.a+28|0,Module.b2Vec2)},RW.prototype.get_collideConnected=function(){return AP(this.a)},RW.prototype.get_enableMotor=function(){return BP(this.a)},RW.prototype.get_dampingRatio=function(){return CP(this.a)},RW.prototype.get_bodyA=function(){return Z(DP(this.a),Module.b2Body)},RW.prototype.get_bodyB=function(){return Z(EP(this.a),Module.b2Body)},RW.prototype.set_enableMotor=function(e){FP(this.a,e)},RW.prototype.set_collideConnected=function(e){GP(this.a,e)},RW.prototype.set_localAxisA=function(e){HP(this.a,e.a)},SW.prototype.set_localAnchorA=function(e){IP(this.a,e.a)},SW.prototype.get_lowerAngle=function(){return JP(this.a)},SW.prototype.set_localAnchorB=function(e){KP(this.a,e.a)},SW.prototype.set_lowerAngle=function(e){LP(this.a,e)},SW.prototype.get_enableMotor=function(){return MP(this.a)},SW.prototype.set_upperAngle=function(e){NP(this.a,e)},SW.prototype.get_referenceAngle=function(){return OP(this.a)},SW.prototype.set_enableLimit=function(e){PP(this.a,e)},SW.prototype.get_motorSpeed=function(){return QP(this.a)},SW.prototype.set_motorSpeed=function(e){RP(this.a,e)},SW.prototype.get_maxMotorTorque=function(){return SP(this.a)},SW.prototype.set_bodyA=function(e){TP(this.a,e.a)},SW.prototype.set_bodyB=function(e){UP(this.a,e.a)},SW.prototype.b={},Module.b2RevoluteJointDef=SW,SW.prototype.Initialize=function(e,t,n){VP(this.a,e.a,t.a,n.a)},SW.prototype.get_enableLimit=function(){return WP(this.a)},SW.prototype.__destroy__=function(){UQ(this.a)},SW.prototype.get_upperAngle=function(){return XP(this.a)},SW.prototype.set_referenceAngle=function(e){YP(this.a,e)},SW.prototype.get_localAnchorA=function(){return Z(this.a+20|0,Module.b2Vec2)},SW.prototype.get_localAnchorB=function(){return Z(this.a+28|0,Module.b2Vec2)},SW.prototype.get_collideConnected=function(){return ZP(this.a)},SW.prototype.get_bodyA=function(){return Z($P(this.a),Module.b2Body)},SW.prototype.get_bodyB=function(){return Z(aQ(this.a),Module.b2Body)},SW.prototype.set_maxMotorTorque=function(e){bQ(this.a,e)},SW.prototype.set_enableMotor=function(e){cQ(this.a,e)},SW.prototype.set_collideConnected=function(e){dQ(this.a,e)},TW.prototype.set_localAnchorA=function(e){eQ(this.a,e.a)},TW.prototype.set_localAnchorB=function(e){fQ(this.a,e.a)},TW.prototype.set_ratio=function(e){gQ(this.a,e)},TW.prototype.set_groundAnchorB=function(e){hQ(this.a,e.a)},TW.prototype.set_groundAnchorA=function(e){iQ(this.a,e.a)},TW.prototype.get_groundAnchorB=function(){return Z(this.a+28|0,Module.b2Vec2)},TW.prototype.get_groundAnchorA=function(){return Z(this.a+20|0,Module.b2Vec2)},TW.prototype.set_bodyA=function(e){jQ(this.a,e.a)},TW.prototype.set_bodyB=function(e){kQ(this.a,e.a)},TW.prototype.Initialize=function(e,t,n,r,i,s,o){hq(this.a,e.a,t.a,n.a,r.a,i.a,s.a,o)},TW.prototype.get_ratio=function(){return lQ(this.a)},TW.prototype.__destroy__=function(){VQ(this.a)},TW.prototype.get_localAnchorA=function(){return Z(this.a+36|0,Module.b2Vec2)},TW.prototype.get_localAnchorB=function(){return Z(this.a+44|0,Module.b2Vec2)},TW.prototype.get_collideConnected=function(){return mQ(this.a)},TW.prototype.set_lengthB=function(e){nQ(this.a,e)},TW.prototype.set_lengthA=function(e){oQ(this.a,e)},TW.prototype.get_bodyA=function(){return Z(pQ(this.a),Module.b2Body)},TW.prototype.get_bodyB=function(){return Z(qQ(this.a),Module.b2Body)},TW.prototype.get_lengthB=function(){return rQ(this.a)},TW.prototype.get_lengthA=function(){return sQ(this.a)},TW.prototype.set_collideConnected=function(e){tQ(this.a,e)},TW.prototype.b={},Module.b2PulleyJointDef=TW,UW.prototype.get_bodyA=function(){return Z(uQ(this.a),Module.b2Body)},UW.prototype.set_userData=function(e){vQ(this.a,e)},UW.prototype.set_bodyA=function(e){wQ(this.a,e.a)},UW.prototype.set_bodyB=function(e){xQ(this.a,e.a)},UW.prototype.__destroy__=function(){XQ(this.a)},UW.prototype.get_bodyB=function(){return Z(yQ(this.a),Module.b2Body)},UW.prototype.set_type=function(e){zQ(this.a,e)},UW.prototype.get_collideConnected=function(){return AQ(this.a)},UW.prototype.get_type=function(){return BQ(this.a)},UW.prototype.set_collideConnected=function(e){CQ(this.a,e)},UW.prototype.b={},Module.b2JointDef=UW,UW.prototype.get_userData=function(){return DQ(this.a)},VW.prototype.__destroy__=function(){ZQ(this.a)},VW.prototype.Set=function(e,t){$Q(this.a,e.a,t)},VW.prototype.set_p=function(e){EQ(this.a,e.a)},VW.prototype.set_q=function(e){FQ(this.a,e.a)},VW.prototype.get_p=function(){return Z(this.a|0,Module.b2Vec2)},VW.prototype.get_q=function(){return Z(this.a+8|0,Module.b2Rot)},VW.prototype.b={},Module.b2Transform=VW,VW.prototype.SetIdentity=function(){GQ(this.a)},WW.prototype.__destroy__=function(){cR(this.a)},WW.prototype.Set=function(e,t,n){HQ(this.a,e,t,n)},WW.prototype.set_r=function(e){IQ(this.a,e)},WW.prototype.get_r=function(){return JQ(this.a)},WW.prototype.b={},Module.b2Color=WW,WW.prototype.set_b=function(e){KQ(this.a,e)},WW.prototype.get_g=function(){return LQ(this.a)},WW.prototype.get_b=function(){return MQ(this.a)},WW.prototype.set_g=function(e){NQ(this.a,e)},XW.prototype.__destroy__=function(){fR(this.a)},XW.prototype.b={},Module.b2AABB=XW,XW.prototype.set_upperBound=function(e){OQ(this.a,e.a)},XW.prototype.IsValid=function(){return PQ(this.a)},XW.prototype.Contains=function(e){return QQ(this.a,e.a)},XW.prototype.GetExtents=function(){return Z(hR(this.a),Module.b2Vec2)},XW.prototype.GetCenter=function(){return Z(HS(this.a),Module.b2Vec2)},XW.prototype.get_upperBound=function(){return Z(this.a+8|0,Module.b2Vec2)},XW.prototype.GetPerimeter=function(){return kR(this.a)},XW.prototype.Combine=function(e,t){t===Ia?lR(this.a,e.a):mR(this.a,e.a,t.a)},XW.prototype.RayCast=function(e,t){return Rg(this.a,e.a,t.a)},XW.prototype.set_lowerBound=function(e){nR(this.a,e.a)},XW.prototype.get_lowerBound=function(){return Z(this.a|0,Module.b2Vec2)},K_.prototype.set_localAnchorA=function(e){oR(this.a,e.a)},K_.prototype.get_bodyA=function(){return Z(pR(this.a),Module.b2Body)},K_.prototype.get_bodyB=function(){return Z(qR(this.a),Module.b2Body)},K_.prototype.set_localAnchorB=function(e){rR(this.a,e.a)},K_.prototype.get_frequencyHz=function(){return sR(this.a)},K_.prototype.set_bodyA=function(e){tR(this.a,e.a)},K_.prototype.set_bodyB=function(e){uR(this.a,e.a)},K_.prototype.__destroy__=function(){KS(this.a)},K_.prototype.set_referenceAngle=function(e){vR(this.a,e)},K_.prototype.get_localAnchorA=function(){return Z(this.a+20|0,Module.b2Vec2)},K_.prototype.get_referenceAngle=function(){return wR(this.a)},K_.prototype.get_localAnchorB=function(){return Z(this.a+28|0,Module.b2Vec2)},K_.prototype.get_collideConnected=function(){return xR(this.a)},K_.prototype.get_dampingRatio=function(){return yR(this.a)},K_.prototype.set_collideConnected=function(e){zR(this.a,e)},K_.prototype.set_frequencyHz=function(e){AR(this.a,e)},K_.prototype.Initialize=function(e,t,n){BR(this.a,e.a,t.a,n.a)},K_.prototype.set_dampingRatio=function(e){CR(this.a,e)},K_.prototype.b={},Module.b2WeldJointDef=K_,L_.prototype.get_bodyA=function(){return Z(DR(this.a),Module.b2Body)},L_.prototype.get_bodyB=function(){return Z(ER(this.a),Module.b2Body)},L_.prototype.set_dampingRatio=function(e){FR(this.a,e)},L_.prototype.set_bodyA=function(e){GR(this.a,e.a)},L_.prototype.set_bodyB=function(e){HR(this.a,e.a)},L_.prototype.b={},Module.b2MouseJointDef=L_,L_.prototype.get_maxForce=function(){return IR(this.a)},L_.prototype.set_target=function(e){JR(this.a,e.a)},L_.prototype.set_maxForce=function(e){KR(this.a,e)},L_.prototype.get_frequencyHz=function(){return LR(this.a)},L_.prototype.get_target=function(){return Z(this.a+20|0,Module.b2Vec2)},L_.prototype.get_collideConnected=function(){return MR(this.a)},L_.prototype.__destroy__=function(){NS(this.a)},L_.prototype.set_collideConnected=function(e){NR(this.a,e)},L_.prototype.set_frequencyHz=function(e){OR(this.a,e)},L_.prototype.get_dampingRatio=function(){return PR(this.a)},M_.prototype.set_localAnchorA=function(e){QR(this.a,e.a)},M_.prototype.get_bodyA=function(){return Z(RR(this.a),Module.b2Body)},M_.prototype.get_bodyB=function(){return Z(SR(this.a),Module.b2Body)},M_.prototype.set_localAnchorB=function(e){TR(this.a,e.a)},M_.prototype.set_dampingRatio=function(e){UR(this.a,e)},M_.prototype.set_bodyA=function(e){VR(this.a,e.a)},M_.prototype.set_bodyB=function(e){WR(this.a,e.a)},M_.prototype.get_length=function(){return XR(this.a)},M_.prototype.get_localAnchorA=function(){return Z(this.a+20|0,Module.b2Vec2)},M_.prototype.get_frequencyHz=function(){return YR(this.a)},M_.prototype.get_localAnchorB=function(){return Z(this.a+28|0,Module.b2Vec2)},M_.prototype.get_collideConnected=function(){return ZR(this.a)},M_.prototype.get_dampingRatio=function(){return $R(this.a)},M_.prototype.b={},Module.b2DistanceJointDef=M_,M_.prototype.__destroy__=function(){PS(this.a)},M_.prototype.set_collideConnected=function(e){aS(this.a,e)},M_.prototype.set_length=function(e){bS(this.a,e)},M_.prototype.set_frequencyHz=function(e){cS(this.a,e)},M_.prototype.Initialize=function(e,t,n,r){QS(this.a,e.a,t.a,n.a,r.a)},N_.prototype.__destroy__=function(){RS(this.a)},N_.prototype.get_bodyA=function(){return Z(dS(this.a),Module.b2Body)},N_.prototype.get_bodyB=function(){return Z(eS(this.a),Module.b2Body)},N_.prototype.get_joint1=function(){return Z(fS(this.a),Module.b2Joint)},N_.prototype.set_bodyA=function(e){gS(this.a,e.a)},N_.prototype.set_bodyB=function(e){hS(this.a,e.a)},N_.prototype.set_joint2=function(e){iS(this.a,e.a)},N_.prototype.set_ratio=function(e){jS(this.a,e)},N_.prototype.get_collideConnected=function(){return kS(this.a)},N_.prototype.get_joint2=function(){return Z(lS(this.a),Module.b2Joint)},N_.prototype.set_collideConnected=function(e){mS(this.a,e)},N_.prototype.b={},Module.b2GearJointDef=N_,N_.prototype.get_ratio=function(){return nS(this.a)},N_.prototype.set_joint1=function(e){oS(this.a,e.a)},O_.prototype.__destroy__=function(){TS(this.a)},O_.prototype.set_contact=function(e){pS(this.a,e.a)},O_.prototype.get_prev=function(){return Z(qS(this.a),Module.b2ContactEdge)},O_.prototype.get_other=function(){return Z(rS(this.a),Module.b2Body)},O_.prototype.set_prev=function(e){sS(this.a,e.a)},O_.prototype.get_next=function(){return Z(tS(this.a),Module.b2ContactEdge)},O_.prototype.set_other=function(e){uS(this.a,e.a)},O_.prototype.set_next=function(e){vS(this.a,e.a)},O_.prototype.b={},Module.b2ContactEdge=O_,O_.prototype.get_contact=function(){return Z(wS(this.a),Module.b2Contact)},P_.prototype.set_localAnchorA=function(e){xS(this.a,e.a)},P_.prototype.get_bodyA=function(){return Z(yS(this.a),Module.b2Body)},P_.prototype.get_bodyB=function(){return Z(zS(this.a),Module.b2Body)},P_.prototype.set_localAnchorB=function(e){AS(this.a,e.a)},P_.prototype.set_bodyA=function(e){BS(this.a,e.a)},P_.prototype.set_bodyB=function(e){CS(this.a,e.a)},P_.prototype.__destroy__=function(){VS(this.a)},P_.prototype.get_localAnchorA=function(){return Z(this.a+20|0,Module.b2Vec2)},P_.prototype.get_maxLength=function(){return DS(this.a)},P_.prototype.get_localAnchorB=function(){return Z(this.a+28|0,Module.b2Vec2)},P_.prototype.get_collideConnected=function(){return ES(this.a)},P_.prototype.set_collideConnected=function(e){FS(this.a,e)},P_.prototype.b={},Module.b2RopeJointDef=P_,P_.prototype.set_maxLength=function(e){GS(this.a,e)},this.Box2D=Module,Module.b2_staticBody=0,Module.b2_kinematicBody=1,Module.b2_dynamicBody=2,define("box2d",function(e){return function(){var t,n;return t||e.Box2D}}(this)),define("debugDraw",["box2d"],function(e){function n(e){t=e}function r(e){e.strokeStyle="rgb(192,0,0)",e.beginPath(),e.moveTo(0,0),e.lineTo(1,0),e.stroke(),e.strokeStyle="rgb(0,192,0)",e.beginPath(),e.moveTo(0,0),e.lineTo(0,1),e.stroke()}function i(e){var n=Box2D.wrapPointer(e,Box2D.b2Color),r=n.get_r()*255|0,i=n.get_g()*255|0,s=n.get_b()*255|0,o=r+","+i+","+s;t.fillStyle="rgba("+o+",0.5)",t.strokeStyle="rgb("+o+")"}function s(e,n){var r=Box2D.wrapPointer(e,Box2D.b2Vec2),i=Box2D.wrapPointer(n,Box2D.b2Vec2);t.beginPath(),t.moveTo(r.get_x(),r.get_y()),t.lineTo(i.get_x(),i.get_y()),t.stroke()}function o(e,n,r){t.beginPath();for(tmpI=0;tmpI<n;tmpI++){var i=Box2D.wrapPointer(e+tmpI*8,Box2D.b2Vec2);tmpI==0?t.moveTo(i.get_x(),i.get_y()):t.lineTo(i.get_x(),i.get_y())}t.closePath(),r&&t.fill(),t.stroke()}function u(e,n,r,i){var s=Box2D.wrapPointer(e,Box2D.b2Vec2),o=Box2D.wrapPointer(r,Box2D.b2Vec2);t.beginPath(),t.arc(s.get_x(),s.get_y(),n,0,2*Math.PI,!1),i&&t.fill(),t.stroke();if(i){var u=f(s);u.op_add(c(o,n)),t.beginPath(),t.moveTo(s.get_x(),s.get_y()),t.lineTo(u.get_x(),u.get_y()),t.stroke()}}function a(e){var n=Box2D.wrapPointer(e,Box2D.b2Transform),i=n.get_p(),s=n.get_q();t.save(),t.translate(i.get_x(),i.get_y()),t.scale(.5,.5),t.rotate(s.GetAngle()),t.lineWidth*=2,r(t),t.restore()}function f(e){return new Box2D.b2Vec2(e.get_x(),e.get_y())}function l(e,t){e.set_x(t*e.get_x()),e.set_y(t*e.get_y())}function c(e,t){return new Box2D.b2Vec2(t*e.get_x(),t*e.get_y())}function h(e,t){var n=new b2ChainShape,r=Box2D.allocate(e.length*8,"float",Box2D.ALLOC_STACK),i=0;for(var s=0;s<e.length;s++)Box2D.setValue(r+i,e[s].get_x(),"float"),Box2D.setValue(r+(i+4),e[s].get_y(),"float"),i+=8;var o=Box2D.wrapPointer(r,Box2D.b2Vec2);return t?n.CreateLoop(o,e.length):n.CreateChain(o,e.length),n}function p(e){var t=new b2PolygonShape,n=Box2D.allocate(e.length*8,"float",Box2D.ALLOC_STACK),r=0;for(var i=0;i<e.length;i++)Box2D.setValue(n+r,e[i].get_x(),"float"),Box2D.setValue(n+(r+4),e[i].get_y(),"float"),r+=8;var s=Box2D.wrapPointer(n,Box2D.b2Vec2);return t.Set(s,e.length),t}function d(e){var t=3.5+Math.random()*5;t|=0;var n=[];for(var r=0;r<t;r++){var i=r/t*360*.017453292519943295;n.push(new b2Vec2(e*Math.sin(i),e*-Math.cos(i)))}return p(n)}function v(){return myQueryCallback=new Box2D.b2QueryCallback,Box2D.customizeVTable(myQueryCallback,[{original:Box2D.b2QueryCallback.prototype.ReportFixture,replacement:function(e,t){var n=Box2D.wrapPointer(e,b2QueryCallback),r=Box2D.wrapPointer(t,b2Fixture);return r.GetBody().GetType()!=Box2D.b2_dynamicBody?!0:r.TestPoint(n.m_point)?(n.m_fixture=r,!1):!0}}]),myQueryCallback}function m(){var e=new Box2D.b2Draw;Box2D.customizeVTable(e,[{original:Box2D.b2Draw.prototype.DrawSegment,replacement:function(e,t,n,r){i(r),s(t,n)}}]),Box2D.customizeVTable(e,[{original:Box2D.b2Draw.prototype.DrawPolygon,replacement:function(e,t,n,r){i(r),o(t,n,!1)}}]),Box2D.customizeVTable(e,[{original:Box2D.b2Draw.prototype.DrawSolidPolygon,replacement:function(e,t,n,r){i(r),o(t,n,!0)}}]),Box2D.customizeVTable(e,[{original:Box2D.b2Draw.prototype.DrawCircle,replacement:function(e,t,n,r){i(r);var s=b2Vec2(0,0);u(t,n,s,!1)}}]),Box2D.customizeVTable(e,[{original:Box2D.b2Draw.prototype.DrawSolidCircle,replacement:function(e,t,n,r,s){i(s),u(t,n,r,!0)}}]),Box2D.customizeVTable(e,[{original:Box2D.b2Draw.prototype.DrawTransform,replacement:function(e,t){a(t)}}]);var t=1,n=2,r=4,f=8,l=16;return e.SetFlags(t|l|t),e}function g(e){e.SetDebugDraw(m())}var t=undefined;return{setContext:n,setWorld:g}}),define("display2d",["createjs","debugDraw"],function(e,t){function u(){return{x:Math.floor(r.width/2),y:Math.floor(r.height/2)}}function a(e){o.removeAllChildren(),s=e,t.setWorld(s)}function l(e,t,n){var r=(t-e-n)/t;f=Math.max(0,r)}function h(e){return{x:(e.x-c.x)/n,y:-(e.y-(r.height-c.y))/n}}function p(){var e=h(u());n*=1.1;var t=h(u());c.x+=(t.x-e.x)*n,c.y-=(t.y+e.y)*n}function d(){var e=h(u());n/=1.1;var t=h(u());c.x+=(t.x-e.x)*n,c.y-=(t.y+e.y)*n}function v(){i.save(),i.translate(c.x,c.y),i.scale(1,-1),i.scale(n,n),i.lineWidth/=n,i.fillStyle="rgb(255,255,0)",s.DrawDebugData(),i.restore()}function m(){i.fillStyle="rgb(0,0,0)",i.fillRect(0,0,r.width,r.height)}function g(){m(),o.update()}var n=13,r=document.getElementById("2space"),i=r.getContext("2d"),s=undefined,o=new e.Stage(r);o.autoClear=!1,t.setContext(i);var f=1,c=u();return{zoomIn:p,zoomOut:d,setWorld:a,draw:g,stage:o,viewCenterPixel:u,PTM:n,setOnMouseMove:function(e){r.addEventListener("mousemove",e,!1)},setOnMouseDown:function(e){r.addEventListener("mousedown",e,!1)},setOnMouseUp:function(e){r.addEventListener("mouseup",e,!1)},setOnMouseClick:function(e){r.addEventListener("click",e,!1)},screenToWorld:h,canvas:r,context:i}}),define("body",["box2d"],function(e){var t=function(e,t,n,r,i,s,o){var u=new Box2D.b2BodyDef;u.set_position(new Box2D.b2Vec2(t,n));var a=e.CreateBody(u);a.userData={attributes:{isGround:!0,x:t,y:n,x1:r,y1:i,x2:s,y2:o}};var f=new Box2D.b2EdgeShape;return f.Set(new Box2D.b2Vec2(r,i),new Box2D.b2Vec2(s,o)),a.CreateFixture(f,0),a},n=function(e,t,n,r,i,s){var o=new Box2D.b2BodyDef;o.set_position(new Box2D.b2Vec2(t,n));var u=e.CreateBody(o);u.userData={attributes:{isWall:!0,dontTouch:s,x:t,y:n,horizontal:r,vertical:i}};var a=new Box2D.b2EdgeShape;return a.Set(new Box2D.b2Vec2(r/2,i/2),new Box2D.b2Vec2(-r/2,-i/2)),u.CreateFixture(a,0),u},r=function(e,t,n,r,i){var s=new Box2D.b2CircleShape;s.set_m_radius(r);var o=new Box2D.b2BodyDef;o.set_bullet(!0),o.set_type(Box2D.b2_dynamicBody),o.set_position(new Box2D.b2Vec2(t,n));var u=e.CreateBody(o);u.userData=i;var a=new Box2D.b2FixtureDef;a.set_shape(s),a.set_restitution(.5),a.set_density(1);var f=u.CreateFixture(a);return u.SetFixedRotation(!1),{body:u,fixture:f}},i=function(e,t,n,r){var i=new Box2D.b2BodyDef;i.set_type(Box2D.b2_staticBody),i.set_position(new Box2D.b2Vec2(t,n));var s=e.CreateBody(i);s.userData=r;var o=function(e,t){var n=new Box2D.b2CircleShape;n.set_m_p(new Box2D.b2Vec2(e*Math.cos(t),e*Math.sin(t))),n.set_m_radius(.25);var r=s.CreateFixture(n,5);r.SetSensor(!0)},u=5,a=1.5;for(var f=0;f<u;f++){var l=2*Math.PI/u*f;o(a,l),o(a/2,l)}return{body:s,fixture:undefined}};return{createDoor:i,createBall:r,createGround:t,createWall:n}}),define("worlds",["box2d"],function(e){var t=function(){var e=new Box2D.b2Vec2(0,-10);return new Box2D.b2World(e)},n=function(e,t){var n=new Box2D.b2ContactListener;Box2D.customizeVTable(n,[{original:Box2D.b2ContactListener.prototype.BeginContact,replacement:function(e,n){var r=Box2D.wrapPointer(n,Box2D.b2Contact),i=r.GetFixtureA(),s=r.GetFixtureB();t(i,s)}}]),e.SetContactListener(n)};return{createWorld:t,setContactListener:n}}),define("space2d",["body","worlds","display2d","assets"],function(e,t,n,r){var i=[],s=function(){var e=n.viewCenterPixel();i.forEach(function(t){var r=t.body.GetWorldCenter(),i=t.body.userData.sprite;i.x=r.get_x()*n.PTM+e.x,i.y=-r.get_y()*n.PTM+e.y;var s=t.body.userData.sprite2;s&&(s.x=r.get_x()*n.PTM+e.x,s.y=-r.get_y()*n.PTM+e.y)})},o=function(e,t,r,i){var s=new createjs.Graphics;s.setStrokeStyle(1),s.beginStroke(createjs.Graphics.getRGB(0,0,0)),s.beginFill(createjs.Graphics.getRGB(t,r,i)),s.drawCircle(0,0,e*n.PTM);var o=new createjs.Shape(s);return o.regX=0,o.regY=0,o},u={red:{r:255,g:0,b:0},green:{r:0,g:255,b:0}},a={1:[],2:[],3:[],4:[]},f=function(e,t){a[e].push(t)},l=function(){var e=function(e){e.forEach(function(e){n.stage.addChild(e)}),e.length=0};e(a[1]),e(a[2]),e(a[3]),e(a[4])},c=function(t,n,s){var a=u[t],l=.5,c=e.createBall(E,n,s,l,{attributes:{isBall:!0,ballType:t},sprite:o(l,a.r,a.g,a.b),sprite2:r.sprites.tinyx.getAnimation()});return f(2,c.body.userData.sprite),f(4,c.body.userData.sprite2),i.push(c),c},h={},p=function(e,t){var n=h[e];n&&(n.body.userData.isOpen=t,t?n.body.userData.sprite.gotoAndPlay("open"):n.body.userData.sprite.gotoAndPlay("closed"))},d=function(e){var t=h[e];return t?t.body.userData.isOpen:!1},v={8:"starhole",2:"pentagonhole"},m=function(t,n,s){var o=e.createDoor(E,n,s,{attributes:{warpHoleId:t,isWarpHole:!0,isOpen:!1},sprite:r.sprites[v[t]].getAnimation()});f(3,o.body.userData.sprite),o.body.userData.sprite.gotoAndPlay("closed"),i.push(o),h[o.body.userData.attributes.warpHoleId]=o},g=function(e,t,r,i){var s=new createjs.Graphics;s.setStrokeStyle(2),s.beginStroke(createjs.Graphics.getRGB(100,100,100)),s.moveTo(e*n.PTM,-t*n.PTM),s.lineTo(r*n.PTM,-i*n.PTM),s.lineTo(r*n.PTM,-i*n.PTM+6),s.lineTo(e*n.PTM,-t*n.PTM+6),s.lineTo(e*n.PTM,-t*n.PTM);var o=new createjs.Shape(s);return o.regX=0,o.regY=0,o},y=function(t,r,i,s,o,u){e.createGround(E,t,r,i,s,o,u);var a=g(i,s,o,u),l=n.viewCenterPixel();a.x=t*n.PTM+l.x,a.y=-r*n.PTM+l.y,f(1,a)},b=function(e,t){var r=new createjs.Graphics;r.setStrokeStyle(1),r.beginStroke(createjs.Graphics.getRGB(100,100,100));var i=e/2*n.PTM,s=t/2*n.PTM;r.moveTo(i,s),r.lineTo(-i,-s);var o=new createjs.Shape(r);return o.regX=0,o.regY=0,o},w=function(t,r,i,s,o){e.createWall(E,t,r,i,s,o);var u=b(i,s),a=n.viewCenterPixel();u.x=t*n.PTM+a.x,u.y=-r*n.PTM+a.y,f(1,u)},E=undefined,S=function(){return E=t.createWorld(),n.setWorld(E),t.setContactListener(E,O),E},x=function(e){T(),e.structure.forEach(function(e){e.isBall?c(e.ballType,e.x,e.y):e.isGround?y(e.x,e.y,e.x1,e.y1,e.x2,e.y2):e.isWall?w(e.x,e.y,e.horizontal,e.vertical,e.dontTouch):e.isWarpHole&&m(e.warpHoleId,e.x,e.y)}),l()},T=function(){E=S(),w(0,-13.4,36,0,!0),w(0,13.4,36,0,!1),w(18,0,0,26.8,!1),w(-18,0,0,-26.8,!1)},N=function(e){var t=e.GetBody().userData;return t?t:{}},C=undefined,k=function(e){L.push(e),C(e.userData.attributes.ballType)},L=[],A=function(){L.forEach(function(e){n.stage.removeChild(e.userData.sprite),i=i.filter(function(t){return t!==e.userData.sprite}),E.DestroyBody(e.body)}),L=[]},O=function(e,t){N(t).attributes.isBall?N(e).attributes.isWarpHole?d(N(e).attributes.warpHoleId)&&k({fixture:t,body:t.GetBody(),userData:N(t)}):N(e).attributes.isWall&&N(e).attributes.dontTouch&&(N(t).sprite2.gotoAndPlay("on"),j(!1)):N(e).attributes.isBall&&(N(t).attributes.isWarpHole?d(N(t).attributes.warpHoleId)&&k({fixture:e,body:e.GetBody(),userData:N(e)}):N(t).attributes.isWall&&N(t).attributes.dontTouch&&(N(e).sprite2.gotoAndPlay("on"),j(!1)))},M=function(e,t,n){e.ApplyLinearImpulse(new Box2D.b2Vec2(t,n),e.GetWorldCenter())},_=function(e,t,n){e.ApplyForce(new Box2D.b2Vec2(t*e.GetMass(),n*e.GetMass()),e.GetWorldCenter())},D=function(e,t,n){e.SetLinearVelocity(new Box2D.b2Vec2(t,n))},P=function(e){A(),s(),H||E.Step(1/30,20,20)};E=S();var H=!1,B=function(e){H=e},j=undefined;return{tick:P,setWarpHoleState:p,onBallWarped:function(e){C=e},loadWorld:x,setPause:B,getWorld:function(){return E},clearWorld:T,createBall:c,createWarpHole:m,setObjectiveDelegate:function(e){j=e}}}),define("worldQuery",["box2d"],function(e){function n(e,n,r){var i=.001,s=new Box2D.b2Vec2(Math.min(n+i,n-i),Math.min(r+i,r-i)),o=new Box2D.b2Vec2(Math.max(n+i,n-i),Math.max(r+i,r-i)),u=new Box2D.b2AABB;return u.set_lowerBound(s),u.set_upperBound(o),t.m_fixture=null,t.m_point=new Box2D.b2Vec2(n,r),e.QueryAABB(t,u),t.m_fixture}var t=new Box2D.b2QueryCallback;return Box2D.customizeVTable(t,[{original:Box2D.b2QueryCallback.prototype.ReportFixture,replacement:function(e,t){var n=Box2D.wrapPointer(e,Box2D.b2QueryCallback),r=Box2D.wrapPointer(t,Box2D.b2Fixture);return r.TestPoint(n.m_point)?!0:(n.m_fixture=r,!1)}}]),{queryWorld:n}}),define("editor2d",["body","space2d","display2d","worldQuery","space3d"],function(e,t,n,r,i){var s="select",o=undefined,u=undefined,a=document.getElementById("mode"),f=function(e){var t=document.createElement("option");return t.text=e,t.value=e,t};a.add(f("red"),null),a.add(f("green"),null),a.add(f("redWarp"),null),a.add(f("greenWarp"),null),a.add(f("platform"),null),a.add(f("translate"),null),document.getElementById("mode").onchange=function(){s=this.options[this.selectedIndex].value},document.getElementById("pause").onclick=function(){t.setPause(this.checked)},document.getElementById("reload").onclick=function(){w.restart()},document.getElementById("clear").onclick=function(){t.clearWorld()},document.getElementById("serialize").onclick=function(){w.load(l())},document.getElementById("next").onclick=function(){w.next()},document.getElementById("previous").onclick=function(){w.previous()};var l=function(){var e=t.getWorld().GetBodyList(),n=[];while(e.a!=0){if(e.userData){var r=e.userData.attributes;if(!r.isWall){var i=e.GetWorldCenter();r.x=i.get_x(),r.y=i.get_y(),n.push(e.userData.attributes)}}e=e.GetNext()}var s=document.getElementById("objective").value.split(","),o={structure:n,objective:s},u=JSON.stringify(o);return h(u),u},c=function(e){document.getElementById("objective").value=e.objective.join(",")},h=function(e){top.consoleRef=window.open("","myconsole","width=350,height=250,menubar=0,toolbar=1,status=0,scrollbars=1,resizable=1"),top.consoleRef.document.writeln('<html><head><title>Console</title></head><body bgcolor=white onLoad="self.focus()">'+e+"</body></html>"),top.consoleRef.document.close()},p=function(e){var t=e.pageX-n.canvas.offsetLeft,r=e.pageY-n.canvas.offsetTop;return{x:t,y:r}},d=function(e){e.preventDefault();if(s==="translate"&&o){var t=n.screenToWorld(p(e)),r=new Box2D.b2Vec2(t.x+u.x,t.y+u.y);o.SetTransform(r,o.GetAngle())}},v=undefined,m=function(e){e.preventDefault(),v=n.screenToWorld(p(e));if(s==="red"){t.createBall("red",v.x,v.y);return}if(s==="green"){t.createBall("green",v.x,v.y);return}if(s==="redWarp"){t.createWarpHole(8,v.x,v.y);return}if(s==="greenWarp"){t.createWarpHole(2,v.x,v.y);return}var i=r.queryWorld(t.getWorld(),v.x,v.y);if(!i)return;if(s==="translate"){o=i.GetBody();var a=o.GetWorldCenter();u={x:a.get_x()-v.x,y:a.get_y()-v.y}}g=undefined},g=undefined,y=function(r){r.preventDefault(),g=n.screenToWorld(p(r));if(s==="platform"){var i=v.y-g.y,u=v.x-g.x;e.createGround(t.getWorld(),v.x-u/2,v.y-i/2,-u/2,-i/2,u/2,i/2)}g=undefined,v=undefined,o=undefined};n.setOnMouseMove(d),n.setOnMouseDown(m),n.setOnMouseUp(y);var b=function(){},w=undefined;return{draw:b,isActive:function(){return isActive},setLevelLoader:function(e){w=e},loadWorld:c}}),define("levels",[],function(){var e=[];return e.push('{"structure":[{"warpHoleId":8,"isWarpHole":true,"isOpen":false,"x":14.84615421295166,"y":-1.2307692766189575},{"isBall":true,"ballType":"red","x":-16.461538314819336,"y":4.07692289352417},{"isGround":true,"x":-0.3461538553237915,"y":-0.6153846383094788,"x1":16.423076923076923,"y1":-1,"x2":-16.423076923076923,"y2":1}],"objective":["red"]}'),e.push('{"structure":[{"isBall":true,"ballType":"green","x":-4,"y":4.076923370361328},{"isGround":true,"x":-0.3461538553237915,"y":-0.6153846383094788,"x1":16.423076923076923,"y1":-1,"x2":-16.423076923076923,"y2":1},{"isBall":true,"ballType":"red","x":-16.461538314819336,"y":4.07692289352417},{"warpHoleId":8,"isWarpHole":true,"isOpen":false,"x":14.84615421295166,"y":-1.2307692766189575}],"objective":["green","red"]}'),e.push('{"structure":[{"warpHoleId":2,"isWarpHole":true,"isOpen":false,"x":-10.384614944458008,"y":0.23076923191547394},{"warpHoleId":8,"isWarpHole":true,"isOpen":false,"x":14.84615421295166,"y":-1.2307692766189575},{"isBall":true,"ballType":"red","x":-16.461538314819336,"y":4.07692289352417},{"isGround":true,"x":-0.3461538553237915,"y":-0.6153846383094788,"x1":16.423076923076923,"y1":-1,"x2":-16.423076923076923,"y2":1},{"isBall":true,"ballType":"green","x":-4,"y":4.076923370361328}],"objective":["red","green"]}'),e.push('{"structure":[{"warpHoleId":2,"isWarpHole":true,"isOpen":false,"x":-10.384614944458008,"y":0.23076923191547394},{"warpHoleId":8,"isWarpHole":true,"isOpen":false,"x":14.84615421295166,"y":-1.2307692766189575},{"isBall":true,"ballType":"red","x":-16.461538314819336,"y":4.07692289352417},{"isGround":true,"x":-0.3461538553237915,"y":-0.6153846383094788,"x1":16.423076923076923,"y1":-1,"x2":-16.423076923076923,"y2":1},{"isBall":true,"ballType":"green","x":-4,"y":4.076923370361328},{"isGround":true,"x":6.846153736114502,"y":2.192307472229004,"x1":-8.384615384615385,"y1":-0.9615384615384617,"x2":8.384615384615385,"y2":0.9615384615384617},{"isBall":true,"ballType":"green","x":14.769230842590332,"y":4.153846263885498}],"objective":["red","green","green"]}'),e.push('{"structure":[{"isBall":true,"ballType":"red","x":4.923076629638672,"y":6.307692527770996},{"isBall":true,"ballType":"green","x":14.230769157409668,"y":6.307692527770996},{"isGround":true,"x":6.461538314819336,"y":4.192307472229004,"x1":-8.384615384615385,"y1":-0.9615384615384617,"x2":8.384615384615385,"y2":0.9615384615384617},{"isBall":true,"ballType":"green","x":-4,"y":4.076923370361328},{"isGround":true,"x":-0.3461538553237915,"y":-0.6153846383094788,"x1":16.423076923076923,"y1":-1,"x2":-16.423076923076923,"y2":1},{"isBall":true,"ballType":"red","x":-16.461538314819336,"y":4.07692289352417},{"warpHoleId":8,"isWarpHole":true,"isOpen":false,"x":14.84615421295166,"y":-1.2307692766189575},{"warpHoleId":2,"isWarpHole":true,"isOpen":false,"x":-10.384614944458008,"y":0.23076923191547394}],"objective":["red","green","green","red"]}'),{get:function(t){return e[t]}}}),define("hud",[],function(){var e=function(e){var t=document.getElementById("hud");t.innerHTML=e},t=function(){var e=document.getElementById("hud");e.style.display="none"},n=function(){var e=document.getElementById("hud");e.style.display="block"};return{setMessage:e,show:n,hide:t}}),requirejs.config({paths:{createjs:"lib/createjs-2013.05.14.min",box2d:"lib/box2d",threejs:"lib/three.min",tweenjs:"lib/tween.min",jsar:"lib/JSARToolKit.min"},shim:{createjs:{exports:"createjs"},box2d:{exports:"Box2D"},threejs:{exports:"THREE"},tweenjs:{exports:"TWEEN"}}}),requirejs(["createjs","./video","./display3d","./space3d","./display2d","./space2d","./editor2d","./levels","./hud","./assets"],function(e,t,n,r,i,s,o,u,a,f){var l={frames:0,invoke:undefined},c=function(e,t){l.frames=e,l.invoke=t},h=function(){var e=JSON.parse(p);s.loadWorld(e),r.loadWorld(e)},p=undefined,d=function(e){p=e;if(p){var t=JSON.parse(p);s.loadWorld(t),r.loadWorld(t),o.loadWorld(t)}},v=-1,m=function(){v++;var e=u.get(v);e?d(e):console.log("no more levels.")},g=function(){v=--v<0?0:v,d(u.get(v))},y=function(e){e?c(90,m):c(90,h)},b={load:d,restart:h,next:m,previous:g};o.setLevelLoader(b),s.setObjectiveDelegate(y),r.setObjectiveDelegate(y);var w=function(){function f(e){t(1/e.delta),u(),l.frames>0&&--l.frames===0&&l.invoke()}console.log("go."),a.hide(),r.onWarpHoleState(s.setWarpHoleState),s.onBallWarped(r.addBall);var t=function(e){r.tick(),s.tick(e)},u=function(){n.render(),i.draw(),o.draw()};e.Ticker.useRAF=!0,e.Ticker.setFPS(30),e.Ticker.addEventListener("tick",f),m()},E=!1,S=!1,x=!1,T=function(){E&&S&&x&&w()};f.onAllTexturesLoaded(function(){E=!0,T()}),f.onAllSpritesLoaded(function(){S=!0,T()}),a.setMessage("please authorize camera."),t.videoCamera.waitForAuthorization(function(){x=!0,T()})}),define("application",function(){});